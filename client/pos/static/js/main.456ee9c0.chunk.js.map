{"version":3,"sources":["component/table/tableUtil.js","util/ctUtil.js","render/renderFilter/FilterTemplate.js","render/renderForm/FormTemplate.js","context/MainContext.js","component/ticon/Ticon.js","component/galleryone_add/photoUtil.js","util/axiosUtil.js","model/StateTemplate.js","component/galleryone_add/GallerySinglePhoto_add.js","page/login/ShopPayment.js","page/login/LogOutTool.js","component/navbar/Navbar.js","model/StateUtil.js","component/pageComponent/pageUtil.js","render/renderForm/ShopChangePassword.js","render/renderForm/BasicValueSetting.js","render/renderForm/BasicValueSetting2.js","util/showUtil.js","component/galleryone/renderModalImage.js","component/galleryone/Galleryone.js","component/table/LineForm.js","component/table/renderTable.js","util/stateUtil.js","component/table/renderTableSetting.js","component/table/Table.js","render/renderForm/AddUserModal.js","render/renderForm/EditUserModal.js","render/renderForm/ChangeUserPasswordModal.js","render/ModalConfirm.js","render/renderModalError.js","render/renderForm/AddUser.js","render/renderForm/RouteAuth.js","component/table/tableTemplate.js","render/renderForm/Language.js","render/renderForm/PrintPageForm.js","render/renderForm/PrintOut.js","render/renderForm/PrintPage.js","render/renderForm/WidthLeft.js","page/basicdata/ModalTable.js","page/basicdata/ShopInfo.js","page/basicdata/BasicData.js","render/renderForm/ShopInfoModalForm.js","render/renderForm/BranchSettingForm.js","page/branch/BranchInfo.js","page/branch/Branch.js","render/renderTree/testTemplate.js","render/renderTree/Tree.js","render/renderTree/treeUtil.js","render/renderForm/renderForm.js","render/renderForm/ModalForm.js","render/renderTree/NewGroupComponent.js","page/bill/renderCustomerConfirm.js","page/bill/renderTransactionConfirm.js","component/table/inputState.js","render/renderBadge/renderBadge.js","component/pageComponent/filterDataTemplate.js","component/calendar/Calendar.js","render/renderFilter/ModalFilterInput.js","render/renderForm/PageForm.js","component/table/renderRangeBar.js","component/pageComponent/SparePageComponent.js","page/bill/filterDataTemplate.js","component/table/renderWidthRangeBar.js","component/newgroup/newGroupUtil.js","page/bill/data.js","component/newgroup/ModalEditGroupForm.js","component/newgroup/ModalAddGroupForm.js","component/newgroup/NewGroup.js","page/bill/BillGroupComponent.js","page/bill/BillProductGridComponent.js","page/bill/BillTableComponent.js","page/bill/ReductionTaxBox.js","page/bill/EditBillForm.js","page/bill/BillForm.js","page/bill/renderBadgeForBill.js","page/bill/PartnerForBill.js","page/bill/TransactionForBill.js","page/bill/BillMenuComponent.js","page/bill/BillBarcode.js","page/bill/BillQueue.js","page/bill/Bill.js","component/pageComponent/ModalCsv.js","component/pageComponent/PageComponent.js","page/partner/filterDataTemplate.js","page/partner/Partner.js","page/product/filterDataTemplate.js","page/product/Product.js","page/home/Home.js","page/login/LogIn.js","component/pageComponent/PageComponentTransaction.js","page/transaction/filterDataTemplate.js","page/transaction/filterDataTemplate2.js","page/transaction/filterDataTemplate3.js","page/transaction/filterDataTemplate4.js","App.js","serviceWorker.js","index.js","context/FormTemplate.js","render/RenderModalError.bak"],"names":["tableUtil","tableResize","tableTemplate","tempWidth","tempGridCol","Object","keys","map","i","showCol","parseInt","width","gridCol","console","log","sortColumn","filterData","colName","colType","sortType","tempArray","tempFilterData","tempI","sort","a","b","reverse","tempResult","j","length","numberWithCommas","x","calDigit","k","n","isNaN","temp","toFixed","toString","split","beforeDot","replace","error","convertTableTemplateObjToArray","objTableTemplate","objKeys","lb","type","colOrder","showColHead","showSum","converTableTemplateArrayToObj","arrayTableTemplate","Array","isArray","tempObj","remaining","_id","convertFormTemplateArrayToObj","formTemplateArray","formTemplateObj","formHead","template","key","formName","ctUtil","createTableTemplate","userId","shopId","tableName","id","createTableTemplateForPage","loadTableTemplate","changeLanguageTableTemplate","originalFormTemplate","originalTableTemplate","formTemplate","genLanguageObjFromFormTemplate","array","languageArray","formLanguage","uniqueArray","Set","tempOneLanguageArray","genRef","React","createRef","subCNameMinMax","subCNameInput","StateTemplate","partnerFilter","templateType","cName","subCName","keyName","refInput","inputType","filterCommand","selectObj","productFilter","transactionFilter","selectArrayObj","stickerFilter","billMenuFilter","partnerForm","placeholder","autoFocus","partnerType","selectDataKey","title","name","remainingCustomerPoint","totalSpending","active","phone","address","remark","textRow","partnerEditForm","newId","productForm","barcode","productName","isRawMat","point","price","unit","stock","priceLevel","subFormTemplate","lastRef","icon","iconActionIdx","groupName","disabled","detail","selectedLine","groupId","quantity","result","FormTemplate","shopChangePasswordForm","shopName","password","newPassword1","newPassword2","addUserForm","username","userLevel","surname","branch","groupForm","parentId","groupEditForm","newParentId","productEditForm","productDetailForm","MainContext","createContext","findHaveToken","tokenName","localStorage","getItem","MainContextProvider","props","useState","reloadCheckToken","haveShopToken","haveUserToken","userName","tokenSt","setTokenSt","reloadBasicData","basicData","pageData","basicDataSt","setBasicDataSt","useEffect","myheader","headers","tempSt","removeItem","promise1","axios","post","promise2","promise3","promise4","promise5","tempFormTemplate","Promise","all","then","tempBasicData","data","listOfPrintPage","printPage","printPageName","tempRouteAuth","routeAuth","tempTableTemplate","tempLanguageArray","tempBrD","tempUser","tempBranchData","branchId","listOfLanguage","tempLanguageObj","selectLanguage","languageSetting","tempModalFormTemplate","ModalFormTemplate","tempFormObj","fieldName","tempField","tempSubFormTemplate","subFormField","finalFormTemplate","subObj","pageFilterForm","pageFilter","FilterTemplate","tempTp","languageObj","modalFormTemplate","user","catch","err","Provider","value","setReloadCheckToken","setReloadBasicData","setBasicData","children","iconLabel","Ticon","iconName","className","textStyle","iconStyle","useContext","showIcon","setShowIcon","setTimeout","style","display","alignItems","flexWrap","height","onMouseOver","e","onMouseLeave","renderIcon","color","whiteSpace","padding","defaultProps","classNam","reduceImageSize","file","resolve","reject","options","quality","mimeType","maxWidth","maxHeight","minWidth","minHeight","convertSize","Infinity","loose","redressOrientation","beforeCompress","success","msg","ImageCompressor","handleInputFile","files","arrayFile","setArrayFile","unique","from","changeArrayFile","fileUrl","setFileUrl","inputState","setInputState","setShowImage","endNumber","tempFileUrl","promiseArray","tempBlobArray","tempObject","blob","URL","createObjectURL","reloadImage","photoUtil","fileListItem","c","slice","call","arguments","d","File","TypeError","ClipboardEvent","clipboardData","DataTransfer","items","add","resetFile","deleteFileUrl","deletePhotoUrl","tempLength","tempInputState","moveFirst","firstOne","idx","movePrevious","previousOne","moveNext","currentOne","moveLast","lastOne","axiGet","qCondition","RtAndCt","filterTemplate","setFilterData","pageNumber","setCount","limitRow","setReload","arrayCommand","toCheck","$gte","min","$lte","max","$elemMatch","$regex","trim","$options","$and","$or","count","genFD","fd","FormData","genFunction","iSt","tPt","preFix","tpKey","tpIdx","stType","stChildren","ix","st","append","fileName","submitFunc","url","stateTemplate","setShow","setShowModalError","clearForm","actionAfterSuccess","useGenFD","temp1","file1","photoUrl1","temp2","file2","photoUrl2","resultAxios","status","axiosUtil","addFileNameInPhotoUrl","formInputState","addSingleFileNameInsteadOfPhotoUrl","genSortFromSortState","sortState","tempUniqueSortName","tempState","arraySortStateKey","sortName","tempKeyName","toAscending","genSortStateFromSort","tempSortKey","order1","order2","order3","sortKey","reloadAndSearch","blankData","filterOption","qry","setLastRecordId","setEditData","reload","filterOption0","lastRecordId","genArrayForFilterAxios","addAndUpdateSubField","mainField","subField","deleteSubField","catchErrorToMessage","response","message","sleep","ms","genId","date1","Date","toISOString","date2","toLocaleString","date3","tempId","substring","patternNumber","patternString","patternDate","patternFileName","patternBoolean","valBasic","pttn","str","RegExp","test","valArray","valNone","partnerState","validate","pattern","stDefault","groupState","gcode","level","productState","hasDetailProduct","order","plan","shopInfoState","shopInfo","nameOfShop","nameOfShopActive","addressActive","contact","contactActive","branchActive","other","otherActive","logoActive","shopPaymentState","transactionState","date","remindDate","transactionType","transactionStatus","table","tableStatus","paymentType","effectStock","effectSpending","effectCustomerPoint","partnerId","total","totalReduction","totalTax","grandTotal","totalPoint","customerPointReduction","jobStatus","GallerySinglePhoto_add","imgarrs","useYoutubeLink","totalImages","imgTrackWidth","setImgTrackWidth","refFrame","useRef","refButtonAddPicture","overflow","accept","ref","onChange","target","justifyContent","onClick","current","click","marginBottom","arrs","arrsLength","index","isFile","imgSrc","imgName","placeItems","position","src","border","fontSize","backgroundColor","top","right","zIndex","borderRadius","renderImg","ShopPayment","setShowShopMonthlyFee","refSubmit","refCancel","allRef","showShopPayment","setShowShopPayment","hidePassword","setHidePassword","shopLogInForPaymentForm","shopMonthlyFeeForm","expirationDate","monthlyFee","token","shopMonthlyFeeState","setShopMonthlyFeeState","shopState","setShopState","shopLogInNextRef","focus","showImage1","setShowImage1","arrayFile1","setArrayFile1","fileUrl1","setFileUrl1","submitShopLogInForPayment","renderLogin","pageForm","submitCancel","nextRef","pageFormKey","inputStateKey","onKeyDown","autoComplete","renderInput","renderShopPayment","tempFormInputState2","submitShopPayment","LogOutTool","useShopLogOut","useHomeIcon","useBillWaveIcon","refHome","showShopMonthlyFee","toDate","temp3","setDate","getDate","threeDayBeforeExpirationDate","getTime","getIconStyle","margin","window","location","paddingRight","to","Navbar","refBranch","refPartner","refProduct","refTransaction","refBill","left","overflowX","overflowY","genBlankState","tempBlankObj","tempRefObj","stObj","refObj","valPattern","state","StateUtil","dateNow","combineLoadDataBlankState","loadData","blankState","tempCombineObj","lDt","bDt","genRefAndValue","FData","preLocation","lastRefKey","fDt","obj","first","outSideRef","newArray","thisLocation","newObj","revRefAndValue","rAv","refAndValue","findEmptyArrayInData","dataIsChange","convertFilterDataToGraphData","totalSwapPage","arrayTemplateDetail","arrayTemplateDetailNewName","arrayTemplate","arrayToShowDetailInputState","tempAllDetail","tempNoDetail","commonObject","genCommonObject","detailObject","tpKey2","idx2","newTpKey2","tempWiDetail","isPassRegEx","dataToCheck","noDetail","wiDetail","allDetail","pageUtil","reloadAxiosAll","dataUrl","tableTemplateUrl","tableTemplateName","detailTableTemplateName","detailTableTemplateForFormName","selectProduct","tempSelectProduct","uuid","tempArray2","genFilterDataWithIndex","data0","detailTableTemplate","detailTableTemplateForForm","reloadData","tempError","showModalConfirm","showModalError","reloadAxiosTableTemplate","saveTableTemplate","updateFilterData","updateDetailOfFilterData","detail0","submitFunctionEdit","controller","includes","tempFormInputState1","remaining2","showEdit","showAdd","heightTop","editData","selectGroup","submitFunctionAdd","updateController","filterAxios","option","myController","setUnSelectAll","submitFunctionDelete","$in","ShopChangePassword","submitFunction","isSecond","setIsSecond","refSubmitForm","refCancelForm","refPassword","refNewPassword1","refNewPassword2","setFormInputState","genInputRef","genInputType","paddingBottom","shopChangePassword","bottom","changeInputState","goToNextRef","BasicValueSetting","basicValueSetting","getRefArray","tempRefArray","refOfInputState","setRefOfInputState","addRow","deleteRow","BasicValueSetting2","genFormInputState","nextBranchId","branchName","updateFormInputState","showUtil","showArray","forEach","showObject","showAddress","number","building","tambon","district","province","postcode","renderModalImage","show","modalImageWidth","setModalImageWidth","Galleryone","showModalImage","setShowModalImage","imageSrc","setImageSrc","widtht","getFrameWidth","getTrackWidth","objectFit","onDoubleClick","LineForm","showTable","findProductIdByKeyDown","findBarcodeByKeyDown","showTag","setShowTag","priceLevelHeadCell","priceLevelHead","gridTemplateColumns","gridAutoRows","priceLevelBody","renderSelect","defaultValue","hidden","selected","renderSelectOption","index2","textAlign","inputState_j","renderRadio","checked","onBlur","l","index3","myvalue","renderTable","colorHead","setTableTemplate","isSubTable","sumAmount","setShowTableSetting","saveTableTemplateFunc","useInput","showSearchHeader","captureClientXY","XY","setXY","editIconField","editIconFieldFunc","genObjKeysByColOrder","getEditColor","renderSearchHeader","tableTemplateI","filterByCheckbox","filterByNumber","filterByString","renderToolBarForColumn","boxShadow","handleChange","alignContent","tempBool","index1","passCheck","clientX","clientY","showColor","marginTop","tempDate","tempTime","showContent","tempCheck","stateUtil","changeKey","changeArray","addArray","deleteArray","addArrayObject","deleteArrayObject","changeArrayObjectKey","subKey","changeArrayObjectArray","subIdx","subArray","deleteArrayObjectArray","addArrayObjectArray","changeKeyKey","renderTableSetting","moveup","movedown","subject","opacity","Table","filterDataKey","setSumAmount","showTableSetting","y","tableTemplate2","setTableTemplate2","newSum","h","updateSum","setShowTable","tableTemplateAtI","ObjKey","newIdx","AddUserModal","refId","refUsername","refUserLevel","refName","refSurname","addUser","EditUserModal","editUser","ChangeUserPasswordModal","changeUserPassword","ModalConfirm","refModalConfirm1","refModalConfirm2","marginRight","renderModalError","setMessage","AddUser","userListTableTemplate","userTableTemplate","setUserTableTemplate","showAddUser","setShowAddUser","showEditUser","setShowEditUser","showChangeUserPasswordModal","setShowChangeUserPasswordModal","setShowModalConfirm","setError","styleRight","styleLeft","Left","swapStyleRight","setSwapStyleRight","tableSettingModal","RouteAuth","basicDataTableTemplate","showEditForm","setShowEditForm","saveRouteAuthTableTemplateAxios","setTableTemplateFunc","changeEditDataState","renderEditFormBody","routeAddress","routeName","renderOption","setting","commonProduct","productTableTemplate","commonTransaction","transactionTableTemplate","reduction","transactionLogTableTemplate","detail_id","detail_barcode","detail_name","detail_groupId","detail_groupName","detail_unit","detail_price","detail_quantity","detail_result","Language","pageDataStandard","submitFunction2","addLanguage","deleteLanguage","objectKey","tempIdArray","tempTemplateArray","tempTemplateObj","tempIdArray2","genFilterData","arrayOfChange","setArrayOfChange","editField","setEditField","language","changeId","tempArrayOfChange","PrintPageForm","printPageEditData","confirmFunc2","convertToDigit","mynumber","tempTransaction","dateOut","reductionName","reductionActive","reductionRate","reductionInPercentage","reductionAmount","tax","taxName","taxActive","taxRate","taxInPercentage","taxAmount","setEditDataFunc","setPageSetupFunc","updatePageSetupFunc","pageSetup","printFieldName","printValue","setPageSetup","widthUnit","fontUnit","header1","header2","table1","footer1","footer2","genDataForTable","totalWidth","showTableHead","printTableTemplate","setPrintTableTemplate","renderArray","printWidth","printFontSize","printPosition","printLb","renderArray2","idx1","renderTableBody","printForm","deleteLine","insertLine","targetIdx","moveUp","lastIndex","moveDown","print","PrintOut","printPageSetting","transaction","findPrintPage","PrintPage","addPrintPage","deletePrintPage","printId","WidthLeft","widthLeft","widthLeftForm","ModalTable","modalTableState","cancelFunc","gendData","data1","setData1","tableTemplate1","setTableTemplate1","showToolBox","setShowToolBox","ShopInfo","showShopChangePassword","setShowShopChangePassword","showPrintPage","setShowPrintPage","setBasicValueSetting","basicValueSetting2","setBasicValueSetting2","showRouteAuth","setShowRouteAuth","showLanguage","setShowLanguage","myTableTemplate","setMyTableTemplate","showModalTable","setModalTableState","setShowShopChangePasswordFunc","setShowAddUserFunc","setShowPrintPageFunc","setShowRouteAuthFunc","setShowLanguageFunc","genArrayFromArrayObj","tempFunc2","capKey","renderSettingLine","func","marginLeft","renderBasicValueLine","basicValue","changePassword","addNewUser","renderSetting","lastIdx","tempPromise","BasicData","pageState","setPageState","ShopInfoModalForm","BranchSettingForm","confirmFunc","thisBranch","inputData","setInputDataData","_idx","gendTable","setTable","tableActive","branchSettingPage","addTable","deleteTable","BranchInfo","showShopInfo","setShowShopInfo","showBranchSetting","setShowBranchSetting","paddingTop","Branch","testTemplate","groupPage","allDeleteId","testData","gropuPage","Tree","canGroupChange","selectGroupObjectId","folderOpenFunc","folderClosePlusFunc","folderCloseFunc","pCloseFunc","pOpenFunc","delFunc","addFunc","editFunc","refreshFunc","zoomFunc","setEditGroupFunc","renderSubFolder","subArrs","step","open","folders","marinTop","treeUtil","convertToObject","myarrs","mainObj","ky","kidId","objInFoldersArray","push","searchId","f","ob","createGroupTree","group","openArrayIn","openArray","tempParentGroupOjbect","groupTree","tempX","myKey","parentGroup","createParentGroupObject","findAllChildrenId","openAllParentId","editGroupId","tempGroupTree","allParentId","funcCheckParentId","tempParentId","idToCheck","findAllParentId","splice","findAllChildrenByGroupTree","tempAllChildenId","tempArrayOfId","tempAllChildenObject","allDeleteObject","registerLocale","th","renderForm","ref1","iconAction","setRefAndValue","selectData","refAndValueBlankData","setLoadData","selectRow","setSelectRow","selectAll","unSelectAll","getSelectAll","moveSelectedDown","moveSelectedUp","setCalculate","saveDetailTableTemplateForFormFunc","pageDataModalForm","tempRev","renderEachInputType","unchangeable","selectOption","tempSelectObjSplit","m","renderSelectCondition","locale","dateFormat","rows","changeInputStateForNumber","globalTemp","upDateLoadData","renderFunction","rAvbDt","visibility","renderArrayInput","paddingLeft","nextId","renderSingleInput","renderIconGroup","ModalForm","iconActionData","iconActionDataDetail","calculation","calculate","tempLine","showImage2","setShowImage2","arrayFile2","setArrayFile2","fileUrl2","setFileUrl2","tempFilterDataData0","tempNewSelectAll","beforeEditData","beforeArray","afterArray","selectedArray","insertUp","insertDown","delete","import","selectImage","NewGroupComponent","groupDataUrl","setSelectGroup","filterDataByGroup","groupFormTemplate","groupEditFormTemplate","groupAddFormTitle","groupEditFormTitle","reloadGroup","mainGroup","lastRecordGroup","showError","showConfirm","groupSt","setGroupSt","editGroup","setEditGroup","changeKeyInData","tempData","reloadAxiosGroup","tempOpenArray","showErrorModal","deleteAxiosGroup","addAxiosGroup","newFormInputState","newMainGroup","parentObject","allChildrenId","tempAllChilden","newAllChildren","newParentIdOfChildren","newI","v","tempParentNewChildren","tempFormInputState","tempForIdChange","deleteMany","create","tempForParentIdChange","renderCustomerConfirm","customerConfirmForm","customerConfirm","renderBody","idx3","handleChangePhone","handleChangeAddress","renderTransactionConfirm","editTransaction","changeIncludeTransactionHead","includeTransactionHead","transactionConfirmForm","findDateTime","time","genSeparator","tempString","genArrayToString","productInputState","partnerInputState","transactionInputState","queueStatus","stickerInputState","recordName","recordBy","productData_code","productData_name","billMenuInputState","renderBadge","setPageNumber","setSwapState","setReloadData","setShowFilter","setShowAdd","setShowEdit","setShowModalCsv","setClose","setShowForwardConfirm","bgColor","captureSelect","badgeState","swapState","swapShow","swapFunc","reloadShow","reloadFunc","filterShow","filterFunc","addShow","editShow","delShow","printerShow","printerFunc","csvShow","csvFunc","closeShow","closeFunc","forwardShow","forwardFunc","bullEyeShow","pageNumberShow","unSelectShow","calTotalPage","Math","ceil","background","tempCount","isCount","countSelectedLine","filterDataTemplate","showRange","bullEyesShow","rawMatBadgeState","Calendar","onMyClick","styleIcon","showDateOption","timeOption","days","thaiMonths","hour","minute","second","setHours","genDate","showCalendar","setShowCalendar","setFullYear","getFullYear","setMonth","getMonth","thaiMonth","thaiYear","genThaiMonth","lastFullDayPrevMonth","lastDayPrevMonth","getDay","lastDatePrevMonth","prevMonthDay","genPrevMonthDay","lastDate","thisMonthDay","genThisMonthDay","getSelectedDateThisMonth","lastDayThisMonth","nextMonthDay","genNextMonthDay","genThaiFullDate","ModalFilterInput","setLimitRow","setSort","LB","setSortState","setTempInputState","showFilter","templateIdx","tempDateTime","tempISODate","parseFloat","renderBetweenNumber","renderBoolean","renderSelectObj","renderSelectArrayObj","renderString","sortBySubject","tempFilterTemplate","tempOrder","renderSortBody","RecordLimit","recordPerPage","allTrue","someTrue","setFilterOption","recordLimit","PageForm","isAddForm","showRenderAddGroup","setShowRenderAddGroup","tempGroup","renderRangeBar","setShowRange","setWidthLeft","setHeightTop","orient","PageComponent","dataState","dataFilter","dataInputState","captureEditData","filterTitle","setFilterDataData0","setUnSelectAllFunc","submitFunctionDeleteFunc","updateWithSelectGroup","reloadAxiosAllFunc","refreshPage","updateFilterDataFunc","submitFunctionEditFunc","submitFunctionAddFunc","filterAxiosFunc","renderGroup","renderFilter","groupTitle","borderTop","addFormTitle","dataForm","myFilterData","editFormTitle","dataEditForm","transactionForm","editExistingBill","product","partner","bill","queueArray","transactionArray","dataIdx","data2","qryProduct","showParter","showGroup","showProductGrid","showTransaction","showBillMenu","showBarcode","showQueue","showModalFromTable","showBillForm1","showBillForm2","reloadBillForm1","reloadBillForm2","showCustomerConfirm","showTransactionConfirm","dataToDelete","reloadSelectProduct","selectOfSelectProduct","renderWidthRangeBar","newGroupUtil","genTree","currentGcode","tempHaveChild","nextGcode","nextLevel","haveChild","genTreeWithI","clickGcode","isChildren","checkEditGroup","checkEditGroupColor","newColor","closeFolder","openFolder","loadMainGroup","ModalEditTreeForm","tree","showEditParent","setShowEditParent","showEditGroupName","setShowEditGroupName","showMdEdit","setShowMdEdit","isReady","setIsReady","newGcode","tempLevel","treeTitle","join","ModalAddTreeForm","NewGroup","filterByGroupId","captureEditGroup","editGroupForm","addGroupForm","showAddForm","showTree","setShowTree","ModalEditGroupForm","tempDeleteArray","newLevel","toDelete","toUpdate","ModalAddGroupForm","BillGroupComponent","captureProductOfGroup","BillProductGridComponent","captureProductListFromSelectProductInProductGrid","setHideProductGridFunc","resetProductList","setResetProductList","refreshProductFunc","productList","setProductList","alt","findQuanityFromProductList","tempProductList","matchId","tempExistingQuantity","addToList","deleteFromList","BillTableComponent","captureBillFromTable","updateAllTransaction","captureAllTransaction","editTable","setEditTable","tableIdArray","setTableIdArray","tempBillArray","foundTable","textDecoration","queue","handleCheckbox","ReductionTaxBox","billFormDataState","setShowReductionBox","setBillFormDtaState","subFieldName","form","secondForm","remainingPoint","tempAmount","genBoxState","boxState","setBoxState","handleRadio","selection","tempValue","handleChangeRate","check","handleChangeCheckbox","isSelection","EditBillForm","billFormData","setBillFormData","runIsGenId","editBillForm","reductionForm","taxForm","customerPointForm","setBillFormDataState","reloadPartner","setReloadPartner","showTaxBox","setShowTaxBox","showReductionBox","tempTotalTax","tempTotalReduction","tempGrandTotal","genText","tempCustomer","findCustomerById","BillForm","closeBillForm","selectOfCustomer","isGenIdOfBillForm","updateData","setPrintDataFunc","blankDetail","setTest","detailTime","billForm","reCal","selectCustomer","showEditBillForm","setShowEditBillForm","formTableTemplate","setFormTableTemplate","tempTotal","tempTotalPoint","tempReductCustomerPoint","reductCustomerPoint","tempPrice","tempQuantity","tempTaxArray","tempTaxAmount","tempReductionArray","tempReductionAmount","setFilterDataFunc","tempDetail","inputStateJ","renderHeader","mystyle","renderToolBox","mergeUp","foundProduct","tempQEditData","tempQi","tempQ2","tempResult2","defaultCustomerId","result2","customer","nextQueue","lastBill","lastBillDate","renderFooter","renderBadgeForBill","backToFilter","setReloadDataFunc","PartnerForBill","captureCustomer","setPartnerInputState","counst","initPageNumber","tempPartnerTableTemplate","partnerTableTemplate","tempSelectedLine","filterInputState","setFilterInputState","setFilterDataData0Func","setPageNumberFunc","partnerFilterForm","TransactionForBill","captureTransaction","setTransactionInputState","tempTransactionTableTemplate","transactionFilterForm","BillMenuComponent","billMenuSort","billMenuLimitRow","billMenuShowTransaction","billMenuOption","jobStatusForm","transactionData","setTransactionData","billMenuTableTemplate","showJobStatus","setShowJobStatus","setTransactonArray","iForJobStatus","setIForJobStatus","newJobStatus","setNewJobStatus","productId","productBarcode","genTransactionData","BillBarcode","billFormData1","billFormData2","setData2","setDetail1","setDetail2","submitConfirm","billBarcodeForm","blankInputState","cash","change","showCash","setShowCash","keyDownFunc","$eq","findCustomerByPhone","setQueue","tempProduct","findProductById","findProductByBarcode","tempChange","BillQueue","updateQueue","editQueue","setEditQueue","Bill","selectProductToBillForm","setSelectProductToBillForm","selectCustomerToBillForm","setSelectCustomerToBillForm","billTableTemplate","setBillTableTemplate","printData","setPrintData","setBillFormData1","setBillFormData2","detailData","productDetailTableTemplateForForm","tableOpen","queueOpen","tempTableArray","tempQueueArray","runIsGenIdOfBillForm1","isGenIdOfBillForm1","runIsGenIdOfBillForm2","isGenIdOfBillForm2","captureCustomerFunc","captureTransactionFunc","closeBillForm1","closeBillForm2","submitSaveCloseBillFunc","updateQueueFunc","allPromise","allDetailArray","showPartner","addSelectProductToBillForm","selectedAddress","tempEditData","ModalCsv","item","indexItem","indexKey","download","genCsv","filterDataTemplate2","filterDataTemplate3","editFormTemplate","showModalCsv","setSelectGroupFunc","ooverflowX","renderRight","renderPageFormAdd","renderPageFormEdit","dataCsv","Partner","partnerAddForm","Product","productFilterForm","productAddForm","groupAddForm","Home","refSetting","refLogIn","boxStyle","bigDivStyle","gridRow","gridColumn","boxArray","LogIn","shopLogInForm","userLogInForm","createNewUser","userChangePasswordForm","shopSignUpForm","confirmPassword","ownerName","ownerEmail","shopForgetPasswordForm","formHead1","recoveryPassword","userLogInNextRef","userChangePasswordNextRef","shopSignUpNextRef","shopForgetPasswordNextRef","userChangePasswordState","setUserChangePasswordState","userState","setUserState","shopSignUpState","setShopSignUpState","shopForgetPasswordState","setShopForgetPasswordState","refReCaptcha","showChangePassword","setShowChangePassword","showShopSignUp","setShowShopSignUp","showShopForgetPassword","setShowShopForgetPassword","showReCaptcha","setShowReCaptcha","showResetRequest","setShowResetRequest","submitShopLogIn","setItem","shopToken","submitUserLogIn","userToken","submitUserChangePassword","submitCancelChangePassword","submitShopSignUp","submitCreateShopPassword","renderShopLogIn","sitekey","process","tempToken","getValue","reset","transform","PageComponentTransaction","showBillForm","App","exact","path","render","component","Boolean","hostname","match","WebFont","load","google","families","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.456ee9c0.chunk.js","sourcesContent":["const tableResize=({tableTemplate/*,showTable,setShowTable*/})=>{\n\n    if(tableTemplate){\n       \n\n        let tempWidth=0;\n        let tempGridCol=\"\"\n    \n        const objKeys = Object.keys(tableTemplate);\n        \n        objKeys.map(i=>{\n          if(tableTemplate[i].showCol){\n            tempWidth=tempWidth+parseInt(tableTemplate[i].width);\n            tempGridCol=`${tempGridCol} ${tableTemplate[i].width}px`\n          }\n        })  \n\n        return {width:tempWidth,gridCol:tempGridCol}\n    }\n    else {\n      console.log('tableTemplate null')\n      return null\n    }\n      \n\n}\n//========================================\n\n/*\nconst tableResize=({tableTemplate})=>{\n  if(tableTemplate){\n  \n      let tempWidth=0;\n      let tempGridCol=\"\"\n  \n      const objKeys = Object.keys(tableTemplate);\n      \n      objKeys.map(i=>{\n        if(tableTemplate[i].showCol){\n          tempWidth=tempWidth+parseInt(tableTemplate[i].width);\n          tempGridCol=`${tempGridCol} ${tableTemplate[i].width}px`\n        }\n      })  \n\n      return {width:tempWidth,gridCol:tempGridCol}\n  \n      //setShowTable({...showTable,width:tempWidth,gridCol:tempGridCol})\n    }\n    \n\n}\n*/\n//========================================\n\nconst numberWithCommas=(x,calDigit,k)=>{\n  //console.log('numberWithCommas')\n  //console.log(`x: ${x}, calDigit : ${calDigit}, k: ${k}`)\n\n  //const temp=x.toString().split(\".\")\n  //console.log(temp)\n  let n=2\n  try{\n    if(x>0&&!isNaN(x)){\n\n      if(calDigit==1){n=0}\n      else if(calDigit==10){n=1}\n      else if(calDigit==100){n=2}\n      else if(calDigit==1000){n=3}\n      else if(calDigit==10000){n=4}\n    \n\n      //console.log(`n: ${n}`)\n\n      //const tmx.toFixed(n)\n      const temp=x.toFixed(n).toString().split(\".\")\n      const beforeDot=temp[0].toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")\n\n      if(temp.length>1){\n        return `${beforeDot}.${temp[1]}`\n      }\n      else{\n        return beforeDot\n      }\n    }\n    else if(x===0){\n      return \"0.00\"\n    }\n    else{\n      return \"0.00\"\n    }\n  }\n  catch (error){\n    console.log(typeof x)\n    console.log(x)\n    console.log(error)\n  }\n}\n\n//=========================================\nconst sortColumn=(filterData,colName,colType,sortType)=>{\n  //console.log('sortColumn')\n  if(! (colType==\"number\"||\n       colType==\"date\"||\n       colType==\"string\"||\n       colType==\"time\"||\n       colType==\"price\")\n  ){\n    return\n  }\n\n  let tempArray=[]\n  let tempFilterData=[]\n \n  filterData.map(i=>{\n    //this Array will be sorted\n    if(colType==\"number\"){\n      tempArray=[...tempArray,parseInt(i[colName])]\n    }\n    if(colType==\"string\"||colType==\"date\"){\n      tempArray=[...tempArray,i[colName]]\n    }\n\n    //Add [\"<checked/>\"] filed to tempFilterData\n    let tempI={...i,[\"<checked/>\"]:false}\n    tempFilterData=[...tempFilterData,tempI]\n  })\n\n  if (colType==\"number\") {    \n    if(sortType==\"a-b\"){\n      tempArray.sort(function(a, b){return a - b});\n      //console.log('a-b')\n    }\n    if(sortType==\"b-a\"){\n      tempArray.sort(function(a, b){return b - a});\n      //console.log('b-a')\n    }\n  }\n\n  if (colType==\"string\"||colType==\"date\") {\n    if(sortType==\"a-b\"){\n      tempArray.sort();\n    }\n    if(sortType==\"b-a\"){\n      tempArray.sort();\n      tempArray.reverse();\n    }\n  }\n\n  let tempResult=[]\n\n  tempArray.map(i=>{\n    \n    for (let j=0;j<tempFilterData.length;j++){\n      if(!tempFilterData[j][\"<checked/>\"]){\n        if(i==tempFilterData[j][colName]){\n          tempResult=[...tempResult,filterData[j]]\n          tempFilterData[j][\"<checked/>\"]=true\n          break;\n        }\n      }\n    }\n\n  })\n  return tempResult    \n}\n\n//=======================================\n\nconst tableUtil={tableResize,sortColumn,numberWithCommas}\n\nexport default tableUtil\n","\nconst convertTableTemplateObjToArray=(objTableTemplate)=>{\n    \n    if(!objTableTemplate){\n        return null\n    }\n    \n    const objKeys=Object.keys(objTableTemplate)\n\n    let tempArray=[]\n\n    objKeys.map(i=>{\n        const {lb,type,width,showCol,colOrder,\n               showColHead,showSum}=objTableTemplate[i]\n\n        const temp={\n            colName:i,\n            lb,type,width,showCol,showColHead,showSum,colOrder\n        }\n        tempArray=[...tempArray,temp]\n    })\n\n    return tempArray\n}\n\nconst converTableTemplateArrayToObj=(arrayTableTemplate)=>{\n    \n    if(!arrayTableTemplate){\n        console.log('null')\n        return null\n    }\n\n    if(Array.isArray(arrayTableTemplate)){\n        if(arrayTableTemplate.length==0){\n            console.log('Array length = 0')\n            return null\n        }\n    }\n    \n    let tempObj={}\n\n    arrayTableTemplate.map(i=>{\n        const {colName,_id,...remaining}=i\n        const temp={[colName]:remaining}\n        tempObj={...tempObj,...temp}\n    })\n\n    return tempObj\n}\n\nconst createTableTemplate=({tableTemplate,userId,shopId})=>{\n    console.log(userId)\n    console.log(shopId)\n    \n    if(!tableTemplate || !userId || !shopId){\n        return null\n    }\n\n    let tempArray=[]\n\n    const objKeys=Object.keys(tableTemplate)\n\n    objKeys.map(i=>{\n        \n        const a ={\n            tableName:i,\n            id:userId,\n            shopId,\n            template:convertTableTemplateObjToArray(tableTemplate[i])\n        }\n        tempArray=[...tempArray,a]\n    })\n\n    return tempArray\n}\n\nconst createTableTemplateForPage=(loadTableTemplate)=>{\n\n    if(!loadTableTemplate){\n        console.log('null')\n        return null\n    }\n\n    if(Array.isArray(loadTableTemplate)){\n        if(loadTableTemplate.length==0){\n            console.log('Array length = 0')\n            return null\n        }\n    }\n\n    let tempObj={}\n\n    loadTableTemplate.map(i=>{\n        const {tableName,id,shopId,template}=i\n        const temp={[tableName]:converTableTemplateArrayToObj(template)}\n        tempObj={...tempObj,...temp}\n    })\n\n    return tempObj\n}\n\nconst convertFormTemplateArrayToObj=(formTemplateArray)=>{\n    let formTemplateObj={}\n\n    formTemplateArray.map(i=>{       \n        let tempObj={[\"formHead\"]:i.formHead}\n        i.template.map(j=>{\n            tempObj[j.key]=j.lb\n        })\n        formTemplateObj[i.formName]=tempObj\n    })\n    return formTemplateObj\n\n}\n\n\nconst changeLanguageTableTemplate=(originalFormTemplate,originalTableTemplate)=>{\n    \n    let tableTemplate={...originalTableTemplate}\n    const formTemplate={...originalFormTemplate}\n    //console.log('changeLanguageTableTemplate')\n    //console.log(formTemplate)\n    //console.log(tableTemplate)\n\n    const arrayKeyTableName=Object.keys(tableTemplate) \n\n    arrayKeyTableName.map(i=>{\n        \n        if(tableTemplate[i]&&formTemplate[i]){\n            const arraySubKey=Object.keys(tableTemplate[i])\n            arraySubKey.map(j=>{\n                if(tableTemplate[i][j]&&formTemplate[i][j]){\n                    tableTemplate[i][j][\"lb\"]=formTemplate[i][j]\n                }\n            })\n        }\n    })\n\n    return tableTemplate\n}\n\n\n\nconst genLanguageObjFromFormTemplate=(array)=>{\n    let languageArray=[]\n    \n    array.map(i=>{\n        if(i.formLanguage){\n            languageArray=[...languageArray,i.formLanguage]\n        }\n    })\n    \n    const uniqueArray= [...new Set(languageArray)]\n    \n    let tempObj={}\n\n    uniqueArray.map(i=>{\n        let tempOneLanguageArray=[]\n\n        array.map(j=>{\n            if(j.formLanguage==i){\n                tempOneLanguageArray=[...tempOneLanguageArray,j]\n            }\n        })\n\n        tempObj[i]=convertFormTemplateArrayToObj(tempOneLanguageArray)\n    })\n    \n    //console.log('...tempObj')\n    //console.log(tempObj)\n    return tempObj\n}\n\n\n\n\nconst ctUtil= {createTableTemplate,\n    createTableTemplateForPage,\n    converTableTemplateArrayToObj,\n    convertTableTemplateObjToArray,\n    convertFormTemplateArrayToObj,\n    changeLanguageTableTemplate,\n    genLanguageObjFromFormTemplate\n}\n\nexport default ctUtil","import React from 'react';\n\nconst genRef=()=>{\n    return [1,2,3].map(i=>React.createRef())\n}\n\nconst cName=\"xc12 h-100\"\n\nconst subCNameMinMax = [\"xc1 h-100\",\n                        \"xc3 h-100\",\n                        \"xc8 h-100\"]\n  \nconst subCNameInput= subCNameMinMax\n\nlet partnerFilter=[\n    //active\n    { \n      templateType:\"boolean\",\n      lb:\"active\",\n      cName,  \n      subCName:subCNameInput,    \n      keyName:\"active\",\n      refInput:genRef(),\n      inputType:\"checkbox\",\n      filterCommand:[\"active\"]\n    },\n    { \n      templateType:\"number\",\n      lb:\"id\",\n      cName,  \n      subCName:subCNameMinMax,\n      keyName:\"id\",\n      refInput:genRef(),\n      inputType:\"number\",\n      filterCommand:[\"id\"]\n    },\n    //==============\n    //title\n    { \n      templateType:\"selectObj\",\n      lb:\"\",\n      cName,  \n      subCName:subCNameInput,    \n      keyName:\"title\",\n      refInput:genRef(),\n      inputType:\"text\",\n      filterCommand:[\"title\"],\n      selectObj:\"title\"\n    },\n    //name\n    { \n      templateType:\"string\",\n      lb:\"\",\n      cName,  \n      subCName:subCNameInput,    \n      keyName:\"name\",\n      refInput:genRef(),\n      inputType:\"text\",\n      filterCommand:[\"name\"]\n    },\n    //phone\n    { \n      templateType:\"arrayString\",\n      lb:\"\",\n      cName,  \n      subCName:subCNameInput,      \n      keyName:\"phone\",\n      refInput:genRef(),\n      inputType:\"text\",\n      filterCommand:[\"phone\"]\n    },\n    //partnerType\n    /*\n    { \n      templateType:\"selectObj\",\n      lb:\"\",\n      cName,  \n      subCName:subCNameInput,    \n      keyName:\"partnerType\",\n      refInput:genRef(),\n      inputType:\"text\",\n      filterCommand:[\"partnerType\"],\n      selectObj:\"partnerType\"\n    },\n    */\n    //remark\n    { \n      templateType:\"string\",\n      lb:\"\",\n      cName,  \n      subCName:subCNameInput,    \n      keyName:\"remark\",\n      refInput:genRef(),\n      inputType:\"text\",\n      filterCommand:[\"remark\"]\n    },\n    { \n      templateType:\"number\",\n      lb:\"\",\n      cName,  \n      subCName:subCNameMinMax,\n      keyName:\"remainingCustomerPoint\",\n      refInput:genRef(),\n      inputType:\"number\",\n      filterCommand:[\"remainingCustomerPoint\"]\n    },\n    { \n      templateType:\"number\",\n      lb:\"\",\n      cName,  \n      subCName:subCNameMinMax,\n      keyName:\"totalSpending\",\n      refInput:genRef(),\n      inputType:\"number\",\n      filterCommand:[\"totalSpending\"]\n    },\n    //address:{number,tambon,district:province,postcode:},\n    //address.number\n    /*\n    {       \n      templateType:\"arrayObjectString\",\n      lb:\"|\",\n      cName,  \n      subCName:subCNameInput,\n      keyName:\"address_number\",\n      refInput:genRef(),\n      inputType:\"text\",\n      filterCommand:[\"address\",\"number\"]\n    },\n    { \n      templateType:\"arrayObjectString\",\n      lb:\"|\",\n      cName,  \n      subCName:subCNameInput,\n      keyName:\"address_tambon\",\n      refInput:genRef(),\n      inputType:\"text\",\n      filterCommand:[\"address\",\"tambon\"]\n    },\n    { \n      templateType:\"arrayObjectString\",\n      lb:\"|\",\n      cName,  \n      subCName:subCNameInput,\n      keyName:\"address_district\",\n      refInput:genRef(),\n      inputType:\"text\",\n      filterCommand:[\"address\",\"district\"]\n    },\n    { \n      templateType:\"arrayObjectString\",\n      lb:\"|\",\n      cName,  \n      subCName:subCNameInput,\n      keyName:\"address_province\",\n      refInput:genRef(),\n      inputType:\"text\",\n      filterCommand:[\"address\",\"province\"]\n    },\n    { \n      templateType:\"arrayObjectString\",\n      lb:\"|\",\n      cName,  \n      subCName:subCNameInput,\n      keyName:\"address_postcode\",\n      refInput:genRef(),\n      inputType:\"text\",\n      filterCommand:[\"address\",\"postcode\"]\n    },   \n    */\n]\n\nlet productFilter=[\n  //active\n  { \n    templateType:\"boolean\",\n    lb:\"active\",\n    cName,  \n    subCName:subCNameInput,    \n    keyName:\"active\",\n    refInput:genRef(),\n    inputType:\"checkbox\",\n    filterCommand:[\"active\"]\n  },\n  //id\n  { \n    templateType:\"number\",\n    lb:\"\",\n    cName,  \n    subCName:subCNameMinMax,\n    keyName:\"id\",\n    refInput:genRef(),\n    inputType:\"number\",\n    filterCommand:[\"id\"]\n  },\n  //barcode\n  { \n    templateType:\"string\",\n    lb:\"\",\n    cName,  \n    subCName:subCNameInput,    \n    keyName:\"barcode\",\n    refInput:genRef(),\n    inputType:\"text\",\n    filterCommand:[\"barcode\"]\n  },\n  //name\n  { \n    templateType:\"string\",\n    lb:\"\",\n    cName,  \n    subCName:subCNameInput,    \n    keyName:\"productName\",\n    refInput:genRef(),\n    inputType:\"text\",\n    filterCommand:[\"productName\"]\n  },\n  { \n    templateType:\"boolean\",\n    lb:\"\",\n    cName,  \n    subCName:subCNameInput,    \n    keyName:\"isRawMat\",\n    refInput:genRef(),\n    inputType:\"checkbox\",\n    filterCommand:[\"isRawMat\"]\n  },\n  //groupId\n  /*\n  { \n    templateType:\"number\",\n    lb:\"\",\n    cName,  \n    subCName:subCNameMinMax,\n    keyName:\"groupId\",\n    refInput:genRef(),\n    inputType:\"number\",\n    filterCommand:[\"groupId\"]\n  },\n  //groupName\n  { \n    templateType:\"string\",\n    lb:\"\",\n    cName,  \n    subCName:subCNameMinMax,\n    keyName:\"groupName\",\n    refInput:genRef(),\n    inputType:\"text\",\n    filterCommand:[\"groupName\"]\n  },\n  //unit\n  { \n    templateType:\"selectObj\",\n    lb:\"\",\n    cName,  \n    subCName:subCNameInput,    \n    keyName:\"unit\",\n    refInput:genRef(),\n    inputType:\"text\",\n    filterCommand:[\"unit\"],\n    selectObj:\"unit\"\n  },\n  */\n  //price\n  { \n    templateType:\"number\",\n    lb:\"\",\n    cName,  \n    subCName:subCNameInput,    \n    keyName:\"price\",\n    refInput:genRef(),\n    inputType:\"number\",\n    filterCommand:[\"price\"]\n  },\n  //=================\n \n  //stock\n\n  { \n    templateType:\"number\",\n    lb:\"\",\n    cName,  \n    subCName:subCNameMinMax,\n    keyName:\"stock\",\n    refInput:genRef(),\n    inputType:\"number\",\n    filterCommand:[\"stock\"]\n  },\n  //remark\n    { \n      templateType:\"string\",\n      lb:\"\",\n      cName,  \n      subCName:subCNameInput,    \n      keyName:\"remark\",\n      refInput:genRef(),\n      inputType:\"text\",\n      filterCommand:[\"remark\"]\n    },\n\n]\n\n//>............\n//>>>>>>>>>>>>>>\n\nlet transactionFilter=[\n    //active\n    { \n      templateType:\"boolean\",\n      lb:\"active\",\n      cName,  \n      subCName:subCNameInput,    \n      keyName:\"active\",\n      refInput:genRef(),\n      inputType:\"checkbox\",\n      filterCommand:[\"active\"]\n    },\n  //id\n  { \n    templateType:\"number\",\n    lb:\"id\",\n    cName,  \n    subCName:subCNameMinMax,\n    keyName:\"id\",\n    refInput:genRef(),\n    inputType:\"number\",\n    filterCommand:[\"id\"]\n  },\n  //date\n  { \n    templateType:\"number\",\n    lb:\"\",\n    cName,  \n    subCName:subCNameMinMax,\n    keyName:\"date\",\n    refInput:genRef(),\n    inputType:\"date\",\n    filterCommand:[\"date\"]\n  },\n  \n  //branchId\n  /*\n  { \n    templateType:\"number\",\n    lb:\"branchId\",\n    cName,  \n    subCName:subCNameMinMax,\n    keyName:\"branchId\",\n    refInput:genRef(),\n    inputType:\"number\",\n    filterCommand:[\"branchId\"]\n  },\n  */\n\n  { \n    templateType:\"selectArrayObj\",\n    lb:\"\",\n    cName,  \n    subCName:subCNameInput,    \n    keyName:\"transactionType\",\n    refInput:genRef(),\n    inputType:\"text\",\n    filterCommand:[\"transactionType\"],\n    selectArrayObj:[\"transaction\",\"transactionType\"]\n  },\n  { \n    templateType:\"selectObj\",\n    lb:\"\",\n    cName,  \n    subCName:subCNameInput,    \n    keyName:\"transactionStatus\",\n    refInput:genRef(),\n    inputType:\"text\",\n    filterCommand:[\"transactionStatus\"],\n    selectObj:\"transactionStatus\"\n  },\n\n\n\n  /*\n  { \n    templateType:\"selectObj\",\n    lb:\"\",\n    cName,  \n    subCName:subCNameInput,    \n    keyName:\"active\",\n    refInput:genRef(),\n    inputType:\"text\",\n    filterCommand:[\"active\"],\n    selectObj:\"active\"\n  },\n  */\n  //partnerId\n  \n  { \n    templateType:\"number\",\n    lb:\"\",\n    cName,  \n    subCName:subCNameMinMax,\n    keyName:\"partnerId\",\n    refInput:genRef(),\n    inputType:\"number\",\n    filterCommand:[\"partnerId\"]\n  },\n  \n  /*\n  { \n    templateType:\"selectObj\",\n    lb:\"\",\n    cName,  \n    subCName:subCNameMinMax,\n    keyName:\"partnerType\",\n    refInput:genRef(),\n    inputType:\"text\",\n    filterCommand:[\"partnerType\"],\n    selectObj:\"partnerType\"\n  },\n  */\n  //title\n  /*\n  { \n    templateType:\"selectObj\",\n    lb:\"\",\n    cName,  \n    subCName:subCNameInput,    \n    keyName:\"title\",\n    refInput:genRef(),\n    inputType:\"text\",\n    filterCommand:[\"title\"],\n    selectObj:\"title\"\n  },\n  */\n  //name\n  { \n    templateType:\"string\",\n    lb:\"\",\n    cName,  \n    subCName:subCNameInput,    \n    keyName:\"name\",\n    refInput:genRef(),\n    inputType:\"text\",\n    filterCommand:[\"name\"]\n  },\n  //phone\n  { \n    templateType:\"arrayString\",\n    lb:\"\",\n    cName,  \n    subCName:subCNameInput,      \n    keyName:\"phone\",\n    refInput:genRef(),\n    inputType:\"text\",\n    filterCommand:[\"phone\"]\n  },\n  { \n    templateType:\"selectObj\",\n    lb:\"\",\n    cName,  \n    subCName:subCNameInput,    \n    keyName:\"tableStatus\",\n    refInput:genRef(),\n    inputType:\"text\",\n    filterCommand:[\"tableStatus\"],\n    selectObj:\"tableStatus\"\n  },\n  { \n    templateType:\"selectObj\",\n    lb:\"\",\n    cName,  \n    subCName:subCNameInput,    \n    keyName:\"queueStatus\",\n    refInput:genRef(),\n    inputType:\"text\",\n    filterCommand:[\"queueStatus\"],\n    selectObj:\"queueStatus\"\n  },\n]\n\n\n\n\nconst stickerFilter=[\n\n  //id\n  { \n    templateType:\"number\",\n    lb:\"id\",\n    cName,  \n    subCName:subCNameMinMax,\n    keyName:\"id\",\n    refInput:genRef(),\n    inputType:\"number\",\n    filterCommand:[\"id\"]\n  },\n  //date\n  { \n    templateType:\"date\",\n    lb:\"\",\n    cName,  \n    subCName:subCNameMinMax,\n    keyName:\"date\",\n    refInput:genRef(),\n    inputType:\"date\",\n    filterCommand:[\"date\"]\n  },\n\n    //recordName\n    { \n      templateType:\"string\",\n      lb:\"\",\n      cName,  \n      subCName:subCNameInput,    \n      keyName:\"recordName\",\n      refInput:genRef(),\n      inputType:\"text\",\n      filterCommand:[\"recordName\"]\n    },\n\n    //recordBy\n    { \n      templateType:\"string\",\n      lb:\"\",\n      cName,  \n      subCName:subCNameInput,    \n      keyName:\"recordBy\",\n      refInput:genRef(),\n      inputType:\"text\",\n      filterCommand:[\"recordBy\"]\n    },\n\n    {       \n      templateType:\"arrayObjectString\",\n      lb:\"|\",\n      cName,  \n      subCName:subCNameInput,\n      keyName:\"productData_code\",\n      refInput:genRef(),\n      inputType:\"text\",\n      filterCommand:[\"productData\",\"code\"]\n    },\n    { \n      templateType:\"arrayObjectString\",\n      lb:\"|\",\n      cName,  \n      subCName:subCNameInput,\n      keyName:\"productData_name\",\n      refInput:genRef(),\n      inputType:\"text\",\n      filterCommand:[\"productData\",\"name\"]\n    },\n\n]\n\n\nconst billMenuFilter=[\n  { \n    templateType:\"boolean\",\n    lb:\"active\",\n    cName,  \n    subCName:subCNameInput,    \n    keyName:\"active\",\n    refInput:genRef(),\n    inputType:\"checkbox\",\n    filterCommand:[\"active\"]\n  },\n  //id\n  { \n    templateType:\"number\",\n    lb:\"\",\n    cName,  \n    subCName:subCNameMinMax,\n    keyName:\"id\",\n    refInput:genRef(),\n    inputType:\"number\",\n    filterCommand:[\"id\"]\n  },\n  //date\n  { \n    templateType:\"number\",\n    lb:\"\",\n    cName,  \n    subCName:subCNameMinMax,\n    keyName:\"date\",\n    refInput:genRef(),\n    inputType:\"date\",\n    filterCommand:[\"date\"]\n  },\n  //transactionType\n  { \n    templateType:\"selectArrayObj\",\n    lb:\"\",\n    cName,  \n    subCName:subCNameInput,    \n    keyName:\"transactionType\",\n    refInput:genRef(),\n    inputType:\"text\",\n    filterCommand:[\"transactionType\"],\n    selectArrayObj:[\"transaction\",\"transactionType\"]\n  },\n  //tableStatus\n  { \n    templateType:\"selectObj\",\n    lb:\"\",\n    cName,  \n    subCName:subCNameInput,    \n    keyName:\"tableStatus\",\n    refInput:genRef(),\n    inputType:\"text\",\n    filterCommand:[\"tableStatus\"],\n    selectObj:\"tableStatus\"\n  },\n]\n\n\nconst StateTemplate={\n    partnerFilter,productFilter,transactionFilter,\n    stickerFilter,billMenuFilter\n}\n  \nexport default StateTemplate\n  ","import React from 'react';\nimport MainContext from '../../context/MainContext'\n\nfunction test() {\n    //const {basicData,setBasicData}=React.useContext(MainContext)\n\n}\n\nconst shopChangePasswordForm={\n    shopName:\n        {   lb:'', \n            templateType:\"string\" , \n            cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\",  \n            subCName:[\"xc4\",\"xc8\"], \n            inputType:\"text\", \n            placeholder:'', \n            autoFocus:\"autoFocus\"\n        },\n    password:\n        {   lb:'', \n            templateType:\"string\" , \n            cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\",  \n            subCName:[\"xc4\",\"xc8\"], \n            inputType:\"password\", \n            placeholder:'',   \n        },\n    newPassword1:\n        {   lb:'', \n            templateType:\"string\" , \n            cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\",  \n            subCName:[\"xc4\",\"xc8\"], \n            inputType:\"password\", \n            placeholder:'',   \n        },\n    newPassword2:\n        {   lb:'', \n            templateType:\"string\" , \n            cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\",  \n            subCName:[\"xc4\",\"xc8\"], \n            inputType:\"password\", \n            placeholder:'',   \n        },\n}\n\nconst addUserForm={\n    id:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"number\", \n        placeholder:'', \n        autoFocus:\"autoFocus\"\n    },\n    username:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"text\", \n        placeholder:''\n    },\n    password:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"password\", \n        placeholder:'',   \n    },\n    userLevel:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"select\", \n        placeholder:'', \n        //selectObj:[\"\",\"\"]\n        selectDataKey:\"basicData\",\n        selectObj:'userLevel'\n    },\n    name:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"text\", \n        placeholder:'', \n    },\n    surname:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"text\", \n        placeholder:'', \n    },\n    branch:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"select\", \n        placeholder:'', \n        selectDataKey:\"basicData\",\n        selectObj:'branch'\n    }\n}\n\n\n\n\n\n/*\nconst testForm={\n    id:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"number\", \n        placeholder:'', \n        autoFocus:\"autoFocus\"\n    },\n    date:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc3 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"thaiDate\", \n        placeholder:'', \n    },\n    title:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc3 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"select\", \n        placeholder:'', \n        selectDataKey:\"basicData\",\n        selectObj:'title'\n    },\n    name:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc3 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"text\", \n        placeholder:'', \n    },\n    password:\n    {   lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 sc12 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"password\", \n        placeholder:'',   \n    },\n    icon:{\n        lb:\"\",\n        templateType:\"icon\",\n        cName:\"pl-4 xc4 sc12 pt-1\",  \n        subCName:[\"xc6\",\"xc6\"], \n        inputType:\"searchIcon\",\n        iconActionIdx:0,\n    },\n    groupId:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc4 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"number\", \n        placeholder:'', \n    },\n    groupName:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc3 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"text\", \n        placeholder:'', \n        unchangeable:true\n    },\n    isRawMat:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc3 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"checkbox\", \n        placeholder:'', \n    },\n    remark:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc12 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc2 alignSelfStart\",\"xc10\"], \n        inputType:\"textarea\", \n        placeholder:'', \n        textRow:3\n    },\n    phone:{\n        lb:'', \n        templateType:\"array\" , \n        cName:\"pl-4 xc3 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"text\", \n        placeholder:'', \n    },\n    address:{\n        lb:'',    \n        templateType:\"arrayObject\", \n        //cName:[\"xc12 pt-1 bd-lightGrayxx\",\"form-row flex-justify-start flex-align-stretch\"], \n        cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc12\",\"xc12\"], \n\n        placeholder:'',\n        subFormTemplate:{\n            number:{\n                lb:'', \n                templateType:\"string\" , \n                cName:\"pl-4 xc12 sc12 pt-1 bd-lightGrayxx\",  \n                subCName:[\"xc4\",\"xc8\"], \n                inputType:\"text\", \n                placeholder:'', \n            },\n            tambon:{\n                lb:'', \n                templateType:\"string\" , \n                cName:\"pl-4 xc12 sc12 pt-1 bd-lightGrayxx\",  \n                subCName:[\"xc4\",\"xc8\"], \n                inputType:\"text\", \n                placeholder:'', \n            }\n          \n        }\n      \n    }, \n    mainaddress:{\n        lb:'',    \n        templateType:\"object\", \n        //cName:[\"xc12 pt-1 bd-lightGrayxx\",\"form-row flex-justify-start flex-align-stretch\"], \n        cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc12\",\"xc12\"], \n\n        placeholder:'',\n        subFormTemplate:{\n            number:{\n                lb:'', \n                templateType:\"string\" , \n                cName:\"pl-4 xc12 sc12 pt-1 bd-lightGrayxx\",  \n                subCName:[\"xc4\",\"xc8\"], \n                inputType:\"text\", \n                placeholder:'', \n            },\n            tambon:{\n                lb:'', \n                templateType:\"string\" , \n                cName:\"pl-4 xc12 sc12 pt-1 bd-lightGrayxx\",  \n                subCName:[\"xc4\",\"xc8\"], \n                inputType:\"text\", \n                placeholder:'', \n            }\n        }\n      \n    }, \n    detail:{\n        lb: \"\",\n        templateType:\"arrayObjectInTable\",\n        cName:\"pl-4 \",\n        subFormTemplate:{\n          \n          icon:{\n            templateType:\"icon\",\n            subCName:[60],\n            inputType:\"icon\",\n            iconActionIdx:1,\n          },\n          \n          id:{\n            lb:\"\",\n            templateType:\"number\",\n            subCName:[60,\"\"],\n            inputType:\"number\",\n            placeholder:\"\",\n            aotuFocus:\"autoFocus\"\n          },\n          barcode:{\n            lb:\"\",\n            templateType:\"string\",\n            subCName:[100,\"\"],\n            inputType:\"text\",\n            placeholder:\"\", \n            nextEnter:{nextKey1:[\"detail\",0,\"quantity\"],lastKey:null}\n          },\n          name:{\n            lb:\"\",\n            templateType:\"string\",\n            subCName:[240,\"\"],\n            inputType:\"text\",\n            placeholder:\"\", \n          },\n\n          groupId:{\n            lb:\"\",\n            templateType:\"number\",\n            subCName:[60,\"\"],\n            inputType:\"number\",\n            placeholder:\"\",\n            aotuFocus:\"autoFocus\"\n          },\n          groupName:{\n            lb:\"\",\n            templateType:\"string\",\n            subCName:[90,\"\"],\n            inputType:\"text\",\n            placeholder:\"\", \n          },\n          quantity:{\n            lb:\"\",\n            templateType:\"string\",\n            subCName:[60,\"\"],\n            inputType:\"number\",\n            placeholder:\"\", \n            nextEnter:{nextKey1:[\"detail\",1,\"barcode\"],lastKey:\"endForm\"}\n          },\n\n          unit:{\n            lb:\"\",\n            templateType:\"string\",\n            subCName:[80,\"\"],\n            inputType:\"select\",\n            placeholder:\"\", \n            //selectObj:[\"\",\"\"]\n            selectDataKey:\"basicData\",\n            selectObj:'unit'\n          },\n          price:{\n            lb:\"\",\n            templateType:\"string\",\n            subCName:[100,\"\"],\n            inputType:\"number\",\n            placeholder:\"\", \n          },\n          result:{\n            lb:\"\",\n            templateType:\"string\",\n            subCName:[100,\"\"],\n            inputType:\"number\",\n            placeholder:\"\", \n          },\n          remark:{\n            lb:\"\",\n            templateType:\"string\",\n            subCName:[200,\"\"],\n            inputType:\"text\",\n            placeholder:\"\", \n          },\n          isRawMat:{\n            lb:\"\",\n            templateType:\"boolean\",\n            subCName:[40,\"\"],\n            inputType:\"checkbox\",\n            placeholder:\"\", \n          }\n        }\n      }\n}\n\nconst shopSignUpForm={\n    shopName:\n        {  lb:'', \n            templateType:\"string\" , \n            cName:\"pl-4 xc6 sc12 bd-lightGrayxx\",  \n            subCName:[\"xc4\",\"xc8\"], \n            inputType:\"text\", \n            placeholder:'', \n            autoFocus:\"autoFocus\"\n        },\n    password:\n        {   lb:'', \n            templateType:\"string\" , \n            cName:\"pl-4 xc6 sc12 bd-lightGrayxx\",  \n            subCName:[\"xc4\",\"xc8\"], \n            inputType:\"password\", \n            placeholder:'',   \n        },\n    ownerName:\n        {   lb:'', \n            templateType:\"string\" , \n            cName:\"pl-4 xc6 sc12 bd-lightGrayxx\",  \n            subCName:[\"xc4\",\"xc8\"], \n            inputType:\"text\", \n            placeholder:'', \n        },\n    ownerPassword:\n        {   lb:'', \n            templateType:\"string\" , \n            cName:\"pl-4 xc6 sc12 bd-lightGrayxx\",  \n            subCName:[\"xc4\",\"xc8\"], \n            inputType:\"password\", \n            placeholder:'',   \n        },\n    ownerEmail: {  \n            lb:'', \n            templateType:\"string\" , \n            cName:\"pl-4 xc6 sc12 bd-lightGrayxx\",  \n            subCName:[\"xc4\",\"xc8\"], \n            inputType:\"text\", \n            placeholder:'',   \n        },     \n}\n\n//====================\n\nconst shopLogInForm={\n    shopName:\n        {  lb:'', \n            templateType:\"string\" , \n            cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\",  \n            subCName:[\"xc4\",\"xc8\"], \n            inputType:\"text\", \n            placeholder:'', \n            autoFocus:\"autoFocus\"\n        },\n    password:\n        {   lb:'', \n            templateType:\"string\" , \n            cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\",  \n            subCName:[\"xc4\",\"xc8\"], \n            inputType:\"password\", \n            placeholder:'',   \n        },\n\n}\n\n//=======================\n\n\nconst logInForm={\n    username:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"text\", \n        placeholder:'',\n        autoFocus:\"autoFocus\"\n    },\n    password:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"password\", \n        placeholder:'',   \n    }    \n}\n\nconst changePasswordForm={\n    username:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"text\", \n        placeholder:'', \n        autoFocus:\"autoFocus\"\n    },\n    password:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"password\", \n        placeholder:'',   \n    },\n    newPassword1:{   \n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"password\", \n        placeholder:'',   \n    },\n    newPassword2:{   \n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"password\", \n        placeholder:'',   \n    },\n}\n\n*/\n\n\nconst partnerForm={\n    id:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"genId\", \n        placeholder:'', \n        autoFocus:\"autoFocus\",\n        //calculation:{method:\"autoId\"},\n    },\n    partnerType:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"select\", \n        placeholder:'', \n        selectDataKey:\"basicData\",\n        selectObj:'partnerType'\n    },\n\n    title:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"select\", \n        placeholder:'', \n        selectDataKey:\"basicData\",\n        selectObj:'title'\n    },\n    name:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"text\", \n        placeholder:'', \n    },\n    remainingCustomerPoint:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 lc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"number\", \n        placeholder:'', \n        //calculation:{method:\"autoId\"},\n    },\n    totalSpending:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 lc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"number\", \n        placeholder:'', \n        //calculation:{method:\"autoId\"},\n    },\n    active:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 lc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"checkbox\", \n        placeholder:'', \n    },\n\n    phone:{\n        lb:'', \n        templateType:\"array\" , \n        cName:\"pl-4 xc12 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc2\",\"xc10\"], \n        inputType:\"text\", \n        placeholder:'', \n    },\n    //=====================\n\n    //==============================  \n    address:{\n        lb:'',    \n        templateType:\"array\", \n        cName:\"pl-4 xc12 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc2\",\"xc10\"], \n        inputType:\"text\", \n        placeholder:'',       \n    }, \n    remark:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc12 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc2 alignSelfStart\",\"xc10\"], \n        inputType:\"textarea\", \n        placeholder:'', \n        textRow:3\n    },\n\n}\n\n\n\nconst partnerEditForm={\n    id:{...partnerForm.id,inputType:\"number\",cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\"},\n    newId:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"genId\", \n        placeholder:'', \n    },\n    partnerType:{...partnerForm.partnerType,cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\"},\n    remainingCustomerPoint:{...partnerForm.remainingCustomerPoint,cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\",subCName:[\"xc4\",\"xc8\"]},\n    totalSpending:{...partnerForm.totalSpending,cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\",subCName:[\"xc4\",\"xc8\"]},\n\n    active:{...partnerForm.active,cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\",subCName:[\"xc4\",\"xc8\"]},\n\n    title:{...partnerForm.title,cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\"},\n    name:{...partnerForm.name,cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\",subCName:[\"xc4\",\"xc8\"]},\n    \n    phone:{...partnerForm.phone,cName:\"pl-4 xc12 sc12 pt-1 bd-lightGrayxx\",subCName:[\"xc2\",\"xc10\"]},\n\n    address:{...partnerForm.name,cName:\"pl-4 xc12 sc12 pt-1 bd-lightGrayxx\",subCName:[\"xc2\",\"xc10\"]},\n    remark:{...partnerForm.remark,cName:\"pl-4 xc12 sc12 pt-1 bd-lightGrayxx\",subCName:[\"xc2\",\"xc10\"]},\n    \n}\n\n\nconst groupForm={\n    id:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"number\", \n        placeholder:'', \n        autoFocus:\"autoFocus\"\n    },\n    groupName:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"text\", \n        placeholder:'', \n    },\n\n    parentId:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"number\", \n        placeholder:'', \n        //disabled:\"disabled\"\n    },\n}\n//===============================\nconst groupEditForm={\n    id:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"number\", \n        placeholder:'', \n        autoFocus:\"autoFocus\",\n        disabled:\"disabled\"\n    },\n    newId:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"number\", \n        placeholder:'', \n    },\n\n    groupName:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"text\", \n        placeholder:'', \n    },\n\n    parentId:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"number\", \n        placeholder:'', \n        disabled:\"disabled\"\n    },\n    newParentId:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"number\", \n        placeholder:'', \n    },\n}\n//================================\n//======================================\nconst productForm={\n    \n    id:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 lc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"genId\", \n        placeholder:'', \n        autoFocus:\"autoFocus\",\n        //calculation:{method:\"autoId\"},\n    },\n    barcode:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 lc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"genId\", \n        placeholder:'', \n    },\n    productName:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 lc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"text\", \n        placeholder:'', \n    },\n    active:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 lc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"checkbox\", \n        placeholder:'', \n    },\n    isRawMat:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"checkbox\", \n        placeholder:'', \n        //disabled:\"disabled\"\n    },\n    //==================\n    point:{\n        lb:'', \n        templateType:\"number\" , \n        cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"number\", \n        placeholder:'', \n        //disabled:\"disabled\"\n    },\n\n    //==========================\n    price:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 lc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"number\", \n        placeholder:'', \n    },\n    unit:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 lc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"select\", \n        placeholder:'', \n        selectDataKey:\"basicData\",\n        selectObj:'unit'\n    },\n    \n    stock:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 lc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"number\", \n        placeholder:'', \n        //disabled:\"disabled\"\n    },\n    /*\n    order:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 lc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"number\", \n        placeholder:'', \n        //disabled:\"disabled\"\n    },\n\n    plan:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 lc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"number\", \n        placeholder:'', \n        //disabled:\"disabled\"\n    },\n    */\n    //========================\n    priceLevel:{\n        lb:'',    \n        templateType:\"arrayObject\", \n        //cName:[\"xc12 pt-1 bd-lightGrayxx\",\"form-row flex-justify-start flex-align-stretch\"], \n        cName:\"pl-4 xc6 lc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc12\",\"xc12\"], \n\n        placeholder:'',\n        subFormTemplate:{\n            price:{\n                lb:'', \n                templateType:\"string\" , \n                cName:\"pl-4 xc12 sc12 pt-1 bd-lightGrayxx\",  \n                subCName:[\"xc4\",\"xc8\"], \n                inputType:\"number\", \n                placeholder:'', \n            },\n            remark:{\n                lb:'', \n                templateType:\"string\" , \n                cName:\"pl-4 xc12 sc12 pt-1 bd-lightGrayxx\",  \n                subCName:[\"xc4 alignSelfStart\",\"xc8\"], \n                inputType:\"text\", \n                placeholder:'',            \n            }, \n        }\n    },\n\n    remark:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc12 lc12 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc2 alignSelfStart\",\"xc10\"], \n        inputType:\"textarea\", \n        placeholder:'', \n        textRow:5,\n        lastRef:true\n    }, \n    //======================\n    icon:{\n        lb:\"\",\n        templateType:\"icon-group\",\n        cName:\"pl-4 xc6 lc6 sc12  pt-1\",  \n        subCName:[\"xc1 flex-center-center jc-start\",\"xc11\"], \n        inputType:\"searchIcon\",\n        iconActionIdx:0,\n    },\n    /*\n    groupId:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 lc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"number\", \n        placeholder:'', \n        //unchangeable:true\n        //disabled:\"disabled\"\n    },\n    */\n    groupName:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 lc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"text\", \n        placeholder:'', \n        //unchangeable:true\n        disabled:\"disabled\"\n    },\n\n\n    //======================\n\n    detail:{\n        lb: \"\",\n        templateType:\"arrayObjectInTable\",\n        cName:\"pl-4 xc12 lc12 sc12\",\n        subFormTemplate:{\n          _id:{\n            templateType:\"string\",\n          },\n          selectedLine:{\n            templateType:\"boolean\",\n          },\n          id:{\n            lb:\"\",\n            templateType:\"number\",\n          },\n          barcode:{\n            lb:\"\",\n            templateType:\"string\",\n          },\n          productName:{\n            lb:\"\",\n            templateType:\"string\",\n          },\n\n          groupId:{\n            lb:\"\",\n            templateType:\"number\",\n          },\n          groupName:{\n            lb:\"\",\n            templateType:\"string\",\n          },\n          quantity:{\n            lb:\"\",\n            templateType:\"string\",\n          },\n\n          unit:{\n            lb:\"\",\n            templateType:\"string\",\n          },\n          price:{\n            lb:\"\",\n            templateType:\"string\",\n          },\n          result:{\n            lb:\"\",\n            templateType:\"string\",\n          },\n          remark:{\n            lb:\"\",\n            templateType:\"string\",\n          },\n          isRawMat:{\n            lb:\"\",\n            templateType:\"boolean\",\n          }\n        }\n      }\n}\n//====================================\nconst {id,...remaining}=productForm\n\nconst productEditForm = {\n    id:{...productForm.id,inputType:\"number\"},\n    newId:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 lc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"genId\", \n        placeholder:'', \n    },\n    barcode:productForm.barcode,\n    productName:productForm.productName,\n    active:productForm.active,\n    isRawMat:productForm.isRawMat,\n    point:productForm.point,\n    price:productForm.price,\n    unit:productForm.unit,\n    stock:productForm.stock,\n    //order:productForm.order,\n    //plan:productForm.plan,\n    priceLevel:productForm.priceLevel,\n    remark:productForm.remark,\n\n    icon:productForm.icon,\n    //groupId:productForm.groupId,\n    groupName:productForm.groupName,\n    detail:productForm.detail,\n} \n//id,barcode,productName,isRawMat,\n//icon,groupId,groupName,\n//price,unit,stock,order,plan,\n//priceLevel,remark,detail\n//====================================\n\n//====================================\n\nconst productDetailForm={\n    \n    icon:{\n        lb:\"\",\n        templateType:\"icon\",\n        cName:\"pl-4 xc12 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc2\",\"xc10\"], \n        inputType:\"searchIcon\",\n        iconActionIdx:0,\n        \n    },\n    id:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"number\", \n        placeholder:'', \n        autoFocus:\"autoFocus\",\n        //disabled:\"disabled\"\n    },\n    barcode:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"text\", \n        placeholder:'', \n        //disabled:\"disabled\"\n    },\n    name:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"text\", \n        placeholder:'', \n        //disabled:\"disabled\"\n    },\n    groupId:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"number\", \n        placeholder:'', \n        //disabled:\"disabled\"\n    },\n    groupName:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"text\", \n        placeholder:'', \n        //disabled:\"disabled\"\n    },\n    unit:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"select\", \n        placeholder:'', \n        selectDataKey:\"basicData\",\n        selectObj:'unit',\n        //disabled:\"disabled\"\n    },\n    isRawMat:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"checkbox\", \n        placeholder:'', \n        //disabled:\"disabled\"\n    },\n    quantity:{\n        lb:\"\", \n        templateType:\"string\" , \n        cName:\"pl-4 xc6 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc4\",\"xc8\"], \n        inputType:\"number\", \n        placeholder:'', \n        //disabled:\"disabled\"\n    },\n    remark:{\n        lb:'', \n        templateType:\"string\" , \n        cName:\"pl-4 xc12 sc12 pt-1 bd-lightGrayxx\",  \n        subCName:[\"xc2 alignSelfStart\",\"xc10\"], \n        inputType:\"textarea\", \n        placeholder:'', \n        textRow:3\n    }\n}\n\nconst FormTemplate={\n    shopChangePasswordForm,addUserForm,\n    partnerForm,partnerEditForm,\n    groupForm,groupEditForm,\n    productForm,productEditForm,productDetailForm,\n\n}\n\nexport default FormTemplate\n//disabled:\"disabled\",\n","import React from 'react'\nimport axios from 'axios';\nimport tableUtil from '../component/table/tableUtil'\nimport ctUtil from '../util/ctUtil'\nimport FilterTemplate from '../render/renderFilter/FilterTemplate' \nimport FormTemplate from './FormTemplate';\nimport ModalFormTemplate from '../render/renderForm/FormTemplate'\n\nconst {sortColumn} = tableUtil\nconst {createTableTemplateForPage,convertTableTemplateObjToArray,\n      convertFormTemplateArrayToObj,\n      changeLanguageTableTemplate\n    }=ctUtil\n\nexport const MainContext=React.createContext();\n\nconst findHaveToken=(tokenName)=>{\n    if(localStorage.getItem(tokenName)){\n        return true\n    }\n    else {\n        return false\n    }\n}\n\n\n\nconst MainContextProvider=(props)=>{\n    console.log('MainContext....')\n  \n    const [tokenSt,setTokenSt] = React.useState({\n        reloadCheckToken:true,\n        haveShopToken:findHaveToken('shopauthorization'),\n        haveUserToken:findHaveToken('userauthorization'),\n        userName:null\n    })\n\n    const [basicDataSt,setBasicDataSt]=React.useState({\n        reloadBasicData:true,\n        basicData:null,\n        pageData:null,\n        tableTemplate:null\n    })\n\n    React.useEffect(()=>{\n        //console.log('basicDataSt')\n        //console.log(basicDataSt)\n    },[basicDataSt])\n\n    const myheader={headers: {'Content-Type': 'application/json',\n    'Shopauthorization':localStorage.getItem('shopauthorization'),\n    'Userauthorization':localStorage.getItem('userauthorization')\n    }}\n\n    \n    const setBasicData=(temp)=>{\n        setBasicDataSt({...basicDataSt,\n            basicData:temp\n        })\n    }\n    const setReloadBasicData=(value)=>{\n        setBasicDataSt({ ...basicDataSt,reloadBasicData:true})\n    }\n    const setReloadCheckToken=(value)=>{\n        setTokenSt({...tokenSt,reloadCheckToken:true})\n    }\n\n\n\n    React.useEffect(()=>{\n        const {\n            reloadCheckToken,\n            haveShopToken,\n            haveUserToken,\n            userName\n        }=tokenSt\n        \n        let tempSt={...tokenSt}\n\n        if(reloadCheckToken){\n\n            if(localStorage.getItem('shopauthorization')){\n                tempSt={...tempSt,haveShopToken:true}\n            }\n            else{\n                tempSt={...tempSt,haveShopToken:false}\n                localStorage.removeItem('userauthorization')\n                localStorage.removeItem('username')\n            }\n\n            if(localStorage.getItem('userauthorization')&&\n            localStorage.getItem('username')){\n                \n                tempSt={...tempSt,\n                        haveUserToken:true,\n                        userName:localStorage.getItem('username')\n                    }\n                }\n            else{\n                \n                localStorage.removeItem('userauthorization')\n                localStorage.removeItem('username')\n\n                tempSt={...tempSt,\n                    haveUserToken:false,\n                    userName:null\n                }\n            }\n            tempSt={...tempSt,\n                reloadCheckToken:false\n            }\n            setTokenSt(tempSt)\n\n        }\n    },[tokenSt])\n\n\n    React.useEffect(()=>{  \n        console.log('------------')\n        const {reloadBasicData,basicData}=basicDataSt\n        let tempSt\n\n        if(reloadBasicData){\n            const promise1=axios.post('/p35basicdata/getcustom',{},myheader)\n            const promise2=axios.post('/p35formtemplate/getcustom',{},myheader)\n            const promise3=axios.post('/p35tabletemplate/getcustom',{},myheader)\n            const promise4=axios.post('/p35branch/getcustom',{},myheader)\n            const promise5=axios.post('/p35user/getuserbyid',{},myheader)\n\n            const tempFormTemplate=convertFormTemplateArrayToObj(FormTemplate)\n            \n            Promise.all([promise1,promise2,promise3,promise4,promise5])\n            //    .then(result=>{\n            .then(result=>{\n\n                console.log('2222222222222')\n                //console.log(result[4].data.data)\n                //console.log(result)\n                const tempBasicData=result[0].data.data[0]\n                //console.log('1')\n                //console.log('tempBasicData')\n                //console.log(tempBasicData)\n                let listOfPrintPage=[]\n                tempBasicData.printPage.map(i=>{\n                    listOfPrintPage=[...listOfPrintPage,i.printPageName]\n                })\n                \n                const tempRouteAuth=sortColumn(result[0].data.data[0].routeAuth,\"id\",\"number\",\"a-b\")\n                //console.log('2')\n                //console.log(result[2])\n                let tempTableTemplate = createTableTemplateForPage(result[2].data.data)\n                //console.log('3')\n                //let tempFormTemplate=result[1].data.data\n                //console.log('tempTableTemplate') \n                //console.log(tempTableTemplate)                \n                let tempLanguageArray=result[1].data.data\n\n               // console.log('4')\n                let tempBrD=result[3].data.data[0]\n\n                const tempUser=result[4].data.data[0]\n                //console.log('tempBrD')\n                //console.log(tempBrD)\n\n                const {id,...remaining}=tempBrD \n                const tempBranchData={...remaining,\n                                      branchId:id\n                                      }\n                                    \n                //console.log('tempBranchData')\n                //console.log(tempBranchData)\n                //==============================\n                //console.log('tempLanguageArray')\n                //console.log(tempLanguageArray)\n\n                let listOfLanguage=[]\n                let tempLanguageObj={}\n\n                tempLanguageArray.map(i=>{\n                        //console.log(i.id)\n                        let tempObj={}\n\n                        i.template.map(j=>{\n                            tempObj={...tempObj,[j.key]:j.lb}\n                        })\n                        tempObj={...tempObj,[\"thisId\"]:i.id}\n                        tempLanguageObj={...tempLanguageObj,[i.formLanguage]:tempObj}\n\n                        listOfLanguage=[...listOfLanguage,i.formLanguage]\n                })\n                //console.log('5')\n                //console.log('tempLanguageObj')\n                //console.log(tempLanguageObj)\n\n                 //==============================\n                //const selectLanguage=tempLanguageObj[\"Thai\"]\n                const selectLanguage=tempLanguageObj[tempBranchData.languageSetting]\n\n                //console.log('selectLanguage')\n                //console.log(selectLanguage)\n                //===============================\n                let tempModalFormTemplate={}\n\n                \n                //console.log('6')\n                //console.log(Object.keys(ModalFormTemplate))\n                //console.log(ModalFormTemplate)\n                //console.log(selectLanguage)\n\n                Object.keys(ModalFormTemplate).map(formName=>{\n                    //console.log('formName')\n                    //console.log(formName)\n                    let tempFormObj={}\n                    Object.keys(ModalFormTemplate[formName]).map(fieldName=>{\n                        //console.log('fieldName')\n                        //console.log(fieldName)\n                        if(!selectLanguage[fieldName]){\n                            //console.log('fieldName not found')\n                            //console.log(fieldName)\n                        }\n                        //console.log('pppp')\n\n                       let tempField ={...ModalFormTemplate[formName][fieldName],lb:selectLanguage[fieldName]}\n\n                       if(ModalFormTemplate[formName][fieldName].subFormTemplate){\n                         \n                         let tempSubFormTemplate={}\n                         Object.keys(ModalFormTemplate[formName][fieldName].subFormTemplate).map(subFormField=>{\n                            //console.log('subFormField')\n                            if(!selectLanguage[subFormField]){\n                                //console.log('subFormField not found')\n                                //console.log(subFormField)\n                            }\n                            //console.log(subFormField)\n\n                            const x=ModalFormTemplate[formName][fieldName].subFormTemplate[subFormField]\n                            tempSubFormTemplate={...tempSubFormTemplate,\n                                [subFormField]:{...x,lb:selectLanguage[subFormField]}} \n                         })\n\n                         tempField={...tempField,subFormTemplate:tempSubFormTemplate}\n                       }\n                       tempFormObj={...tempFormObj,[fieldName]:tempField}\n                    })\n                    tempModalFormTemplate={...tempModalFormTemplate,[formName]:tempFormObj}   \n                })\n                //console.log('7')\n                //console.log('tempModalFormTemplate')\n                //console.log(tempModalFormTemplate)\n                //===============================\n                //console.log('tempFormTemplate')\n                //console.log(tempFormTemplate)\n                //customerConfirmForm:{formHead,id,name,price.......\n                let finalFormTemplate={}\n                const tempTP=Object.keys(tempFormTemplate)\n                \n                \n                //formHead-customerConfirmForm\n                tempTP.map(i=>{ //productDetailTableTemplate,customerConfirmForm\n\n                    let subObj={}\n                    if(selectLanguage[`formHead-${i}`]){\n                        subObj={[\"formHead\"]:selectLanguage[`formHead-${i}`]}\n                    }\n\n                    const subTP=Object.keys(tempFormTemplate[i])\n                    subTP.map(j=>{//barcode\n                        if(!selectLanguage[j]){\n                            //console.log('iiiiiiiiiiii')\n                            //console.log(j)\n                        }\n\n                        if(j!=\"formHead\"){\n                            subObj={...subObj,[j]:selectLanguage[j]}\n                        }\n\n                    })\n                    finalFormTemplate={...finalFormTemplate,[i]:subObj}\n                })\n                //console.log('8')\n                //console.log('finalFormTemplate')\n                //console.log(finalFormTemplate)\n                //==============================\n                let pageFilterForm={\n                    [\"productFilterForm\"]:finalFormTemplate[\"productFilterForm\"],\n                    [\"partnerFilterForm\"]:finalFormTemplate[\"partnerFilterForm\"],\n                    [\"transactionFilterForm\"]:finalFormTemplate[\"transactionFilterForm\"],\n                }\n                //==============================\n                let pageFilter={}\n\n                let tempKeyFilterTemplate = Object.keys(FilterTemplate)\n                \n                tempKeyFilterTemplate.map(i=>{\n                    let tempArray=[]\n\n                    FilterTemplate[i].map(j=>{\n                        const tempObj={...j,lb:selectLanguage[j.keyName]}\n                        tempArray=[...tempArray,tempObj]\n                    })\n\n                    pageFilter={...pageFilter,[i]:tempArray}\n                })\n                //================================\n                //console.log('kkkkktempTableTemplate')\n                //console.log(tempTableTemplate)\n                \n                let tableTemplate={}    \n    \n                let tempKeyTableTemplate = Object.keys(tempTableTemplate)\n                tempKeyTableTemplate.map(i=>{ //partnerTP,productTP,basicDtaTP\n                    \n                    let tempTp={}\n\n                    const subTableTemplateKey=Object.keys(tempTableTemplate[i])\n                    subTableTemplateKey.map(j=>{ //j=>id,routeAddress,routeName \n                        tempTp={...tempTp,[j]:{...tempTableTemplate[i][j],[\"lb\"]:selectLanguage[j]} }\n                                          //j=>id,routeAddress, \n                    })\n\n                    tableTemplate={...tableTemplate ,[i]:tempTp }\n                })\n\n                //==================================\n\n                //console.log('9')\n                //console.log('pageFilterForm')\n                //console.log(pageFilterForm)\n                \n                //console.log('++++++++++tableTemplate')\n                //console.log(tableTemplate)\n                \n                tempSt={...basicDataSt,\n                    reloadBasicData:false,\n                    basicData:{...tempBasicData,\n                        routeAuth:tempRouteAuth,\n                        ...tempBranchData,\n                        listOfLanguage:listOfLanguage,\n                        listOfPrintPage:listOfPrintPage\n                    },\n                    pageData:finalFormTemplate,\n                    tableTemplate:tableTemplate,\n                    pageFilter:pageFilter,\n                    pageFilterForm:pageFilterForm,\n                    languageObj:tempLanguageObj,\n                    modalFormTemplate:tempModalFormTemplate,\n                    user:tempUser\n                }\n                \n                console.log('tempSt')\n                console.log(tempSt)\n                setBasicDataSt(tempSt)\n\n            })\n            .catch(err=>{\n                console.log('err')\n                console.log(err)\n                tempSt={...basicDataSt,\n                    reloadBasicData:false\n                }\n                setBasicDataSt(tempSt)\n            })\n        }\n    },[basicDataSt])\n\n\n\n\n//=========================================\n//=========================================\nreturn(\n        <MainContext.Provider value={\n            {\n               //allTableTemplate,\n               myheader,\n               tokenSt,setTokenSt,\n               setReloadCheckToken,\n               basicDataSt,\n               setReloadBasicData,\n               setBasicData\n            }\n        }>\n            {props.children}\n        </MainContext.Provider>\n    )\n}\n\nexport default MainContextProvider;\n","import React from 'react';\nimport {Route,Switch,Redirect} from 'react-router-dom';\nimport {RiHandCoinFill,RiLogoutCircleRLine,RiLogoutBoxRFill,RiShareForwardLine} from 'react-icons/ri'\nimport {FaHome,FaMoneyBill,FaRegMoneyBillAlt,FaMoneyBillWaveconsole,FaMoneyBillWave,\n        FaBullseye,FaFileCsv,FaRegArrowAltCircleDown,FaRegArrowAltCircleUp,\n        FaChair,FaRegFolderOpen,FaChevronCircleLeft,FaChevronCircleRight,\n        FaBarcode,FaRegArrowAltCircleRight\n} from 'react-icons/fa';\nimport {MdFastfood,MdPerson,MdTune,MdLogout,\n        MdRefresh,MdSwapHoriz,MdSettings,\n        MdSearch,MdEdit,MdAddCircle,MdDelete,MdPrint,\n        MdChevronLeft,MdChevronRight,MdLastPage,\n        MdRadioButtonChecked,MdClose,MdPassword,MdSave,\n        MdMergeType,MdRawOn,MdGroups\n} from 'react-icons/md';\nimport {GiCook,GiBugleCall,GiOpenBook} from 'react-icons/gi'\nimport {BsShop} from 'react-icons/bs'\nimport {TiSortNumericallyOutline} from 'react-icons/ti';\nimport {SiBookstack,SiAirtable} from 'react-icons/si'\nimport {MainContext} from '../../context/MainContext'\n\nimport '../../App2.css'\nimport './Ticon.css'\n\n\nconst iconLabel={\n    \"FaHome\":\"\",\n    \"MdTune\":\"\",\n    \"MdPerson\":\"\",\n    \"MdFastfood\":\"\",\n    //\"FaRegMoneyBillAlt\":\"\",\n    \"SiBookstack\":\"\",\n    \"RiLogoutBoxRFill\":\"\",\n    \"MdLogout\":\"\",\n    \"MdRefresh\":\"\",\n    \"MdSwapHoriz\":\"\",\n    \"MdSettings\":\"\",\n    \"MdSearch\":\"\",\n    \"MdEdit\":\"\",\n    \"MdAddCircle\":\"\",\n    \"MdDelete\":\"\",\n    \"MdPrint\":\"\",\n    \"MdRadioButtonChecked\":\"\",\n    \"MdClose\":\"\",\n    \"RiShareForwardLine\":\"\",\n    \"FaFileCsv\":\"CSV\",\n    \"FaRegArrowAltCircleDown\":\"\",\n    \"FaRegArrowAltCircleUp\":\"\",\n    \"MdPassword\":\"\",\n    \"MdSave\":\"\",\n    \"MdMergeType\":\"\",\n    \"MdRawOn\":\"\",\n    \"SiAirtable\":\"\",\n    //\"FaChair\":\"\",\n    \"FaRegFolderOpen\":\"\",\n    \"GiCook\":\"\",\n    \"FaBullseye\":\"\",\n    \"FaBarcode\":\"\",\n    \"TiSortNumericallyOutline\":\"\",\n    //\"MdGroups\":\"\",\n    \"FaRegArrowAltCircleRight\":\"\",\n    \"RiHandCoinFill\":\"\",\n    \"BsShop\":\"POS\",\n    \"FaMoneyBillWave\":\"\"\n}\n\nfunction Ticon(props) {\n\nconst {iconName,className,textStyle,iconStyle}=props\nconst {basicDataSt}=React.useContext(MainContext)\n\nconst [showIcon,setShowIcon]=React.useState(true)\n\nReact.useEffect(()=>{\n    if(!showIcon){\n        setTimeout(()=>{\n            setShowIcon(true)\n        },[1000])\n    }\n},[showIcon])\n\nconst renderIcon=()=>{\n    switch(iconName) {\n        case \"FaHome\":\n          return <FaHome className={className} style={iconStyle}/>\n        case \"MdTune\":\n          return <MdTune className={className} style={iconStyle}/>\n        case \"MdPerson\":\n          return <MdPerson className={className} style={iconStyle}/>\n        case \"MdFastfood\":\n          return <MdFastfood className={className} style={iconStyle}/>\n        case \"SiBookstack\":\n          return <SiBookstack className={className} style={iconStyle}/>\n        case \"MdLogout\":\n          return <MdLogout className={className} style={iconStyle}/>\n        case \"RiLogoutBoxRFill\":\n          return <RiLogoutBoxRFill className={className} style={iconStyle}/>\n        case \"MdRefresh\":\n          return <MdRefresh className={className} style={iconStyle}/>\n        case \"MdRefresh\":\n          return <MdRefresh className={className} style={iconStyle}/>\n        case \"MdSwapHoriz\":\n          return <MdSwapHoriz className={className} style={iconStyle}/>\n        case \"MdSettings\":\n          return <MdSettings className={className} style={iconStyle}/>\n        case \"MdSearch\":\n          return <MdSearch className={className} style={iconStyle}/>\n        case \"MdEdit\":\n          return <MdEdit className={className} style={iconStyle}/>\n        case \"MdAddCircle\":\n          return <MdAddCircle className={className} style={iconStyle}/>\n        case \"MdDelete\":\n          return <MdDelete className={className} style={iconStyle}/>\n        case \"MdPrint\":\n          return <MdPrint className={className} style={iconStyle}/>\n        case \"MdRadioButtonChecked\":\n          return <MdRadioButtonChecked className={className} style={iconStyle}/>\n        case \"MdClose\":\n          return <MdClose className={className} style={iconStyle}/>\n        case \"RiShareForwardLine\":\n          return <RiShareForwardLine className={className} style={iconStyle}/>\n        case \"FaFileCsv\":\n          return <FaFileCsv className={className} style={iconStyle}/>\n        \n        case \"FaRegArrowAltCircleUp\":\n          return <FaRegArrowAltCircleUp className={className} style={iconStyle}/>\n        case \"FaRegArrowAltCircleDown\":\n          return <FaRegArrowAltCircleDown className={className} style={iconStyle}/>\n        case \"MdPassword\":\n           return <MdPassword className={className} style={iconStyle}/>\n        case \"MdSave\":\n           return <MdSave className={className} style={iconStyle}/>  \n        case \"MdMergeType\":\n            return <MdMergeType className={className} style={iconStyle}/>\n        case \"MdRawOn\":\n            return <MdRawOn className={className} style={iconStyle}/>  \n        case \"SiAirtable\":\n            return <SiAirtable className={className} style={iconStyle}/>  \n        case \"FaRegFolderOpen\":\n            return <FaRegFolderOpen className={className} style={iconStyle}/>\n        case \"GiCook\":\n            return <GiCook className={className} style={iconStyle}/>  \n        case \"FaBullseye\":\n            return <FaBullseye className={className} style={iconStyle}/>  \n        case \"FaBarcode\":\n            return <FaBarcode className={className} style={iconStyle}/>  \n        case \"TiSortNumericallyOutline\":\n            return <TiSortNumericallyOutline className={className} style={iconStyle}/> \n        case \"FaRegArrowAltCircleRight\":\n            return <FaRegArrowAltCircleRight className={className} style={iconStyle}/>\n        case \"RiHandCoinFill\":\n            return <RiHandCoinFill className={className} style={iconStyle}/>\n        case \"FaMoneyBillWave\":\n            return <FaMoneyBillWave className={className} style={iconStyle}/>\n          \n        case \"BsShop\":\n            return <BsShop className={className} style={iconStyle}/>     \n        default:\n          return null\n      }\n}\n\nreturn (\n    <div className=''\n        style={{display:\"flex\",alignItems:\"center\",\n                flexWrap:\"nowrap\",height:\"100%\"}}\n         onMouseOver={e=>{\n            setShowIcon(false)\n         }}\n         onMouseLeave={e=>{\n            setShowIcon(true)\n         }}\n    >\n        {\n         showIcon\n         ?renderIcon()\n         :<div className='flex-center-center' \n              style={{color:\"white\",whiteSpace:\"nowrap\",height:\"100%\",\n                      padding:\"0.24rem\",...textStyle\n        }}>\n            <div >\n            {iconLabel[iconName]}\n            </div>\n          </div>\n        }\n    </div>\n\n)\n\n}\n\n\nTicon.defaultProps={\n  iconName:\"\",\n  classNam:\"\",\n  textStyle:null,\n  iconStyle:null\n}\n\n\n\n\nexport default Ticon;\n\n","//import React from 'react'\nimport ImageCompressor from 'js-image-compressor'\n\nfunction fileListItem(a) {\n    a = [].slice.call(Array.isArray(a) ? a : arguments)\n    for (var c, b = c = a.length, d = !0; b-- && d;) d = a[b] instanceof File\n    if (!d) throw new TypeError(\"expected argument to fileList1 is File or array of File objects\")\n    for (b = (new ClipboardEvent(\"\")).clipboardData || new DataTransfer; c--;) b.items.add(a[c])\n    return b.files\n} \n//=================================\n/*\nconcept: we have 2 purpose \n1. to show photoUrl_ and fileUrl on Galleryone_add\n2. to add update file_ in inputState of form\n\nhow it work: \n1. from <input/> we get e.target.file = files\n2. we put use handleInputFile() => to update arrayFile\n3. we use changeArrayFile() => create fileList \n    3.1 update file_:fileList in inputState  \n    3.2 update fileUrl : with name & blob to show image\n\nShow Image: \n    we use url from 2 source \n    1. from photoUrl_\n    2. from fileUrl \n\nDelete fileUrl:\n    1. use name + arrayFile , update arrayFile with out file => changeArrayFile() => file_:fileList, fileUrl\nDelete photoUrl:\n\n*/\n//=================================\nconst reduceImageSize=(file,i)=>{\n    //console.log('reduceImageSize')\n    //const file=e.target.files[0]\n    //const files = [...e.target.files]\n    //console.log(file.size)\n    //console.log(files.length)\n    //max 1280\n    //min 600\n    //width, height 1280\n    //quality 1\n\n\n\n    return new Promise( (resolve,reject)=>{\n        const options = {\n            file:file,quality: 0.9,mimeType:file.type,\n            maxWidth:900,maxHeight:900,width:800,height:800,\n            minWidth:700,minHeight:700,\n            convertSize: Infinity,\n            loose: true,redressOrientation: true,\n        \n            // Callback before compression\n            beforeCompress: function (result) {\n            //console.log(result)\n            //console.log(`Image size before compression: ${i}`, result.size);\n            //console.log(`mime type: ${i}`, result.type);\n            },\n\n            // Compression success callback\n            success: async (result) => {\n            //console.log(result)\n            //console.log(`Image size after compression: ${i}`, result.size);\n            //console.log(`mime type: ${i}`, result.type);\n            //console.log(`Actual compression ratio: ${i}`, ((file.size-result.size) / file.size * 100).toFixed(2) +'%');\n            //console.log(result)\n                resolve(result)\n            },\n            // An error occurred\n            error: function (msg) {\n                console.error(msg);\n                reject(msg)\n            }\n        }\n        const atemp=new ImageCompressor(options)\n})\n    /*\n    const reduceFunction =({file,i,quality,maxWidth,maxHeight,width,height,minWidth,minHeight})=>{\n        return new Promise( (resolve,reject)=>{\n            const options = {\n                file:file,quality: 1,mimeType:file.type,\n                maxWidth,maxHeight,width,height,minWidth,minHeight,\n                convertSize: Infinity,\n                loose: true,redressOrientation: true,\n            \n                // Callback before compression\n                beforeCompress: function (result) {\n                //console.log(`Image size before compression: ${i}`, result.size);\n                //console.log(`mime type: ${i}`, result.type);\n                },\n    \n                // Compression success callback\n                success: async (result) => {\n                //console.log(`Image size after compression: ${i}`, result.size);\n                //console.log(`mime type: ${i}`, result.type);\n                //console.log(`Actual compression ratio: ${i}`, ((file.size-result.size) / file.size * 100).toFixed(2) +'%');\n                //console.log(result)\n                    resolve(result)\n                },\n                // An error occurred\n                error: function (msg) {\n                    console.error(msg);\n                    reject(msg)\n                }\n            }\n            const atemp=new ImageCompressor(options)\n    })\n\n    }\n\n\n    if (file.size<600000){\n        return reduceFunction({\n            file:file,i:i,\n            maxHeight:1280,maxWidth:1280,\n            height:1280,width:1280,\n            minHeight:800,minWidth:800,\n            quality:1,\n        })\n    }\n    \n    */\n}\n\n\n//=================================\n//arrayFile ==>from e.target.file\nconst handleInputFile=async({files,arrayFile,setArrayFile})=>{\n    let unique=Array.from(new Set([...arrayFile,...files]))\n    setArrayFile(unique)   \n}\n//================================\nconst changeArrayFile=async({\n    arrayFile,fileUrl,setFileUrl,\n    inputState,setInputState,\n    keyName,\n    //fileName,\n    //serverFolder,\n    setShowImage})=>{\n\n\n    const endNumber=keyName.split(\"photoUrl\")[1]\n    //const endNumber=fileName.split(\"file\")[1]\n\n    //================\n    let tempFileUrl=[]\n    let promiseArray=[]\n\n        for(let i=0;i<arrayFile.length;i++){\n                promiseArray=[...promiseArray,reduceImageSize(arrayFile[i],i)]\n        }\n\n\n    Promise.all(promiseArray)\n    \n    .then((tempBlobArray) => {\n        tempBlobArray.map(i=>{\n            const tempObject={ name:i.name,\n                            blob:URL.createObjectURL(i)}\n            tempFileUrl=[...tempFileUrl,tempObject]\n        })\n\n        setFileUrl(tempFileUrl)\n\n\n        setInputState({...inputState,\n            [`file${endNumber}`]:tempBlobArray,\n        })\n        \n       reloadImage({setShowImage})\n    })\n    .catch(err=>{\n        //console.log('err')\n        //console.log(err)\n    })\n\n}\n\n\n/*\nconst changeArrayFile=({\n        arrayFile,fileUrl,setFileUrl,\n        inputState,setInputState,\n        keyName,\n        //fileName,\n        //serverFolder,\n        setShowImage})=>{\n\n    const tempFileList= new fileListItem( arrayFile )\n\n    const endNumber=keyName.split(\"photoUrl\")[1]\n    //const endNumber=fileName.split(\"file\")[1]\n\n    //================\n    let tempFileUrl=[]\n    for(let i=0;i<tempFileList.length;i++){\n        \n        const tempObject={ name:tempFileList[i].name,\n                           blob:URL.createObjectURL(tempFileList[i])}\n        \n\n        tempFileUrl=[...tempFileUrl,tempObject]\n    }\n\n\n    setFileUrl(tempFileUrl)\n\n      \n    setInputState({...inputState,\n             [`file${endNumber}`]:tempFileList,\n    })\n    reloadImage({setShowImage})\n}\n*/\n\n//==================================\n\n//====================================\n\nconst reloadImage=({setShowImage})=>{\n    setShowImage(false)\n    setTimeout(()=>{\n        setShowImage(true)\n    },100)\n}\n//===================================\n\nconst resetFile=({setArrayFile,setFileUrl})=>{\n    setArrayFile([])\n    setFileUrl([])\n}\n//===================================\nconst deleteFileUrl=({name,arrayFile,setArrayFile,\n    reloadImage,setShowImage})=>{\n\n    /*\n    let tempArray=[]\n    arrayFile.map((i,index)=>{\n        if(i.name!==name){\n            tempArray.push(i)\n        }\n        return tempArray\n    })\n    */\n    let tempArray=[]\n\n    for(let i=0;i<arrayFile.length;i++){\n        if(arrayFile[i].name!==name){\n            //tempArray.push(i)\n            tempArray=[...tempArray,arrayFile[i]]\n        }\n    }\n\n    setArrayFile(tempArray)   \n    reloadImage({setShowImage});   \n}\n//=========================================\nconst deletePhotoUrl=({name,inputState,setInputState,keyName,\n    reloadImage,setShowImage})=>{\n        \n    let temp=[]\n    \n    const tempLength=inputState[keyName].length\n    //from photoUrl_:[\"xxx\",\"yyy\"]\n    //exclude target from photoUrl: [\"xxx\"]    \n\n    if(tempLength>0){\n        for(let i=0;i<tempLength;i++){\n            if(inputState[keyName][i]!=name){\n                temp=[...temp,inputState[keyName][i]]\n            }\n        }\n    }\n    // in case we have array of one , we need to put [\"\"]\n    // so final photoUrl:[\"\"] just like in blankState\n    if(temp.length==0){\n        temp=[\"\"]\n    }\n\n    const tempInputState={...inputState,[keyName]:temp}\n    \n   \n    setInputState({...tempInputState})\n    \n    reloadImage({setShowImage})\n}\n//==================================\nconst moveFirst=({idx,inputState,setInputState,keyName,\n    reloadImage,setShowImage})=>{\n        //console.log('moveFirst')\n        let temp=[]\n        let firstOne\n        const tempLength=inputState[keyName].length\n        //from photoUrl_:[\"xxx\",\"yyy\"]\n        //exclude target from photoUrl: [\"xxx\"]    \n    \n        if(tempLength>0){\n            for(let i=0;i<tempLength;i++){\n                if(i!=idx){\n                    temp=[...temp,inputState[keyName][i]]\n                }\n                else{\n                    firstOne=inputState[keyName][i]\n                }\n            }\n        }\n\n        temp=[firstOne,...temp]\n        \n        // in case we have array of one , we need to put [\"\"]\n        // so final photoUrl:[\"\"] just like in blankState\n        if(temp.length==0){\n            temp=[\"\"]\n        }\n    \n        const tempInputState={...inputState,[keyName]:temp}\n        \n        setInputState({...tempInputState})\n        \n        reloadImage({setShowImage})\n}\n\nconst movePrevious=({idx,inputState,setInputState,keyName,\n    reloadImage,setShowImage})=>{\n        //console.log('movePrevious')\n        let temp=[]\n        let previousOne\n\n        const tempLength=inputState[keyName].length\n        //from photoUrl_:[\"xxx\",\"yyy\"]\n        //exclude target from photoUrl: [\"xxx\"]    \n    \n        if(tempLength>0){\n            for(let i=0;i<tempLength;i++){\n                if(i==idx-1){\n                    previousOne=inputState[keyName][i]\n                }\n                else if(i==idx){\n                    temp=[...temp,inputState[keyName][i],previousOne]\n                }\n                else{\n                    //nextIdx=i+1\n                    temp=[...temp,inputState[keyName][i]]\n                }\n            }\n        }\n\n        // in case we have array of one , we need to put [\"\"]\n        // so final photoUrl:[\"\"] just like in blankState\n        if(temp.length==0){\n            temp=[\"\"]\n        }\n    \n        const tempInputState={...inputState,[keyName]:temp}\n        \n        setInputState({...tempInputState})\n        \n        reloadImage({setShowImage})\n}\n\nconst moveNext=({idx,inputState,setInputState,keyName,\n    reloadImage,setShowImage})=>{\n        //console.log('moveNext')\n        //console.log(idx)\n        let temp=[]\n        let currentOne\n\n        const tempLength=inputState[keyName].length\n        //from photoUrl_:[\"xxx\",\"yyy\"]\n        //exclude target from photoUrl: [\"xxx\"]    \n        \n        if(tempLength>0){\n            for(let i=0;i<tempLength;i++){\n                if(i==idx){\n                    currentOne=inputState[keyName][i]\n                }\n                else if(i==idx+1){\n                    temp=[...temp,inputState[keyName][i],currentOne]\n                }\n                else{\n                    //nextIdx=i+1\n                    temp=[...temp,inputState[keyName][i]]\n                }\n            }\n        }\n\n        // in case we have array of one , we need to put [\"\"]\n        // so final photoUrl:[\"\"] just like in blankState\n        if(temp.length==0){\n            temp=[\"\"]\n        }\n        \n        const tempInputState={...inputState,[keyName]:temp}\n        setInputState({...tempInputState})\n        reloadImage({setShowImage})\n}\n\nconst moveLast=({idx,inputState,setInputState,keyName,\n    reloadImage,setShowImage})=>{\n        //console.log('moveLast')\n        let temp=[]\n        let lastOne\n        const tempLength=inputState[keyName].length\n        //from photoUrl_:[\"xxx\",\"yyy\"]\n        //exclude target from photoUrl: [\"xxx\"]    \n    \n        if(tempLength>0){\n            for(let i=0;i<tempLength;i++){\n                if(i!=idx){\n                    temp=[...temp,inputState[keyName][i]]\n                }\n                else{\n                    lastOne=inputState[keyName][i]\n                }\n            }\n        }\n\n        temp=[...temp,lastOne]\n        \n        // in case we have array of one , we need to put [\"\"]\n        // so final photoUrl:[\"\"] just like in blankState\n        if(temp.length==0){\n            temp=[\"\"]\n        }\n    \n        const tempInputState={...inputState,[keyName]:temp}\n        \n        setInputState({...tempInputState})\n        \n        reloadImage({setShowImage})\n}\n\n\nconst photoUtil={fileListItem,changeArrayFile,handleInputFile,\n    reloadImage,resetFile,deleteFileUrl,deletePhotoUrl,\n    moveFirst,movePrevious,moveNext,moveLast,reduceImageSize\n\n}\n\nexport default photoUtil\n","import axios from 'axios';\n//==========================    \n\nconst updateTableTemplate=({tableName,template})=>{\n  axios.post(\"/tabletemplate/updatecustom\",\n    {tableName,template},\n    {headers: {'Content-Type': 'application/json',\n        'Shopauthorization':localStorage.getItem('shopauthorization'),\n        'Userauthorization':localStorage.getItem('userauthorization')\n    }}\n  )\n}\n//===========================\nconst genArrayForFilterAxios=({filterTemplate,inputState})=>{\n\n  //console.log('genArrayForFilterAxios')\n\n  let arrayCommand=[]\n    filterTemplate.map(i=>{\n       \n        if(inputState[i.keyName].toCheck){\n\n\n          if(i.templateType==\"number\"){\n            const temp ={[i.filterCommand[0]]:\n              {$gte:inputState[i.keyName].min,$lte:inputState[i.keyName].max}\n            }\n            arrayCommand=[...arrayCommand,temp]  \n          }\n          else if(i.templateType==\"arrayNumber\"){\n            const temp ={[i.filterCommand[0]]:{ $elemMatch:\n              {$gte:inputState[i.keyName].min,$lte:inputState[i.keyName].max}\n            }}\n            arrayCommand=[...arrayCommand,temp]  \n          }\n          else if(i.templateType==\"objectNumber\"){\n            const temp ={[i.filterCommand[0]]:\n              {$gte:inputState[i.keyName].min,$lte:inputState[i.keyName].max}\n            }\n            arrayCommand=[...arrayCommand,temp]  \n          }\n          else if(i.templateType==\"arrayObjectNumber\"){\n            \n            const temp ={[i.filterCommand[0]]:{$elemMatch:\n              {[i.filterCommand[1]]:\n                {$gte:inputState[i.keyName].min, \n                  $lte:inputState[i.keyName].max}\n              }  \n            }}\n\n            arrayCommand=[...arrayCommand,temp] \n          }\n          else if(i.templateType==\"arrayObjectArrayNumber\"){\n            const temp ={[i.filterCommand[0]]:{$elemMatch:\n              {[i.filterCommand[1]]:{$elemMatch:\n                {$gte:inputState[i.keyName].min, \n                  $lte:inputState[i.keyName].max}\n              }}  \n            }}\n            arrayCommand=[...arrayCommand,temp] \n          }\n          else if(i.templateType===\"string\"||i.templateType==\"selectObj\"||i.templateType==\"selectArrayObj\"){\n            //console.log('foundString')\n            const temp ={[i.filterCommand[0]]:\n               {$regex:inputState[i.keyName].value.trim().replace(/\\s/,\"|\"),\n                $options:'gi' }\n            }\n\n            arrayCommand=[...arrayCommand,temp]  \n          }\n          else if(i.templateType==\"arrayString\"){\n            const temp ={[i.filterCommand[0]]:{$elemMatch:\n              {$regex:inputState[i.keyName].value.trim().replace(/\\s/,\"|\"),\n               $options:'gi' }\n            }}\n            arrayCommand=[...arrayCommand,temp]  \n          }\n          else if(i.templateType==\"objectString\"){\n            const temp ={[i.filterCommand[0]]:\n              {$regex:inputState[i.keyName].value.trim().replace(/\\s/,\"|\"),\n               $options:'gi' }\n            }\n            arrayCommand=[...arrayCommand,temp]  \n          }\n          else if(i.templateType==\"arrayObjectString\"){\n            const temp ={[i.filterCommand[0]]:{$elemMatch:\n              {[i.filterCommand[1]]:\n                {$regex:inputState[i.keyName].value.trim().replace(/\\s/,\"|\"),\n                 $options:'gi' }\n              }  \n            }}\n            arrayCommand=[...arrayCommand,temp] \n          }\n          else if(i.templateType==\"arrayObjectArrayString\"){\n            const temp ={[i.filterCommand[0]]:{$elemMatch:\n              {[i.filterCommand[1]]:{$elemMatch:\n                {$regex:inputState[i.keyName].value.trim().replace(/\\s/,\"|\"),\n                 $options:'gi' }\n              }}  \n            }}\n            arrayCommand=[...arrayCommand,temp] \n          }\n          else if(i.templateType==\"boolean\"){\n            const temp ={[i.filterCommand[0]]:\n              inputState[i.keyName].value\n            }\n            arrayCommand=[...arrayCommand,temp]  \n          }\n\n        }\n    })\n\n    //console.log('arrayCommand')\n    //console.log(arrayCommand)\n    return arrayCommand\n}\n\n//===========================\nconst axiGet=async ({\n    qCondition,RtAndCt,\n    \n    filterTemplate,inputState,\n    \n    setFilterData,\n    pageNumber,setCount,sort,limitRow,\n    setReload\n  })=>{\n    \n    let arrayCommand=[]\n    filterTemplate.map(i=>{\n\n        if(inputState[i.keyName].toCheck){\n          if(i.templateType==\"number\"){\n            const temp ={[i.filterCommand[0]]:\n              {$gte:inputState[i.keyName].min,$lte:inputState[i.keyName].max}\n            }\n            arrayCommand=[...arrayCommand,temp]  \n          }\n          else if(i.templateType==\"arrayNumber\"){\n            const temp ={[i.filterCommand[0]]:{ $elemMatch:\n              {$gte:inputState[i.keyName].min,$lte:inputState[i.keyName].max}\n            }}\n            arrayCommand=[...arrayCommand,temp]  \n          }\n          else if(i.templateType==\"objectNumber\"){\n            const temp ={[i.filterCommand[0]]:\n              {$gte:inputState[i.keyName].min,$lte:inputState[i.keyName].max}\n            }\n            arrayCommand=[...arrayCommand,temp]  \n          }\n          else if(i.templateType==\"arrayObjectNumber\"){\n            \n            const temp ={[i.filterCommand[0]]:{$elemMatch:\n              {[i.filterCommand[1]]:\n                {$gte:inputState[i.keyName].min, \n                  $lte:inputState[i.keyName].max}\n              }  \n            }}\n\n            arrayCommand=[...arrayCommand,temp] \n          }\n          else if(i.templateType==\"arrayObjectArrayNumber\"){\n            const temp ={[i.filterCommand[0]]:{$elemMatch:\n              {[i.filterCommand[1]]:{$elemMatch:\n                {$gte:inputState[i.keyName].min, \n                  $lte:inputState[i.keyName].max}\n              }}  \n            }}\n            arrayCommand=[...arrayCommand,temp] \n          }\n          else if(i.templateType===\"string\"){\n            //console.log('foundString')\n            const temp ={[i.filterCommand[0]]:\n               {$regex:inputState[i.keyName].value.trim().replace(/\\s/,\"|\"),\n                $options:'gi' }\n            }\n            arrayCommand=[...arrayCommand,temp]  \n          }\n          else if(i.templateType==\"arrayString\"){\n            const temp ={[i.filterCommand[0]]:{$elemMatch:\n              {$regex:inputState[i.keyName].value.trim().replace(/\\s/,\"|\"),\n               $options:'gi' }\n            }}\n            arrayCommand=[...arrayCommand,temp]  \n          }\n          else if(i.templateType==\"objectString\"){\n            const temp ={[i.filterCommand[0]]:\n              {$regex:inputState[i.keyName].value.trim().replace(/\\s/,\"|\"),\n               $options:'gi' }\n            }\n            arrayCommand=[...arrayCommand,temp]  \n          }\n          else if(i.templateType==\"arrayObjectString\"){\n            const temp ={[i.filterCommand[0]]:{$elemMatch:\n              {[i.filterCommand[1]]:\n                {$regex:inputState[i.keyName].value.trim().replace(/\\s/,\"|\"),\n                 $options:'gi' }\n              }  \n            }}\n            arrayCommand=[...arrayCommand,temp] \n          }\n          else if(i.templateType==\"arrayObjectArrayString\"){\n            const temp ={[i.filterCommand[0]]:{$elemMatch:\n              {[i.filterCommand[1]]:{$elemMatch:\n                {$regex:inputState[i.keyName].value.trim().replace(/\\s/,\"|\"),\n                 $options:'gi' }\n              }}  \n            }}\n            arrayCommand=[...arrayCommand,temp] \n          }\n        }\n    })\n\n    try {\n        let result \n\n        if (qCondition==\"$and\"){\n          result = await axios.post(RtAndCt,\n                {pageNumber,sort,limitRow,$and:arrayCommand},\n                //{query:{$and:arrayCommand}},\n                {headers: {'Content-Type': 'application/json',\n                'Shopauthorization':localStorage.getItem('shopauthorization'),\n                'Userauthorization':localStorage.getItem('userauthorization')\n                }}\n          )\n        }\n        else{\n            result = await axios.post(RtAndCt,\n                {pageNumber,sort,limitRow,$or:arrayCommand},\n                //{query:{$or:arrayCommand}},\n                {headers: {'Content-Type': 'application/json',\n                'Shopauthorization':localStorage.getItem('shopauthorization'),\n                'Userauthorization':localStorage.getItem('userauthorization')\n                }}\n            )\n        }\n\n        setFilterData([...result.data.data])\n        //setFilterData(result.data.data)\n        setCount(result.data.count)\n        setReload(false)\n    }\n    catch (err){\n        setFilterData([])\n        setReload(false)\n    }\n}\n//======================================\nconst addSingleFileNameInsteadOfPhotoUrl=(formInputState)=>{\n  \n  let temp1=[]\n  if((formInputState.file1)&&(formInputState.photoUrl1)){\n      temp1=[...temp1,formInputState.file1[0].name]\n      formInputState.photoUrl1=temp1\n  }\n\n  let temp2=[]\n  if((formInputState.file2)&&(formInputState.photoUrl2)){\n    temp2=[...temp2,formInputState.file2[0].name]\n    formInputState.photoUrl2=temp2\n  }\n  return formInputState\n}\n\n//=======================================\nconst addFileNameInPhotoUrl=(formInputState)=>{\n  let temp1=[]\n  if(formInputState.file1){\n    for (let i=0;i<formInputState.file1.length;i++){\n      temp1=[...temp1,formInputState.file1[i].name]\n    }\n  }\n  if(formInputState.photoUrl1){\n    formInputState.photoUrl1=[...formInputState.photoUrl1,...temp1]\n  }\n\n  let temp2=[]\n  if(formInputState.file2){\n    for (let i=0;i<formInputState.file2.length;i++){\n      temp2=[...temp2,formInputState.file2[i].name]\n    }\n\n  }\n  if(formInputState.photoUrl2){\n    formInputState.photoUrl2=[...formInputState.photoUrl2,...temp2]\n  }\n  return formInputState\n}\n\n//======================================\n//concept : make sure genFD dont leave out any filed\n\nconst genFD=({inputState,template})=>{\n  const fd=new FormData()\n\n    const genFunction=({iSt,tPt,preFix})=>{\n      const arrayTemplate=Object.keys(tPt)\n      \n      arrayTemplate.map((tpKey,tpIdx)=>{    \n        //if(iSt[tpKey]){   do not leave this filed\n\n                //console.log(`//////tpKey= ${tpKey}`)\n                //console.log(tPt)\n                //console.log(tPt[tpKey])\n                const {stType}=tPt[tpKey]\n\n                if(stType==\"object\"){\n                  if(preFix==''){\n                    genFunction({ iSt:iSt[tpKey],\n                                  tPt:tPt[tpKey].stChildren,\n                                  preFix:tpKey})\n                  }\n                  else{\n                    genFunction({ iSt:iSt[tpKey],\n                                  tPt:tPt[tpKey].stChildren,\n                                  preFix:`${preFix}[${tpKey}]`})\n                  }\n                }\n                else if(stType==\"arrayObject\"){\n                  iSt[tpKey].map((i,ix)=>{\n                    if(preFix==''){\n                      genFunction({ iSt:i,\n                                    tPt:tPt[tpKey].stChildren,\n                                    preFix:`${tpKey}[${ix}]`}) \n                    }\n                    else{\n                      genFunction({ iSt:i,\n                                    tPt:tPt[tpKey].stChildren,\n                                    preFix:`${preFix}[${tpKey}][${ix}]`})\n                    }\n                  })\n                }else if(stType==\"array\"){\n                  iSt[tpKey].map((st,idx)=>{\n                    if(preFix==''){\n                      //if(iSt[tpKey][idx]){   do not leave this filed\n                        fd.append(`${preFix}${tpKey}[${idx}]`,iSt[tpKey][idx])\n                      //}\n                    }\n                    else{\n                      //if(iSt[tpKey][idx]){  do not leave out this field\n                        fd.append(`${preFix}[${tpKey}][${idx}]`,iSt[tpKey][idx])\n                      //}\n                    }\n                  })\n                }else if(stType==\"file\"){\n                  if(iSt[tpKey]){\n                    for(let i=0;i<iSt[tpKey].length;i++){\n                      const fileName=`${iSt[tpKey][i].name}`\n                      fd.append(`imageUrl`,iSt[tpKey][i],fileName);  \n                      //fd.append(adToSt,`${upFolder}${fileName}`)\n                    }\n                  }\n                }\n                else{\n                  if(preFix==''){\n                    //if(iSt[tpKey]){   do not leave this filed\n                      fd.append(`${preFix}${tpKey}`,iSt[tpKey])\n                    //}\n                  }else{\n                    //if(iSt[tpKey]){   do not leave this filed\n                      fd.append(`${preFix}[${tpKey}]`,iSt[tpKey])\n                    //}\n                  }\n                }\n        //}\n      })\n    }\n\n  //try {\n    genFunction({iSt:inputState,tPt:template,preFix:''})\n    return fd\n\n}\n\n//==============================\nconst submitFunc=async ({\n    url,\n    stateTemplate,\n    inputState,\n    setShow,\n    setShowModalError,\n    clearForm,\n    actionAfterSuccess,\n    useGenFD\n})=>{\n \n  console.log('inputState submitFunc Before')\n  console.log(inputState) \n\n  //=================================\n  //we update photoUrl_ from file_ at this final state before send to server\n  //we take file.name from file_ in inputState \n  //and add to photoUrl_ array\n  //we allow only photoUrl1, photoUrl2\n  if(useGenFD){\n    let temp1=[]\n    if(inputState.file1){\n      for (let i=0;i<inputState.file1.length;i++){\n        temp1=[...temp1,inputState.file1[i].name]\n      }\n\n    }\n    if(inputState.photoUrl1){\n      inputState.photoUrl1=[...inputState.photoUrl1,...temp1]\n    }\n\n    let temp2=[]\n    if(inputState.file2){\n      for (let i=0;i<inputState.file2.length;i++){\n        temp2=[...temp2,inputState.file2[i].name]\n      }\n\n    }\n    if(inputState.photoUrl2){\n      inputState.photoUrl2=[...inputState.photoUrl2,...temp2]\n    }\n  }\n  //===================================\n  let result = true\n  //result=valReqBody({stateTemplate,inputState})\n  \n  let fd\n  //we use useGenFD as condition to use genFD or not\n  if(useGenFD){\n    fd=genFD({inputState,template:stateTemplate})\n  }\n  else{\n    fd=inputState\n  }\n\n  if(result)\n  {\n    try{\n      const resultAxios=await axios.post(url,\n          fd,\n          {headers: {\n            'Content-Type': 'application/json',\n            'Shopauthorization':localStorage.getItem('shopauthorization'),\n            'Userauthorization':localStorage.getItem('userauthorization')\n          }}\n      )\n   \n      if(actionAfterSuccess){actionAfterSuccess(resultAxios)}\n      if(clearForm){clearForm()}\n      \n      if(setShow){setShow(false)}\n    //}\n      }\n    catch (error){\n      setShowModalError({status:true,msg:error})\n\n    }\n  }\n  else{\n    setShowModalError({status:true,msg:result})\n  }\n}\n\n//==================================\n\nconst genSortStateFromSort=(sort)=>{\n\n  let tempSortKey={\n      order1:{toAscending:1, sortName:null},\n      order2:{toAscending:1, sortName:null},\n      order3:{toAscending:1, sortName:null},\n  }\n  const sortKey=Object.keys(sort)\n  if(sortKey[0]){\n      tempSortKey.order1={toAscending:sort[sortKey[0]],sortName:sortKey[0]}\n  }\n  if(sortKey[1]){\n      tempSortKey.order2={toAscending:sort[sortKey[1]],sortName:sortKey[1]}\n  }\n  if(sortKey[2]){\n      tempSortKey.order2={toAscending:sort[sortKey[2]],sortName:sortKey[2]}\n  }\n  return tempSortKey\n}\n\n//==================================\nconst genSortFromSortState=(sortState)=>{\n     //To make this as sort\n     //sort={\"id\":1,\"name\":-1,\"price\":1}\n     //===============\n     //find a unique array of sortState.sortName\n     //[\"name\",\"price\",\"id\"]\n     let tempUniqueSortName=[]\n     let tempState={}\n \n     const arraySortStateKey=Object.keys(sortState)\n     arraySortStateKey.map(i=>{\n       if(sortState[i].sortName!=null){\n         tempUniqueSortName=[...tempUniqueSortName,sortState[i].sortName]\n       }\n     })\n \n     tempUniqueSortName=Array.from(new Set(tempUniqueSortName))\n \n     //========================\n     //To make sort from sortState\n     //sort={\"id\":1,\"name\":-1,\"price\":1}\n     if(tempUniqueSortName.length>0){\n       tempUniqueSortName.map(i=>{     \n         for(let j=0;j<arraySortStateKey.length;j++){\n           const tempKeyName=arraySortStateKey[j]\n           if(i==sortState[tempKeyName].sortName){\n             tempState={...tempState,[i]:sortState[tempKeyName].toAscending}\n             break;\n           }\n         }\n       })\n     }\n\n     return tempState\n   }\n//==================================\n\nconst reloadAndSearch=({\n  url,blankData,inputState,\n  pageNumber,sort,filterOption,qry,\n  setFilterData,setCount,setLastRecordId,\n  setEditData,filterTemplate,\n  reload,setReload,limitRow,\n  //tableName,setTableTemplate\n})=>{\n  //=========================================\n  //=========================================\n  //initial reload, click refresh, reload after update,add \n  const filterOption0=()=>{\n\n    axios.post(url,\n      {pageNumber,sort,limitRow},\n      {headers: {'Content-Type': 'application/json',\n          'Shopauthorization':localStorage.getItem('shopauthorization'),\n          'Userauthorization':localStorage.getItem('userauthorization')\n      }}\n    )\n    .then(result=>{\n      console.log(`filterOption0: ${url}`)\n      setReload(false)\n      setFilterData(result.data.data)\n      setCount(result.data.count)\n      setLastRecordId(result.data.lastRecordId)\n    })\n    .catch(err=>{\n      setReload(false)\n    })\n  }\n  //==================================\n  //for searh \n  const filterOption1=()=>{\n\n    axiGet({qCondition:\"$and\",\n      RtAndCt:url,\n      filterTemplate,\n      inputState,\n      setFilterData,\n      pageNumber,setCount,sort,limitRow,\n      setReload\n    })\n  } \n  //===============================\n  //for sear \n  const filterOption2=()=>{\n\n    axiGet({qCondition:\"$or\",\n      RtAndCt:url,\n      filterTemplate,\n      inputState,\n      setFilterData,\n      pageNumber,setCount,sort,limitRow,\n      setReload\n    })\n  }\n  //=============================\n  //for display product by group\n  const filterOption3=()=>{\n    axios.post(url,\n      {...qry,pageNumber,sort,limitRow},\n      {headers: {'Content-Type': 'application/json',\n          'Shopauthorization':localStorage.getItem('shopauthorization'),\n          'Userauthorization':localStorage.getItem('userauthorization')\n      }}\n    )\n    .then(result=>{\n      console.log(`filterOption3: ${url}`)\n      setReload(false)\n      setFilterData(result.data.data)\n      setCount(result.data.count)\n      setEditData(blankData)\n    })\n    .catch(err=>{\n      setReload(false)\n    })\n  }\n  //=============================\n  if(pageNumber==1&& filterOption==0 && reload){\n    //initial reload / click refresh\n    //when click change pageNumber back to 1\n    filterOption0()\n  }\n  else if(filterOption==0){\n    //when click change pageNumber\n    //console.log('option 0 & change pageNumber')\n    filterOption0()\n  }\n  else if(filterOption==1){\n    //filter in \"and\" condition\n    //when click change pageNumber\n    //console.log('option 1 & change pageNumber')\n    filterOption1()\n  }\n  else if(filterOption==2){\n    //filter in \"or\" condition\n    //When click change pageNumber\n    //console.log('option 1 & change pageNumber')\n    filterOption2()\n  }\n  else if(filterOption==3){\n    //when click select Group to see product in Group\n    //console.log('option 3 & change pageNumber')\n    filterOption3()\n  }\n}\n//==================================\n\nconst addAndUpdateSubField=(mainField,subField,formInputState)=>{\n  let temp=[]\n  if(mainField){\n      \n      if(mainField[subField].length==0){\n        console.log('subFile.length==0')\n        temp=[formInputState]\n      }\n      else {\n        for (let i=0;i<mainField[subField].length;i++){\n    \n            if(mainField[subField][i].id==formInputState.id){\n                //for edit data by replace with formInputState\n                temp=[...temp,formInputState]\n            }\n            else{\n                temp=[...temp,mainField[subField][i]]\n                \n                //for add formInputState to the last routeAuth Array\n                if(i==mainField[subField].length-1){\n                    temp=[...temp,formInputState]\n                }\n            }\n        }\n      }\n  }\n  return temp\n}\n//==================================\nconst deleteSubField=(mainField,subField,formInputState)=>{\n  \n  let temp=[]\n  \n  if(mainField){\n      for (let i=0;i<mainField[subField].length;i++){\n   \n          if(mainField[subField][i].id!=formInputState.id){\n              //for edit data by replace with formInputState\n              temp=[...temp,mainField[subField][i] ]            \n          }  \n      }\n  }\n  \n  return temp\n  \n}\n//=========================================\nconst catchErrorToMessage=(error)=>{\n\n  if(typeof error == 'string'){\n    return error\n  }\n  else{\n    if(!error){return}\n    if(!error.response){return}\n    if(!error.response.data){return}\n    if(!error.response.data.message){return}\n    return error.response.data.message\n  }\n\n  \n  //setMessage(error.response.data.message)\n}\n\n//=========================================\nfunction sleep(ms) {return new Promise(resolve => setTimeout(resolve, ms));}\n//==================================\nconst genId=()=>{\n  //console.log('genId')\n  const date1=new Date().toISOString()\n  const date2=new Date(date1).toLocaleString('fr-ca')\n  const date3=new Date(date1).toLocaleString('en-GB')\n  //console.log(date3)\n  const tempId=\n    date2.substring(2,4)+\n    date2.substring(5,7)+\n    date2.substring(8,10)+\n    date3.substring(12,14)+\n    date3.substring(15,17)+\n    date3.substring(18,20)\n\n  return parseInt(tempId)\n\n}\n//==================================\nconst axiosUtil={axiGet,genFD,submitFunc,\n  addFileNameInPhotoUrl,addSingleFileNameInsteadOfPhotoUrl,\n  genSortFromSortState,genSortStateFromSort,\n  reloadAndSearch,genArrayForFilterAxios,\n  addAndUpdateSubField,deleteSubField,\n  catchErrorToMessage,sleep,\n  genId\n}\n\nexport default axiosUtil\n","import uuid from \"react-uuid\"\n\nconst patternNumber=/^\\d{1,30}$/gi\nconst patternString=/^[-\\w\\+\\-\\*\\/\\\\.=]{1,200}$/gi\nconst patternEmail=/^[\\w@\\.\\-]{1,30}$/gi\nconst patternDate=/^\\d{4}-\\d{2}-\\d{2}$/gi\nconst patternFileName=/^[\\w\\-\\*\\/\\.\\\\=]{1,200}$/gi\nconst patternBoolean=/^(true)|(false)$/gi\nconst patternWildCard=/.{0,200}/gi\n//const patternNumber=/^(\\d{1,30})|(\\d{1,15}\\.\\d{1,15})|(\\d{1,29}.)$/gi\n\nconst valBasic= (pttn,str)=>{\n    return new RegExp(pttn).test(str)\n}\n\nconst valArray= (pttn,array)=>{\n    let tempResult=true\n\n    for (let i=0; i<array.length;i++){\n        tempResult= new RegExp(pttn).test(array[i])\n        if(!tempResult){\n            break\n        }\n    }\n    return tempResult\n}\nconst valNone=()=>{\n  return true\n}\n\n\nconst shopPaymentState={\n  file1:{stType:\"file\",validate:valNone,pattern:null},\n  photoUrl1:{stType:\"array\",  validate:valArray,    pattern:patternFileName},\n}\n\nconst shopInfoState={\n  id:{stType:\"number\",  validate:valBasic,  pattern:patternNumber},\n  file1:{stType:\"file\",validate:valNone,pattern:null},\n  photoUrl1:{stType:\"array\",  validate:valArray,    pattern:patternFileName},\n\n  shopInfo:{stType:\"object\",stChildren:{\n    nameOfShop:      {stType:\"string\", validate:valBasic,  pattern:patternString},\n    nameOfShopActive:{stType:\"boolean\", validate:valBasic,  pattern:patternBoolean},\n    address:     {stType:\"string\", validate:valBasic,  pattern:patternString},\n    addressActive:{stType:\"boolean\", validate:valBasic,  pattern:patternBoolean},\n    contact:     {stType:\"string\", validate:valBasic,  pattern:patternString},\n    contactActive:{stType:\"boolean\", validate:valBasic,  pattern:patternBoolean},\n    branch:     {stType:\"string\", validate:valBasic,  pattern:patternString},\n    branchActive:{stType:\"boolean\", validate:valBasic,  pattern:patternBoolean}, \n    other:     {stType:\"string\", validate:valBasic,  pattern:patternString},\n    otherActive:{stType:\"boolean\", validate:valBasic,  pattern:patternBoolean},\n    logoActive:{stType:\"boolean\", validate:valBasic,  pattern:patternBoolean},\n\n  }}\n\n}\n\n\nconst basicDataShopInfo={\n  id:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n  branch:{stType:\"array\", validate:valArray, pattern:patternString, lb:\"\"},\n  customerType:{stType:\"array\", validate:valArray, pattern:patternString, lb:\"\"},\n  \n  unit:{stType:\"array\", validate:valArray, pattern:patternString, lb:\"\"},  \n  title:{stType:\"array\", validate:valArray, pattern:patternString, lb:\"\"},\n  billType:{stType:\"array\", validate:valArray, pattern:patternString, lb:\"\"},\n\n  table:{stType:\"array\", validate:valArray, pattern:patternString, lb:\"\"},  \n  tableStatus:{stType:\"array\", validate:valArray, pattern:patternString, lb:\"\"},  \n  jobStatus:{stType:\"array\", validate:valArray, pattern:patternString, lb:\"\"},  \n  billStatus:{stType:\"array\", validate:valArray, pattern:patternString, lb:\"\"},  \n  \n  paymentType:{stType:\"array\", validate:valArray, pattern:patternString, lb:\"\"},  \n\n  userLevel:{stType:\"array\", validate:valArray, pattern:patternString, lb:\"\"},\n  routeAuth:{stType:\"arrayObject\",stChildren:{\n    id:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n    routeAddress:{stType:\"string\", validate:valBasic, pattern:patternString, lb:\"url\"},\n    routeName:{stType:\"string\", validate:valBasic, pattern:patternString, lb:\"\"},\n    userLevel:{stType:\"array\", validate:valArray, pattern:patternString, lb:\"\"},\n  }},\n\n  tax:{stType:\"arrayObject\",stChildren:{\n    taxName:{stType:\"string\", validate:valBasic, pattern:patternString, lb:\"\"},\n    taxRate:{stType:\"number\", validate:valBasic, pattern:patternNumber, lb:\"\"},\n    taxActive:{stType:\"boolean\", validate:valBasic,  pattern:patternBoolean,  stDefault:true, lb:\"\"},\n  }},\n\n  reduction:{stType:\"arrayObject\",stChildren:{\n    reductionName:{stType:\"string\", validate:valBasic, pattern:patternString, lb:\"\"},\n    type:{stType:\"string\", validate:valBasic, pattern:patternString, lb:\"\"},\n    rate:{stType:\"number\", validate:valBasic, pattern:patternNumber, lb:\"\"},\n    remark:{stType:\"string\", validate:valBasic, pattern:patternString, lb:\"\"},\n\n  }},\n}\n\n\n/*\nconst shopSignUpState={\n  shopName:     {stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n  password:     {stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n  ownerName:    {stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n  ownerPassword:{stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n  ownerEmail:   {stType:\"string\", validate:valBasic,  pattern:patternEmail, lb:\"\"},\n}\n\nconst shopLogInState={\n  shopName:     {stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n  password:     {stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n}\n\nconst shopChangePasswordState={\n  shopName:     {stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n  password:     {stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n  newPassword1: {stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n  newPassword2: {stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n}\n\nconst addUserState={\n  id:       {stType:\"string\", validate:valBasic,  pattern:patternNumber, lb:\"\"},\n  username: {stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n  password: {stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n  userLevel:{stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n  name:     {stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n  surname:  {stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n}\n\nconst logInState={\n  username: {stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n  password: {stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n}\n\nconst changePasswordState={\n  username: {stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n  password: {stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n  newPassword1: {stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n  newPassword2: {stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n}\n*/\n\nconst partnerState={\n  id: {stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n  newId: {stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n\n  title:{stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n  name:{stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n  active:{stType:\"boolean\", validate:valBasic,  pattern:patternBoolean,  stDefault:true, lb:\"active\"},\n\n  phone:{stType:\"array\",  validate:valArray,  pattern:patternNumber, lb:\"\"},\n  partnerType:{stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n\n  address:{stType:\"array\",  validate:valArray,  pattern:patternNumber, lb:\"\"},\n  remark:{stType:\"string\",  validate:valBasic,     pattern:patternString, lb:\"\"},\n  \n  remainingCustomerPoint: {stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n  totalSpending:{stType:\"number\", validate:valBasic,  pattern:patternNumber, stDefault:0, lb:\"\"},\n}\n\n\nconst groupState={\n  id:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n  //newId:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n  gcode:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n  groupName:{stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n  level:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n}\n\nconst productState={\n  id:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n  newId:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n\n  barcode:{stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n  productName:{stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n  \n  groupId:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n  groupName:{stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n\n  unit:{stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n\n  price:{stType:\"number\", validate:valBasic, pattern:patternNumber, lb:\"\"},\n\n  priceLevel:{stType:\"arrayObject\",stChildren:{\n    price:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n    remark:{stType:\"string\", validate:valBasic, pattern:patternString, lb:\"\"},\n    }\n  },\n  active:{stType:\"boolean\", validate:valBasic,  pattern:patternBoolean,  stDefault:true, lb:\"active\"},\n\n  remark:{stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n  isRawMat:{stType:\"boolean\", validate:valBasic,  pattern:patternBoolean, lb:\"\"},\n  hasDetailProduct:{stType:\"boolean\", validate:valBasic,  pattern:patternBoolean, lb:\"\",stDefault:false},\n\n  detail:{stType:\"arrayObject\",stChildren:{\n    _id:{stType:\"string\", validate:valBasic, pattern:patternString,lb:\"_id\"},\n    selectedLine:{stType:\"boolean\", validate:valBasic,  pattern:patternBoolean,  stDefault:false, lb:\"\"},\n    id:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n    barcode:{stType:\"string\", validate:valBasic, pattern:patternString, lb:\"\"},\n    \n    productName:{stType:\"string\", validate:valBasic, pattern:patternString, lb:\"\"},\n    groupId:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n    groupName:{stType:\"string\", validate:valBasic, pattern:patternString, lb:\"\"},\n    unit:{stType:\"string\", validate:valBasic, pattern:patternString, lb:\"\"},\n    price:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n\n    quantity:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n    result:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n    remark:{stType:\"string\",  validate:valBasic,  pattern:patternString, lb:\"\"},\n    isRawMat:{stType:\"boolean\", validate:valBasic,  pattern:patternBoolean, lb:\"\",stDefault:false},\n    hasDetailProduct:{stType:\"boolean\", validate:valBasic,  pattern:patternBoolean, lb:\"\",stDefault:false},\n\n  }},//////////////////\n\n  stock:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n  order:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n  plan:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n\n  point:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n\n  file1:{stType:\"file\",validate:valNone,pattern:null, lb:\"1\"},\n  photoUrl1:{stType:\"array\",  validate:valArray,    pattern:patternFileName, lb:\"1\"},\n}\n\n\n/*\nconst basicDataState={\n  id:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n  title:{stType:\"array\", validate:valArray, pattern:patternString, lb:\"\"},\n  unit:{stType:\"array\", validate:valArray, pattern:patternString, lb:\"\"},\n  userLevel:{stType:\"array\", validate:valArray, pattern:patternString, lb:\"\"},\n  branch:{stType:\"array\", validate:valArray, pattern:patternString, lb:\"\"},\n  transactionGroupType:{stType:\"array\", validate:valArray, pattern:patternString, lb:\"\"},\n  transactionStatus:{stType:\"array\", validate:valArray, pattern:patternString, lb:\"\"},\n  active:{stType:\"array\", validate:valArray, pattern:patternString, lb:\"\"},\n\n  partnerType:{stType:\"array\", validate:valArray, pattern:patternString, lb:\"\"},\n\n  transactionType:{stType:\"arrayObject\",stChildren:{\n    groupId:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n    groupName:{stType:\"string\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n    transactionGroupType:{stType:\"string\", validate:valBasic, pattern:patternString, lb:\"\"},\n    transactionCode:{stType:\"string\", validate:valBasic, pattern:patternString, lb:\"\"},\n\n    effectStock:{stType:\"string\", validate:valBasic, pattern:patternString, lb:\"\"},\n    effectOrder:{stType:\"string\", validate:valBasic, pattern:patternString, lb:\"\"},\n    effectPlan:{stType:\"string\", validate:valBasic, pattern:patternString, lb:\"\"},\n  }},\n  effectStock:{stType:\"array\", validate:valArray, pattern:patternString, lb:\"\"},\n  effectOrder:{stType:\"array\", validate:valArray, pattern:patternString, lb:\"\"},\n  effectPlan:{stType:\"array\", validate:valArray, pattern:patternString, lb:\"\"},\n\n  tax:{stType:\"arrayObject\",stChildren:{\n    taxName:{stType:\"string\", validate:valBasic, pattern:patternString, lb:\"\"},\n    taxRate:{stType:\"number\", validate:valBasic, pattern:patternNumber, lb:\"\"},\n    taxActive:{stType:\"boolean\", validate:valBasic,  pattern:patternBoolean,  stDefault:true, lb:\"\"},\n  }},\n\n  routeAuth:{stType:\"arrayObject\",stChildren:{\n      id:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n      routeAddress:{stType:\"string\", validate:valBasic, pattern:patternString, lb:\"url\"},\n      routeName:{stType:\"string\", validate:valBasic, pattern:patternString, lb:\"\"},\n      userLevel:{stType:\"array\", validate:valArray, pattern:patternString, lb:\"\"},\n  }}\n\n}\n\nconst routeAuthState={\n    id:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n    routeAddress:{stType:\"string\", validate:valBasic, pattern:patternString, lb:\"url\"},\n    routeName:{stType:\"string\", validate:valBasic, pattern:patternString, lb:\"\"},\n    userLevel:{stType:\"array\", validate:valArray, pattern:patternString, lb:\"\"},\n}\n*/\nconst transactionState={\n  id:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n  newId:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n\n  date:{stType:\"date\",  validate:valBasic,  pattern:patternDate, lb:\"\"},\n  remindDate:{stType:\"date\",  validate:valBasic,  pattern:patternDate, lb:\"\"},\n\n  branch:{stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n\n  transactionType:{stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n  transactionStatus:{stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n  active:{stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n\n  table:{stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n  tableStatus:{stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n\n  paymentType:{stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n\n  effectStock:{stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n  effectSpending:{stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n  effectCustomerPoint:{stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n\n  partnerId: {stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n  partnerType:{stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n\n  title:{stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n  name:{stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n  phone:{stType:\"array\",  validate:valArray,  pattern:patternNumber, lb:\"\"},\n  //arrayNumber\n  address:{stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n  remark:{stType:\"string\",  validate:valBasic,     pattern:patternString, lb:\"\"},\n\n  total:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n  totalReduction:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n  totalTax:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n\n  grandTotal:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n\n  totalPoint:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n  \n  customerPointReduction:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n\n  detail:{stType:\"arrayObject\",stChildren:{\n    id:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n    barcode:{stType:\"string\", validate:valBasic, pattern:patternString, lb:\"\"},\n    productName:{stType:\"string\", validate:valBasic, pattern:patternString, lb:\"\"},\n    groupId:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n    groupName:{stType:\"string\", validate:valBasic, pattern:patternString, lb:\"\"},\n    \n    unit:{stType:\"string\", validate:valBasic, pattern:patternString, lb:\"\"},\n    price:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n    \n    priceLevel:{stType:\"arrayObject\",stChildren:{\n      price:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n      remark:{stType:\"string\", validate:valBasic, pattern:patternString, lb:\"\"}\n    }},\n    \n    quantity:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n    result:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n    remark:{stType:\"string\",  validate:valBasic,  pattern:patternString, lb:\"\"},\n    isRawMat:{stType:\"boolean\", validate:valBasic,  pattern:patternBoolean,  stDefault:true, lb:\"\"},\n    jobStatus:{stType:\"string\",  validate:valBasic,  pattern:patternString, lb:\"\"},\n\n    point:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n\n  }},\n\n}\n\n/*\n\n  //arrayNumber\n  address:{stType:\"object\",stChildren:{\n    number:{stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n    tambon:{stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n    district:{stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n    province:{stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n    postcode:{stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n  }},////////\n\n  remark:{stType:\"string\",  validate:valBasic,     pattern:patternString, lb:\"\"},\n \n  total:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n  reduction:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n  grandTotal:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n\n  tax:{stType:\"arrayObject\",stChildren:{\n    taxName:{stType:\"string\", validate:valBasic, pattern:patternString, lb:\"\"},\n    taxActive:{stType:\"boolean\", validate:valBasic,  pattern:patternBoolean,  stDefault:true, lb:\"\"},\n    taxRate:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n  }},\n\n  detail:{stType:\"arrayObject\",stChildren:{\n    id:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n    barcode:{stType:\"string\", validate:valBasic, pattern:patternString, lb:\"\"},\n    productName:{stType:\"string\", validate:valBasic, pattern:patternString, lb:\"\"},\n    groupId:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n    groupName:{stType:\"string\", validate:valBasic, pattern:patternString, lb:\"\"},\n    unit:{stType:\"string\", validate:valBasic, pattern:patternString, lb:\"\"},\n    price:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n    \n    priceLevel:{stType:\"arrayObject\",stChildren:{\n      price:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n      remark:{stType:\"string\", validate:valBasic, pattern:patternString, lb:\"\"}\n    }},\n    \n    quantity:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n    result:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n    remark:{stType:\"string\",  validate:valBasic,  pattern:patternString, lb:\"\"},\n    isRawMat:{stType:\"boolean\", validate:valBasic,  pattern:patternBoolean,  stDefault:true, lb:\"\"},\n   \n    partnerId: {stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n    name:{stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n    photoUrl1:{stType:\"array\",  validate:valArray,    pattern:patternFileName, lb:\"1\"}\n  }},\n}\n\nconst transactionLogState={\n  ...transactionState,\n  status:{stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n}\n\nconst billDetailState={\n  id:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"ID\"},\n  name:{stType:\"string\", validate:valBasic,  pattern:patternString, lb:\"\"},\n  quantity:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"\"},\n  quantity2:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"2\"},\n  quantity3:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"3\"},\n  quantity4:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"4\"},\n  quantity5:{stType:\"number\",  validate:valBasic,  pattern:patternNumber, lb:\"5\"},\n}\n*/\n\n\nconst StateTemplate={\n  //shopSignUpState,shopLogInState,shopChangePasswordState,\n  //addUserState,logInState,changePasswordState,\n  partnerState,\n  groupState,\n  productState,\n  //basicDataState,\n  shopInfoState,\n  shopPaymentState,\n  //routeAuthState,\n  transactionState,\n  //transactionLogState,\n  //billDetailState\n}\n\nexport default StateTemplate\n","\nimport React from 'react'\nimport {MdDelete} from 'react-icons/md';\nimport {RiImageAddLine} from 'react-icons/ri';\n\nimport photoUtil from '../../component/galleryone_add/photoUtil'\n\nimport './Galleryone_add.css';\n\nconst {fileListItem,changeArrayFile,handleInputFile,resetFile,\n\n       reloadImage,deleteFileUrl,deletePhotoUrl,\n       moveFirst,movePrevious,moveNext,moveLast,\n}=photoUtil\n\nexport default function GallerySinglePhoto_add({\n            //imgarrs,totalImages,\n            fileUrl,arrayFile,setArrayFile,keyName,\n            setShowImage,\n            inputState,setInputState,\n            useYoutubeLink,\n            //reloadImage,deleteFileUrl,deletePhotoUrl,\n        }) {\n\n    let temp=[]\n    inputState[keyName].map(i=>{\n        if(i!=\"\"){ temp=[...temp,i] }\n    })        \n    //imarrs = photoUrl+fileUrl\n    //const imgarrs=[...temp,...fileUrl]\n\n    let imgarrs\n    \n    if(fileUrl.length>0){\n        imgarrs=[fileUrl[0]]\n    }\n    else {\n        imgarrs=[temp[0]]\n    }\n\n    //const totalImages=temp.length+fileUrl.length\n    \n    \n    //console.log('imgarrs.............')\n    //console.log(imgarrs)\n    let totalImages=imgarrs.length\n    if(totalImages==1){\n        if(!imgarrs[0]){\n            totalImages=0\n        }\n    }\n    \n\n    //const [imgFrameHeight,setImgFrameHeight]=React.useState('')\n\n    const [imgTrackWidth,setImgTrackWidth]=React.useState('')\n\n    const refFrame=React.useRef();\n    \n    const refButtonAddPicture=React.useRef()\n    \n    React.useEffect(()=>{\n\n        if(imgarrs){if(imgarrs.length>0){\n            //to get imgFrameHeight \n            if(refFrame){\n                //refFrame.current.click()\n            }\n            //to set imgTrackWidth\n            let temp=imgarrs.length*100\n            setImgTrackWidth(`${temp}%`)\n        }} \n        \n    },[])\n    \n \n/*\n    React.useEffect(()=>{\n        if(imgFrameHeight){\n            //console.log(imgFrameHeight);\n        }\n    },[imgFrameHeight])\n*/\n    const renderImg=(arrs)=>{\n\n        //console.log('renderImg................')\n        //console.log(arrs)\n\n        const arrsLength=arrs.length\n        //console.log(arrsLength)\n\n        let isAllPhotoUrl=true\n        for(let i=0;i<arrsLength;i++){\n            if(arrs[i]){\n                if(arrs[i].blob){\n                    isAllPhotoUrl=false\n                    break\n                }\n            }\n        }\n\n\n        if(arrs){\n\n            return arrs.map((i,index)=>{\n                if(!i){\n                    return null\n                }\n\n                let imgSrc\n                let imgName\n                let isFile\n                //in case of fileUrl\n                if(i.blob){\n                    isFile=true\n                    imgSrc=i.blob\n                    imgName=i.name \n                }    \n                //in case of PhotoUrl\n                else {\n                    isFile=false\n                    imgSrc=i\n                    imgName=i\n                }\n\n                return    (\n                    <div \n                         key={index} \n                         style={{height:'100%',width:'100%',\n                                display:'grid',placeItems: 'center',\n                                position:\"relative\"}}\n                        onClick={e=>{\n                            reloadImage({setShowImage})\n                        }}\n                    >\n                       \n                        <img className=\"img\" src={imgSrc} style={{width:\"100%\",height:\"auto\"}} />\n                        \n                        \n                        <MdDelete  \n                            style={{\n                                position:\"absolute\",border:isFile?\"3px solid red\":\"3px solid green\",fontSize:\"2rem\",\n                                backgroundColor:\"white\",top:\"0.2rem\",right:\"0.2rem\",\n                                zIndex:\"0\",borderRadius:\"50%\"\n                            }}\n                            onClick={e=>{\n                                //console.log('i............')\n                                //console.log(i)\n                                if(isFile){\n                                    console.log('isFile True......')\n                                    //console.log(imgName)                          \n\n                                    deleteFileUrl({name:imgName,arrayFile,setArrayFile,reloadImage,setShowImage})\n                                    //\n                                }else{\n                                    console.log('isFile false........................')\n                                    //console.log(imgName)\n                                    deletePhotoUrl({name:imgName,inputState,setInputState,keyName,reloadImage,setShowImage})\n                                }\n                                \n                            }}             \n                        />\n\n\n                 \n\n                    </div>   \n                    )\n                }\n            ) \n        }\n    } \n    //accept=\"image/jpeg,image/png,image/jpg,image/*\"\n    return (\n    <div className=\"bgc-lightGray\" style={{height:\"100%\",overflow:\"hidden\"}}>        \n        <input\n            type=\"file\"\n            //multiple=\"multiple\" \n            accept=\"image/jpeg,image/png,image/jpg,image/*\"\n            style={{display:\"none\"}}\n            ref={refButtonAddPicture}\n\n            onChange={e=>{\n                //console.log(e.target.files)\n                setArrayFile(e.target.files)\n                //handleInputFile({files:e.target.files,\n                //arrayFile,\n                //setArrayFile})\n            \n            }}    \n        />\n            \n        <div \n            style={{\n                display:\"flex\",\n                alignItems:\"baseline\",\n                justifyContent:\"flex-start\",\n                flexWrap: \"wrap\",\n                width:\"100%\",\n                height:\"10%\"\n            }}\n        >\n            <button\n                onClick={e=>{\n                    //console.log('inputState')\n                    //console.log(inputState)\n                    refButtonAddPicture.current.click()\n                }} \n            >\n                <RiImageAddLine/>\n            </button>\n\n\n            <p># = {totalImages}</p>\n        </div>\n      \n        {//style={{height:imgFrameHeight,overflow:\"auto\"}}\n\n        (imgarrs)\n        ?   <div style={{width:\"100%\",height:\"100%\",display:\"flex\",\n                        justifyContent:\"center\"}}>\n                <div className=\"img-frame\" \n                    id=\"img-id\"\n                    ref={refFrame}\n                    style={{height:'60%',width:\"60%\"}}\n                    //style={{height:'60%',width:\"60%\",overflow:\"scroll\"}}\n                    onClick={e=>{\n                        //const currentWidth=document.getElementById('img-id').getBoundingClientRect().width\n                        //setImgFrameHeight(currentWidth*0.57)\n                        //setImgFrameHeight($(e.currentTarget).width()*0.57)\n                    }}    \n                >       \n                    <div className=\"img-track\" \n                        style={{display:'flex',width:imgTrackWidth,height:\"80%\",marginBottom:\"2rem\"}}>\n                        {renderImg(imgarrs)}\n                    </div>  \n                </div>\n            </div>\n        :null  \n        }\n    </div>\n    )\n}\n\nGallerySinglePhoto_add.defaultProps={\n    useYoutubeLink:true\n}\n\n","\n\nimport React from 'react';\nimport axios from 'axios'\n\nimport photoUtil from '../../component/galleryone_add/photoUtil'\nimport {MdVisibility,MdVisibilityOff,MdAddCircle,MdVpnKey} from 'react-icons/md';\nimport {FaCheck,FaBan} from 'react-icons/fa'\nimport axiosUtil from '../../util/axiosUtil'\nimport StateTemplate from '../../model/StateTemplate';\n\nimport GallerySinglePhoto_add from '../../component/galleryone_add/GallerySinglePhoto_add'\nconst {genArrayForFilterAxios,genFD,addFileNameInPhotoUrl,\n    addSingleFileNameInsteadOfPhotoUrl,\n    catchErrorToMessage}=axiosUtil\n \n\n\nfunction ShopPayment(props) {\n\n    const {setShowShopMonthlyFee}=props\n\n    const refSubmit=React.createRef()\n    const refCancel=React.createRef()\n\n    const allRef={\n        shopName:React.createRef(),\n        username:React.createRef(),\n        password:React.createRef(),\n     }\n\n\n    const[showShopPayment,setShowShopPayment]=React.useState(false)\n    const [hidePassword,setHidePassword]=React.useState(true)     \n\n    const shopLogInForPaymentForm={\n        formHead:\"Shop Log In Before Payment\",\n        shopName:\"Shop Name\",\n        password:\"Password\"\n        }\n\n    const shopMonthlyFeeForm={\n        shopName:\"Shop Name\",\n        expirationDate:\"Expiration Date\",\n        monthlyFee:\"Monthly Fee\",\n      }\n\n    const [shopMonthlyFeeState,setShopMonthlyFeeState]=React.useState({\n        shopName:\"\",\n        token:\"\",\n        expirationDate:\"\",\n        monthlyFee:\"\",\n        photoUrl1:[''],\n        file1:null\n     })\n    \n     const [shopState,setShopState]=React.useState({\n         shopName:\"\",\n         password:\"\"\n     })\n\n     const shopLogInNextRef={\n        shopName:()=>allRef.password.current.focus(),\n        password:()=>refSubmit.current.focus()\n     }\n  \n\n\n    const {changeArrayFile}=photoUtil\n\n    const [showImage1,setShowImage1]=React.useState(true)\n    const [arrayFile1,setArrayFile1]=React.useState([])\n    const [fileUrl1,setFileUrl1]=React.useState([])\n\n    React.useEffect(()=>{\n        //console.log('fileUrl1')\n        //console.log(fileUrl1)\n    },[fileUrl1])\n\n    React.useEffect(()=>{\n    //console.log('useEffect ArrayFile1')\n    //console.log(arrayFile1)\n            \n    changeArrayFile({ arrayFile:arrayFile1,\n        fileUrl:fileUrl1,\n        setFileUrl:setFileUrl1,\n        inputState:shopMonthlyFeeState,\n        setInputState:setShopMonthlyFeeState,\n        keyName:\"photoUrl1\",\n        //fileName,\n        //serverFolder,\n        //fileName:\"file\",\n        //serverFolder:\"/upload/customer\",\n        setShowImage:setShowImage1})\n            \n    },[arrayFile1])\n\n\n//=============================\nconst submitShopLogInForPayment=(inputState)=>{\n    console.log('shopLogInForPayment......')\n    \n    axios.post(`/p35shop/shoploginforpayment`,inputState)\n    .then(result=>{\n\n        const {shopName,monthlyFee,expirationDate,token}=result.data\n    \n        setShopMonthlyFeeState({\n            ...shopMonthlyFeeState,\n            shopName:shopName,\n            monthlyFee:monthlyFee,\n            expirationDate:expirationDate,\n            token:token\n        })\n    \n        setShopState({\n            shopName:\"\",password:\"\"\n        })\n    \n        setShowShopPayment(true)\n    \n    })\n    .catch(error=>{\n        \n        //setMessage(catchErrorToMessage(error))\n        //setShowModalError(true)\n    })\n}\n\n\nconst submitShopPayment=(inputState)=>{\n\n    const myheader={headers: {'Content-Type': 'application/json',\n    'Shopauthorization':`b ${shopMonthlyFeeState.token}`,\n    }}\n\n    console.log('submitShopPayment')\n    console.log(shopMonthlyFeeState)\n\n    const {file1,photoUrl1}=inputState\n\n    let tempFormInputState2\n\n    if(!file1){return }\n    if(!file1.length){return }\n    if(!file1[0].name){return }\n   \n    tempFormInputState2=addSingleFileNameInsteadOfPhotoUrl({  \n        file1,photoUrl1\n    })  \n\n    console.log('tempFormInputState2')\n    console.log(tempFormInputState2)\n\n    const fd=genFD({\n        inputState:tempFormInputState2,\n        template:{\n            file1:StateTemplate.shopPaymentState.file1,\n            photoUrl1:StateTemplate.shopPaymentState.photoUrl1,\n        }\n    })\n\n    axios.post(`/p35shoppayment/payshopfee`,fd,myheader)\n    .then(result=>{\n        console.log('result')\n        console.log(result)\n        setShowShopMonthlyFee(false)\n        showShopPayment(false)\n    })\n    .catch(error=>{\n        //setMessage(catchErrorToMessage(error))\n        //setShowModalError(true)\n    })\n}\n//=============================\nconst renderLogin=({\n    pageForm,setInputState,\n    inputState,submitFunc,\n    submitCancel,nextRef})=>{\n\n   const pageFormKey=Object.keys(pageForm)\n   const inputStateKey=Object.keys(inputState)\n     \n\n\n   const renderInput=(i,idx)=>{\n      if(i==\"password\"||i==\"newPassword1\"||i==\"newPassword2\"||i==\"confirmPassword\"){\n         return (\n         <div key={idx} \n            className=\"flex-center-center jc-start w-100\"\n            style={{marginBottom:\"1rem\"}}\n        >\n            <div className=\"xc4\">\n                 {pageForm[i]}\n            </div>\n            <div className=\"xc8\"\n                 style={{position:\"relative\"}}\n            >\n                <input\n                   type={hidePassword?\"password\":\"text\"}\n                   value={inputState[i]}\n                   ref={allRef[i]}\n                   onChange={e=>{setInputState({\n                      ...inputState,\n                      [i]:e.target.value\n                   })}}\n                   onKeyDown={e=>{\n                      if(e.key==\"Enter\"){\n                        //console.log(nextRef[i]) \n                        nextRef[i]()\n                      }\n                   }}\n                   autoComplete='one-time-code'\n                />\n                    {\n                    hidePassword\n                    ?<MdVisibilityOff \n                       className=\"sm-icon\" \n                       style={{position:'absolute',top:\"0.2rem\",right:'0.3rem'}}\n                       onClick={e=>{\n                       setHidePassword(!hidePassword)\n                       }}\n                    />\n                    :<MdVisibility \n                       className=\"sm-icon\" \n                       style={{position:'absolute',top:\"0.2rem\",right:'0.3rem'}}\n                       onClick={e=>{\n                       setHidePassword(!hidePassword)\n                       }}\n                    />\n                    }\n  \n            </div>\n         </div>\n         )\n      }\n      \n      else{\n         return(\n            \n            <div key={idx}\n               className=\"flex-center-center jc-start w-100\"\n               style={{marginBottom:\"1rem\"}}\n            >\n               \n               <div className=\"xc4\">\n                  {pageForm[i]}\n               </div>\n               <div className=\"xc8\">\n                  <input\n                        ref={allRef[i]}\n                        type={(i==\"id\"//||\n                              //i==\"branchId\"\n                              )\n                              ?\"number\":\"text\"}\n                        value={inputState[i]}\n                        onChange={e=>{setInputState({\n                           ...inputState,\n                           [i]:e.target.value\n                        })}}\n                        \n                        onKeyDown={e=>{\n                           if(e.key==\"Enter\"){\n                              //console.log(nextRef[i])\n                              nextRef[i]()\n                           }\n                        }}\n                  />\n               </div>\n               \n            </div>\n         )\n      }\n   }\n\n\n\n\n   return (\n    <div className=\"w-100\" style={{padding:\"1rem\"}}>\n          <div className=\"flex-center-center w-100\"\n             style={{marginBottom:\"1rem\"}}\n          >\n             <h3>{pageForm[pageFormKey[0]]}</h3>\n          </div>\n \n          {\n             inputStateKey.map((i,idx)=>{\n                return renderInput(i,idx)\n             })\n          }\n \n \n          <div className=\"flex-center-center jc-end jc-start w-100\"\n          >\n                <button\n                   ref={refSubmit}\n                   onClick={e=>submitFunc(inputState,setInputState)}\n                >\n                   <FaCheck/>\n                </button>\n             {submitCancel&&\n                <button\n                   ref={refCancel}\n                   onClick={e=>submitCancel()}\n                >\n                   <FaBan/>\n                </button>  \n             }\n          </div>\n    </div>\n    )\n\n}\n\n\n\n\n//------------------------------\nconst renderShopLogIn=()=>{\n    return(\n        <div className='w-100 h-100'>\n            {\n               renderLogin({\n                     pageForm:shopLogInForPaymentForm,\n                     setInputState:setShopState,\n                     inputState:shopState,\n                     submitFunc:submitShopLogInForPayment,\n                     nextRef:shopLogInNextRef,\n                     submitCancel:()=>{\n                        setShopState({\n                           shopName:\"\",\n                           password:\"\",\n                        })\n                        setShowShopMonthlyFee(false)\n                     },\n               })\n            }\n         </div>\n    )\n}\n\n//----------------------------\nconst renderShopPayment=()=>{\n    let inputStateKey=Object.keys(shopMonthlyFeeState)\n    let tempArray=[]\n    inputStateKey.map(i=>{\n       if((i==\"token\")||(i==\"photoUrl1\")||(i==\"file1\")){\n       }\n       else{\n          tempArray=[...tempArray,i]\n       }\n    })\n    inputStateKey=tempArray\n\n\n    return(\n\n        <div style={{}}>\n            <div className=\"w-100\" style={{padding:\"1rem\"}}>\n               <div className=\"flex-center-center w-100\"\n                  style={{marginBottom:\"1rem\"}}\n               >\n                  <h3>{\"Update Your Payment Slip\"}</h3>\n               </div>\n\n\n               {\n                  inputStateKey.map((i,idx)=>{\n                     return(\n                        <div key={idx} \n                           className=\"flex-center-center jc-start w-100\"\n                           style={{marginBottom:\"1rem\"}}\n                        >\n                              <div className=\"xc4\">\n                                 {shopMonthlyFeeForm[i]}\n                              </div>\n                              <div className=\"xc8\"\n                                 style={{position:\"relative\"}}\n                              >\n                                 {i==\"expirationDate\"\n                                 ?new Date(shopMonthlyFeeState[i]).toLocaleString('en-GB').substring(0,17)\n                                 :shopMonthlyFeeState[i]\n                                 }\n                              </div>\n                        </div>\n                     )    \n                        \n                  })\n               }\n\n                   \n               <div className=\"xc12 form-row h-100\"\n                     style={{justifyContent:\"space-around\"}}>\n                     <div className=\"xc4 sc10 bgc-darkGray bd-lightGray h-100\">\n                           {\n                           showImage1\n                           ?<GallerySinglePhoto_add \n                              fileUrl={fileUrl1}\n                              arrayFile={arrayFile1}\n                              setArrayFile={setArrayFile1}\n                              keyName={\"photoUrl1\"}\n\n                              setShowImage={setShowImage1}\n                              inputState={shopMonthlyFeeState}\n                              setInputState={setShopMonthlyFeeState}\n                           />\n                           :null\n                           }   \n                     </div>                       \n               </div>\n\n\n\n\n               <div className=\"flex-center-center jc-end jc-start w-100\"\n               >\n                  <button\n                     ref={refCancel}\n                     onClick={e=>{\n                        submitShopPayment(shopMonthlyFeeState)\n                     }}\n                  >\n                     <FaCheck/>\n                  </button>  \n                  <button\n                     //ref={refSubmit}\n                     onClick={e=>{\n                        setShowShopPayment(false)\n                        setShowShopMonthlyFee(false)\n                     }}\n                  >\n                     <FaBan/>\n                  </button>\n                \n               </div>       \n\n            </div>\n         </div>\n\n    )\n}\n\n\n\nconst renderBody=()=>{\n  return showShopPayment\n  ?renderShopPayment()\n  :renderShopLogIn()\n}\n\nreturn renderBody()\n\n}\nexport default ShopPayment;\n","import React from 'react';\nimport {MainContext} from '../../context/MainContext'\n\nimport {RiLogoutBoxRFill} from 'react-icons/ri'\nimport {FaHome,FaUserCircle} from 'react-icons/fa';\nimport {MdLogout} from 'react-icons/md';\nimport Ticon from '../../component/ticon/Ticon';\nimport {Link} from 'react-router-dom';\nimport ShopPayment from './ShopPayment'\n\nimport '../../component/navbar/Navbar.css';\n\nfunction LogOutTool(props) {\n\n   const {//useShopLogOut,haveShopToken,haveUserToken,userName,\n      useShopLogOut,\n      tokenSt,\n      setReloadCheckToken,\n      user,\n      useHomeIcon,\n      myheader,\n      useBillWaveIcon\n   }=props\n  \n      console.log('LogOutTool')\n\n   const {haveShopToken,haveUserToken}=tokenSt\n  //const {myheader,tokenSt,setReloadCheckToken}=React.useContext(MainContext)\n  //const {reloadCheckToken,haveShopToken,haveUserToken,userName}=tokenSt\n  const refHome=React.createRef()\n\n  const [showShopMonthlyFee,setShowShopMonthlyFee]=React.useState(false)\n\n\n  const getIconStyle=()=>{\n     \n     const toDate=new Date()\n     \n     let temp1=localStorage.getItem(\"expirationDate\")\n     const expirationDate=new Date(temp1)\n     \n     if(!temp1){\n        return null\n     }\n\n     const temp3=new Date(expirationDate.toISOString())\n     temp3.setDate(temp3.getDate()-3)\n     const threeDayBeforeExpirationDate=new Date(temp3)\n     //const temp2=expirationDate.getDate()-3\n     //const temp3=expirationDate.toISOString()\n    \n      const a=toDate.getTime()-expirationDate.getTime()\n      //console.log('a....')\n      //console.log(a)\n\n      //console.log('toDate')\n      //console.log(toDate)\n\n      //console.log('exp')\n      //console.log(expirationDate)\n\n      //console.log('3 d before')\n      //console.log(threeDayBeforeExpirationDate)\n\n      if(toDate>expirationDate){\n         return {color:\"red\"}\n      }\n      else if(toDate>threeDayBeforeExpirationDate){\n         return {color:\"yellow\"}\n      }\n      else{\n         return {color:\"green\"}\n      }\n\n  }\n\n//=======================\nreturn (\n<div className=\"\" style={{position:\"fixed\",right:\"0.1rem\",top:\"0.1rem\"}}>\n\n   <div className=\"\" \n        style={{borderRadius:\"1.2rem\",padding:\"0 0.5rem\",height:\"2rem\",\n                display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\",\n                flexWrap:\"nowrap\"}}>\n        \n        {useHomeIcon&&\n        <div className=\"iconbox\"\n         onClick={e=>refHome.current.click()}\n        >\n            <Ticon iconName=\"FaHome\" className=\"navIcon\" \n                   iconStyle={getIconStyle()}\n            />\n        </div>\n         }\n\n       {user //haveUserToken\n       ?<div className=\"flex-center-center h-100\"\n             style={{color:\"white\",margin:\"0 0.4rem\"}}\n        >\n          {`${user.username}@${user.shopId}`}\n         </div>\n       :null\n       }\n\n       {haveUserToken\n          ?<div className=\"iconbox\"\n               onClick={e=>{\n                  localStorage.removeItem('userauthorization');\n                  localStorage.removeItem('username');\n                  setReloadCheckToken(true)\n                  window.location.reload()\n               }}\n          >\n            <Ticon iconName=\"RiLogoutBoxRFill\" className=\"navIcon\"\n             />\n          </div>\n          :haveShopToken\n            ?useShopLogOut&&\n            <div className=\"iconbox\"\n               onClick={e=>{\n                  localStorage.removeItem('shopauthorization');\n                  localStorage.removeItem('expirationDate');\n                  setReloadCheckToken(true)\n                  window.location.reload()\n               }}\n            >\n               <Ticon iconName=\"MdLogout\" className=\"navIcon\"\n               />\n            </div>\n            :null\n       \n       }\n   </div>\n\n   {useBillWaveIcon&&\n      <div className=\"iconbox\"\n           style={{ width:\"100%\",display:\"flex\",\n                    justifyContent:\"center\",\n                    paddingRight:\"\",\n                    padding:\"0.5rem\"\n                 }} \n            onClick={e=>{\n               setShowShopMonthlyFee(true)\n            }}\n      >\n            <Ticon iconName=\"FaMoneyBillWave\" \n                   className=\"navIconCircle\" \n            />\n      </div>\n   }  \n\n   {\n      showShopMonthlyFee&&\n      <div className=\"Modal-background\">\n         <div className=\"Modal-box\">\n            <ShopPayment\n               myheader={myheader}\n               setShowShopMonthlyFee={setShowShopMonthlyFee}\n            />      \n         </div>\n     </div>\n   }\n      \n\n   <div style={{display:\"none\"}}>\n         <div>\n            <Link ref={refHome} to=\"/pos/home\"/>\n         </div>\n   </div>\n\n\n</div>\n\n)}\n\nLogOutTool.defaultProps={\n   useShopLogOut:true,\n   useHomeIcon:true\n}\n \n\n\nexport default LogOutTool;\n","import React from 'react'\n\nimport {RiLogoutBoxRLine,RiLogoutCircleRLine,RiLogoutBoxRFill} from 'react-icons/ri'\nimport {FaHome,FaMoneyBill,FaRegMoneyBillAlt,FaMoneyBillWave} from 'react-icons/fa';\nimport {MdFastfood,MdPerson,MdTune,MdSettingsApplications,MdLogout} from 'react-icons/md';\nimport {BsShop} from 'react-icons/bs'\nimport LogOutTool from '../../page/login/LogOutTool';\nimport Ticon from '../ticon/Ticon';\n\nimport {Link} from 'react-router-dom';\nimport {MainContext} from '../../context/MainContext';\n\nimport './Navbar.css';\n\nexport default function Navbar() {\n    const {basicDataSt,\n           setReloadCheckToken,\n           tokenSt,\n           }=React.useContext(MainContext)\n    //const {haveUserToken,haveShopToken,userName}=tokenSt\n    //const {user}=basicDataSt\n\n    const refHome=React.createRef()\n    const refBranch=React.createRef()\n    const refPartner=React.createRef()\n    const refProduct=React.createRef()\n    const refTransaction=React.createRef()\n    const refBill=React.createRef()\n\n\n  const getIconStyle=()=>{\n     \n    const toDate=new Date()\n    \n    let temp1=localStorage.getItem(\"expirationDate\")\n    const expirationDate=new Date(temp1)\n    \n    if(!temp1){\n       return null\n    }\n\n    const temp3=new Date(expirationDate.toISOString())\n    temp3.setDate(temp3.getDate()-3)\n    const threeDayBeforeExpirationDate=new Date(temp3)\n    //const temp2=expirationDate.getDate()-3\n    //const temp3=expirationDate.toISOString()\n   \n     const a=toDate.getTime()-expirationDate.getTime()\n     //console.log('a....')\n     //console.log(a)\n\n     //console.log('toDate')\n     //console.log(toDate)\n\n     //console.log('exp')\n     //console.log(expirationDate)\n\n     //console.log('3 d before')\n     //console.log(threeDayBeforeExpirationDate)\n\n     if(toDate>expirationDate){\n        return {color:\"red\"}\n     }\n     else if(toDate>threeDayBeforeExpirationDate){\n        return {color:\"yellow\"}\n     }\n     else{\n        return {color:\"#74b979\"}\n     }\n\n }\n\n    return (\n    <div className=\"navFrame flex-center-center jc-space-between\">\n\n            <div id=\"1\" className=\"h-100\" \n                 style={{\n                         position:\"absolute\",top:\"0\",left:\"0\",\n                         width:\"87%\",display:\"flex\",alignItems:\"center\",\n                         justifyContent:\"start\",overflowX:\"auto\",overflowY:\"hidden\"}}>\n        \n                <div className=\"navLink\" onClick={e=>refHome.current.click()}> \n                    <div className=\"navIconBox\"\n                         style={{position:\"relative\"}}\n                    >\n                        <Ticon\n                            iconName=\"FaHome\"\n                            className=\"navIcon\"\n                            iconStyle={getIconStyle()}\n                        />\n                    </div>\n                    {/*\n                    <div className=\"navTextBox\">\n                        <p className=\"navText\"></p>\n                    </div>\n                    */}\n                </div>\n             \n                <div className=\"navLink\" onClick={e=>refBranch.current.click()}> \n                    <div className=\"navIconBox\">\n                        <Ticon\n                            iconName=\"MdTune\"\n                            className=\"navIcon\"\n                        />\n                    </div>\n                    {/*\n                    <div className=\"navTextBox\">\n                        <p className=\"navText\"></p>\n                    </div>\n                    */}\n                </div>\n                <div className=\"navLink\" onClick={e=>refPartner.current.click()}> \n                    <div className=\"navIconBox\">\n                        <Ticon \n                            iconName=\"MdPerson\"\n                            className=\"navIcon\"\n                        />\n                    </div>\n                    {/*\n                    <div className=\"navTextBox\">\n                        <p className=\"navText\"></p>\n                    </div>\n                    */}\n                </div>\n                \n                <div className=\"navLink\" onClick={e=>refProduct.current.click()}> \n                    <div className=\"navIconBox\">\n                        <Ticon\n                            iconName=\"MdFastfood\"\n                            className=\"navIcon\"\n                        />\n                    </div>\n                    {/*\n                    <div className=\"navTextBox\">\n                        <p className=\"navText\"></p>\n                    </div>\n                    */}\n                </div>\n                \n                <div className=\"navLink\" onClick={e=>refBill.current.click()}> \n                    <div className=\"navIconBox\">\n                        <Ticon\n                            iconName=\"BsShop\" \n                            className=\"navIcon\"/>\n                    </div>\n                    {/*\n                    <div className=\"navTextBox\">\n                        <p className=\"navText\"></p>\n                    </div>\n                    */}\n                </div>\n\n            </div>    \n\n            <div id=\"2\" className=\"hide-logouttool\">\n                {\n                tokenSt&&setReloadCheckToken&&basicDataSt&&\n                <LogOutTool \n                    tokenSt={tokenSt}\n                    setReloadCheckToken={setReloadCheckToken}\n                    user={basicDataSt.user}\n                    useHomeIcon={false}\n                    useShopLogOut={false}\n                />\n                }\n            {/*\n            haveUserToken\n            ?\n            <div style={{\n                position:\"absolute\",top:\"0\",right:\"0\",\n                display:\"flex\",justifyContent:\"flex-end\"\n                }}>\n                {user\n                ?<div className=\"sc-hide mt-1\" style={{color:\"white\"}}>\n                    {`${user.username}@${user.branchName}@${user.shopId}`}\n                </div>\n                :null\n                }\n                <div className=\"\">\n                    <RiLogoutBoxRFill\n                    className=\"navIcon\"\n                        onClick={e=>{\n                            localStorage.removeItem('userauthorization');\n                            setReloadCheckToken(true)\n                            window.location.reload()\n                        }}\n                    />\n                </div>\n            </div>\n            :null \n            */}\n            </div>\n\n            <div className=\"d-none\">\n                <Link ref={refHome} to=\"/pos/home\"/>\n                <Link ref={refBranch} to=\"/pos/branch\"/>\n                <Link ref={refPartner} to=\"/pos/partner\"/>\n                <Link ref={refProduct} to=\"/pos/product\"/>\n                <Link ref={refTransaction} to=\"/pos/transaction\"/>\n                <Link ref={refBill} to=\"/pos/bill\"/>\n\n            </div>\n    </div>\n        //renderNavbar()\n    )\n\n}\n\n\n\n /*\nimport {Link} from 'react-router-dom';\n<Link ref={refTransactionLog} to=\"/pagetransactionlog\"/>\n\n\n    const checkscroll=()=>{\n        let stopY= 0;\n        let currentY=0;\n\n        //true=\"down\", false=\"up\"\n        let movedown = true;\n        let premovedown = true;\n\n        // window  scroll\n        window.addEventListener(\"scroll\", (e)=>{    \n            // \n            currentY = window.pageYOffset;\n                // y   5  \n                if(currentY>(stopY+5)){\n                    stopY=currentY; \n                    movedown=true;\n                }\n                // y   5  \n                else if(currentY<(stopY-5)){\n                    stopY=currentY;\n                    movedown=false;\n                }\n                // +5  -5  bouncing\n                // movedown \n              \n                // showNave \n                // \n                //    navbar\n                //  navbar \n                if(movedown!=premovedown){\n                    //console.log('change')\n                    if(movedown){\n                        //setShowNav(false);\n                    }\n                    else{\n                        //setShowNav(true)\n                    }\n                    //\n                    premovedown=movedown\n                }\n        })\n    }\n\n    \n    const showMouseCoor=()=>{\n        window.addEventListener(\"mousemove\", (e)=>{    \n            console.log(`x:${e.pageX}, y:${e.pageY}`)\n        })\n    }\n    showMouseCoor()\n    */\n","//===============\nimport React from 'react';\n\n/*\nif(null)= false\nif(undefined)= false\nif(flase)=false \nif('')=false\nif(0)= false\n*/\n\n//===============================\nconst dateNow=()=>{\n  let temp=new Date()\n  temp=temp.toISOString()\n  temp=temp.substring(0,10)\n  //temp=`${temp}T00:00:00.000Z`\n  return temp\n}  \n//===============================\nconst genBlankState=({template})=>{\n  \n  let tempBlankObj={}\n  let tempRefObj={}\n\n  const genFunction=({tPt,stObj,refObj})=>{\n\n        const arrayTemplate=Object.keys(tPt)\n        arrayTemplate.map((tpKey,tpIdx)=>{  \n              const {stType,valPattern,\n                      stChildren,stDefault}=tPt[tpKey]\n              if(stType==\"object\"){\n                stObj[tpKey]={}\n                refObj[tpKey]={}\n                genFunction({\n                  tPt:stChildren,\n                  stObj:stObj[tpKey],\n                  refObj:refObj[tpKey]\n                })\n              }\n              \n              else if(stType==\"arrayObject\"){\n                stObj[tpKey]=[{}]\n                refObj[tpKey]=[{}]\n                genFunction({\n                  tPt:stChildren,\n                  stObj:stObj[tpKey][0],\n                  refObj:refObj[tpKey][0]\n                })\n              }\n\n              else if(stType==\"file\"){\n                refObj[tpKey]=React.createRef()\n                if(stDefault){\n                  stObj[tpKey]=stDefault \n                }\n                else{\n                  stObj[tpKey]=null\n                }\n              }\n              \n              else if(stType==\"array\"){//\"arrayString\"\n                  refObj[tpKey]=[React.createRef()]\n                  if(stDefault){\n                    stObj[tpKey]=stDefault \n                  }\n                  else{\n                    stObj[tpKey]=[\"\"]\n                  }\n              }\n              else if(stType==\"number\"){\n                if(isNaN(stDefault)){\n                  stObj[tpKey]=0\n                }\n                else{\n                  stObj[tpKey]=stDefault \n                }\n                refObj[tpKey]=React.createRef()     \n              }\n              else if(stType==\"boolean\"){\n                if(stDefault==false||stDefault==true){\n                  stObj[tpKey]=stDefault \n                }\n                else{\n                  stObj[tpKey]=false\n                }\n                refObj[tpKey]=React.createRef()     \n              }\n             \n              else { //\"date\",\"number\",\"string\"\n                if(stDefault){\n                  stObj[tpKey]=stDefault \n                }\n                else{\n                  stObj[tpKey]=\"\"\n                }  \n                refObj[tpKey]=React.createRef()          \n                //}\n              }  \n        })\n  }\n\n  try{\n    genFunction({\n      tPt:template,\n      stObj:tempBlankObj,\n      refObj:tempRefObj\n    })\n    return {\n      state:tempBlankObj,\n      ref:tempRefObj\n    }  \n  }\n  catch (error){\n    //console.log(error)\n    return null\n  }\n}\n//====================================\n//====================================\n\n//this function is used to make sure that \n//editData to send to edit form have every filed\n//at lease =\"\"\n//we care for those type in mongoDb = number\n//but when we send \"\" => it will be null such as customerId=null\nconst combineLoadDataBlankState=({template,loadData})=>{\n  const blankState=genBlankState({template})\n\n  let tempCombineObj={}\n  //let tempRefObj={}\n\n  const genFunction=({tPt,stObj,lDt,bDt})=>{\n\n        const arrayTemplate=Object.keys(tPt)\n        arrayTemplate.map((tpKey,tpIdx)=>{  \n\n                const {stType,valPattern,\n                       stChildren,stDefault}=tPt[tpKey]\n                //\"object\"\n                if(stType==\"object\"){\n                  stObj[tpKey]={}\n                  genFunction({\n                    tPt:stChildren,\n                    stObj:stObj[tpKey],\n                    lDt:lDt[tpKey],\n                    bDt:bDt[tpKey]\n                  })\n                }\n                //\"arrayObject\"\n                else if(stType==\"arrayObject\"){\n                  let temp=[]\n\n                        if(!lDt[tpKey]){\n                          stObj[tpKey]=bDt[tpKey]\n                        }\n                        else if(lDt[tpKey].length==0){\n                          stObj[tpKey]=bDt[tpKey]\n                        }\n                        else {\n                                        \n                            lDt[tpKey].map(i=>{\n                              temp=[...temp,{}]\n                            })\n                            stObj[tpKey]=temp\n\n                            lDt[tpKey].map((i,idx)=>{\n                              genFunction({\n                                tPt:stChildren,\n                                stObj:stObj[tpKey][idx],\n                                lDt:lDt[tpKey][idx],\n                                bDt:bDt[tpKey][0]\n                              })\n                            })\n                        }\n                }\n                //\"file\"\n                else if(stType==\"file\"){\n                      if(!lDt[tpKey]){\n                          if(stDefault){ stObj[tpKey]=stDefault }\n                          else{ stObj[tpKey]=null }\n                      }\n                      else{\n                          stObj[tpKey]=lDt[tpKey]\n                      }\n                }\n                //\"array\"\n                //\"arrayString\"\n                else if(stType==\"array\"){\n                        if(!lDt[tpKey]){\n                            if(stDefault){ stObj[tpKey]=stDefault }\n                            else{ stObj[tpKey]=[\"\"] }\n                        }\n                        else if(lDt[tpKey].length==0){\n                            if(stDefault){ stObj[tpKey]=stDefault }\n                            else{ stObj[tpKey]=[\"\"] }\n                        }\n                        else{\n                            stObj[tpKey]=lDt[tpKey]\n                        }\n                }\n                //\"boolean\"\n                else if(stType==\"boolean\"){\n                        if(lDt[tpKey]==true||lDt[tpKey]==false){\n                              stObj[tpKey]=lDt[tpKey]\n                        }\n                        else{\n                              if(stDefault==true||stDefault==false){\n                                  stObj[tpKey]=stDefault\n                              }\n                              else{\n                                  stObj[tpKey]=false\n                              }\n                        }\n                }\n                //\"number\"\n                else if(stType==\"number\"){\n                        const temp= lDt[tpKey]\n\n                        if(isNaN(temp)){\n                          //stObj[tpKey]=0\n                          if(isNaN(stDefault)){\n                            stObj[tpKey]=0\n                          }\n                          else{\n                            stObj[tpKey]=stDefault \n                          }\n                        }\n                        else{\n                          stObj[tpKey]=lDt[tpKey]\n                        }\n\n                  /*\n                  if(!temp){\n                    if(stDefault){ \n                      stObj[tpKey]=stDefault \n                    }\n                    else{ \n                      stObj[tpKey]=0\n                    }\n                  }\n                  else {\n                    stObj[tpKey]=lDt[tpKey]\n                  }\n                  */\n                }\n                else { //if(stType==\"string\",\"date\",\"number\")\n                  if(!lDt[tpKey]){\n                      if(stDefault){ \n                        stObj[tpKey]=stDefault \n                      }\n                      else{ \n                        stObj[tpKey]=\"\" \n                      }\n                  }\n                  else {\n                      stObj[tpKey]=lDt[tpKey]\n                  }\n\n                }  \n        })\n  }\n\n  try{\n    genFunction({\n      tPt:template,\n      stObj:tempCombineObj,\n      lDt:loadData,\n      bDt:blankState.state\n    })\n\n    //console.log('tempCombineObj')\n    //console.log(tempCombineObj)\n\n    return tempCombineObj\n      \n  }\n  catch (error){\n    //console.log(error)\n    return null\n  }\n}\n//====================================\n//====================================\n\nconst genRefAndValue=({template,FData})=>{\n  //console.log('template')\n  //console.log(template)\n  //console.log('FData')\n  //console.log(FData)\n  \n  let tempObj={}\n  let preLocation=[]\n  let lastRefKey=[]\n\n\n  const genFunction=({tPt,fDt,location,obj})=>{\n\n    let arrayTemplate=Object.keys(tPt)\n\n    arrayTemplate.map((tpKey,tpIdx)=>{  \n      \n      const {templateType,subFormTemplate,\n             ref,nextRef,first,lastRef,outSideRef}=tPt[tpKey]\n      \n      if(templateType==\"object\") {\n        \n        obj[tpKey]={}\n        genFunction(\n          { tPt:subFormTemplate,\n            fDt:fDt[tpKey],\n            location:[...location,tpKey], \n            obj:obj[tpKey]\n          })\n      \n      }\n      else if(templateType==\"array\"){\n        \n        let newArray=[]\n\n        fDt[tpKey].map((i,idx)=>{\n            \n            const thisLocation=[...location,tpKey,idx] \n\n            const newObj={value:i, \n                ref:React.createRef(),\n                location:thisLocation,\n            }\n\n            newArray=[...newArray,newObj]\n\n            //-------------------------\n            //go to preLocation and define its nextRef\n            //\n            if(idx==0){\n                let temp=tempObj\n                preLocation.map(i=>{ temp=temp[i] })\n                temp.nextRef=thisLocation\n            }\n            else{\n                //\n                newArray[idx-1].nextRef=thisLocation\n            }\n\n            if(lastRef){\n              lastRefKey=thisLocation\n            }\n\n            preLocation=thisLocation\n          \n        })\n\n        obj[tpKey]=newArray \n        \n      } \n      else if((templateType==\"arrayObject\")//||\n              //(templateType==\"arrayObjectInTable\")\n              ){\n            //console.log(tpKey)\n\n            obj[tpKey]=[]\n          \n            for (let i=0;i<fDt[tpKey].length;i++){\n              obj[tpKey]=[...obj[tpKey],{}]\n            }\n\n            fDt[tpKey].map((i,idx)=>{            \n                genFunction(\n                { tPt:subFormTemplate,\n                  fDt:i,\n                  location:[...location,tpKey,idx],\n                  obj:obj[tpKey][idx] \n                })  \n            })\n            \n      } \n      else if(templateType==\"icon\"){\n\n      } \n      else { //\"date\",\"number\",\"string\"\n          const thisLocation=[...location,tpKey]  \n          const newObj={value:fDt[tpKey], \n                        ref:React.createRef(),\n                        location: thisLocation\n                      }\n          \n          obj[tpKey]=newObj \n          //---------------\n          //Access to previous tpKey to put thisLocation to be there nextRef\n          let temp=tempObj\n          preLocation.map(i=>{\n            temp=temp[i]\n          })\n\n          temp.nextRef=thisLocation\n\n          if(lastRef){\n              lastRefKey=thisLocation\n          }\n          //---------------\n          preLocation=thisLocation      \n      }\n    \n    })    \n  }\n    genFunction({\n      tPt:template,\n      fDt:FData,\n      location:[],\n      obj:tempObj\n    })\n    \n    //------------------------\n    //Last tpKey, jump to nowhere because nextRef is null\n    let temp=tempObj\n    \n    preLocation.map(i=>{\n      temp=temp[i]\n    })\n    temp.nextRef=null\n\n    \n    let temp2=tempObj\n    //temp.lastRef=true\n    //------------------------\n    lastRefKey.map(i=>{\n      temp2=temp2[i]\n    })\n\n    temp2.lastRef=true\n\n    return tempObj \n}\n//======================\nconst revRefAndValue=({template,refAndValue})=>{\n  let tempObj={}\n  \n  const genFunction=({tPt,rAv,obj})=>{\n    let arrayTemplate=Object.keys(tPt)\n\n    arrayTemplate.map((tpKey,tpIdx)=>{ \n      const {templateType,subFormTemplate,ref,\n             nextRef,first,lastRef,outSideRef}=tPt[tpKey]\n\n      if(templateType==\"object\"){\n        \n        obj[tpKey]={}\n        genFunction({\n          tPt:subFormTemplate,\n          rAv:rAv[tpKey],\n          obj:obj[tpKey]\n        })\n        \n      }\n      else if(templateType==\"array\"){\n        \n        let temp=[]\n        rAv[tpKey].map(i=>{\n          temp=[...temp,i.value]\n        })\n        obj[tpKey]=temp\n        \n      }\n      else if((templateType==\"arrayObject\")//||\n              //(templateType==\"arrayObjectInTable\")\n            ){\n        \n        obj[tpKey]=[]\n       \n        for (let i=0;i<rAv[tpKey].length;i++){\n          obj[tpKey]=[...obj[tpKey],{}]\n        }\n\n        //console.log('tpKey')\n        //console.log(tpKey)\n\n        //console.log('rAv[tpKey')\n        //console.log(rAv[tpKey])\n\n        rAv[tpKey].map((i,idx)=>{            \n            genFunction(\n            { tPt:subFormTemplate,\n              rAv:rAv[tpKey][idx],\n              obj:obj[tpKey][idx] \n            })  \n        })\n        \n      }\n      else if(templateType==\"icon\"){\n        \n      }\n      else{ //\"date\",\"string\",\"number\"\n        obj[tpKey]=rAv[tpKey].value\n      }\n    })  \n  }\n\n  genFunction({\n    tPt:template,\n    rAv:refAndValue,\n    obj:tempObj\n  })\n  return tempObj\n}\n//======================\nconst findEmptyArrayInData=(tPt,lDt,bDt,setEditData)=>{\n\n  let dataIsChange=false\n\n  Object.keys(tPt).map(i=>{\n\n      if(tPt[i].stType==\"array\"){\n          if(Array.isArray(lDt[i])){\n              if(lDt[i].length==0){\n                  //console.log(i)\n                  lDt[i]=bDt[i]\n\n                  dataIsChange=true\n              }\n          }\n      }\n      if(tPt[i].stType==\"arrayObject\"){\n          if(Array.isArray(lDt[i])){\n              if(lDt[i].length==0){\n                  //console.log(i)\n                  lDt[i]=bDt[i]\n                  dataIsChange=true\n              }\n              else{\n                  if(tPt[i].stChildren){\n                      findEmptyArrayInData(tPt[i].stChildren,lDt[i],bDt[i])\n                  }\n              }\n          }\n      }\n\n  })\n  if(dataIsChange){\n    setEditData(lDt)\n  }\n}\n//======================\nconst convertFilterDataToGraphData=({template,\n      filterData,inputState,totalSwapPage})=>{\n  \n  //console.log('convertFitlerDataToGraphData')\n  if(totalSwapPage<3){return null}\n  if(!filterData){return null}\n  \n  const arrayTemplate=Object.keys(template)\n  \n  let arrayTemplateDetail\n  let arrayTemplateDetailNewName\n  let arrayToShowDetailInputState=[]\n\n  if(template[\"detail\"]){\n    arrayTemplateDetail=Object.keys(template[\"detail\"].stChildren)\n    arrayTemplateDetailNewName=arrayTemplateDetail.map(k=>`detail_${k}`)\n\n    arrayTemplateDetailNewName.map((tpKey,idx)=>{\n      if(inputState[tpKey].toCheck){\n          //console.log(`toCheck = true ${tpKey}`)\n          arrayToShowDetailInputState=[...arrayToShowDetailInputState,tpKey]\n      }\n    })\n  }\n\n  //========================\n  const valBasic= ({pttn,str})=>{\n    return new RegExp(pttn).test(str)\n  }\n  //=========================\n  const genCommonObject=(i)=>{\n          let commonObject={}\n\n          arrayTemplate.map((tpKey,idx)=>{\n              if(template[tpKey].stType==\"string\"||template[tpKey].stType==\"date\") {\n                  if(i[tpKey]){\n                    commonObject[tpKey]=i[tpKey]\n                  }\n                  else{\n                    commonObject[tpKey]=\"\"\n                  }\n              }\n              if(template[tpKey].stType==\"number\") {\n                  if(i[tpKey]){\n                    commonObject[tpKey]=i[tpKey]\n                  }\n                  else{\n                    commonObject[tpKey]=0\n                  }\n              }\n          })\n      return commonObject    \n  }\n  //==========================\n\n  let tempAllDetail=[]\n  let tempNoDetail=[]\n\n  filterData.map(i=>{\n    \n    if(template[\"detail\"]){\n\n          let commonObject=genCommonObject(i)\n          tempNoDetail=[...tempNoDetail,commonObject]\n          \n          let detailObject = {...commonObject}\n          \n          i[\"detail\"].map(k=>{\n                  \n                  arrayTemplateDetail.map((tpKey2,idx2)=>{\n                      const newTpKey2=arrayTemplateDetailNewName[idx2]\n\n                      if(template[\"detail\"].stChildren[tpKey2].stType==\"string\"||\n                        template[\"detail\"].stChildren[tpKey2].stType==\"date\"){\n\n                            if(k[tpKey2]){\n                              detailObject={...detailObject,[newTpKey2]:k[tpKey2]}\n                            }\n                            else{\n                              detailObject={...detailObject,[newTpKey2]:\"\"}\n                            }\n                      }\n                      if(template[\"detail\"].stChildren[tpKey2].stType==\"number\"){\n\n                            if(k[tpKey2]){\n                              detailObject={...detailObject,[newTpKey2]:k[tpKey2]}\n                            }\n                            else{\n                              detailObject={...detailObject,[newTpKey2]:0}\n                            }\n                      }\n\n                  })\n\n              tempAllDetail=[...tempAllDetail,detailObject]\n\n          })\n    \n\n      }\n  })\n  //===========================\n  \n  let tempWiDetail=[]\n  tempAllDetail.map(i=>{\n    let isPassRegEx=false\n\n    arrayToShowDetailInputState.map((tpKey,idx)=>{\n      \n        const dataToCheck=i[tpKey]\n        const min=inputState[tpKey].min\n        const max=inputState[tpKey].max\n        const value=inputState[tpKey].value\n\n        if(min&&max){\n          if((dataToCheck>min)&&(dataToCheck<max)){\n            if(!isPassRegEx){\n              isPassRegEx=true\n            }\n          }\n        }\n        else if(min){\n          if(dataToCheck>min){\n            isPassRegEx=true\n          }\n        }\n        else if(max){\n          if(dataToCheck<max){\n            isPassRegEx=true\n          }\n        } \n        if(value){\n          if(valBasic({pttn:value,str:dataToCheck})){\n            isPassRegEx=true\n          }\n        }\n\n    })\n\n    if(isPassRegEx){\n      tempWiDetail=[...tempWiDetail,i]\n    }\n  })\n  \n\n  return {noDetail:tempNoDetail,wiDetail:tempWiDetail,allDetail:tempAllDetail}\n}\n//======================\nconst StateUtil={dateNow,combineLoadDataBlankState,\n    genBlankState,genRefAndValue,\n    revRefAndValue,findEmptyArrayInData,\n    convertFilterDataToGraphData\n  }\n\nexport default StateUtil\n","import axiosUtil from '../../util/axiosUtil'\nimport ctUtil from '../../util/ctUtil'\nimport StateUtil from '../../model/StateUtil'\n\nimport axios from 'axios'\nimport uuid from 'react-uuid'\nimport { DetailsOutlined } from '@material-ui/icons'\n\nconst {createTableTemplateForPage,convertTableTemplateObjToArray}=ctUtil\nconst {genArrayForFilterAxios,genFD,addFileNameInPhotoUrl,\n    addSingleFileNameInsteadOfPhotoUrl,\n    catchErrorToMessage}=axiosUtil\nconst {genBlankState,genRefAndValue,revRefAndValue,combineLoadDataBlankState}=StateUtil  \n\n//whet use reloadAxiosAll we add selectedLine = false \n//and _id with uuid() to make it unique\nconst genFilterDataWithIndex=(filterData,selectProduct)=>{\n    //console.log('selectProduct')\n    //console.log(selectProduct)\n    let tempSelectProduct\n    if(selectProduct){tempSelectProduct=selectProduct}\n    else {tempSelectProduct=[]}\n\n    let tempArray=[]\n\n    filterData.map((i,idx)=>{\n         \n        const temp={...i,selectedLine:false,_id:uuid()}\n        tempArray=[...tempArray,temp]\n        //const temp={...i,tempIndex:idx,selectedLine:false}\n    })\n\n    let tempArray2=[]\n\n\n    tempArray.map(i=>{\n        let tempObj=i\n\n        tempSelectProduct.map(j=>{\n            if(i.id==j.id){\n                //console.log('j.id==i.id')\n                tempObj={...tempObj,selectedLine:j.selectedLine}\n                //tempArray2=[...tempArray2,]\n            }\n        })\n\n        tempArray2=[...tempArray2,tempObj]\n    })\n \n    return tempArray2\n}\n//------------------------------------\nconst genData=(length)=>{\n    let tempArray=[]\n\n    for (let i=1;i<=length;i++){\n        const temp =  {id:i,\n                     name:`name ${i}`,\n                     quantity:i+100,\n                     quantity2:100+i,\n                     quantity3:20+i,\n                     quantity4:1,\n                     quantity5:15+i,\n                     _id:uuid()\n                    }\n        tempArray=[...tempArray,temp]\n    }\n    return tempArray\n}\n\n//==================================\nconst reloadAxiosTableTemplate=(filterData,myheader)=>{\n    //console.log('reloadAxiosAll')\n    //console.log(filterData)\n    const {pageNumber,limitRow,sort,qry,dataUrl,tableTemplateUrl,\n           tableTemplateName,detailTableTemplateName,\n           detailTableTemplateForFormName,selectProduct\n          } = filterData\n\n    return new Promise(function(resolve,reject){\n\n        axios.post(`/${tableTemplateUrl}/getcustom`,{},myheader)\n        .then(result=>{\n            const temp = createTableTemplateForPage(result.data.data)\n            const tempResult={...filterData,\n                tableTemplate:temp[tableTemplateName],\n                detailTableTemplate: temp[detailTableTemplateName],\n                detailTableTemplateForForm: temp[detailTableTemplateForFormName],\n                //tableTemplate:productTableTemplate,\n                //detailTableTemplate:productDetailTableTemplate,\n                reloadData:false\n            } \n            resolve(tempResult)\n        })\n        .catch(error=>{\n            const tempError={...filterData,\n                reloadData:false,\n                message:catchErrorToMessage(error),\n                showModalConfirm:false,\n                showModalError:true,\n            }\n            //console.log('tempError')\n            reject(tempError)\n            //console.log(tempError)\n            //setFilterData(tempError)\n        })\n    })\n}\n\n\n//==================================\n//when reloadDat is true => use Effect will start to use reloadAxiosAll()\n//when press refresh => will start to use reloadAxiosAll()\n//we get data ,count,lastRecordId and all tableTemplate \nconst reloadAxiosAll=(filterData,myheader)=>{\n    //console.log('reloadAxiosAll')\n    //console.log(filterData)\n    const {pageNumber,limitRow,sort,qry,dataUrl,tableTemplateUrl,\n           tableTemplateName,detailTableTemplateName,\n           detailTableTemplateForFormName,selectProduct\n          } = filterData\n\n    //console.log('reloadAxiosAll selectProduct')\n    //console.log(selectProduct)\n\n    //const temp2 = {pageNumber:pageNumber,limitRow:limitRow,sort:sort,...qry}\n    //console.log('reloadAxiosAll..........')\n    //console.log(qry)\n    //console.log(temp2)\n\n    //console.log(filterData.editData)\n    return new Promise(function(resolve,reject){\n\n        const promise1=axios.post(`/${dataUrl}/getlimit`,\n        {pageNumber,limitRow,sort,...qry},myheader)\n        const promise2=axios.post(`/${tableTemplateUrl}/getcustom`,{},myheader)\n        Promise.all([promise1,promise2])\n        .then(result=>{\n            const temp = createTableTemplateForPage(result[1].data.data)\n            //console.log(temp[\"productTableTemplate\"])\n            const temp2= genFilterDataWithIndex(result[0].data.data,selectProduct)\n            //console.log('temp2')\n            //console.log(temp2)\n            \n            //console.log('detailTableTemplateName')\n            //console.log(detailTableTemplateName)\n            //console.log(result[1])\n            //console.log(productTableTemplate)\n            //console.log(result[0].data.lastRecordId)\n            //console.log('temp[tableTemplateName')\n            //console.log(temp[tableTemplateName])\n            const tempResult={...filterData,\n                data0:temp2,\n                count:result[0].data.count,\n                lastRecordId:result[0].data.lastRecordId,\n                tableTemplate:temp[tableTemplateName],\n                detailTableTemplate: temp[detailTableTemplateName],\n                detailTableTemplateForForm: temp[detailTableTemplateForFormName],\n\n                //tableTemplate:productTableTemplate,\n                //detailTableTemplate:productDetailTableTemplate,\n                reloadData:false\n            } \n            //console.log('tempResult')\n            //console.log(tempResult)\n            resolve(tempResult)\n            //console.log(tempResult)\n            //setFilterData(tempResult)\n\n        })\n        .catch(error=>{\n            console.log(error)\n            const tempError={...filterData,\n                reloadData:false,\n                message:catchErrorToMessage(error),\n                showModalConfirm:false,\n                showModalError:true,\n            }\n            console.log('tempError')\n            reject(tempError)\n            //console.log(tempError)\n            //setFilterData(tempError)\n        })\n\n    })\n}\n//=============================================\n/*\nconsole.log('inputState')\nconsole.log(inputState)\n\nconst {file1,photoUrl1,...remaining}=inputState\nconst {id}=basicData\nconst tempFormInputState1={id,shopInfo:remaining}\n\nconst tempFormInputState2=addSingleFileNameInsteadOfPhotoUrl({id,file1,photoUrl1})  \n\nconst fd=genFD({\n    inputState:tempFormInputState2,\n    template:{\n        id:StateTemplate.shopInfoState.id,\n        file1:StateTemplate.shopInfoState.file1,\n        photoUrl1:StateTemplate.shopInfoState.photoUrl1,\n    }\n})\n//console.log(fd)\n\nconst promise1=axios.post(`/p35basicdata/updatecustom`,tempFormInputState1,myheader)\nlet promise2=null\nif(file1){\n    promise2=axios.post(`/p35basicdata/updatecustom`,fd,myheader)\n}\n*/\n\n\n\n\n\n\n\n\n//=============================================\n// when click confirm in add PageForm it request for addcustom to server\nconst submitFunctionAdd=(formInputState,filterData,productState,myheader)=>{\n\n    return new Promise ((resolve,reject)=>{\n\n        const {dataUrl} = filterData\n        let controller=\"addcustom\"\n        let updateController=\"updatecustom\"\n\n        if(dataUrl.includes(\"transaction\")){\n            controller=\"addtransaction\"\n            updateController=\"updatetransaction\"\n        }\n\n        \n        //const tempFormInputState1={...formInputState}\n        //const tempFormInputState2=addSingleFileNameInsteadOfPhotoUrl(tempFormInputState1)  \n        /////////////const tempFormInputState2=addFileNameInPhotoUrl(tempFormInputState1)  \n        //const tempFormInputState3=combineLoadDataBlankState({template:productState,loadData: tempFormInputState2})\n        //const fd=genFD({inputState:tempFormInputState3,template:productState})\n\n        const {id,file1,detail,photoUrl1,...remaining}=formInputState\n        let tempFormInputState1={id,...remaining,hasDetailProduct:false}\n        \n        let tempArray=null\n        if(detail){\n            tempArray=[]\n            detail.map(j=>{\n                const {_id,...remaining2}=j\n                tempArray=[...tempArray,remaining2]\n            })\n        \n            tempFormInputState1={...tempFormInputState1,detail:tempArray}\n\n            if(detail.length>0){\n                if(detail[0]){\n                    tempFormInputState1={...tempFormInputState1,hasDetailProduct:true}\n                }\n            }\n        }\n\n        //let promise1=axios.post(`/${dataUrl}/${controller}`,tempFormInputState1,myheader)\n        \n        if(file1){\n            //console.log('have file1xxxxxxxxxx')\n            const tempFormInputState2=addSingleFileNameInsteadOfPhotoUrl({id,file1,photoUrl1})  \n\n            const fd=genFD({\n                inputState:tempFormInputState2,\n                template:{\n                    id:productState.id,\n                    file1:productState.file1,\n                    photoUrl1:productState.photoUrl1,\n                }\n            })\n    \n            axios.post(`/${dataUrl}/${controller}`,tempFormInputState1,myheader)\n            .then(result=>{\n                return axios.post(`/${dataUrl}/${updateController}`,fd,myheader)\n            })\n            .then(result=>{\n                //console.log('result')\n                //console.log(result)\n                const tempResult={...filterData,\n                    reloadData:true,\n                    showEdit:false,\n                    showAdd:false,\n                    selectGroup:null,\n                    heightTop:95,\n                }   \n                resolve (tempResult)       \n            })    \n            .catch(error=>{\n                const tempError={...filterData,\n                    reloadData:false,\n                    message:catchErrorToMessage(error),\n                    showModalConfirm:false,\n                    showModalError:true,\n                    editData:tempFormInputState1,\n                    selectGroup:null\n                }\n                reject(tempError)\n            })\n        }\n    \n        else{\n            axios.post(`/${dataUrl}/${controller}`,{...tempFormInputState1,photoUrl1},myheader)\n            .then(result=>{\n               \n                const tempResult={...filterData,\n                    reloadData:true,\n                    showEdit:false,\n                    showAdd:false,\n                    heightTop:95,\n                }   \n                resolve (tempResult)       \n            })\n            .catch(error=>{\n                const tempError={...filterData,\n                    reloadData:false,\n                    message:catchErrorToMessage(error),\n                    showModalConfirm:false,\n                    showModalError:true,\n                    editData:tempFormInputState1\n                }\n                reject(tempError)\n            })\n\n        }\n\n    })   \n}   \n\n//when click confirm in edit PageForm it request updatecustom to server\nconst submitFunctionEdit=(formInputState,filterData,productState,myheader)=>{\n\n\n    return new Promise ((resolve,reject)=>{\n        const {dataUrl} = filterData\n\n        let controller=\"updatecustom\"\n\n        if(dataUrl.includes(\"transaction\")){\n            controller=\"updatetransaction\"\n        }\n        \n        //const tempFormInputState1={...formInputState}\n        //const tempFormInputState2=addSingleFileNameInsteadOfPhotoUrl(tempFormInputState1)  \n        /////////const tempFormInputState2=addFileNameInPhotoUrl(tempFormInputState1)  \n        //const tempFormInputState3=combineLoadDataBlankState({template:productState,loadData:tempFormInputState2})\n        //const fd=genFD({inputState:tempFormInputState3,template:productState})\n\n        const {id,file1,photoUrl1,detail,...remaining}=formInputState\n        \n        let tempFormInputState1={id,...remaining,hasDetailProduct:false}\n\n        let tempArray=null\n        if(detail){\n            tempArray=[]\n            detail.map(j=>{\n                const {_id,...remaining2}=j\n                tempArray=[...tempArray,remaining2]\n            })\n            tempFormInputState1={...tempFormInputState1,detail:tempArray}\n\n            if(detail.length>0){\n                if(detail[0]){\n                    tempFormInputState1={...tempFormInputState1,hasDetailProduct:true}\n                }\n            }\n        }\n\n        if(file1){\n            console.log('have file1------------------')\n            const tempFormInputState2=addSingleFileNameInsteadOfPhotoUrl({id,file1,photoUrl1})  \n\n            const fd=genFD({\n                inputState:tempFormInputState2,\n                template:{\n                    id:productState.id,\n                    file1:productState.file1,\n                    photoUrl1:productState.photoUrl1,\n                }\n            })\n\n                axios.post(`/${dataUrl}/${controller}`,fd,myheader)\n                .then(result=>{\n                    return axios.post(`/${dataUrl}/${controller}`,tempFormInputState1,myheader)\n                })\n                .then(result=>{\n                    const tempResult=\n                    {...filterData,\n                        reloadData:true,\n                        showEdit:false,\n                        showAdd:false,\n                        heightTop:95,\n                        editData:null,\n                        selectGroup:null\n                    }\n                    resolve(tempResult)\n                })\n                .catch (error=>{\n                    const tempError = \n                    {...filterData,\n                        reloadData:false,\n                        message:catchErrorToMessage(error),\n                        showModalConfirm:false,\n                        showModalError:true,\n                        editData:tempFormInputState1,\n                        selectGroup:null\n                    }\n                    reject (tempError)\n                })\n        }\n        else{\n            \n                axios.post(`/${dataUrl}/${controller}`,{...tempFormInputState1,photoUrl1},myheader)\n                .then(result=>{\n                    const tempResult=\n                    {...filterData,\n                        reloadData:true,\n                        showEdit:false,\n                        showAdd:false,\n                        heightTop:95,\n                        editData:null\n                    }\n                    resolve(tempResult)\n                })\n                .catch(error=>{\n                    const tempError = \n                    {...filterData,\n                        reloadData:false,\n                        message:catchErrorToMessage(error),\n                        showModalConfirm:false,\n                        showModalError:true,\n                        editData:tempFormInputState1\n                    }\n                    reject (tempError)\n                })\n        }\n    })\n}   \n    \n//============================\n\n//when we click search $in or $or \n//it gen arrayForFilter and reload data again \n//========================================\nconst filterAxios=(option,inputState,filterTemplate,filterData,myheader,controller)=>{\n        console.log('filterAxios.....')\n        //console.log(option)\n        //console.log(inputState)\n    let myController=\"getlimit\"\n    if(controller){\n        myController=controller\n    }\n\n    return new Promise ((resolve,reject)=>{\n        const {pageNumber,limitRow,sort,dataUrl} = filterData\n\n        const arrayCommand=genArrayForFilterAxios({\n            filterTemplate:filterTemplate,\n            inputState:inputState\n        })\n        //console.log(arrayCommand)\n        let qry = null\n        if(option==\"and\"){ qry={$and:arrayCommand} }\n        if(option==\"or\"){ qry={$or:arrayCommand} }\n        /*\n        setFilterData({\n            ...filterData,\n            pageNumber:1,\n            qry:qry\n        })\n        */\n        //setPageNumber(1)\n        //setQry(qry)\n        axios.post(`/${dataUrl}/${myController}`,{pageNumber,limitRow,sort,...qry},myheader)\n        .then(result=>{\n            const tempResult= { ...filterData,\n                                data0:result.data.data,\n                                count:result.data.count,\n                                lastRecordId:result.data.lastRecordId,\n                                reloadData:false,\n                                pageNumber:1,\n                                qry:qry,\n                             }\n            resolve(tempResult)\n        })\n        .catch(error=>{\n            //catchErrorToMessage(error,setMessage)\n            //setMessage(error.response.data.message)\n            const tempError={...filterData,\n                                reloadData:false,\n                                message:catchErrorToMessage(error),\n                                showModalConfirm:false,\n                                showModalError:true,\n                                pageNumber:1,\n                                qry:qry\n                            }\n            reject(tempError)\n        })\n\n    })\n}\n\n//=====================================\n\nconst saveTableTemplate=(tableTemplate,tableTemplateUrl,tableTemplateName,myheader)=>{\n    console.log('saveTableTemplate')\n    console.log(tableTemplateUrl)\n    console.log(tableTemplateName)\n    console.log(tableTemplate)\n    \n    //const {tableTemplateUrl} = filterData\n    //const {tableTemplateUrl,tableTemplate} = filterData\n    let tempTableTemplate={}\n    const object=Object.keys(tableTemplate)\n    \n    //make sure showColHead  and not show MdClose\n    object.map(i=>{\n        let tempObj=tableTemplate[i]\n        tempTableTemplate={...tempTableTemplate,[i]:{...tempObj,[\"showColHead\"]:true}}\n    })\n\n    //change formate before save to DB \n    const temp={\n        tableName:tableTemplateName,\n        template: convertTableTemplateObjToArray(tempTableTemplate)\n    }\n\n    console.log('temp')\n    console.log(temp)\n\n    axios.post(`/${tableTemplateUrl}/updatetabletemplate`,temp,myheader)\n    .then(result=>{console.log(result)})\n    .catch(error=>{console.log(catchErrorToMessage(error))})\n}\n\n//=======================================\n//<LineForm/> onBlur => updateFilterData with LineForm\nconst updateFilterData=(index,i,filterData)=>{\n    //<LineForm/>   onBlur => updateFilterData\n\n\n    const {data0,selectProduct}=filterData\n    //console.log(i)\n\n    let tempArray=[] //for update  data0 with... i of LineForm\n    data0.map(j=>{\n        if(j._id==i._id){\n            tempArray=[...tempArray,i]\n        }   \n        else{\n            tempArray=[...tempArray,j]\n        }\n    })\n    //get i from <LineForm/>\n\n    //update selectProduct with LineForm as well \n    let tempArray2=[]\n\n    selectProduct.map(k=>{\n        if(k._id==i._id){\n            //tempArray2=[...tempArray2,k]\n        }\n        else {\n            tempArray2=[...tempArray2,k]\n        }\n    })\n    tempArray2=[...tempArray2,i]\n\n    return {data0:tempArray,selectProduct:tempArray2}\n    /*\n    setFilterData({...filterData,\n        data0:tempArray,\n        selectProduct:tempArray2\n    })\n    */\n}\n//=====================================\nconst updateDetailOfFilterData=(index,i,filterData)=>{\n\n    const {detail0,selectProduct}=filterData\n\n    let tempArray=[] //for update  data0 with... i of LineForm\n    detail0.map(j=>{\n        if(j._id==i._id){\n            tempArray=[...tempArray,i]\n        }   \n        else{\n            tempArray=[...tempArray,j]\n        }\n    })\n\n    let tempArray2=[]\n\n    selectProduct.map(k=>{\n        if(k._id==i._id){\n            //tempArray2=[...tempArray2,k]\n        }\n        else {\n            tempArray2=[...tempArray2,k]\n        }\n    })\n    \n    tempArray2=[...tempArray2,i]\n\n    return {detail0:tempArray,selectProduct:tempArray2}\n    \n}\n\n\n//=====================================\n//when click FaBullEyes it change data0.selectedLine \n//and set selectProct to null \n//and uncheck all input radio \nconst setUnSelectAll=(filterData)=>{\n    let tempArray=[]\n\n    filterData.data0.map(i=>{\n        tempArray=[...tempArray,{...i,selectedLine:false}]\n    })\n    return {...filterData,\n        selectProduct:[],\n        data0:tempArray\n    }\n}\n\n//-----------------------------------\n\n//----------------------------------------\nconst submitFunctionDelete=(filterData,myheader)=>{\n    return new Promise ((resolve,reject)=>{\n\n        const {dataUrl,selectProduct}=filterData\n        let controller=\"deletemany\"\n\n        if(dataUrl==\"transaction\"){\n            controller=\"deletetransaction\"\n        }\n\n        let tempId=[]\n\n        selectProduct.map(i=>{\n            if (i.selectedLine){\n                tempId=[...tempId,i.id]\n            }\n        })\n        \n        const qry = {id:{$in:tempId}}\n\n        axios.post(`/${dataUrl}/${controller}`,qry,myheader)\n        .then(result=>{\n            const tempResult={...filterData,\n                                reloadData:true,\n                                showModalConfirm:false,\n                                selectProduct:[]\n                             }\n            resolve(tempResult)\n        })\n        .catch(error=>{\n            //console.log('errrrrrr')\n            //console.log(error.response.data.error.message)\n            const tempError = {...filterData,\n                                    reloadData:false,\n                                    message:catchErrorToMessage(error),\n                                    showModalConfirm:false,\n                                    showModalError:true,\n                                }\n            reject(tempError)\n        })\n    })\n}\n\n//=====================================\nconst pageUtil={\n    reloadAxiosAll,reloadAxiosTableTemplate,saveTableTemplate,\n    updateFilterData,updateDetailOfFilterData,\n    submitFunctionEdit,submitFunctionAdd,filterAxios,\n    setUnSelectAll,submitFunctionDelete\n}\n\nexport default pageUtil\n\n","import React from 'react';\nimport {MdVisibility,MdVisibilityOff} from 'react-icons/md';\nimport {FaBan,FaCheck} from 'react-icons/fa'\nimport '../Modal.css'\n\nfunction ShopChangePassword({\n    pageData,\n    lb,\n    setShow,\n    submitFunction,\n    //submitCancel\n}) {\n\n\n    const [isSecond,setIsSecond]=React.useState(false)\n\n    React.useEffect(()=>{\n        //console.log(`isSecond : ${isSecond}`)\n        if(!isSecond){\n            setIsSecond(true)\n        }\n    },[isSecond])\n    \n    \n    const refSubmitForm=React.createRef() //\n    const refCancelForm=React.createRef() //    \n    \n    const refShopName=React.createRef() //\n    const refPassword=React.createRef() //\n    const refNewPassword1=React.createRef() //\n    const refNewPassword2=React.createRef() //\n\n    const [hidePassword,setHidePassword]=React.useState(true)\n    let [formInputState,setFormInputState]=React.useState({\n        shopName:\"\",password:\"\",newPassword1:\"\",newPassword2:\"\"\n    })\n  \n    React.useEffect(()=>{\n\n        //console.log('formInputState')\n        //console.log(formInputState)\n\n    },[formInputState])\n    //===================================\n\n\n  //==============================\n  //==============================\n  //==============================\n\n\n  const genInputRef=(i)=>{\n    if(i==\"shopName\"){return refPassword}\n    else if(i==\"password\"){return refPassword}\n    else if(i==\"newPassword1\"){return refNewPassword1}\n    else if(i==\"newPassword2\"){return refNewPassword2}\n    else return null\n  }\n\n\n  const goToNextRef=(e,i)=>{\n    if(e.key==\"Enter\"){\n        if(i==\"shopName\"){refPassword.current.focus()}\n        if(i==\"password\"){refNewPassword1.current.focus()}\n        if(i==\"newPassword1\"){refNewPassword2.current.focus()}\n        if(i==\"newPassword2\"){refSubmitForm.current.focus()}\n    }\n   }\n\n   const changeInputState = (e,i)=>{\n        setFormInputState({...formInputState,[i]:e.target.value})\n   }\n\n//==============================  \nconst clearForm=()=>{\n    //setFormInputState(blankData)\n}\n//==============================\n/*\nname:{lb:\"\",value:\"\",active:true},\n        address:{lb:\"\",value:\"123    \",active:true},\n        contact:{lb:\"\",value:\"1234 4567\",active:true},\n        branch:{lb:\"\",value:\"\",active:true},\n        other:{lb:\"\",value:\"\",active:true},\n*/\n\nconst genInputType=(i)=>{\n    if(i==\"shopName\"){\n        return \"text\"\n    }\n    else {\n        if(hidePassword){\n            return \"password\"\n        }\n        else {\n            return \"text\"\n        }\n    }\n}\n\n\nconst renderBody=()=>{\n    const objKeys=[\"shopName\",\"password\",\"newPassword1\",\"newPassword2\"]\n\n    return (objKeys.map((i,idx)=>{\n        return (\n            <div key={idx}\n                 className=\"w-100 flex-center-center jc-start\" \n                 style={{marginBottom:\"0.2rem\"}}>\n                \n                <div className=\"w-30\">{pageData.shopChangePassword[i]}</div>\n                \n                <div className=\"w-70\" style={{position:\"relative\"}}>\n                    <input\n                        ref={genInputRef(i)}\n                        type={genInputType(i)}\n                        onChange={e=>{\n                            changeInputState(e,i)\n                        }}\n                        onKeyDown={e=>{goToNextRef(e,i)}}\n                        autoComplete={i==\"password\"||i==\"newPassword1\"||i==\"newPassword2\"?\"one-time-code\":null}\n                        autoFocus={i==\"shopName\"?\"autoFocus\":null}\n                    />\n                    \n                    {\n                        i!=\"shopName\"\n                        ? hidePassword\n                            ?<MdVisibilityOff \n                                className=\"sm-icon\" \n                                style={{position:'absolute',top:\"0.2rem\",right:'0.3rem'}}\n                                onClick={e=>{\n                                setHidePassword(!hidePassword)\n                                }}\n                            />\n                            :<MdVisibility \n                                className=\"sm-icon\" \n                                style={{position:'absolute',top:\"0.2rem\",right:'0.3rem'}}\n                                onClick={e=>{\n                                setHidePassword(!hidePassword)\n                                }}\n                            />\n                        :null\n                    }\n                </div>\n              \n            </div>\n        )\n    }))\n}\n\n//====================\n//console.log('ShopChangePassword')\n//====================\nconst renderFooter=()=>{\n    return(\n    <div style={{display:\"flex\",position:\"fixed\",bottom:\"1rem\",right:\"2rem\",zIndex:\"100\"}}\n    >\n        <div>\n            <button\n                ref={refSubmitForm}\n                onKeyDown={e=>{\n                    //if(e.key==\"ArrowRight\"){\n                    //    refCancelForm.current.focus()\n                    //}\n                }}\n                onClick={e=>{\n                    if(submitFunction){\n                        submitFunction(formInputState)\n                    }\n                }}\n            >\n                <FaCheck/>\n            </button>\n        </div>\n        \n        <div>\n            <button\n                ref={refCancelForm}\n                onKeyDown={e=>{\n                    //if(e.key==\"ArrowLeft\"){\n                    //    refCancelForm.current.focus()\n                    //}\n                }}\n                onClick={e=>{\n                    setShow(false)\n                }}\n            >\n                <FaBan/>\n            </button>\n        </div>\n\n    </div>\n    )\n}\n\nreturn (\n    <div className=\"Modal-background\">\n        <div className=\"Modal-box\" \n             style={{paddingBottom:\"1rem\",minWidth:\"70%\",minHeight:\"100px\"}}>\n            <div className=\"Modal-header\">\n                <div>\n                    <h5>{pageData.shopChangePassword.formHead}</h5>\n                </div>\n                {renderFooter()}\n            </div>\n            <div className=\"Modal-body\" >\n                <div className=\"ModalInsideBody\">\n                {\n                    renderBody()\n                }\n                </div>\n            </div>\n        \n        </div>\n    </div>\n  );\n}\n\n\nShopChangePassword.defaultProps={\n    lb:\"Form\",\n    setShow:()=>{},\n    submitFunction:null,\n    //submitCancel:null\n}\n\n\nexport default ShopChangePassword;\n","import { SettingsSharp } from '@material-ui/icons';\nimport React from 'react';\nimport {FaPlusSquare,FaMinusSquare,FaCheck,FaBan} from 'react-icons/fa'; \n\nimport '../Modal.css'\n\nfunction BasicValueSetting({\n    pageData,\n    basicValueSetting,\n    setShow,\n    submitFunction,\n    //submitCancel\n}) {\n\n    console.log('basicValueSetting')\n\n    const refSubmitForm=React.createRef() //\n    const refCancelForm=React.createRef() //\n\n    const checkArrayEmpty=(array)=>{\n        if(array.length==0){\n            return [\"\"]\n        }\n        else {\n            return array\n        }\n    }\n\n\n    const getRefArray=(array)=>{\n        let tempRefArray=[]\n\n        array.map(k=>{\n            tempRefArray=[...tempRefArray,React.createRef()]\n        })\n\n        return tempRefArray\n    }\n\n    let [formInputState,setFormInputState]=React.useState(checkArrayEmpty(basicValueSetting.array))\n\n    let [refOfInputState,setRefOfInputState]=React.useState(getRefArray(formInputState))\n\n    React.useEffect(()=>{\n        //console.log('formInputState')\n        //console.log(formInputState)\n    },[formInputState])\n\n    const changeInputState=(e,idx)=>{\n\n        let tempArray=[]\n\n        formInputState.map((i,idx2)=>{\n            if(idx2==idx){\n                tempArray=[...tempArray,e.target.value]\n            }\n            else {\n                tempArray=[...tempArray,i]\n            }\n        })\n        setFormInputState(tempArray)\n    }\n    \n    const addRow=(idx)=>{\n\n        let tempArray=[]\n\n        formInputState.map((i,idx2)=>{\n            if(idx2==idx){\n                tempArray=[...tempArray,i,\"\"]\n            }\n            else {\n                tempArray=[...tempArray,i]\n            }\n        })\n\n        setRefOfInputState(getRefArray(tempArray))\n        setFormInputState(tempArray)\n    }\n\n    const deleteRow=(idx)=>{\n        let tempArray=[]\n\n        formInputState.map((i,idx2)=>{\n            if(idx2==idx){\n              \n            }\n            else {\n                tempArray=[...tempArray,i]\n            }\n        })\n        setRefOfInputState(getRefArray(tempArray))\n        setFormInputState(tempArray)\n    }\n\n    React.useEffect(()=>{\n\n        //console.log('formInputState')\n        //console.log(formInputState)\n\n    },[formInputState])\n\n//================================\n//================================\n\nconst renderBody=()=>{\n\n   return (\n    <div \n        className=\"w-100 flex-center-start jc-start\" \n        style={{marginBottom:\"0.2rem\"}}>\n        <div className=\"w-100\">\n            {\n                formInputState.map((i,idx)=>{\n                    return(\n                        <div className=\"flex-center-center\" \n                             key={idx}\n                             style={{marginBottom:\"0.2rem\"}}\n                             >\n                            <div className=\"w-10\">\n                                <FaPlusSquare className=\"sm-icon\"\n                                    onClick={e=>{\n                                        addRow(idx)\n                                    }}\n                                />\n                            </div>\n                            <div className=\"w-10\">\n                                {idx>0\n                                ?<FaMinusSquare className=\"sm-icon\"\n                                    onClick={e=>{deleteRow(idx)}}\n                                />\n                                :null\n                                }\n                            </div>\n                            <div className=\"w-80\">\n                                <input\n                                    type=\"text\"\n                                    ref={refOfInputState[idx]}\n                                    value={i}\n                                 \n                                    onKeyDown={e=>{\n                                        if(e.key==\"Enter\"){\n                                            if(idx==formInputState.length-1){\n                                                refSubmitForm.current.focus()\n                                            }\n                                            else{\n                                                refOfInputState[idx+1].current.focus()\n                                            }\n                                        }\n                                    }}\n\n\n                                    onChange={e=>{changeInputState(e,idx)}}\n                                    disabled={(idx==0&&i==\"admin\")?\"disabled\":\"\"}\n                                />\n                            </div>\n                        </div>\n                    )\n                })\n            }\n        </div>\n\n    </div>\n)}\n\n//====================\n//console.log('ShopChangePassword')\n//====================\nconst renderFooter=()=>{\n    return(\n    <div style={{display:\"flex\",position:\"fixed\",bottom:\"1rem\",right:\"2rem\",zIndex:\"100\"}}\n    >\n        <div>\n            <button\n                ref={refSubmitForm}\n                onKeyDown={e=>{\n                    if(e.key==\"ArrowRight\"){\n                        refCancelForm.current.focus()\n                    }\n                }}\n                onClick={e=>{\n                    if(submitFunction){\n                        console.log(basicValueSetting)\n                        submitFunction(formInputState)\n                    }\n                }}\n            >\n                <FaCheck/>\n            </button>\n        </div>\n        \n        <div>\n            <button\n                ref={refCancelForm}\n                onKeyDown={e=>{\n                    if(e.key==\"ArrowLeft\"){\n                        refCancelForm.current.focus()\n                    }\n                }}\n                onClick={e=>{\n                    setShow(false)\n                }}\n            >\n                <FaBan/>\n            </button>\n        </div>\n\n    </div>\n    )\n}\n\nreturn (\n    <div className=\"Modal-background\">\n\n        <div className=\"Modal-box\" \n             style={{paddingBottom:\"1rem\",minWidth:\"60%\",\n                    minHeight:\"100px\",maxWidth:\"70%\"}}>\n            <div className=\"Modal-header\">\n                <div>\n                    <h5>{basicValueSetting.lb}</h5>\n                </div>\n                {renderFooter()}\n            </div>\n            <div className=\"Modal-body\" >\n                <div className=\"ModalInsideBody\">\n                 {                \n                  renderBody()\n                 }\n                </div>\n            </div>\n        </div>\n\n    </div>\n  );\n}\n\n\nBasicValueSetting.defaultProps={\n    lb:\"Form\",\n    setShow:()=>{},\n    submitFunction:null,\n    //submitCancel:null\n}\n\n\nexport default BasicValueSetting;\n\n","import { SettingsSharp } from '@material-ui/icons';\nimport React from 'react';\nimport {FaPlusSquare,FaMinusSquare,FaCheck,FaBan} from 'react-icons/fa'; \nimport uuid from 'react-uuid'\nimport '../Modal.css'\n\nfunction BasicValueSetting2({\n    pageData,\n    basicValueSetting,\n    setShow,\n    submitFunction,\n    //submitCancel\n}) {\n\n    console.log('basicValueSetting2...............')\n\n    const refSubmitForm=React.createRef() //\n    const refCancelForm=React.createRef() //\n\n\n    const genFormInputState=(array)=>{\n        let tempArray=[]\n        array.map((i,idx)=>{\n            let nextBranchId=i.branchId+1\n            if(idx==array.length-1){\n                tempArray=[...tempArray,{...i,nextBranchId:nextBranchId}]\n            }\n            else{\n                if(nextBranchId<array[idx+1].branchId){\n                    tempArray=[...tempArray,{...i,nextBranchId:nextBranchId}]\n                }\n                else{\n                    tempArray=[...tempArray,{...i,nextBranchId:null}]\n                }\n            }\n        })\n        return tempArray\n    }\n\n    //==========================\n    let [formInputState,setFormInputState]=React.useState(genFormInputState(basicValueSetting.array))\n\n    \n    const [editData,setEditData]=React.useState({\n       _id:null,\n       branchId:null,\n       branchName:\"\",\n       status:null\n    })\n\n    \n    React.useEffect(()=>{\n       //console.log('editData')\n       //console.log(editData)\n    },[editData])\n\n    React.useEffect(()=>{\n        console.log('formInputState')\n        console.log(formInputState)\n    },[formInputState])\n\n    //----------------------------------\n    const updateFormInputState=(i,editData)=>{\n        \n        if(editData._id){\n            let tempArray=[]\n            formInputState.map(j=>{\n                if(j._id==editData._id){\n                    tempArray=[...tempArray,editData]\n                }\n                else{\n                    tempArray=[...tempArray,j]\n                }\n            })\n            setFormInputState(tempArray)\n            setEditData({\n                _id:null,\n                branchId:null,\n                branchName:\"\",\n                status:null\n            })\n        }\n        else{\n            setEditData(i)\n        }\n\n    }\n\n    const addRow=(i)=>{\n\n        let tempArray=[]\n\n        formInputState.map((j,idx2)=>{\n            if(j._id==i._id){\n                \n                let tempObj={_id:uuid(),\n                             branchId:i.nextBranchId,\n                             branchName:\"\",\n                             nextBranchId:null}\n                \n                tempArray=[...tempArray,j,tempObj]\n            }\n            else {\n                tempArray=[...tempArray,j]\n            }\n\n        })\n\n        const tempArray2=genFormInputState(tempArray)\n\n        setFormInputState(tempArray2)\n \n    }\n    //---------------------------------\n    \n    const deleteRow=(idx)=>{\n        let tempArray=[]\n\n        formInputState.map((i,idx2)=>{\n            if(idx2!=idx){\n                tempArray=[...tempArray,i]\n            }\n        })\n\n        const tempArray2=genFormInputState(tempArray)\n        setFormInputState(tempArray2)\n    }\n\n//================================\n//================================\n\nconst renderBody=()=>{\n\n   return (\n    <div \n        className=\"w-100 flex-center-start jc-start\" \n        style={{marginBottom:\"0.2rem\"}}>\n        <div className=\"w-100\">\n            {\n                formInputState.map((i,idx)=>{\n                    return(\n                        <div className=\"flex-center-center\" \n                             key={idx}\n                             style={{marginBottom:\"0.2rem\"}}\n                        >\n                            <div className=\"w-10\">\n                                 {!editData._id&&i.nextBranchId\n                                 ?<FaPlusSquare className=\"sm-icon\"\n                                    onClick={e=>{        \n                                       addRow(i)\n                                    }}\n                                 />\n                                 :null\n                                 }   \n                            </div>\n                            <div className=\"w-10\">\n                                {idx>0&&!editData._id\n                                ?<FaMinusSquare className=\"sm-icon\"\n                                    onClick={e=>{\n                                       deleteRow(idx)\n                                    }}\n                                   />\n                                :null\n                                }\n                            </div>\n                            <div className=\"w-80\" style={{display:\"flex\"}}>\n                                    <div>{`${i.branchId}.`}</div>\n                                    {i._id==editData._id\n                                    ?<input\n                                        type=\"text\"\n                                        value={editData.branchName}\n                                        onChange={e=>{\n                                            setEditData({...editData,\n                                                branchName:e.target.value\n                                            })\n\n                                        }}\n                                        \n                                    />\n                                    :<div className=\"w-100\"\n                                        onClick={e=>{\n                                            updateFormInputState(i,editData)\n                                        }}\n                                     >\n                                    {i.branchName}\n                                    </div>\n                                    }\n                            </div>\n                        </div>\n                    )\n                })\n            }\n        </div>\n\n    </div>\n)}\n\n\n//====================\n//console.log('ShopChangePassword')\n//====================\n\nconst renderFooter=()=>{\n    return(\n    <div style={{display:\"flex\",position:\"fixed\",bottom:\"1rem\",right:\"2rem\",zIndex:\"100\"}}\n    >\n        <div>\n            <button\n                ref={refSubmitForm}\n                onKeyDown={e=>{\n                    if(e.key==\"ArrowRight\"){\n                        refCancelForm.current.focus()\n                    }\n                }}\n                onClick={e=>{\n                    if(submitFunction){\n                        submitFunction(formInputState,editData)\n                    }\n                }}\n            >\n                <FaCheck/>\n            </button>\n        </div>\n        \n        <div>\n            <button\n                ref={refCancelForm}\n                onKeyDown={e=>{\n                    if(e.key==\"ArrowLeft\"){\n                        refCancelForm.current.focus()\n                    }\n                }}\n                onClick={e=>{\n                    setShow(false)\n                }}\n            >\n                <FaBan/>\n            </button>\n        </div>\n\n    </div>\n    )\n}\n\n//=========================\n\nreturn (\n    <div className=\"Modal-background\">\n\n        <div className=\"Modal-box\" \n             style={{paddingBottom:\"1rem\",minWidth:\"60%\",\n                    minHeight:\"100px\",maxWidth:\"70%\"}}>\n            <div className=\"Modal-header\">\n                <div>\n                    <h5>{basicValueSetting.lb}</h5>\n                </div>\n                {\n                 renderFooter()\n                }\n            </div>\n            <div className=\"Modal-body\" >\n                <div className=\"ModalInsideBody\">\n                 {                \n                  renderBody()\n                 }\n                </div>\n            </div>\n        </div>\n\n    </div>\n  );\n}\n\n\nBasicValueSetting2.defaultProps={\n    lb:\"Form\",\n    setShow:()=>{},\n    submitFunction:null,\n    //submitCancel:null\n}\n\n\nexport default BasicValueSetting2;\n\n","//==========================    \n//test   : <h4>{showArray(people[0].email)}</h4>\n//result : peter1@mail.com, peter2@mail.com\n\nconst showArray=(arrs)=>{\n    if(arrs){if(arrs.length>0){ \n        let temp =''\n        arrs.forEach((i,index)=>{\n            temp=`${temp} ${i}`\n            \n            if(index!=arrs.length-1){\n                temp=`${temp}, `\n            }\n           \n        })\n         return temp\n    }}\n}\n\n//===========================\n// <h4>{showObject(people[0])} </h4>\n//id : 0, active : true, \n//email : peter1@mail.com, peter2@mail.com, \n//photo : upload/employee/room-1.jpeg, upload/employee/room-2.jpeg,\nconst showObject=(obj,children)=>{\n\n    const tempArray=Object.keys(obj)\n\n    let temp=''\n    tempArray.map((i,index)=>{\n        if(!obj[i]){}\n        else if(i==\"_id\") {} \n        else{\n            temp=temp+` ${obj[i]}`\n            if(index!=tempArray.length-1){\n                temp=`${temp},`\n            }\n        }\n    })\n\n    return temp\n}    \n\n//==================================\nconst showAddress=(obj)=>{\n    if(obj){\n        let {number,building,tambon,district,province,postcode}=obj\n        //console.log(obj)\n        number=number?` ${number}`:``\n        building=building?`  ${building}`:``\n        tambon=tambon?`  ${building}`:``\n        district=district?`  ${building}`:``\n        province=province?`  ${province}`:``\n        postcode=postcode?`  ${postcode}`:``\n\n        const address=number+building+tambon+district+province+postcode\n        return address\n    }\n}\n\n//----------------------------------\n\nconst showUtil={showArray,showObject,showAddress}\n\nexport default showUtil\n\n","/*\n\nimport renderModalImage from './renderModalImage'\n\nconst [showModalImage,setShowModalImage]=React.useState(false)\nlet [imageSrc,setImageSrc]=React.useState(null)\n\n<img className=\"img\" \n    src={imgSrc} \n    ref={refImg}\n    style={{width:\"auto\"}}\n    onClick={e=>{\n        setImageSrc(imgSrc)\n        setTimeout(()=>{\n            setShowModalImage(true)\n        },50)\n    }} \n/>\n\nrender\n{renderModalImage({show:showModalImage,setShow:setShowModalImage,imgSrc:imageSrc})}\n*/\n\nimport React from 'react';\nimport '../../render/Modal.css'\nconst renderModalImage=({show,setShow,imgSrc,modalImageWidth,setModalImageWidth})=>{\nreturn(\n    show\n    ?<div className=\"Modal-background\">\n        <div style={{width:\"90%\",height:\"90%\",\n                     border:\"solid black 1px\",\n                     position:\"relative\",\n                     overflow:\"scroll\"}}>\n            <img className=\"\" \n                 onClick={e=>{setShow(false)}} \n                 src={imgSrc} \n                 style={{width:`${modalImageWidth}%`}} />\n            \n            <div  style={{position:\"fixed\",top:\"5px\",width:\"90vw\"}}>\n                <input type=\"range\" min=\"10\" max=\"200\"   \n                    value={modalImageWidth}\n                    onChange={e=>{setModalImageWidth(e.target.value)}} \n                />\n            </div>       \n        </div>\n     \n    </div>\n    :null\n)}\n\nexport default renderModalImage\n\n\n/*\n   <div style={{height:\"100%\",\n                     width:\"100%\",\n                     objectFit:\"cover\",\n                     overflow:\"scroll\"}} >\n            <img className=\"\" \n                 onClick={e=>{setShow(false)}} \n                 src={imgSrc} \n                 style={{width:`${modalImageWidth}%`}} />\n\n            <div  style={{position:\"absolute\",top:\"5px\",width:\"100%\"}}>\n                <input type=\"range\" min=\"10\" max=\"200\"   \n                    value={modalImageWidth}\n                    onChange={e=>{setModalImageWidth(e.target.value)}} \n                />\n            </div>     \n        </div>\n\n\n*/","import React from 'react'\n\n//import $ from 'jquery';\n//import './Galleryone.css';\n\n//import Galleryone from './component/galleryone/Galleryone'\n//<div style={{width:\"300px\",border:\"1px solid black\"}}>\n//  <Galleryone imgarrs={[\"/upload/employee/room-5.jpeg\",\"/upload/employee/room-1.jpeg\"]}/>\n//</div>\n\nimport renderModalImage from './renderModalImage'\n\nfunction Galleryone({imgarrs,width}) {\n    \n    const [showModalImage,setShowModalImage]=React.useState(false)\n    let [imageSrc,setImageSrc]=React.useState(null)\n\n    let [modalImageWidth,setModalImageWidth]=React.useState(100);\n\n\n    const getFrameWidth=(widtht)=>{\n        if(width){\n            const tempLength=width.length\n\n            if( (width.substring(tempLength-1,tempLength)==\"%\")|| (width.substring(tempLength-2,tempLength)==\"px\")||(width.substring(tempLength-3,tempLength)==\"rem\") ){\n                return {width:width}\n            }\n            else {\n                return {width:`${width}px`}\n            }\n        }\n      \n    }\n\n\n    const getTrackWidth=(width,imgarrs)=>{\n        if(width){\n            const tempLength=width.length\n\n            if( width.substring(tempLength-1,tempLength)==\"%\"){\n                const tempWidth=parseInt(width.substring(0,tempLength-1))\n                return {width:`${tempWidth*imgarrs.length}%`}\n            }\n            else if(width.substring(tempLength-2,tempLength)==\"px\"){\n                const tempWidth=parseInt(width.substring(0,tempLength-2))\n                return {width:`${tempWidth*imgarrs.length}px`}\n            }\n            else if(width.substring(tempLength-3,tempLength)==\"rem\"){\n                const tempWidth=parseInt(width.substring(0,tempLength-3))\n                return {width:`${tempWidth*imgarrs.length}rem`}\n            }\n            else {\n                return {width:`${width*imgarrs.length}px`}\n            }\n        }\n    }\n\n    const renderImg=(arrs)=>{\n\n        if(arrs){\n            return arrs.map((i,index)=>{\n                if(i!==\"\"){\n\n\n                    let imgSrc\n                    let imgName\n                    let isFile\n                    if(i.blob){\n                        isFile=true\n                        imgSrc=i.blob\n                        imgName=i.name \n                    }    \n                    else {\n                        isFile=false\n                        imgSrc=i\n                        imgName=i\n                    }\n                    //style={{height:'100%',width:'100%',\n                    //display:'grid',placeItems: 'center',\n                    //}}\n                    return    (\n                        <div key={index} style={{height:'100%',width:'100%'}}>\n                            <img className=\"img\" \n                                 src={imgSrc} \n                                 style={{\n                                        width:'100%',\n                                        objectFit:\"cover\"\n                                    }}\n                                    onDoubleClick={e=>{\n                                        setImageSrc(imgSrc)\n                                        setTimeout(()=>{\n                                            setShowModalImage(true)\n                                        },50)\n                                    }} \n                            />\n                        </div>   \n                    )\n\n                } //if(i!==\"\")\n\n\n            }) \n        }\n    } \n    //console.log($(`#img-id`).width()*0.57)\n    //style={{width:'100%',height:imgFrameHeight,overflow:\"auto\"}}\n    // <div style={{height:\"100%\",width:entparWidth}} >\n    //\n    //\n    //\n    //<div style={{height:\"100%\"}} >\n    return (\n        <div style={{width:\"100%\"}} >\n        {\n        renderModalImage({show:showModalImage,setShow:setShowModalImage,imgSrc:imageSrc,\n                          modalImageWidth,setModalImageWidth\n        })\n        }\n        {\n            //getWidthHeight(width,height)\n            //width:`${width}px`\n        }\n\n        {\n        (imgarrs)\n        ?\n            <div className=\"img-frame border\" \n                id=\"img-id\"\n                style={{...getFrameWidth(width),overflow:\"auto\"}}    \n            >       \n                <div className=\"img-track\" \n                        style={{display:'flex',...getTrackWidth(width,imgarrs)}}>\n                {\n                  renderImg(imgarrs)\n                }\n                </div>  \n            </div>\n        :<p>No Photo</p>\n        }\n        \n        </div>\n    )\n}\n//style={{width:'100%',height:imgFrameHeight,overflow:\"auto\"}}\n\n\nGalleryone.defaultProps={\n    imgarrs:[]\n}\n\nexport default Galleryone;","import React from 'react';\nimport {MdClose, MdRadioButtonChecked,MdRadioButtonUnchecked} from 'react-icons/md';\nimport {FaTags} from 'react-icons/fa'\nimport jsImageCompressor from 'js-image-compressor';\n//=================================\nfunction LineForm(props) {\n\nconst {i,idx,objKeys,tableTemplate,showTable,\n       updateFilterData,basicData,\n       findProductIdByKeyDown,findBarcodeByKeyDown,calDigit\n}=props\n\nconsole.log('LineForm i....')\n\n//console.log(i)\nlet [inputState,setInputState]=React.useState(i)\n\nconst [showTag,setShowTag]=React.useState(false)\n\nReact.useEffect(()=>{\n   setInputState(i)\n},[i])\n\n\nconst priceLevelHeadCell={\n        padding:\"0.3rem\",\n        display:'flex',\n        alignItems:'center',\n        justifyContent:'center',\n        fontSize:\"0.8rem\",\n        border:\"0.5px solid #777\"\n}\n\nconst priceLevelHead={\n        display:\"grid\",\n        gridTemplateColumns:\"100px 200px\",\n        gridAutoRows:\"1.2rem\",\n        backgroundColor:\"#ccc\"\n}\n\nconst priceLevelBody={\n    display:\"grid\",\n    gridTemplateColumns:\"100px 200px\",\n    gridAutoRows:\"1.2rem\",\n    backgroundColor:\"white\"\n}\n\nconst renderSelectOption=(j)=>{\n    //console.log(j)\n    //console.log(basicData)\n    //console.log(basicData[j])\n    if(basicData){\n        return basicData[j].map((i,index)=>(\n                <option key={index} value={i}>{i}</option>\n            )\n        )\n    }\n    else {\n        return null\n    }\n}\n//<option selected=\"selected\"> {inputState[j]}</option>\n\n\nconst renderSelect=(j)=>{\n    return(\n        <select style={{height:\"100%\",backgroundColor:\"#e6ffcc\"}} \n            defaultValue={inputState[j]}\n            onChange={e=>{\n                setInputState({...inputState,[j]:e.target.value})\n                updateFilterData(idx,{...inputState,[j]:e.target.value})\n            }}\n        >\n            <option value=\"\" hidden>list below...</option>\n            <option selected> {inputState[j]}</option>\n            {\n                renderSelectOption(j)\n            }\n\n        </select>       \n    )\n}\n\n\n/*\n\n return (\n        <select className=\"w-100\"\n            style={{height:\"1.5rem\"}}\n            value={inputState[j]}\n            onChange={e=>{\n\n            }}\n            >  \n                <option value=\"\" hidden>list below...</option>\n                {\n                    //renderSelectCondition()\n                }\n    \n    \n            </select>\n        )\n\n*/\n\nconst renderRadio=(idx,inputState_j)=>{\n    //return <input type=\"radio\"/>\n    \n    if(inputState_j){\n        return <MdRadioButtonChecked className=\"sm-icon\"\n            onClick={e=>{\n                setInputState({...inputState,selectedLine:false})\n                updateFilterData(idx,{...inputState,selectedLine:false})\n            }}\n        />\n    }\n    else{\n        return <MdRadioButtonUnchecked className=\"sm-icon\"\n            onClick={e=>{\n                setInputState({...inputState,selectedLine:true})\n                updateFilterData(idx,{...inputState,selectedLine:true})\n            }}\n        />\n    }\n}\n\n\n\n\nconst renderInput=(j)=>{\n  \n    if(tableTemplate[j].type==\"boolean\"){\n        return (\n        <div className=\"flex-center-center\" style={{height:\"100%\",width:\"100%\"}}>\n            <div style={{height:\"80%\",width:\"1.2rem\"}}>\n             <input \n                type=\"checkbox\"\n                checked={inputState[j]}\n                style={{margin:\"0\",padding:\"0\"}}\n                onChange={e=>{\n                    const temp={...inputState,[j]:e.target.checked}\n                    setInputState(temp)\n                }}\n                onBlur={e=>{\n                    updateFilterData(idx,inputState)\n                }}\n            />\n            </div>\n        </div>\n        )\n    }\n\n    else if(tableTemplate[j].type==\"price\"){\n\n        //console.log('price inputState.....................')\n        //console.log(inputState)\n        //console.log(inputState.priceLevel)\n        //console.log(tableTemplate[j].type)\n\n        return(\n            <div className=\"flex-center-center h-100 w-100\" style={{position:\"relative\"}}>\n                {showTag\n                ?<div style={{backgroundColor:\"white\",\n                             position:\"absolute\",top:\"2.5rem\"\n                            }}\n                 >\n                    \n                    <div style={priceLevelHead}>    \n                        <div style={priceLevelHeadCell}>    \n                                \n                        </div>\n\n                        <div style={priceLevelHeadCell}>    \n                                \n                        </div>\n                    </div>\n\n                    {\n                 \n                        inputState.priceLevel.map((l,index3)=>{\n                            return(\n                            <div key={index3} style={priceLevelBody}\n                                 onClick={e=>{\n                                    \n                                    //calDigit\n                                    let myvalue=parseInt(l.price*calDigit)/calDigit\n                                    //}\n                                    const tempInputState={...inputState,\n                                        [\"price\"]:myvalue,\n                                        [\"result\"]:parseInt(myvalue*inputState.quantity*calDigit)/calDigit\n                                    }\n\n                                    //const tempInputState={...inputState,['price']:l.price}\n                                    //console.log('tempInputState')\n                                    // console.log(tempInputState)\n\n                                    setInputState(tempInputState)\n                                    setShowTag(false)\n                                    updateFilterData(idx,tempInputState)\n\n                                 }}\n \n                    \n                            >    \n                                <div style={priceLevelHeadCell}>    \n                                    {l.price}\n                                </div>\n        \n                                <div style={priceLevelHeadCell}>    \n                                    {l.remark}\n                                </div>\n                            </div>\n                            )\n                        })\n                        \n                    }\n\n                </div>\n                :null\n                }\n                <div className=\"w-15\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>     \n                    <FaTags\n                        onClick={e=>{\n                             setShowTag(!showTag)\n                        }}\n                    />\n                </div>\n                <div className=\"w-85 h-100\">\n                    <input value={inputState[j]} \n                        checked={inputState[j]}\n                        style={{height:j==\"selectedLine\"?\"50%\":\"100%\",\n                                backgroundColor:\"#e6ffcc\"}}\n                        type={\"number\"}\n                        onChange={e=>{\n                            if(tableTemplate[j].type!=\"radio\"){\n                                //console.log('aaaa')\n                                //let myvalue=e.target.value\n                                //if(tableTemplate[j].type==\"number\"){\n\n                                //calDigit\n                                let myvalue=parseInt(e.target.value*calDigit)/calDigit\n                                //}\n                                const temp={...inputState,\n                                        [j]:myvalue,\n                                        [\"result\"]:parseInt(myvalue*inputState.quantity*calDigit)/calDigit\n                                    }\n\n                                setInputState(temp)\n                            }\n                        }}\n                        onBlur={e=>{\n                            updateFilterData(idx,inputState)\n                        }}\n                    />\n                </div>\n            </div>\n        )\n    }\n\n    else {\n\n        if( (j==\"unit\")||(j==\"jobStatus\")||(j==\"effectSpending\")||\n            (j==\"effectCustomerPoint\") ||(j==\"effectStock\")||(j==\"position\") ){\n            return renderSelect(j)\n        }\n        else if(j==\"id\"||j==\"barcode\"){\n            return (\n                <input value={inputState[j]} \n                    style={{height:\"100%\",\n                            backgroundColor:\"#e6ffcc\"\n                           }} \n                    \n                    type={tableTemplate[j].type}\n                    onChange={e=>{\n                        \n                        let temp\n                        let myvalue=e.target.value\n\n                        temp={...inputState,[j]:myvalue}\n                        setInputState(temp)\n                        \n                    }}\n\n                    onKeyDown={e=>{\n                        if(j==\"id\"){\n                            findProductIdByKeyDown(e,j,inputState[j],idx)\n                        }\n                        if(j==\"barcode\"){\n                            findBarcodeByKeyDown(e,j,inputState[j],idx)\n                        }\n                    }}\n\n                    onBlur={e=>{\n                        updateFilterData(idx,inputState)\n                    }}\n                />\n            )\n        }\n    \n        else {\n            return (\n\n                <input value={inputState[j]} \n                    checked={inputState[j]}\n                    style={{height:j==\"selectedLine\"?\"50%\":\"100%\",\n                            backgroundColor:\"#e6ffcc\"\n                           }} \n                    \n                    type={tableTemplate[j].type}\n                    onChange={e=>{\n                        if(tableTemplate[j].type!=\"radio\"){\n                            //console.log('aaaa')\n                            let temp\n                            let myvalue=e.target.value\n                            if(tableTemplate[j].type==\"number\"){\n                               \n                                if(j==\"price\"){\n                                    \n                                    //calDigit\n                                    myvalue=parseInt(e.target.value*calDigit)/calDigit\n                                    temp={...inputState,\n                                          [j]:myvalue,\n                                          \"result\":parseInt(inputState.quantity*myvalue*calDigit)/calDigit\n                                         }\n                                    setInputState(temp)\n                                }\n                                else if(j==\"quantity\"){\n                                    //myvalue=parseInt(e.target.value)\n                                    //calDigit\n                                    myvalue=parseInt(e.target.value*calDigit)/calDigit\n                                    temp={...inputState,\n                                        [j]:myvalue,\n                                        \"result\":parseInt(inputState.price*myvalue*calDigit)/calDigit\n                                    }\n                                    setInputState(temp)\n                                }\n                                else {\n                                    temp={...inputState,[j]:myvalue}\n                                    setInputState(temp)\n                                }\n                              \n                            }\n\n                            else {\n                                temp={...inputState,[j]:myvalue}\n                                setInputState(temp)\n                            }\n                            \n                        }\n                    }}\n                    onBlur={e=>{\n                        updateFilterData(idx,inputState)\n                    }}\n                />\n            )\n        }\n    }\n}\n\n//==========================\nreturn(\n<div \n    className=\"TableGrid-body\" \n    style={{display:\"grid\",\n        gridTemplateColumns:showTable.gridCol,\n        gridAutoRows:\"minmax(2rem,auto)\"\n    }}\n   \n>    \n  \n    {objKeys.map((j,index2)=>\n            tableTemplate[j].showCol\n            ?<div \n                key={index2}\n                style={{\n                    textAlign:\"left\",\n                    width:`${tableTemplate[j].width}px`,\n                    display:\"flex\",\n                    justifyContent:\"center\",\n                    alignItems:\"center\",\n                    backgroundColor:\"#e6ffcc\"\n                }}\n                onClick={e=>{\n                    /*\n                    if(tableTemplate[j].type==\"radio\"){\n                        setInputState({...inputState,[j]:!inputState[j]})\n                    }\n                    */\n                }}\n            >\n\n                {\n                tableTemplate[j].type==\"radio\"\n                ?renderRadio(idx,inputState[j])\n                :renderInput(j)\n                }\n\n            </div>\n            :null\n    )}\n\n</div>\n\n)\n}\n\nLineForm.defaultProps={\n  calDigit:100\n}\n\n\n\n\n\nexport default LineForm;\n\n","\nimport React from 'react'\nimport showUtil from '../../util/showUtil'\nimport tableUtil from './tableUtil'\nimport Galleryone from '../galleryone/Galleryone'\n\nimport LineForm from './LineForm'\nimport {MdClose,MdArrowUpward,MdArrowDownward,\n       MdSettings,MdSave,MdRadioButtonChecked,MdRadioButtonUnchecked,\n       MdCheckBox,MdCheckBoxOutlineBlank,MdEdit\n\n} from 'react-icons/md';\n\nimport './Table.css'\n\nconst {showArray,showObject} = showUtil\nconst {sortColumn,numberWithCommas} = tableUtil\n\nconst renderTable=({\n  colorHead,\n  tableTemplate,setTableTemplate,\n  filterData,setFilterData,\n  editData,setEditData,\n  showTable,\n  isSubTable,\n  sumAmount,\n  setShowTableSetting,\n  saveTableTemplateFunc,\n  updateFilterData,\n  useInput,\n  basicData,\n  findProductIdByKeyDown,\n  findBarcodeByKeyDown,\n  showSearchHeader,\n  XY,setXY,\n  captureClientXY,\n  calDigit,\n  editIconField,\n  editIconFieldFunc,\n  genObjKeysByColOrder\n})=>{\n\n  //console.log('renderTable..................')\n  //console.log(tableTemplate)\n  //updateFilterData()\n  \n  const calSumValue=({value,key})=>{\n    if(showTable.showSum){\n      //console.log(key)\n      //console.log(value)\n    }\n  }\n\n  /*\n  const numberWithCommas=(x,caldigit)=>{\n    //const temp=x.toString().split(\".\")\n    //console.log(temp)\n    if(x){\n      const temp=x.toString().split(\".\")\n      const beforeDot=temp[0].toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")\n\n      if(temp.length>1){\n        return `${beforeDot}.${temp[1]}`\n      }\n      else{\n        return beforeDot\n      }\n    }\n    else if(x===0){\n      return 0\n    }\n  }\n*/\n\n\n  const getEditColor=(i)=>{\n    let temp=\"black\"\n    if(editData){\n      \n      if(editData._id==i._id){\n        temp=\"red\"\n      }\n\n    }\n    return temp\n  }\n\n  const renderSearchHeader=(tableTemplateI,i)=>{\n    console.log('tableTemplateI')\n\n    const filterByString=(value)=>{\n        let tempArray=[]\n\n        const word=value\n        const suffix=\"\\w*\"\n        const pattern=suffix+word+suffix\n\n        filterData.map(j=>{\n          const result=new RegExp(pattern,\"gi\").test(j[i])\n          if(result){\n            tempArray=[...tempArray,j]\n          }\n        })\n\n        setFilterData(tempArray)\n    }\n    \n    const filterByCheckbox=(value)=>{\n        let tempArray=[]\n\n        filterData.map(j=>{\n          if(j[i]==value){\n            tempArray=[...tempArray,j]\n          }\n        })\n\n        setFilterData(tempArray)\n    }\n\n    const filterByNumber=(value)=>{\n        let tempArray=[]\n\n        const pattern=value.toString()\n\n        filterData.map(j=>{\n          const result=new RegExp(pattern,\"gi\").test(j[i])\n          if(result){\n            tempArray=[...tempArray,j]\n          }\n        })\n\n        setFilterData(tempArray)\n    }\n\n\n    const {lb,showCol,showColHead,type,width}=tableTemplateI   \n\n    const renderInput=()=>{\n      if(type==\"boolean\"){\n        return (\n          <div style={{height:\"100%\",width:\"1.7rem\",\n                      display:\"flex\",alignItems:\"center\",justifyContent:\"center\"}}>\n            <input type=\"checkbox\"\n                   onKeyDown={e=>{\n                    if(e.key==\"Enter\"){\n                      filterByCheckbox(e.target.checked)\n                    }\n                   }}\n            />\n          </div>\n        )\n      }\n      else if(type==\"radio\"){\n        return null\n      }\n      else{\n        return (\n          <input type={type}\n                onKeyDown={e=>{\n                  if(e.key==\"Enter\"){\n                    if(type==\"number\"){\n                      filterByNumber(e.target.value)\n                    }\n                    else {\n                      filterByString(e.target.value)\n                    }\n                  }\n                }}\n          />\n        )\n      }\n\n    }\n    \n    return (\n        <div className=\"\"\n             style={{paddingBottom:\"5px\",\n                     //position:\"relative\",\n                     display:\"flex\",\n                     alignItems:\"center\",justifyContent:\"center\",\n                     height:\"1.9rem\"\n                    }}\n        >\n          {\n            renderInput()\n          }\n        </div>\n      \n      )\n  }\n\n\n  const showContent=(i,j,type,width,children,index1)=>{\n    //console.log(children)\n    /*\n    {showContent(\n      i, each line of filterData\n      j, each of Object Key\n      tableTemplate[j].type,tableTemplate[j].width,\n      tableTemplate[j].children)}\n    */\n    let showColor=\"black\"\n    \n    if(editData){\n      if(i._id==editData._id){\n        showColor=\"red\"\n      }  \n    }\n\n    if(j==\"selectedLine\"){\n      return  i.selectedLine\n              ?<div className=\"w-100 h-100\" style={{position:\"relative\",zIndex:\"1\"}}\n              >\n                  <MdRadioButtonChecked className=\"sm-icon\"\n                    style={{margin:\"5px auto\",width:\"100%\"}}\n                    onClick={e=>{\n                      //console.log('onClick')\n                      //console.log(i)\n                      updateFilterData(index1,{...i,selectedLine:false})\n                    }}\n                  />\n                  \n                  <p className=\"table-p\" \n                     style={{position:\"absolute\",top:\"0\"}}>{index1+1}</p>\n                    \n                </div>\n              :<div className=\"w-100 h-100\" style={{position:\"relative\",zIndex:\"1\"}}\n              >\n                  <MdRadioButtonUnchecked className=\"sm-icon\"\n                    style={{margin:\"5px auto\",width:\"100%\"}}\n                    onClick={e=>{\n                      //console.log('onClick')\n                        //console.log(i)\n                      updateFilterData(index1,{...i,selectedLine:true})\n                    }}\n                  />\n                  \n                  <p className=\"table-p\" \n                    style={{position:\"absolute\",top:\"0\"}}>{index1+1}</p>\n                  \n              </div>\n    }\n    else if(type==\"array\"){\n      return <p className=\"table-p\"\n                style={{color:showColor,margin:\"0.1rem 0\"}}>\n        {showArray(i[j])}</p>\n    }\n    else if(type==\"arrayObject\"){\n      return( i[j].map((k,idx)=>{\n        return (\n        <p className=\"table-p\" \n          style={{color:showColor,margin:\"0.1rem 0\"}} key={idx}>\n          {showObject(k,children)}</p>\n        )}\n      ))\n\n    }else if(type==\"arrayPhoto\"){\n      \n      return(  \n        <Galleryone imgarrs={i[j]} width={width}/>\n      )\n    }\n    //<p style={{color:showColor,margin:\"0.5rem 0\"}} >{i[j]?``:``}</p>\n    //(i[j]?<MdCheckBox/>:<MdCheckBoxOutlineBlank/>)\n    else if(type==\"boolean\"){\n      return <div className=\"flex-center-center\" style={{marginTop:\"0.3rem\"}}>\n              {i[j]\n              ?<MdCheckBox className=\"sm-icon\"/>\n              :<MdCheckBoxOutlineBlank className=\"sm-icon\"/>\n              }\n            </div>\n    }\n    else if(type==\"date\"){\n      let tempDate=null\n      if(i[j]){\n        const date1=new Date(i[j]).toISOString()\n        const date2=new Date(date1).toLocaleString('en-GB')\n\n        tempDate= date2.substring(0,10)\n\n      }\n      return  <p  className=\"table-p\"\n                 style={{color:showColor,margin:\"0.1rem 0\"}} >\n        {tempDate\n        /*?`${i[j].substring(8,10)}-${i[j].substring(5,7)}-${parseInt(i[j].substring(0,4))+543}`*/\n        ?`${tempDate}`\n        :null\n        }</p>\n    }\n     \n    else if(type==\"time\"){\n      let tempTime=null\n      if(i[j]){\n        const date1=new Date(i[j]).toISOString()\n        const date3=new Date(date1).toLocaleString('en-GB')\n        tempTime=date3.substring(12,17)\n      }\n      return  <p className=\"table-p\"\n                  style={{color:showColor,margin:\"0.1rem 0\"}} >\n        {tempTime\n        ?`${tempTime}`\n        :null\n        }</p>\n    }\n    \n    else if(j==\"point\"||j==\"totalPoint\"){\n      return <p className=\"table-p\"\n                style={{color:showColor,margin:\"0.1rem 0\"}}>\n            {numberWithCommas(i[j],calDigit,j)}\n          </p>\n    }\n    else if(type==\"price\"||j==\"result\"||j==\"quantity\"||\n            j==\"price\"||j==\"total\"||j==\"grandTotal\"||\n            j==\"totalReduction\"||j==\"totalTax\"\n            ){\n      return <p className=\"table-p\"\n                  style={{color:showColor,margin:\"0.1rem 0\"}}>\n              {\n                numberWithCommas(i[j],calDigit,j)\n              }\n        </p>\n    }\n    else if(type==\"number\"){\n      return <p className=\"table-p\"\n                  style={{color:showColor,margin:\"0.1rem 0\"}}>{i[j]}</p>\n    \n  }\n    else if(type==\"object\"){\n      return null\n    }\n    else{\n      return <p className=\"table-p\" \n              style={{color:showColor,margin:\"0.1rem 0\"}}>{i[j]}</p>\n    }\n  }\n\n  const handleChange=(i,value)=>{\n      let temp=tableTemplate[i]\n      temp={...temp,width:value}\n      setTableTemplate({...tableTemplate,[i]:temp}) \n  }\n\n  const renderToolBarForColumn=(i)=>{\n    return(\n      <div className=\"\"\n      style={{\n          width:\"300px\",\n          height:\"70px\",\n          backgroundColor:\"#3b5d52\",\n          borderRadius:\"15px\",\n          boxShadow:\"5px 5px 10px\",\n          position:\"absolute\",\n          top:`80px`,\n          left:`0px`,\n          zIndex:\"600\"\n      }}    \n  >  \n    <input \n      style={{width:\"100%\"}}\n      type=\"range\" min=\"10\" max=\"1000\" \n      value={tableTemplate[i].width}\n      onChange={e=>{\n          //console.log('i...........')\n          //console.log(i)\n          //console.log(e.target.value)\n          handleChange(i,e.target.value)\n        }} \n    />\n    <div style={{width:\"100%\",display:\"flex\",\n           alignContent:\"center\",justifyContent:\"space-around\"}}>\n          <MdSettings\n              className=\"md-icon\"\n              onClick={e=>{\n                if(setShowTableSetting){\n                  setShowTableSetting(true)\n                }\n              }}\n          />\n          <MdSave\n              className=\"md-icon\"\n              onClick={e=>{\n                saveTableTemplateFunc(tableTemplate)\n              }}\n          />\n      \n          {isSubTable\n          ?null\n          :<MdArrowDownward \n            className=\"md-icon\"\n            onClick={e=>{\n              const temp=\n                sortColumn(filterData,i,tableTemplate[i].type,\"a-b\")\n                //console.log('temp')\n                //console.log(temp)  \n              if(Array.isArray(temp)){\n                setFilterData(temp)\n              }                              \n            }}\n          />\n          }\n          {isSubTable\n          ?null\n          :<MdArrowUpward \n            className=\"md-icon\"\n            onClick={e=>{\n              const temp=\n                sortColumn(filterData,i,tableTemplate[i].type,\"b-a\")\n              //console.log('temp')\n              //console.log(temp)\n              if(Array.isArray(temp)){\n                setFilterData(temp)\n              }                              \n            }}\n          />\n          }\n          <MdClose \n            className=\"md-icon\"\n            onClick={e=>{\n              let temp=tableTemplate[i]\n              let tempBool=tableTemplate[i].showColHead\n              temp={...temp,showColHead:!tempBool}\n              setTableTemplate({...tableTemplate,[i]:temp})\n\n            }}\n          />\n    </div>\n  </div>\n    )\n  }\n\n  //-------------------------------\n\n \n  const objKeys = genObjKeysByColOrder(tableTemplate)//Object.keys(tableTemplate);\n\n  return(\n  //Frame //overflow-hide-on-print\n  <div className=\"w-100 h-100 overflow-hide-on-print\"\n       style={{padding:\"0 0 2rem 0\"}}\n  >\n\n    {/*Track*/}\n    <div style={{width:`${showTable.width}px`}}>   \n  \n\n    {/*Table Head*/}\n    <div className=\"TableGrid-head\" \n        style={{display:\"grid\",\n                 gridTemplateColumns:showTable.gridCol,\n                 gridAutoRows:\"minmax(1rem,auto)\",\n                 position:'sticky',top:'0',\n                 backgroundColor:colorHead,\n                 zIndex:\"10\"\n              }}> \n      { objKeys.map((i,index)=>{\n          \n        return(\n          tableTemplate[i].showCol\n          ?<div \n              key={index}\n              style={{\n                  width:`${tableTemplate[i].width}px`,\n                  padding:\"0 0.3rem\",\n                  position:\"relative\",\n                  display:'flex',\n                  alignItems:'center',\n                  justifyContent:'space-around',\n              }}   \n          >   \n          {tableTemplate[i].showColHead \n            ?null\n            :renderToolBarForColumn(i)\n          }\n              \n          { \n            tableTemplate[i].showColHead  \n            ?<div className=\"w-100\">\n\n                <p className=\"tablehead-p\"\n                   style={{textAlign:\"center\"}}\n                  onClick={e=>{  \n                    //console.log('----------')\n                    //console.log(e.clientX)\n                    //console.log(e.clientY)\n                    //setXY({x:e.clientX,y:e.clientY})\n\n                    let temp=tableTemplate[i]\n                    let tempBool=tableTemplate[i].showColHead\n                    temp={...temp,showColHead:!tempBool}\n                    setTableTemplate({...tableTemplate,[i]:temp})\n                  }}\n                >{tableTemplate[i].lb}</p>\n                { \n                  showSearchHeader\n                  ?renderSearchHeader(tableTemplate[i],i)\n                  :null\n                }\n             </div>\n            :\n              <div className=\"flex-center-center flex-no-wrap\"\n              >\n                <MdClose className=\"md-icon\"\n                  onClick={e=>{\n                    //console.log('MdClose')\n                    //console.log(`x=${e.clientX} y=${e.clientY}`)\n                    let temp=tableTemplate[i]\n                    let tempBool=tableTemplate[i].showColHead\n                    temp={...temp,showColHead:!tempBool}\n                    setTableTemplate({...tableTemplate,[i]:temp})\n                    \n                  }}\n                className=\"md-icon\"/>\n               \n              </div>                   \n            }\n          </div>\n          :null\n        )\n      })}\n    </div>\n  \n    {/*Table Body*/} \n    {filterData.map((i,index1)=> {\n      let passCheck=false\n      if( (editData)&&(useInput) ){\n        if(editData._id==i._id){\n          passCheck=true\n        }\n      }\n            \n      if(passCheck){\n        return (\n          <LineForm\n            i={i}\n            key={index1}\n            idx={index1}\n            objKeys={objKeys}\n            tableTemplate={tableTemplate}\n            showTable={showTable}\n            updateFilterData={updateFilterData}\n            basicData={basicData}\n            findProductIdByKeyDown={findProductIdByKeyDown}\n            findBarcodeByKeyDown={findBarcodeByKeyDown}\n            calDigit={calDigit}\n          />\n        )\n      }\n      else {\n        return(\n            <div  key={index1} \n                className=\"TableGrid-body\" \n                style={{display:\"grid\",\n                    gridTemplateColumns:showTable.gridCol,\n                    //gridAutoRows:minmax(\"10px,auto\"),//dfsf\n                }}\n                \n            >    \n              {objKeys.map((j,index2)=>\n                  tableTemplate[j].showCol\n                  ?<div \n                      key={index2}\n                      style={{\n                          display:\"flex\",\n                          textAlign:\"left\",\n                          width:`${tableTemplate[j].width}px`,\n                      }}\n\n                      onClick={e=>{\n                        //setEditData(null)\n                        if(tableTemplate[j].type!=\"radio\"){\n                          setEditData(i,e)\n                          captureClientXY(e.clientX,e.clientY)\n                        }\n                    }}\n                  >\n                  {showContent(i,j,\n                    tableTemplate[j].type,\n                    tableTemplate[j].width,\n                    tableTemplate[j].children,\n                    index1\n                    )}\n\n                    {\n                      editIconField==j&&\n                      <MdEdit className=\"sm-icon\"\n                              style={{color:getEditColor(i)}}\n                              onClick={e=>{\n                                editIconFieldFunc(i)\n                              }}\n                      />\n                    }\n\n\n                  </div>\n                  \n                  :null\n              )}\n            </div>\n        )\n      }\n    })}\n  \n    {/*Table Footer*/}\n    {\n      sumAmount\n      ? <div \n            className=\"TableGrid-body\" \n            style={{display:\"grid\",\n                gridTemplateColumns:showTable.gridCol,\n                //gridAutoRows:\"minmax(1rem,auto)\",\n                backgroundColor:\"#2184A0\"\n            }}\n\n        >    \n          {objKeys.map((k,index3)=>{\n            \n            let tempCheck=false\n            if(tableTemplate[k].type==\"number\"){\n              if(k.includes(\"id\")||k.includes(\"Id\")||k==\"queue\"){\n                tempCheck=false\n              }\n              else{\n                tempCheck=true\n              }\n            }\n\n            return tableTemplate[k].showCol\n            \n                  ?<div \n                      key={index3}\n                      style={{\n                          textAlign:\"left\",\n                          width:`${tableTemplate[k].width}px`,\n                      }}\n                  >\n                      {\n                        tempCheck\n                        ?numberWithCommas(sumAmount[k],calDigit,k)\n                        :null\n                      }\n                  </div>\n                  :null\n          })}\n      </div>\n      :null\n    }            \n    </div>\n  </div>\n  \n  )\n}\nexport default renderTable\n\n\n\n/*\n\n    {\n      sumAmount\n      ? <div \n            className=\"TableGrid-body\" \n            style={{display:\"grid\",\n                gridTemplateColumns:showTable.gridCol,\n                //gridAutoRows:\"minmax(1rem,auto)\",\n                backgroundColor:\"#2184A0\"\n            }}\n\n        >    \n          {objKeys.map((k,index3)=>{\n            \n            let tempCheck=false\n            if(tableTemplate[k].type==\"number\"){\n              if(k.includes(\"id\")||k.includes(\"Id\")){\n                tempCheck=false\n              }\n              else{\n                tempCheck=true\n              }\n            }\n\n            return tableTemplate[k].showCol&&tempCheck\n              ?<div \n                  key={index3}\n                  style={{\n                      textAlign:\"left\",\n                      width:`${tableTemplate[k].width}px`,\n                  }}\n              >\n                <div>\n                  {\n                    k\n                    //numberWithCommas(sumAmount[k],calDigit,k)\n                  }\n                </div>\n              </div>\n              :<div style={{opacity:\"1\"}}>\n                {k}\n              </div>\n          })}\n      </div>\n      :null\n    }            \n\n\n*/","/*\ninputState=\n{ id:5, name:\"sand\", active:true,\n  email:[\"a@mail.com\",\"b@mail.com\"],\n  address:[{district:\"Kapi\",phone:[\"1579\",\"345\"]}],\n  photoUrl:[\"/upload/employee/room-8.jpeg\"]},\n  education:{highSchool:\"BRR\",university:\"KU\"}\n}\n*/\n\n// id\n//changeKey({key:\"id\",value:e.target.value,inputState,setInputState})\nconst changeKey=({key,value,inputState,setInputState})=>{\n    setInputState({...inputState,[key]:value})\n}\n\n// email:[\"peter1@mail.com\",\"peter2@mail.com\"]\nconst changeArray=({key,value,idx,inputState,setInputState})=>{ \n    let temp=[]\n    inputState[key].forEach((i,index)=>{\n        if(index==idx){\n            temp=[...temp,value]\n        }else{\n            temp=[...temp,i]\n        }\n    });\n    setInputState({...inputState,[key]:temp})\n}\n// \"\" email:[\"peter1@mail.com\",\"peter2@mail.com\"]\nconst addArray=({key,inputState,setInputState})=>{ \n    let temp=[...inputState[key],\"\" ]\n    setInputState({...inputState,[key]:temp})\n}\n// email:[\"peter1@mail.com\",\"peter2@mail.com\"]\nconst deleteArray=({key,idx,inputState,setInputState})=>{\n    let temp=[]\n    inputState[key].forEach((i,index)=>{\n        if(index!=idx){\n            temp=[...temp,i]\n        }\n    });\n    setInputState({...inputState,[key]:temp})\n}\n//==========================================\n// address\nconst addArrayObject=({key,newObj,inputState,setInputState})=>{\n    let temp=[...inputState[key],newObj ]\n    setInputState({...inputState,[key]:temp})\n} \n// address\nconst deleteArrayObject=({key,idx,inputState,setInputState})=>{\n    let temp=[]\n    inputState[key].forEach((i,index)=>{\n        if(index!=idx){\n            temp=[...temp,i]\n        }\n    });\n    setInputState({...inputState,[key]:temp})\n}\n\n// district:\"Bangbo\",\nconst changeArrayObjectKey=({key,idx,subKey,value,\n                            inputState,setInputState})=>{\n    let temp=[]\n    inputState[key].forEach((i,index)=>{\n        if(index==idx){\n            const tempObj={...i,[subKey]:value}\n            temp=[...temp,tempObj]\n        }\n        else {\n            temp=[...temp,i]\n        }\n    });\n    setInputState({...inputState,[key]:temp})\n}\n//========================================\n// phone:[\"0899214409\"]\nconst changeArrayObjectArray=({key,value,idx,subKey,subIdx,\n                              inputState,setInputState})=>{\n    let temp=[]\n    inputState[key].forEach((i,index)=>{\n        if(index==idx){\n            let subArray=[]\n            i[subKey].forEach((j,index2)=>{\n                if(index2==subIdx){\n                    subArray=[...subArray,value]\n                }   \n                else{\n                    subArray=[...subArray,j]\n                }             \n            })\n            let tempObj={...i,[subKey]:subArray}\n            temp=[...temp,tempObj]\n        }\n        else {\n            temp=[...temp,i]\n        }\n    });\n    setInputState({...inputState,[key]:temp})\n}\n// phone:[\"0899214409\"]\nconst deleteArrayObjectArray=({key,idx,subKey,\n                subIdx,inputState,setInputState})=>{\n    let temp=[]\n    inputState[key].forEach((i,index)=>{\n        if(index==idx){\n            let subArray=[]\n            i[subKey].forEach((j,index2)=>{\n                if(index2!=subIdx){\n                    subArray=[...subArray,j]\n                }     \n            })\n            let tempObj={...i,[subKey]:subArray}\n            temp=[...temp,tempObj]\n        }\n        else {\n            temp=[...temp,i]\n        }\n    });\n    setInputState({...inputState,[key]:temp})\n}\n// \"\"  phone:[\"0899214409\"]\nconst addArrayObjectArray=({key,idx,subKey,\n                        inputState,setInputState})=>{\n    let temp=[]\n    inputState[key].forEach((i,index)=>{\n        if(index==idx){\n            const subArray=[...i[subKey],\"\"]\n            let tempObj={...i,[subKey]:subArray}\n            temp=[...temp,tempObj]\n        }\n        else {\n            temp=[...temp,i]\n        }\n    });\n    setInputState({...inputState,[key]:temp})\n}\n\n//================================\nconst changeKeyKey=({key,subKey,value,inputState,setInputState})=>{\n    const tempObj={...inputState[key],[subKey]:value}\n    const tempInputState={...inputState,[key]:tempObj}\n    setInputState({...tempInputState})\n}\n\nconst stateUtil={changeKey,changeArray,addArray,deleteArray,\n    addArrayObject,deleteArrayObject,changeArrayObjectKey,\n    changeArrayObjectArray,\n    deleteArrayObjectArray,addArrayObjectArray,changeKeyKey}\n\nexport default stateUtil\n","import React from 'react';\nimport stateUtil from '../../util/stateUtil'\nimport {FaRegArrowAltCircleUp,FaRegArrowAltCircleDown,FaBan,FaCheck} from 'react-icons/fa'; \n\nimport '../../render/Modal.css'\n//=============================\n\nconst {changeKeyKey}=stateUtil\n\nconst renderTableSetting=({\n    setShowTableSetting,\n    tableTemplate,setTableTemplate,\n    pageData,\n    moveup,movedown,\n    genObjKeysByColOrder\n    })=>{\n\nconst objKeys = genObjKeysByColOrder(tableTemplate);                \nconsole.log('objKeys............')\nconsole.log(objKeys)\n\nreturn(\n<div className=\"Modal-background\">\n    <div className=\"Modal-box\">\n   \n        <div className=\"Modal-header\">\n            <div>\n                <h5>{pageData.formHead}</h5>\n            </div>\n        </div>\n   \n        <div className='w-100'>\n            <div className=\"flex-center-baseline jc-start\" >\n                <div className=\"xc6\"\n                     style={{textAlign:\"center\"}}\n                >\n                    <div>{pageData.subject}</div>\n                </div>\n                <div className=\"xc2\"\n                     style={{textAlign:\"center\"}}\n                >\n                    <div>{pageData.show}</div>\n                </div>\n            </div>\n            {\n             objKeys.map((i,index)=>(\n                <div className=\"flex-center-baseline flex-no-wrap m-1\" \n                     key={index} >\n                    <div className=\"xc6\">\n                        <div>{tableTemplate[i].lb}</div>\n                    </div>\n                    <div className=\"xc2\">\n                        <input\n                            type=\"checkbox\"\n                            checked={tableTemplate[i].showCol}\n                            onChange={e=>{\n                                if(index>0){\n                                    changeKeyKey({\n                                        key:`${i}`,\n                                        subKey:'showCol',\n                                        value:e.target.checked,\n                                        inputState:tableTemplate,\n                                        setInputState:setTableTemplate\n                                    })\n                                }\n                            }}\n                        />\n                    </div>\n                    <div className='xc2'> \n                        <div className='flex-center-center'>\n                        <FaRegArrowAltCircleUp className=\"md-icon\"\n                            style={{opacity:index>1?1:0}}\n                            onClick={e=>{\n                                moveup(index,i,tableTemplate[i])\n                            }}\n                        />\n                        </div>\n                    </div>\n\n                    <div className='xc2'>\n                        <div className='flex-center-center'>\n                        <FaRegArrowAltCircleDown className=\"md-icon\"\n                            style={{opacity:(index>0&&index<objKeys.length-1)?1:0}}\n                            onClick={e=>{\n                                movedown(index,i,tableTemplate[i])\n                            }}\n                        />\n                        </div>\n                    </div>\n\n                </div>\n             ))   \n            }\n        </div>\n       \n        <div className=\"Modal-footer\">\n            <div>\n                <button\n                    onClick={e=>{setShowTableSetting(false)}}\n                >\n                    <FaCheck/>\n                </button>\n            </div>\n            <div>\n                <button\n                    onClick={e=>{setShowTableSetting(false)}}\n                >\n                    <FaBan/>\n                </button>\n            </div>\n        </div>\n\n    </div>\n</div>\n)}\n//=============================\nexport default renderTableSetting\n","import React from 'react';\n\nimport tableUtil from './tableUtil'\nimport renderTable from  './renderTable'\nimport renderTableSetting from './renderTableSetting'\n\n//=====================\nconst {tableResize}=tableUtil\n\n//=================================\nfunction Table({\n    colorHead,\n    tableTemplate,setTableTemplate,\n    filterDataKey,\n\n    filterData,setFilterData,\n    editData,setEditData,\n    saveTableTemplateFunc,\n    isSubTable,\n    updateFilterData,\n    useInput,\n   // selectData,\n    basicData,\n    findProductIdByKeyDown,\n    findBarcodeByKeyDown,\n    showSearchHeader,\n    calDigit,\n    pageData,\n    captureClientXY,\n    editIconField,\n    editIconFieldFunc\n}) {\n\nif(isSubTable){\n    //console.log('subTable')\n} \nelse {\n    //console.log('table')\n}\nconst genObjKeysByColOrder=(tableTemplate)=>{\n    const objKeys = Object.keys(tableTemplate);\n    //console.log('genObjKeysByColOrder')\n    //console.log(objKeys)\n\n    let tempArray=[]\n\n\n    //console.log('gen..')\n    //console.log(objKeys)\n\n    for(let i=1;i<=objKeys.length;i++){\n      //console.log(i)\n      objKeys.map(j=>{\n        //console.log(tableTemplate[j])\n        if(tableTemplate[j].colOrder==i){\n          tempArray=[...tempArray,j]\n        }\n      })\n\n    }\n    //console.log(tempArray)\n    return tempArray\n}\n//console.log('tableTemplate....xxxxxxxxx........')\n//console.log(tableTemplate)\n\nlet [sumAmount,setSumAmount]=React.useState(null)\n\nconst [showTableSetting,setShowTableSetting]=React.useState(false)\nconst [XY,setXY]=React.useState({x:0,y:0})\n\n//=================================\n//React.useEffect(()=>{},[selectData])\n\n  \nconst [tableTemplate2,setTableTemplate2]=React.useState(\n    tableTemplate\n    //genObjKeysByColOrder(tableTemplate)\n)\n\nReact.useEffect(()=>{\n    //console.log('tableTemplate.............')\n    //console.log(tableTemplate)\n\n},[tableTemplate])\n\n\n//=============================\nReact.useEffect(()=>{\n    //console.log('filterData')\n    //console.log(filterData)\n    if(filterData&&tableTemplate2){\n        const objKeys = Object.keys(tableTemplate2);\n        \n        let newSum={}\n\n        let showSum=false\n\n        objKeys.map(h=>{\n            if(tableTemplate2[h].showSum){\n                newSum={...newSum,[h]:0}\n                showSum=true\n            }\n        })\n       \n        filterData.map((i,idx)=>{\n            \n            objKeys.map(j=>{  \n                if(tableTemplate2[j].showSum){\n                    const updateSum=newSum[j]+parseInt(i[j]*10000)\n\n                    if(idx==filterData.length-1){\n                        newSum={...newSum, [j]:updateSum/10000 }\n                    }\n                    else{\n                        newSum={...newSum, [j]:updateSum }\n                    }\n                }\n            })\n        })\n\n        if(showSum){\n            setSumAmount(newSum)\n        }\n    }\n\n},[filterData])\n\n\n//=================================\nlet [showTable,setShowTable]=React.useState(\n  \n    tableResize({tableTemplate:genObjKeysByColOrder(tableTemplate)/*,showTable,setShowTable*/})\n    //width:1200,\n    //gridCol:\"\",\n)\nReact.useEffect(()=>{\n    //console.log('showTable')\n    //console.log(showTable)\n},[showTable])\n\n//=================================\nReact.useEffect(()=>{\n\n    //console.log('tableTemplate2.....')\n    //console.log(tableTemplate2)\n    \n    const temp=tableResize({tableTemplate:tableTemplate2/*,showTable,setShowTable*/})\n\n    setShowTable({...showTable,...temp})\n    //console.log('showTable')\n    //console.log(showTable)\n},[tableTemplate2])\n//==========================\n\nconst moveup=(idx,key,tableTemplateAtI)=>{\n    const ObjKey=genObjKeysByColOrder(tableTemplate2)\n\n    let tempObj={}\n\n    const newIdx=idx-1\n    \n    ObjKey.map((i,index)=>{\n        if(index==newIdx){\n            \n            const temp1={[i]:{...tableTemplate2[i],colOrder:tableTemplateAtI.colOrder}}\n\n            const temp2={[key]:{...tableTemplate2[key],colOrder:newIdx}}\n            tempObj={...tempObj,...temp2,...temp1}\n\n        }\n        else if(index==idx){\n\n        }\n        else{\n            tempObj={...tempObj,[i]:tableTemplate2[i]}\n        }\n    })\n\n    \n    console.log('tempObj Up')\n    console.log(tempObj)\n    \n    setTableTemplate2(tempObj)\n}\n\nconst movedown=(idx,key,tableTemplateAtI)=>{\n    const ObjKey=genObjKeysByColOrder(tableTemplate2)\n\n    let tempObj={}\n\n    const newIdx=idx+1\n    \n    ObjKey.map((i,index)=>{\n        if(index==newIdx){\n            \n            const temp1={[i]:{...tableTemplate2[i],colOrder:tableTemplateAtI.colOrder}}\n\n            const temp2={[key]:{...tableTemplate2[key],colOrder:newIdx}}\n            tempObj={...tempObj,...temp1,...temp2}\n\n        }\n        else if(index==idx){\n\n        }\n        else{\n            tempObj={...tempObj,[i]:tableTemplate2[i]}\n        }\n    })\n\n    \n    console.log('tempObj Up')\n    console.log(tempObj)\n    setTableTemplate2(tempObj)\n}\n\n//==========================\nreturn(\n    <div className=\"w-100 h-100\" \n         style={{position:\"relative\"}}> \n        {renderTable({\n          colorHead,\n          tableTemplate:tableTemplate2,\n          setTableTemplate:setTableTemplate2,\n          \n          filterData,setFilterData,\n\n          editData,setEditData,\n          showTable,setShowTable,\n          sumAmount,\n          setShowTableSetting,\n          saveTableTemplateFunc,\n          isSubTable,\n          updateFilterData,\n          useInput,\n          basicData,\n          findProductIdByKeyDown,\n          findBarcodeByKeyDown,\n          showSearchHeader,\n          captureClientXY,\n          editIconField,\n          editIconFieldFunc,\n          genObjKeysByColOrder:genObjKeysByColOrder,\n          //XY,\n          //setXY,\n          calDigit:calDigit,\n          })\n        }\n        {\n        //true\n        tableTemplate2\n        ?showTableSetting\n        //?true\n            ?renderTableSetting({\n                setShowTableSetting,\n                tableTemplate:tableTemplate2,\n                setTableTemplate:setTableTemplate2,\n                pageData:pageData,\n                moveup:moveup,\n                movedown:movedown,\n                genObjKeysByColOrder:genObjKeysByColOrder\n            })\n            :null\n        :null\n        }\n    </div>\n\n)\n}\n\nTable.defaultProps={\n    colorHead:\"#4b6d62\",\n    tableTemplate:{},\n    setTableTemplate:()=>{},\n    filterData:[],\n    setFilterData:()=>{},\n    editData:null,\n    setEditData:()=>{},\n    saveTableTemplateFunc:()=>{},\n    isSubTable:false,\n    useInput:false,\n    //selectData:[],\n    basicData:null,\n    showSearchHeader:false,\n    pageData:{\n        formHead:\"Table Setting\",\n        subject:\"Subject\",\n        show:\"Show\"\n    },\n    captureClientXY:()=>{},\n    editIconField:null,\n    editIconFieldFunc:()=>{}\n}\n\nexport default Table;\n","import React from 'react';\nimport {MdVisibility,MdVisibilityOff} from 'react-icons/md';\nimport {FaBan,FaCheck} from 'react-icons/fa'\nimport '../Modal.css'\n\nfunction AddUserModal({\n    pageData,\n    basicData,\n    setShow,\n    submitFunction,\n    loadData\n    //submitCancel\n}) {\n    console.log('AddUser')\n    console.log(pageData)\n\n    \n    const refSubmitForm=React.createRef() //\n    const refCancelForm=React.createRef() //    \n    \n    \n    const refId=React.createRef() //\n    const refUsername=React.createRef() //\n    const refPassword=React.createRef() //\n    const refUserLevel=React.createRef() //\n    const refName=React.createRef() //\n    const refSurname=React.createRef() //\n\n    const [hidePassword,setHidePassword]=React.useState(true)\n\n    let [formInputState,setFormInputState]=React.useState(loadData)\n  \n    React.useEffect(()=>{\n\n        //console.log('formInputState')\n        //console.log(formInputState)\n\n    },[formInputState])\n\n  //==============================\n  //==============================\n  //==============================\n  //==============================\n\n\n  const genInputRef=(i)=>{\n    if(i==\"id\"){return refId}\n    else if(i==\"username\"){return refUsername}\n    else if(i==\"password\"){return refPassword}\n    else if(i==\"userLevel\"){return refUserLevel}\n    else if(i==\"name\"){return refName}\n    else if(i==\"surname\"){return refSurname}\n    else return null\n  }\n\n\n  const goToNextRef=(e,i)=>{\n    if(e.key==\"Enter\"){\n        if(i==\"id\"){refUsername.current.focus()}\n        if(i==\"username\"){refPassword.current.focus()}\n        if(i==\"password\"){refUserLevel.current.focus()}\n        if(i==\"userLevel\"){refName.current.focus()}\n        if(i==\"name\"){refSurname.current.focus()}\n        if(i==\"surname\"){refSubmitForm.current.focus()}\n    }\n   }\n\n   const changeInputState = (e,i)=>{\n        setFormInputState({...formInputState,[i]:e.target.value})\n   }\n\n//==============================  \nconst clearForm=()=>{\n    //setFormInputState(blankData)\n}\n\n//==============================\n\nconst genInputType=(i)=>{\n    if(i==\"password\"){\n        if(hidePassword){\n            return \"password\"\n        }else {\n            return \"text\"\n        }\n    }\n    else if (i==\"id\") {\n        return \"number\"\n    } \n    else {\n        return \"text\"\n    }\n}\n\n\n\nconst renderBody=()=>{\n    const objKeys=[\"id\",\"username\",\"password\",\"userLevel\",\"name\",\"surname\",\n                    //\"branch\"\n                  ]\n\n    return (objKeys.map((i,idx)=>{\n        return (\n            <div key={idx}\n                 className=\"w-100 flex-center-center jc-start\" \n                 style={{marginBottom:\"0.2rem\"}}>\n                \n                <div className=\"w-30\">{pageData.addUser[i]}</div>\n                \n                \n                {i==\"userLevel\"||i==\"branch\"\n                 ?i==\"branch\"\n                    ?<div className=\"w-70\">\n                            {\n                            <select\n                                ref={genInputRef(i)}\n                                onChange={e=>{\n                                    const temp=e.target.value.split(\".\")\n                                    //console.log('temp')\n                                    //console.log(temp)\n\n                                    //changeInputState(e,i)\n                                    setFormInputState({...formInputState,\n                                        //\"branchId\":parseInt(temp[0]),\n                                        //\"branchName\":temp[1]\n                                    })\n                                }}\n                                onKeyDown={e=>{\n                                    goToNextRef(e,i)\n                                }}\n                            >\n                            <option value=\"\" hidden>...</option>\n                            {/*\n                                basicData[\"branch\"].map((i,idx)=>\n                                <option key={idx}>{`${i.branchId}.${i.branchName}`}</option>\n                                )\n                            */}\n                            </select>\n                            }\n                    </div> \n                    :<div className=\"w-70\">\n                            <select\n                                ref={genInputRef(i)}\n                                onChange={e=>{\n                                    changeInputState(e,i)\n                                }}\n                                onKeyDown={e=>{goToNextRef(e,i)}}\n                            >\n                            <option value=\"\" hidden>...</option>\n                            {\n                                basicData[i].map((i,idx)=>\n                                <option key={idx}>{i}</option>\n                                )\n                            }\n                            </select>\n                    </div>\n                :<div className=\"w-70\" style={{position:\"relative\"}}>\n                    <input\n                        ref={genInputRef(i)}\n                        type={genInputType(i)}\n                        onChange={e=>{\n                            changeInputState(e,i)\n                        }}\n                        onKeyDown={e=>{goToNextRef(e,i)}}\n                        autoComplete={i=='password'?'one-time-code':null}\n                        autoFocus={i==\"id\"?\"autoFocus\":null}\n                    />\n                    \n                    {\n                        i==\"password\"\n                        ? hidePassword\n                            ?<MdVisibilityOff \n                                className=\"sm-icon\" \n                                style={{position:'absolute',top:\"0.2rem\",right:'0.3rem'}}\n                                onClick={e=>{\n                                    setHidePassword(!hidePassword)\n                                }}\n                            />\n                            :<MdVisibility \n                                className=\"sm-icon\" \n                                style={{position:'absolute',top:\"0.2rem\",right:'0.3rem'}}\n                                onClick={e=>{\n                                    setHidePassword(!hidePassword)\n                                }}\n                            />\n                        :null\n                    }\n                </div>\n\n                }\n              \n            </div>\n        )\n    }))\n}\n\n//====================\n//console.log('ShopChangePassword')\n//====================\n\nconst renderFooter=()=>{\n    return(\n    <div style={{display:\"flex\",position:\"fixed\",bottom:\"1rem\",right:\"2rem\",zIndex:\"100\"}}\n    >\n        <div>\n            <button\n                ref={refSubmitForm}\n                onKeyDown={e=>{\n                    //if(e.key==\"ArrowRight\"){\n                    //    refCancelForm.current.focus()\n                    //}\n                }}\n                onClick={e=>{\n                    if(submitFunction){\n                        submitFunction(formInputState)\n                    }\n                }}\n            >\n                <FaCheck/>\n            </button>\n        </div>\n        \n        <div>\n            <button\n                ref={refCancelForm}\n                onKeyDown={e=>{\n                    //if(e.key==\"ArrowLeft\"){\n                    //    refCancelForm.current.focus()\n                    //}\n                }}\n                onClick={e=>{\n                    setShow(false)\n                }}\n            >\n                <FaBan/>\n            </button>\n        </div>\n\n    </div>\n    )\n}\n\n\n//=========================\nreturn (\n    <div className=\"Modal-background\">\n        <div className=\"Modal-box\" \n             style={{paddingBottom:\"1rem\",minWidth:\"70%\",minHeight:\"100px\"}}>\n            <div className=\"Modal-header\">\n                <div>\n                    <h5>{pageData.addUser.formHead}</h5>\n                </div>\n                {\n                  renderFooter()\n                }\n            </div>\n            <div className=\"Modal-body\" >\n                <div className=\"ModalInsideBody\">\n                {\n                  renderBody()\n                }\n                </div>\n            </div>\n        \n        </div>\n    </div>\n  );\n}\n\n\nAddUserModal.defaultProps={\n    lb:\"Form\",\n    setShow:()=>{},\n    submitFunction:null,\n    //submitCancel:null\n}\n\n\nexport default AddUserModal;\n","import React from 'react';\nimport {MdVisibility,MdVisibilityOff} from 'react-icons/md';\nimport {FaBan,FaCheck} from 'react-icons/fa'\nimport '../Modal.css'\nimport ja from 'date-fns/locale/ja';\n\nfunction EditUserModal({\n    pageData,\n    basicData,\n    setShow,\n    submitFunction,\n    loadData\n    //submitCancel\n}) {\n    console.log('EditUser')\n    console.log(pageData)\n\n    \n    const refSubmitForm=React.createRef() //\n    const refCancelForm=React.createRef() //    \n    \n    \n    const refId=React.createRef() //\n    const refUsername=React.createRef() //\n    const refUserLevel=React.createRef() //\n    const refName=React.createRef() //\n    const refSurname=React.createRef() //\n    const refBranch=React.createRef()\n\n\n    let [formInputState,setFormInputState]=React.useState(loadData)\n  \n    React.useEffect(()=>{\n\n        console.log('formInputState')\n        console.log(formInputState)\n\n    },[formInputState])\n\n  //==============================\n  //==============================\n  //==============================\n  //==============================\n\n\n  const genInputRef=(i)=>{\n    if(i==\"id\"){return refId}\n    else if(i==\"username\"){return refUsername}\n    else if(i==\"userLevel\"){return refUserLevel}\n    else if(i==\"name\"){return refName}\n    else if(i==\"surname\"){return refSurname}\n    else return null\n  }\n\n\n  const goToNextRef=(e,i)=>{\n    if(e.key==\"Enter\"){\n        if(i==\"id\"){refUsername.current.focus()}\n        if(i==\"username\"){refUserLevel.current.focus()}\n        if(i==\"userLevel\"){refName.current.focus()}\n        if(i==\"name\"){refSurname.current.focus()}\n        if(i==\"surname\"){refSubmitForm.current.focus()}\n    }\n   }\n\n   const changeInputState = (e,i)=>{\n        setFormInputState({...formInputState,[i]:e.target.value})\n   }\n\n//==============================  \nconst clearForm=()=>{\n    //setFormInputState(blankData)\n}\n\n//==============================\n\nconst genInputType=(i)=>{\n   if (i==\"id\") {\n        return \"number\"\n    } \n    else {\n        return \"text\"\n    }\n}\n\n\n\nconst renderBody=()=>{\n    const objKeys=[\"id\",\"username\",\"userLevel\",\"name\",\"surname\",\n                    //\"branch\"\n                    ]\n\n    return (objKeys.map((i,idx)=>{\n        return (\n            <div key={idx}\n                 className=\"w-100 flex-center-center jc-start\" \n                 style={{marginBottom:\"0.2rem\"}}>\n                \n                <div className=\"w-30\">{pageData.editUser[i]}</div>\n                \n                \n                {i==\"userLevel\"||i==\"branch\"\n                 ?i==\"branch\"\n                 ?<div className=\"w-70\">\n                        {\n                        <select\n                            ref={genInputRef(i)}\n                            onChange={e=>{\n                                const temp=e.target.value.split(\".\")\n                                //console.log('temp')\n                                //console.log(temp)\n\n                                //changeInputState(e,i)\n                                setFormInputState({...formInputState,\n                                    \"branchId\":parseInt(temp[0]),\n                                    \"branchName\":temp[1]\n                                })\n                            }}\n                            onKeyDown={e=>{\n                                goToNextRef(e,i)\n                            }}\n                        >\n                        <option value=\"\" hidden>...</option>\n                        {\n                            basicData[\"branch\"].map((j,idx)=>{\n                              \n                              const temp=`${j.branchId}.${j.branchName}`\n                              return(\n                                 <option key={idx}\n                                    selected={\n                                       (formInputState[\"branchId\"]+\".\"+formInputState[\"branchName\"])==temp\n                                       ?\"selected\"\n                                       :\"\"\n                                    }\n                                 >\n                                  {temp}\n                                </option>\n                              )\n                            }\n                            )\n                        }\n                        </select>\n                        }\n                </div> \n                 :<div className=\"w-70\">\n                        <select\n                            ref={genInputRef(i)}\n                            onChange={e=>{\n                                changeInputState(e,i)\n                            }}\n                            onKeyDown={e=>{goToNextRef(e,i)}}\n                        >\n                        <option value=\"\" hidden>...</option>\n                        {\n                            basicData[i].map((j,idx)=>\n                            <option key={idx}\n                              selected={formInputState[i]==j?\"selected\":\"\"}\n                            >{j}</option>\n                            )\n                        }\n                        </select>\n                </div>\n                :<div className=\"w-70\" style={{position:\"relative\"}}>\n                    <input\n                        ref={genInputRef(i)}\n                        type={genInputType(i)}\n                        value={formInputState[i]}\n                        onChange={e=>{\n                            changeInputState(e,i)\n                        }}\n                        onKeyDown={e=>{goToNextRef(e,i)}}\n                        autoFocus={i==\"id\"?\"autoFocus\":null}\n                    />\n                    \n                 \n                </div>\n\n                }\n              \n            </div>\n        )\n    }))\n}\n\n//====================\n//====================\n\nconst renderFooter=()=>{\n    return(\n    <div style={{display:\"flex\",position:\"fixed\",bottom:\"1rem\",right:\"2rem\",zIndex:\"100\"}}\n    >\n        <div>\n            <button\n                ref={refSubmitForm}\n                onKeyDown={e=>{\n                    //if(e.key==\"ArrowRight\"){\n                    //    refCancelForm.current.focus()\n                    //}\n                }}\n                onClick={e=>{\n                    if(submitFunction){\n                        submitFunction(formInputState)\n                    }\n                }}\n            >\n                <FaCheck/>\n            </button>\n        </div>\n        \n        <div>\n            <button\n                ref={refCancelForm}\n                onKeyDown={e=>{\n                    //if(e.key==\"ArrowLeft\"){\n                    //    refCancelForm.current.focus()\n                    //}\n                }}\n                onClick={e=>{\n                    setShow(false)\n                }}\n            >\n                <FaBan/>\n            </button>\n        </div>\n\n    </div>\n    )\n}\n\n\n//=========================\nreturn (\n    <div className=\"Modal-background\">\n        <div className=\"Modal-box\" \n             style={{paddingBottom:\"1rem\",minWidth:\"70%\",minHeight:\"100px\"}}>\n            <div className=\"Modal-header\">\n                <div>\n                    <h5>{pageData.editUser.formHead}</h5>\n                </div>\n                {\n                  renderFooter()\n                }\n            </div>\n            <div className=\"Modal-body\" >\n                <div className=\"ModalInsideBody\">\n                {\n                  renderBody()\n                }\n                </div>\n            </div>\n        \n        </div>\n    </div>\n  );\n}\n\n\nEditUserModal.defaultProps={\n    lb:\"Form\",\n    setShow:()=>{},\n    submitFunction:null,\n    //submitCancel:null\n}\n\n\nexport default EditUserModal;\n","import React from 'react';\nimport {MdVisibility,MdVisibilityOff} from 'react-icons/md';\nimport {FaBan,FaCheck} from 'react-icons/fa'\nimport '../Modal.css'\n\nfunction ChangeUserPasswordModal({\n    pageData,\n    basicData,\n    setShow,\n    submitFunction,\n    loadData\n    //submitCancel\n}) {\n    console.log('ChangeUserPasswordModal')\n    \n    const refSubmitForm=React.createRef() //\n    const refCancelForm=React.createRef() //    \n    \n    const refId=React.createRef() //\n    const refPassword=React.createRef() //\n\n    let [formInputState,setFormInputState]=React.useState(loadData)\n    const [hidePassword,setHidePassword]=React.useState(true)\n\n\n    React.useEffect(()=>{\n\n        //console.log('formInputState')\n        //console.log(formInputState)\n\n    },[formInputState])\n\n  //==============================\n  //==============================\n  //==============================\n  //==============================\n\n\n   const changeInputState = (e,i)=>{\n        setFormInputState({...formInputState,[i]:e.target.value})\n   }\n\n//==============================  \n\nconst renderBody=()=>{\n    const objKeys=[\"id\",\"newPassword1\"]\n\n    return (objKeys.map((i,idx)=>{\n        return (\n            <div key={idx}\n                 className=\"w-100 flex-center-center jc-start\" \n                 style={{marginBottom:\"0.2rem\"}}>\n                \n                <div className=\"w-30\">{pageData.changeUserPassword[i]}</div>\n                \n                \n                <div className=\"w-70\" style={{position:\"relative\"}}>\n                     {i==\"id\"\n                     ?<input\n                        ref={refId}\n                        type={\"number\"}\n                        value={formInputState[i]}\n                        onKeyDown={e=>{\n                            if(e.key==\"Enter\"){\n                                refPassword.current.focus()\n                            }\n                        }}\n                        disabled={\"disabled\"}\n                     />\n                     : <input\n                           \n                           ref={refPassword}\n                           type={hidePassword?\"password\":\"text\"}\n                           value={formInputState[\"password\"]}\n                           onKeyDown={e=>{\n                                if(e.key==\"Enter\"){\n                                    refSubmitForm.current.focus()\n                                }\n                            }}\n                           onChange={e=>{\n                              changeInputState(e,\"password\")\n                           }}\n                           autoComplete='one-time-code'\n                           autoFocus={\"autoFocus\"}\n                        />\n                     }\n                 \n\n                     {\n                        i==\"newPassword1\"\n                        ? hidePassword\n                            ?<MdVisibilityOff \n                                className=\"sm-icon\" \n                                style={{position:'absolute',top:\"0.2rem\",right:'0.3rem'}}\n                                onClick={e=>{\n                                    setHidePassword(!hidePassword)\n                                }}\n                            />\n                            :<MdVisibility \n                                className=\"sm-icon\" \n                                style={{position:'absolute',top:\"0.2rem\",right:'0.3rem'}}\n                                onClick={e=>{\n                                    setHidePassword(!hidePassword)\n                                }}\n                            />\n                        :null\n                    }\n\n                </div>\n           \n            </div>\n        )\n    }))\n}\n\n//====================\n//====================\n\nconst renderFooter=()=>{\n    return(\n    <div style={{display:\"flex\",position:\"fixed\",bottom:\"1rem\",right:\"2rem\",zIndex:\"100\"}}\n    >\n        <div>\n            <button\n                ref={refSubmitForm}\n                onKeyDown={e=>{\n                    //if(e.key==\"ArrowRight\"){\n                        //refCancelForm.current.focus()\n                    //}\n                }}\n                onClick={e=>{\n                    if(submitFunction){\n                        submitFunction(formInputState)\n                    }\n                }}\n            >\n                <FaCheck/>\n            </button>\n        </div>\n        \n        <div>\n            <button\n                ref={refCancelForm}\n                onKeyDown={e=>{\n                    //if(e.key==\"ArrowLeft\"){\n                    //    refCancelForm.current.focus()\n                    //}\n                }}\n                onClick={e=>{\n                    setShow(false)\n                }}\n            >\n                <FaBan/>\n            </button>\n        </div>\n\n    </div>\n    )\n}\n\n\n//=========================\nreturn (\n    <div className=\"Modal-background\">\n        <div className=\"Modal-box\" \n             style={{paddingBottom:\"1rem\",minWidth:\"70%\",minHeight:\"100px\"}}>\n            <div className=\"Modal-header\">\n                <div>\n                    <h5>{pageData.changeUserPassword.formHead}</h5>\n                </div>\n                {\n                  renderFooter()\n                }\n            </div>\n            <div className=\"Modal-body\" >\n                <div className=\"ModalInsideBody\">\n                {\n                  renderBody()\n                }\n                </div>\n            </div>\n        \n        </div>\n    </div>\n  );\n}\n\n\nChangeUserPasswordModal.defaultProps={\n    lb:\"Form\",\n    setShow:()=>{},\n    submitFunction:null,\n    //submitCancel:null\n}\n\n\nexport default ChangeUserPasswordModal;\n","import React from 'react';\nimport axiosUtil from '../util/axiosUtil'\nimport renderModalError from './RenderModalError.bak'\nimport {FaCheck,FaBan,FaQuestion,FaDatabase,FaLongArrowAltRight} from 'react-icons/fa';\nimport {MdDelete} from 'react-icons/md';\n\nconst {submitFunc}=axiosUtil  \n\nfunction ModalConfirm({\n    setShow,\n    submitFunction\n    }){\n\n\n    const refModalConfirm1 = React.createRef()\n    const refModalConfirm2 = React.createRef() \n\n    const [showModalError,setShowModalError]=React.useState(false)\n    //const {id,parentId,allDeleteId,routeAuth,detail}=editData\n//===============================\n//===============================\n    return(\n\n    <div className=\"Modal-background\">\n        <div className=\"Modal-box\">\n            <div className=\"Modal-header\">\n                <div>\n                    <FaDatabase style={{fontSize:\"1.5rem\",marginRight:\"0.3rem\"}}/>\n                    <FaLongArrowAltRight style={{fontSize:\"1.2rem\"}}/>\n                    <FaLongArrowAltRight style={{fontSize:\"1.2rem\"}}/>\n\n                    <MdDelete style={{fontSize:\"2rem\"}}/>\n                </div>\n            </div>\n          \n            <div className=\"Modal-footer\">\n                <div>\n                    <button\n                        ref={refModalConfirm1}\n                        onClick={e=>{\n                            submitFunction()\n                        }}\n                        onKeyDown={e=>{\n                            if(e.key==\"ArrowRight\"){\n                                refModalConfirm2.current.focus()\n                            }\n                        }}\n                    >\n                        <FaCheck/>\n                    </button>\n                </div>\n                <div>\n                    <button\n                        ref={refModalConfirm2}\n                        onKeyDown={e=>{\n                            if(e.key==\"ArrowLeft\"){\n                                refModalConfirm1.current.focus()\n                            }\n                        }}\n                        onClick={e=>{\n                            if(setShow){setShow(false)}\n                        }}\n                    >\n                        <FaBan/>\n                    </button>\n                </div>\n\n            </div>\n            {\n              showModalError\n              ?renderModalError({show:showModalError,setShow:setShowModalError})\n              :null\n            }\n        </div>\n    </div>\n    )\n}\n\nModalConfirm.defaultProps={\n    setShow:()=>{},\n    submitFunction:()=>{}\n}\n\n\nexport default ModalConfirm\n","import React from 'react';\nimport stateUtil from '../util/stateUtil'\nimport {MdErrorOutline} from 'react-icons/md'\nimport {FaBan} from 'react-icons/fa'\n\nimport './Modal.css'\n\nconst renderModalError=({show,setShow,message,setMessage})=>{\n    console.log('renderModalError')\n   // console.log(message)\nreturn(\n    <div className=\"Modal-background\">\n        <div className=\"Modal-box\">\n            <div className=\"Modal-header\">\n                <div>\n                    <MdErrorOutline style={{fontSize:\"2.5rem\",color:\"red\"}}/>\n                </div>\n            </div>\n            <div className=\"Modal-body\">\n                <div className =\"flex-center-center\">\n                    {/*<p>Unsuccessfull Request</p>*/}\n                    {\n                    message?<div>{message}</div>:null\n                    }\n                </div>\n            </div>\n            <div className=\"Modal-footer\">\n                <div>\n                    <button\n                        onClick={e=>{\n                            setShow(false)\n                            //if(setMessage){setMessage(null)}\n                        }}\n                    >\n                        <FaBan/>\n                    </button>\n                </div>\n            </div>\n\n        </div>\n    </div>\n    \n)}\n\n\n\nexport default renderModalError\n               ","import React from 'react';\n\nimport Table from '../../component/table/Table'\nimport axios from 'axios'\nimport uuid from 'react-uuid'\nimport axiosUtil from '../../util/axiosUtil'\nimport pageUtil from '../../component/pageComponent/pageUtil'\nimport AddUserModal from './AddUserModal';\nimport EditUserModal from './EditUserModal';\nimport ChangeUserPasswordModal from './ChangeUserPasswordModal';\nimport {FaPlusCircle,FaBan} from 'react-icons/fa';\nimport {MdRefresh,MdAddCircle,MdEdit,MdDelete,MdSwapHoriz,MdClose,MdPassword\n} from 'react-icons/md'\nimport ModalConfirm from '../ModalConfirm';\nimport '../Modal.css'\nimport renderModalError from '../renderModalError';\nimport Ticon from '../../component/ticon/Ticon'\n\nconst {genArrayForFilterAxios,genFD,addFileNameInPhotoUrl,catchErrorToMessage}=axiosUtil\nconst {reloadAxiosAll,saveTableTemplate,updateFilterData,\n    submitFunctionEdit,submitFunctionAdd,filterAxios,\n    setUnSelectAll,submitFunctionDelete\n} = pageUtil\n\n\nfunction AddUser({\n    pageData,\n    basicData,\n    tableTemplate,\n    myheader,\n    setShow,\n    submitFunction,\n    //submitCancel\n}) {\n    //console.log('AddUser')\n    //console.log(pageData)\n\n    const [filterData,setFilterData]=React.useState({\n        data0:null,\n        count:0,\n        lastRecordId:null,\n        reloadData:true\n    })\n\n\n    const [userTableTemplate,setUserTableTemplate]=React.useState(tableTemplate.userListTableTemplate)\n    const [editData,setEditData]=React.useState(null)\n\n    const [showAddUser,setShowAddUser]=React.useState(false)\n    const [showEditUser,setShowEditUser]=React.useState(false)\n    const [showChangeUserPasswordModal,setShowChangeUserPasswordModal]=React.useState(false)\n    const [showModalConfirm,setShowModalConfirm]=React.useState(false)\n\n    const [error,setError]=React.useState({\n        showModalError:false,\n        message:\"\"\n    })\n\n    const saveTableTemplateFunc=(tableTemplate)=>{\n        let tempObj={}\n        Object.keys(tableTemplate).map(i=>{\n           const temp={...tableTemplate[i],showColHead:true}\n            tempObj={...tempObj,[i]:temp}\n        })\n        //console.log(tableTemplate)\n        //console.log(tempObj)\n        setUserTableTemplate(tempObj)\n        saveTableTemplate(tableTemplate,'p35tabletemplate',\n        'userListTableTemplate',myheader)\n    }\n\n    React.useEffect(()=>{\n\n\n    },[filterData])\n\n    React.useEffect(()=>{\n        if(filterData.reloadData){\n        \n            axios.post(`/p35user/getuser`,{sort:{id:1}},myheader)\n            .then(result=>{\n                //console.log(result)\n                console.log('result.data.data.....')\n                console.log(result.data.data)\n                \n                const tempResult={...filterData,\n                    data0:result.data.data,\n                    count:result.data.count,\n                    lastRecordId:result.data.lastRecordId,\n                    reloadData:false\n                }\n                setFilterData(tempResult)\n            })\n            .catch(error=>{\n                const tempError={...filterData,\n                    reloadData:false,\n                    message:catchErrorToMessage(error),\n                    showModalConfirm:false,\n                    showModalError:true,\n                }\n                setFilterData(tempError)\n            })\n        }\n    },[filterData])\n    //==============================\n  const addUserFunc=(formInputState)=>{\n\n    axios.post(`/p35user/adduser`,formInputState,myheader)\n    .then(result=>{\n        console.log('result.....')\n        console.log(result)\n        \n        const tempResult={...filterData,\n            reloadData:true\n        }\n        setFilterData(tempResult)\n        setShowAddUser(false)\n    })\n    .catch(error=>{\n        const tempError={...filterData,\n            reloadData:false,\n            message:catchErrorToMessage(error),\n            showModalConfirm:false,\n            showModalError:true,\n        }\n        setFilterData(tempError)\n    })\n  }\n  //==============================\n  const updateUserFunc=(formInputState)=>{\n\n    axios.post(`/p35user/updateuser`,formInputState,myheader)\n    .then(result=>{\n        console.log('result.....')\n        console.log(result)\n        \n        const tempResult={...filterData,\n            reloadData:true\n        }\n        setFilterData(tempResult)\n        setShowEditUser(false)\n    })\n    .catch(error=>{\n        const tempError={...filterData,\n            reloadData:false,\n            message:catchErrorToMessage(error),\n            showModalConfirm:false,\n            showModalError:true,\n        }\n        setFilterData(tempError)\n    })\n  }\n\n  const changePasswordFunc=(formInputState)=>{\n    const {id,password}=formInputState\n\n    axios.post(`/p35user/changeuserpassword`,{id,password},myheader)\n    .then(result=>{\n        \n        const tempResult={...filterData,\n            reloadData:true\n        }\n        setFilterData(tempResult)\n        setShowChangeUserPasswordModal(false)\n    })\n    .catch(error=>{\n        const tempError={...filterData,\n            reloadData:false,\n            message:catchErrorToMessage(error),\n            showModalConfirm:false,\n            showModalError:true,\n        }\n        //setFilterData(tempError)\n    })\n  }\n  //==============================\n  const deleteFunc=()=>{\n\n    if(editData.id==1){\n        setError({\n            showModalError:true,\n            message:\"Do not delete ID=1\"\n        })\n    }\n    else{\n        axios.post(`/p35user/deleteuser`,{id:editData.id},myheader)\n        .then(result=>{\n            \n            const tempResult={...filterData,\n                reloadData:true\n            }\n            setFilterData(tempResult)\n            setShowModalConfirm(false)\n        })\n        .catch(error=>{\n            const tempError={...filterData,\n                reloadData:false,\n                message:catchErrorToMessage(error),\n                showModalConfirm:false,\n                showModalError:true,\n            }\n            //setFilterData(tempError)\n        })\n    }\n  }\n  //==============================\n  //==============================\n  //==============================\nconst styleRight={position:\"fixed\",\n  top:\"3rem\",right:\"0.5rem\",zIndex:\"100\",\n  width:\"\",backgroundColor:\"white\",\n  borderRadius:\"10px\",margin:\"\"\n}\nconst styleLeft={position:\"fixed\",\n  top:\"3rem\",Left:\"0.5rem\",zIndex:\"100\",\n  width:\"\",backgroundColor:\"white\",\n  borderRadius:\"10px\",margin:\"\"\n}\n\nconst [swapStyleRight,setSwapStyleRight]=React.useState(true)\n\nconst renderToolBox=()=>{\n  return(\n      <div style={swapStyleRight?styleRight:styleLeft}>\n          <div className=\"iconbox\"\n               style={{height:\"3.5rem\"}}\n                onClick={e=>{\n                    //setShowAddUser()\n                    setShowModalConfirm(true)\n               }}\n          >\n              <Ticon\n                  iconName=\"MdDelete\" \n                  className=\"md-icon\"\n                  textStyle={{color:\"black\"}}\n              />\n          </div>\n          <div className=\"iconbox\"\n                style={{height:\"3.5rem\"}}\n                 onClick={e=>{\n                    setShowAddUser(true)\n                   // insertLine()\n                }}\n          >\n              <Ticon\n                  iconName=\"MdAddCircle\" \n                  className=\"md-icon\"\n                  textStyle={{color:\"black\"}}\n              />\n          </div>\n          <div className=\"iconbox\"\n                style={{height:\"3.5rem\"}}\n                onClick={e=>{\n                    setShowEditUser(true)\n                    //editUser()\n                }}\n          >\n              <Ticon \n                iconName=\"MdEdit\" \n                className=\"md-icon\"\n                textStyle={{color:\"black\"}}\n              />\n          </div>\n          <div className=\"iconbox\"\n               style={{height:\"3.5rem\"}}\n             onClick={e=>{\n                setShowChangeUserPasswordModal(true)\n             }}\n          >\n              <Ticon\n                  iconName=\"MdPassword\" \n                  className=\"md-icon\"\n                  textStyle={{color:\"black\"}}\n              />\n          </div>\n\n          <div className=\"iconbox\"\n               style={{height:\"3.5rem\"}}\n                onClick={e=>{\n                    setSwapStyleRight(!swapStyleRight)\n                }}\n          >\n              <Ticon\n                iconName=\"MdSwapHoriz\" \n                className=\"xl-icon\"\n                textStyle={{color:\"black\"}}\n              />\n          </div>\n\n          <div className=\"iconbox\"\n                style={{height:\"3.5rem\"}}\n                 onClick={e=>{\n                    setEditData(null)\n                    setShow(false)\n                }}\n          >\n              <Ticon\n                iconName=\"MdClose\" \n                className=\"md-icon\"\n                textStyle={{color:\"black\"}} \n              />\n          </div>\n      </div>\n  )\n}\n//=====================================\nconst renderFooter=()=>{\n    return(\n    <div className=\"\" \n        style={{display:\"flex\",justifyContent:\"flex-end\"}}\n    > \n        <div>\n            <button\n           \n                onClick={e=>{\n                    setEditData(null)\n                    setShow(false)\n                }}\n            >\n                <MdClose/>\n            </button>\n        </div>\n\n    </div>\n    )\n}\n\n\n//=====================================\nreturn (\n    <div className=\"Modal-background\">\n        <div className=\"Modal-box\" \n             style={{paddingBottom:\"1rem\",minWidth:\"70%\",minHeight:\"100px\"}}>\n            \n            <div className=\"Modal-header\">\n                <h5>{pageData.user.formHead}</h5>\n            </div>\n        \n            <div className=\"Modal-body\" >\n            {   filterData.data0&&\n               <Table\n                        tableTemplate={userTableTemplate}\n                        setTableTemplate={setUserTableTemplate}//{setTableTemplate}\n        \n                        filterData={filterData.data0}\n                        setFilterData={()=>{}}//{setFilterDataData0}\n                        \n                        editData={editData}\n                        setEditData={setEditData}\n                        saveTableTemplateFunc={saveTableTemplateFunc}\n                        isSubTable={false}\n                        updateFilterData={()=>{}}\n                        useInput={false}\n                        basicData={basicData}\n                        pageData={pageData.tableSettingModal}\n               />\n            }\n            </div>\n\n            {\n                renderFooter()\n            }\n\n        {editData&&\n            renderToolBox()\n        }\n\n        {showEditUser&&\n             <EditUserModal\n             pageData={pageData}\n             basicData={basicData}\n             setShow={setShowEditUser}\n             submitFunction={updateUserFunc}\n             loadData={editData}\n            />\n        }\n        {showChangeUserPasswordModal&&\n              <ChangeUserPasswordModal\n              pageData={pageData}\n              basicData={basicData}\n              setShow={setShowChangeUserPasswordModal}\n              submitFunction={changePasswordFunc}\n              loadData={editData}\n             />\n        }\n        {showAddUser&&\n             <AddUserModal\n                pageData={pageData}\n                basicData={basicData}\n                setShow={setShowAddUser}\n                submitFunction={addUserFunc}\n                loadData={{id:\"\",username:\"\",password:\"\",active:true,\n                          userLevel:\"staff\",name:\"\",surname:\"\",\n                          //branchId:1,branchName:\"main\"\n                        }}\n            />\n        }\n        </div>\n        {\n         showModalConfirm&&\n            <ModalConfirm\n                setShow={setShowModalConfirm}\n                submitFunction={deleteFunc}\n            />   \n        }\n\n        {error.showModalError&&\n            renderModalError({\n                show:error.showModalError,\n                setShow:(value)=>{setError({showModalError:value,message:\"\"})},\n                message:error.message,\n                setMessage:()=>{}\n            })\n        }\n\n    </div>\n  );\n}\n\n\nAddUser.defaultProps={\n    lb:\"Form\",\n    setShow:()=>{},\n    submitFunction:null,\n    //submitCancel:null\n}\n\n\nexport default AddUser;\n","import React from 'react';\nimport Table from '../../component/table/Table'\nimport {MdEdit,MdClose,MdCheck} from 'react-icons/md';\nimport {FaPlusSquare,FaMinusSquare,FaCheck,FaBan} from 'react-icons/fa'; \n\nimport '../Modal.css'\nimport BasicData from '../../page/basicdata/BasicData';\n\nfunction RouteAuth({\n    pageData,\n    basicData,\n    basicDataTableTemplate,\n    lb,\n    setShow,\n    submitFunction,\n    //submitCancel\n}) {\n\n\n    const [isSecond,setIsSecond]=React.useState(false)\n\n    React.useEffect(()=>{\n        //console.log(`isSecond : ${isSecond}`)\n        if(!isSecond){\n            setIsSecond(true)\n        }\n    },[isSecond])\n    \n    \n    const refSubmitForm=React.createRef() //\n    const refCancelForm=React.createRef() //    \n    \n    let [formInputState,setFormInputState]=React.useState(basicData.routeAuth)\n    const [tableTemplate,setTableTemplate]=React.useState(basicDataTableTemplate)\n\n    const [editData,setEditData]=React.useState(null)\n\n    const [showEditForm,setShowEditForm]=React.useState(false)\n\n    React.useEffect(()=>{\n        //console.log('formInputState')\n        //console.log(formInputState)\n    },[formInputState])\n\n\n    //===================================\n\n    const saveRouteAuthTableTemplateAxios =()=>{\n\n    }\n\n    const setTableTemplateFunc=(value)=>{\n        //console.log('setTableTemplateFunc')\n        //console.log(value)\n        setTableTemplate(value)\n    }\n\n    const setFormInputStateFunc=(value)=>{\n        //console.log('setFormInputStateFunc')\n        //console.log(value)\n    }\n\n    const setEditDataFunc=(value)=>{\n        //console.log(value)\n    }\n\n    const addRow=(idx)=>{\n\n        let tempArray=[]\n\n        editData.userLevel.map((i,idx2)=>{\n            if(idx2==idx){\n                tempArray=[...tempArray,i,\"\"]\n            }\n            else {\n                tempArray=[...tempArray,i]\n            }\n        })\n\n        setEditData({...editData,userLevel:tempArray})\n\n    }\n\n    const deleteRow=(idx)=>{\n        let tempArray=[]\n\n        editData.userLevel.map((i,idx2)=>{\n            if(idx2==idx){\n              \n            }\n            else {\n                tempArray=[...tempArray,i]\n            }\n        })\n        setEditData({...editData,userLevel:tempArray})\n    }\n\n    const changeEditDataState=(e,idx)=>{\n        let tempArray=[]\n\n        editData.userLevel.map((i,idx2)=>{\n            if(idx2==idx){\n                tempArray=[...tempArray,e.target.value]\n            }\n            else {\n                tempArray=[...tempArray,i]\n            }\n        })\n        setEditData({...editData,userLevel:tempArray})\n\n    }\n\n    const updateFormInputState=()=>{\n\n        let tempArray=[]\n\n        formInputState.map((i)=>{\n            if(editData._id==i._id){\n                console.log('_id')\n                tempArray=[...tempArray,editData]\n            }\n            else {\n                tempArray=[...tempArray,i]\n            }\n        })\n\n        setFormInputState(tempArray)\n        setShowEditForm(false)\n    }\n\nconst renderBody=()=>{\n    return (\n    <div className=\"w-100 h-100\">\n        <div className=\"h-100\" style={{paddingBottom:\"2rem\"}}>\n            {true\n                ?<Table\n                \n                    tableTemplate={tableTemplate}\n                    \n                    setTableTemplate={setTableTemplateFunc}\n                    setFilterData={setFormInputState}\n                    filterData={formInputState}\n                    editData={editData}\n                    setEditData={setEditData}\n                    saveTableTemplateFunc={saveRouteAuthTableTemplateAxios}\n                    pageData={pageData.tableSettingModal}\n                    //isSubTable={true}\n                    editIconField={\"userLevel\"}\n                    editIconFieldFunc={()=>setShowEditForm(true)}\n                />\n                :null\n            }\n        </div>\n    </div>\n    )\n}\n\n//====================\n//console.log('ShopChangePassword')\n//====================\nconst renderFooter=()=>{\n    return(\n    <div style={{display:\"flex\",position:\"fixed\",bottom:\"1rem\",right:\"2rem\",zIndex:\"100\"}}\n    >\n        <div>\n            <button\n                ref={refSubmitForm}\n                onKeyDown={e=>{\n                    if(e.key==\"ArrowRight\"){\n                        refCancelForm.current.focus()\n                    }\n                }}\n                onClick={e=>{\n                    if(submitFunction){\n                        submitFunction(formInputState)\n                    }\n                }}\n            >\n                <FaCheck/>\n            </button>\n        </div>\n        \n        <div>\n            <button\n                ref={refCancelForm}\n                onKeyDown={e=>{\n                    if(e.key==\"ArrowLeft\"){\n                        refCancelForm.current.focus()\n                    }\n                }}\n                onClick={e=>{\n                    setShow(false)\n                }}\n            >\n                <FaBan/>\n            </button>\n        </div>\n\n    </div>\n    )\n}\n//================================\nconst renderEditFormBody=(editData)=>{\n    const {id,routeAddress,routeName,userLevel}=editData\n\n    const renderOption=(i,array)=>{\n\n        if(array){\n            return array.map((j,idx2)=>\n            <option key={idx2} selected={i==j?\"selected\":\"\"}>{j}</option>\n            )\n        }\n        else {\n            return null\n        }\n    }\n\n    return(\n    <div \n        className=\"w-100 flex-center-start jc-start\" \n        style={{margin:\"0.2rem 0\",\n                }}>\n        \n       \n        <div className=\"w-10\">{`${id}.`}</div>\n        <div className=\"w-90\">\n            {\n                userLevel.map((i,idx)=>{\n                    return(\n                        <div key={idx}\n                             className=\"flex-center-center\" \n                             style={{marginBottom:\"0.2rem\"}}\n                        >\n                            <div className=\"w-10\">\n                                <FaPlusSquare className=\"sm-icon\"\n                                    onClick={e=>{addRow(idx)}}\n                                />\n                            </div>\n                            <div className=\"w-10\">\n                                {idx>0\n                                ?<FaMinusSquare className=\"sm-icon\"\n                                    onClick={e=>{deleteRow(idx)}}\n                                />\n                                :null\n                                }\n                            </div>\n                            <div className=\"w-80\">\n                                {idx==0\n                                ?<input\n                                    value={i}\n                                    onChange={e=>{}}\n                                    disabled=\"disabled\"\n                                />\n                                :<select\n                                    style={{height:\"100%\"}}\n                                    onChange={e=>{\n                                        changeEditDataState(e,idx)\n                                        //handleInput(e.target.value,key)\n                                    }}\n                                >\n                                    <option>....</option>\n                                    {   \n                                        renderOption(i,basicData.userLevel)\n                                    }\n                                </select>\n                                }\n                            </div>\n                        </div>\n                    )\n                })\n            }\n        </div>\n        <div className=\"w-100\" \n             style={{display:\"flex\",justifyContent:\"flex-end\"}}>\n            <button\n                onClick={e=>updateFormInputState(false)}\n            >\n                <FaCheck/>\n            </button>\n\n            <button\n                onClick={e=>setShowEditForm(false)}\n            >\n                <MdClose/>\n            </button>\n        </div>\n    </div>\n    )\n}\n\n\nconst renderEditForm=()=>{\n    if(editData){\n        return(\n            <div className=\"\" \n                   style={{position:\"fixed\",top:\"0\",left:\"0\",\n                           height:\"100vh\",width:\"100vw\",opacity:\"1\",\n                           display:\"flex\",justifyContent:\"center\",alignItems:\"center\"\n                           \n                           }}>\n                 <div className=\"w-50 bgc-darkGray\" \n                      style={{padding:\"0.3rem\",borderRadius:\"5px\",\n                              backgroundColor:\"#5b7d72\"\n                             }}>\n                    {renderEditFormBody(editData)}    \n                 </div>\n            </div>\n        )\n    }\n    else {\n        return null\n    }\n\n}\n\n\nreturn (\n    <div className=\"Modal-background\">\n        <div className=\"Modal-box\" \n             style={{paddingBottom:\"1rem\",minWidth:\"70%\",\n                     minHeight:\"100px\"}}>\n            \n        \n            <div className=\"Modal-header\">\n                <div className=\"flex-center-center\">\n                    <h5>{pageData.setting.routeAuth}</h5>\n                </div>\n                {!showEditForm&&\n                    renderFooter()\n                }\n            </div>\n            <div className=\"Modal-body\" >\n                <div className=\"ModalInsideBody\">\n                {\n                    renderBody()\n                }\n                </div>\n            </div>\n        </div>\n        \n        {showEditForm\n         ?renderEditForm()\n         :null\n        }\n    </div>\n  );\n}\n\n\nRouteAuth.defaultProps={\n    lb:\"Form\",\n    setShow:()=>{},\n    submitFunction:null,\n    //submitCancel:null\n}\n\n\nexport default RouteAuth;\n","const commonProduct={\n      selectedLine           :\n      { lb:'_',     type:\"radio\",\n        width:40,   showCol:true,  showColHead:true,    \n      },\n      id            :\n        { lb:'ID',     type:\"number\",\n          width:65,   showCol:true,  showColHead:true,    \n        },\n      barcode           :\n        { lb:'',type:\"string\",\n          width:65,   showCol:true,  showColHead:true,    \n        },\n      name      :\n        { lb:'',type:\"string\",\n          width:100,   showCol:true,  showColHead:true,      \n        },\n      groupId      :\n        { lb:'',type:\"number\",\n          width:40,   showCol:true,  showColHead:true,      \n        },  \n      groupName      :\n        { lb:'',type:\"string\",\n          width:60,   showCol:true,  showColHead:true,      \n        }, \n      unit      :\n        { lb:'',type:\"string\",\n          width:40,   showCol:true,  showColHead:true,      \n        },\n      price     :\n        { lb:'',     type:\"number\",\n          width:60,   showCol:true,  showColHead:true,    \n        },\n}\n\nconst productTableTemplate={\n    ...commonProduct, \n    stock      :\n      { lb:'',type:\"number\",\n        width:60,   showCol:true,  showColHead:true,      \n      },   \n    order      :\n      { lb:'',type:\"number\",\n        width:60,   showCol:true,  showColHead:true,      \n      },   \n    plan      :\n      { lb:'',type:\"number\",\n        width:60,   showCol:true,  showColHead:true,      \n      },\n    remark      :\n      { lb:'',type:\"string\",\n        width:200,   showCol:true,  showColHead:true,      \n      },  \n    photoUrl1      :\n      { lb:'',type:\"arrayPhoto\",\n        width:200,   showCol:true,  showColHead:true,\n      },\n}\n\n\nconst partnerTableTemplate={\n  id            :\n    { lb:'ID',     type:\"number\",\n      width:40,   showCol:true,  showColHead:true,    \n    },\n  title           :\n    { lb:'',type:\"string\",\n      width:60,   showCol:true,  showColHead:true,    \n    },\n  name      :\n    { lb:'',type:\"string\",\n      width:100,   showCol:true,  showColHead:true,      \n    },\n  phone         :\n    { lb:'', type:\"array\",\n      width:120,   showCol:true,  showColHead:true,      \n    },\n  partnerType      :\n    { lb:'',type:\"string\",\n      width:70,   showCol:true,  showColHead:true,      \n    },    \n  address       :\n    { lb:'',type:\"arrayObject\",\n      width:200,   showCol:true,  showColHead:true,\n      children:{\n          number:{lb:\"\"},\n          tambon:{lb:\"\"},\n          district:{lb:\"\"},\n          province:{lb:\"\"},\n          postcode:{lb:\"\"}\n      }\n    },\n  remark      :\n    { lb:'',type:\"string\",\n      width:200,   showCol:true,  showColHead:true,      \n    },  \n  photoUrl1      :\n    { lb:'',type:\"arrayPhoto\",\n      width:200,   showCol:true,  showColHead:true,\n    },\n  \n}\n//============================\n//============================\nconst commonTransaction={\n    id            :\n      { lb:'ID',     type:\"number\",\n        width:40,   showCol:true,  showColHead:true,    \n      },\n    date           :\n      { lb:'',type:\"date\",\n      width: 90,   showCol:true,  showColHead:true,    \n      }, \n    groupId      :\n      { lb:'',type:\"number\",\n        width:50,   showCol:true,  showColHead:true,      \n    },  \n    groupName      :\n      { lb:'',type:\"string\",\n        width:80,   showCol:true,  showColHead:true,      \n      },\n\n    partnerId      :\n      { lb:'',type:\"number\",\n        width:60,   showCol:true,  showColHead:true,      \n      },  \n    title          :\n      { lb:'',type:\"string\",\n        width:60,   showCol:true,  showColHead:true,    \n      },\n    name      :\n      { lb:'',type:\"string\",\n        width:100,   showCol:true,  showColHead:true,      \n      },\n\n\n}\n//============================\n//============================\nconst transactionTableTemplate={\n  ...commonTransaction,\n\n  total            :\n    { lb:'',     type:\"number\",\n    width:70,   showCol:true,  showColHead:true,showSum:true     \n    },\n  reduction           :\n    { lb:'',     type:\"number\",\n      width:70,   showCol:true,  showColHead:true, showSum:true   \n    },\n  grandTotal            :\n    { lb:'',     type:\"number\",\n      width:80,   showCol:true,  showColHead:true, showSum:true    \n    },\n\n  phone         :\n    { lb:'', type:\"array\",\n    width:110,   showCol:true,  showColHead:true,      \n    }, \n  address       :\n    { lb:'',type:\"arrayObject\",\n      width:200,   showCol:true,  showColHead:true,\n      children:{\n          number:{lb:\"\"},\n          tambon:{lb:\"\"},\n          district:{lb:\"\"},\n          province:{lb:\"\"},\n          postcode:{lb:\"\"}\n      }\n    },\n  remark      :\n    { lb:'',type:\"string\",\n      width:200,   showCol:true,  showColHead:true,      \n    },  \n  photoUrl1      :\n    { lb:'',type:\"arrayPhoto\",\n      width:200,   showCol:true,  showColHead:true,\n    },\n}\n\nconst transactionLogTableTemplate={\n  status          :\n  { lb:'',type:\"string\",\n    width:60,   showCol:true,  showColHead:true,    \n  },\n  ...transactionTableTemplate\n}\n\nconst transactionLogWithDetailTemplate={\n  ...transactionLogTableTemplate,\n}\n\n//======================\nconst transactionGraphTableTemplate={\n  status          :\n  { lb:'',type:\"string\",\n    width:60,   showCol:true,  showColHead:true,    \n  },\n  ...commonTransaction,\n  total            :\n    { lb:'',     type:\"number\",\n    width:70,   showCol:true,  showColHead:true,showSum:true     \n    },\n  reduction           :\n    { lb:'',     type:\"number\",\n      width:70,   showCol:true,  showColHead:true, showSum:true   \n    },\n  grandTotal            :\n    { lb:'',     type:\"number\",\n      width:80,   showCol:true,  showColHead:true, showSum:true    \n    },\n\n}\n\nconst transactionWiDetailGraphTableTemplate={\n  detail_id:commonProduct.id,\n  detail_barcode:commonProduct.barcode,\n  detail_name:commonProduct.name,\n  detail_groupId:commonProduct.groupId,\n  detail_groupName:commonProduct.groupName,\n  detail_unit:commonProduct.unit,\n  detail_price:commonProduct.price,\n  detail_quantity:\n  { lb:'',type:\"number\",\n    width:60,   showCol:true,  showColHead:true, showSum:true     \n  },\n  detail_result:  \n  { lb:'',type:\"number\",\n    width:90,   showCol:true,  showColHead:true, showSum:true     \n  },\n  ...commonTransaction\n}\n//======================\nconst productDetailTableTemplate={\n  icon: {lb: \"\",type: \"icon\", width: 60, showCol: true, showColHead: true},\n  id: {lb: \"\",type: \"number\", width: 60, showCol: true, showColHead: true},\n  barcode: { lb: \"\",type: \"string\", width: 100, showCol: true, showColHead: true},\n  name: {lb: \"\",type: \"string\", width: 240, showCol: true, showColHead: true},\n  groupId: {lb: \"\",type: \"number\", width: 60, showCol: true, showColHead: true },\n  groupName: {lb: \"\",type: \"string\", width: 90, showCol: true, showColHead: true},\n  quantity: {lb: \"\",type: \"number\", width: 60, showCol: true, showColHead: true,showSum:true},\n  unit: {lb: \"\",type: \"string\", width: 80, showCol: true, showColHead: true},\n  price: {lb: \"\",type: \"number\", width: 100, showCol: true, showColHead: true},\n  result: {lb: \"\",type: \"number\", width: 100, showCol: true, showColHead: true,showSum:true},\n  isRawMat: { lb: \"\",type: \"boolean\", width: 40, showCol: true, showColHead: true},\n  remark: {lb: \"\",type: \"string\", width: 200, showCol: true, showColHead: true},\n}\n\nconst basicDataTableTemplate={\n  id            :\n  { lb:'',     type:\"number\",\n      width:50,   showCol:true,  showColHead:true,    \n  },\n\n  routeAddress            :\n  { lb:'url',     type:\"string\",\n      width:200,   showCol:true,  showColHead:true,    \n  },\n  routeName           :\n  { lb:'',type:\"string\",\n      width:100,   showCol:true,  showColHead:true,    \n  },\n  userLevel           :\n  { lb:'',type:\"array\",\n      width:350,   showCol:true,  showColHead:true,    \n  },\n\n}\n\n\nconst stickerTableTemplate={\n  selectedLine           :\n  { lb:'_',     type:\"radio\",\n    width:40,   showCol:true,  showColHead:true,    \n  },\n  id            :\n    { lb:'ID',     type:\"number\",\n      width:75,   showCol:true,  showColHead:true,    \n    },\n  date           :\n    { lb:'',type:\"date\",\n    width: 90,   showCol:true,  showColHead:true,    \n    }, \n  recordName      :\n    { lb:'',type:\"string\",\n      width:400,   showCol:true,  showColHead:true,      \n    },\n  recordBy      :\n    { lb:'',type:\"string\",\n      width:110,   showCol:true,  showColHead:true,      \n    },\n\n}\n\n\n\nconst tableTemplate = {\n    basicDataTableTemplate,\n    productTableTemplate,productDetailTableTemplate,\n    partnerTableTemplate,transactionTableTemplate,\n    transactionLogTableTemplate,\n    transactionGraphTableTemplate,transactionWiDetailGraphTableTemplate,\n    stickerTableTemplate\n}\n\nexport default tableTemplate\n","import React from 'react';\nimport axios from 'axios';\nimport ctUtil from '../../util/ctUtil'\nimport uuid from 'react-uuid'\nimport {MdEdit} from 'react-icons/md';\nimport {FaPlusSquare,FaMinusSquare,FaCheck,FaBan} from 'react-icons/fa'; \n\nimport '../Modal.css'\nimport tableTemplate from '../../component/table/tableTemplate';\n\n\nconst {createTableTemplateForPage,convertTableTemplateObjToArray,\n    convertFormTemplateArrayToObj,genLanguageObjFromFormTemplate,\n    changeLanguageTableTemplate\n  }=ctUtil\n\nfunction Language({\n    pageData,\n    pageDataStandard,\n    basicData,\n    lb,\n    setShow,\n    submitFunction,\n    submitFunction2,\n    myheader,\n    languageObj,\n    addLanguage,\n    deleteLanguage\n    //submitCancel\n}) {\n\n\n    const genFilterData=(obj)=>{\n        const objectKey=Object.keys(obj)\n        \n        let tempArray=[]\n        let tempIdArray=[]\n    \n        objectKey.map(i=>{\n            tempIdArray=[...tempIdArray,parseInt(obj[i][\"thisId\"])]\n            \n            let tempTemplateArray=[]\n            Object.keys(obj[i]).map(k=>{\n                if(k!=\"thisId\"){\n                    const tempTemplateObj={key:k,lb:obj[i][k]}\n                    tempTemplateArray=[...tempTemplateArray,tempTemplateObj]\n                }\n            })\n\n            const tempObj={\n                id:parseInt(obj[i][\"thisId\"]),\n                formLanguage:i,\n                template:obj[i]//tempTemplateArray\n            }\n            tempArray=[...tempArray,tempObj]\n\n        })\n        const tempIdArray2=tempIdArray.sort()\n        let tempFilterData=[]\n\n        tempIdArray2.map(i=>{\n            tempArray.map(j=>{\n                if(i==j.id){\n                    tempFilterData=[...tempFilterData,j]\n                }\n            })\n        })\n\n\n       return tempFilterData\n    }\n\n\n    const getRefArray=(array)=>{\n        let tempRefArray=[]\n\n        array.map(k=>{\n            tempRefArray=[...tempRefArray,React.createRef()]\n        })\n\n        return tempRefArray\n    }\n\n\n    const refSubmitForm=React.createRef() //\n    const refCancelForm=React.createRef() //    \n    \n    let [filterData,setFilterData]=React.useState(genFilterData(languageObj))\n    \n    let [refOfInputState,setRefOfInputState]=React.useState(getRefArray(filterData))\n\n    const [editData,setEditData]=React.useState(null)\n    const [arrayOfChange,setArrayOfChange]=React.useState([])\n\n    const [editField,setEditField]=React.useState({\n        key:null,\n        lb:\"\"\n    })\n\n    React.useEffect(()=>{\n        //console.log('filterData')\n        //console.log(filterData)\n    },[filterData])\n\n    React.useEffect(()=>{\n        //console.log('editField')\n       //console.log(editField)\n    },[editField])\n\n    \nconst changeInputState=(e,idx)=>{\n    let changeId=null\n\n    let tempArray=[]\n    filterData.map((j,idx2)=>{\n        if(idx==idx2){\n            const tempObj={...j,formLanguage:e.target.value}\n            tempArray=[...tempArray,tempObj]\n            changeId=j.id\n        }\n        else{\n            tempArray=[...tempArray,j]\n        }\n    })\n\n    const tempArrayOfChange=[...arrayOfChange,changeId]\n    setArrayOfChange([...new Set(tempArrayOfChange)])\n    setFilterData(tempArray)\n}\n//=======================\nconst renderFooter=()=>{\n    return(\n    <div style={{display:\"flex\",\n                 position:\"fixed\",\n                 bottom:\"1rem\",right:\"2rem\",zIndex:\"100\"}}\n    >\n        <div>\n            <button\n                ref={refSubmitForm}\n                onKeyDown={e=>{\n                    //if(e.key==\"ArrowRight\"){\n                        //refCancelForm.current.focus()\n                    //}\n                }}\n                onClick={e=>{\n                    if(submitFunction){\n                       //submitFunction(filterData,arrayOfChange)\n                       submitFunction2(editData)\n                    }\n       \n                }}\n            >\n                <FaCheck/>\n            </button>\n        </div>\n        \n        <div>\n            <button\n                ref={refCancelForm}\n                onKeyDown={e=>{\n                    //if(e.key==\"ArrowLeft\"){\n                        //refCancelForm.current.focus()\n                    //}\n                }}\n                onClick={e=>{\n                    setShow(false)\n                }}\n            >\n                <FaBan/>\n            </button>\n        </div>\n\n    </div>\n    )\n}\n//=======================\n\nconst renderEditLanguage=()=>{\n\nconst tempKey=Object.keys(filterData[0].template)\n\nreturn tempKey.map((i,idx)=>{\n    if(i!=\"thisId\"){\n    return (\n    <div key={idx}\n        className=\"w-80\" \n        style={{marginBottom:\"0.2rem\"}}>\n            \n            <div key={idx}\n                className=\"w-100 flex-center-center jc-start\" \n                style={{marginBottom:\"0.2rem\"}}>\n                <div className=\"w-30\">\n                    {\n                    filterData[0].template[i]\n                    }\n                \n                </div>\n           \n                {editField.key==i\n                \n                ?<div className=\"w-70\" \n                      style={{position:\"relative\",display:\"flex\"}}>\n                    <input\n                        type=\"text\"\n                        value={editField.lb}\n                        \n                        onKeyDown={e=>{\n                            if(e.key==\"Enter\"){\n                                refSubmitForm.current.focus()\n                            }\n                        }}\n\n                        onChange={e=>{\n                            setEditField({\n                                key:editField.key,\n                                lb:e.target.value\n                            })\n                        }}\n                        onBlur={e=>{\n\n                            setEditData({\n                                ...editData,\n                                template:{...editData.template,\n                                    [editField.key]:editField.lb\n                                }\n                            })\n                        }}\n                    />\n                </div>\n                :<div   className=\"w-70\" \n                        style={{position:\"relative\",display:\"flex\"}}\n                        onClick={e=>{\n                            setEditField({key:i,lb:editData.template[i]})\n                        }}\n                    >\n                    <div>\n                        {\n                            editData.template[i]\n                        }  \n                    </div>\n                \n                </div>\n                }\n            \n            </div>\n           \n    </div>\n    )    \n    }\n    \n})\n\n}\n\n//=====================\nconst renderBody=()=>{    \n\n    return (\n    <div \n         className=\"w-100 flex-center-start jc-start\" \n         style={{marginBottom:\"0.2rem\"}}>\n        \n         <div className=\"w-100\">\n             {\n                 filterData.map((i,idx)=>{\n                     return(\n                         <div className=\"flex-center-center\" \n                              style={{marginBottom:\"0.2rem\"}}\n                               key={idx}>\n                             {idx>0\n                             ?<div className=\"w-10\">   \n                                <FaMinusSquare className=\"sm-icon\"\n                                    onClick={e=>{\n                                       deleteLanguage(i.id)\n                                    }}\n                                />\n                            </div> \n                            :<div className=\"w-10\">\n                                 <FaPlusSquare className=\"sm-icon\"\n                                     onClick={e=>{\n                                        addLanguage(filterData)\n                                     }}\n                                 />\n                             </div>\n                            \n                             }\n                             <div className=\"w-70\">\n                                 <input\n                                     type=\"text\"\n                                     value={i.formLanguage}\n                                     ref={refOfInputState[idx]}\n                                     onKeyDown={e=>{\n                                        if(e.key==\"Enter\"){\n                                            if(idx==filterData.length-1){\n                                                refSubmitForm.current.focus()\n                                            }\n                                            else{\n                                                refOfInputState[idx+1].current.focus()\n                                            }\n                                            //refCancelForm.current.focus()\n                                        }\n                                    }}\n\n                                     onChange={e=>{\n                                        changeInputState(e,idx)\n                                     }}\n                                 />\n                             </div>\n                             <div className=\"w-10\">\n                                 <MdEdit className=\"sm-icon\"\n                                    onClick={e=>{                                       \n                                        setEditData(i)\n                                    }}\n                                 />\n                             </div>\n                         </div>\n                     )\n                 })\n             }\n         </div>\n         \n        <div style={{display:\"flex\",width:\"100%\",marginTop:\"2rem\"}}\n        >\n        <div className=\"xc9\"/>\n        <div className=\"xc3\" style={{display:\"flex\"}}>\n            <div>\n                <button\n                    ref={refSubmitForm}\n                    onKeyDown={e=>{\n                        //if(e.key==\"ArrowRight\"){\n                            //refCancelForm.current.focus()\n                        //}\n                    }}\n                    onClick={e=>{\n                        if(submitFunction){\n                        submitFunction(filterData,arrayOfChange)\n                        }\n        \n                    }}\n                >\n                    <FaCheck/>\n                </button>\n            </div>\n            <div>\n                <button\n                    ref={refCancelForm}\n                    onKeyDown={e=>{\n                        //if(e.key==\"ArrowLeft\"){\n                            //refCancelForm.current.focus()\n                        //}\n                    }}\n                    onClick={e=>{\n                        setShow(false)\n                    }}\n                >\n                    <FaBan/>\n                </button>\n            </div>\n        </div>\n\n    </div>   \n\n\n      </div>\n    )\n }\n \n\n//======================\n//=======================\nreturn (\n    <div className=\"Modal-background\">\n        <div className=\"Modal-box\" \n             style={{paddingBottom:\"1rem\",minWidth:\"70%\",minHeight:\"100px\"}}>\n            <div className=\"Modal-header\">\n                <div className=\"flex-center-center\">\n                    <h5>{pageData.setting.language}</h5>\n                    \n                </div>\n              \n            </div>\n            <div className=\"Modal-body\" >\n                <div className=\"ModalInsideBody\">\n                    {editData\n                     ?null\n                     :renderBody()\n                    }\n                </div>\n            </div>\n            {\n             editData&&\n             renderEditLanguage()   \n            }\n            {\n             editData&&\n             renderFooter()\n            }\n        </div>        \n    </div>\n  );\n}\n\n\nLanguage.defaultProps={\n    lb:\"Form\",\n    setShow:()=>{},\n    submitFunction:null,\n    //submitCancel:null\n}\n\n\nexport default Language;\n\n/*\n\n  {renderBody(pageDataStandard.shopInfo,\"shopInfo\")}\n                {renderBody(pageDataStandard.setting,\"setting\")}\n                {renderBody(pageDataStandard.basicValue,\"basicValue\")}\n\n*/","\nimport React from 'react';\nimport Table from '../../component/table/Table'\nimport uuid from 'react-uuid'\n\nimport {FaPlusCircle,FaRegArrowAltCircleDown,FaRegArrowAltCircleUp,\n        FaBan,FaCheck\n       } from 'react-icons/fa';\nimport {MdDelete,MdClose,MdSwapHoriz,MdSave,MdPrint,\n       } from 'react-icons/md'\n\n//import PrintOut from './PrintOut'\n\nfunction PrintPageForm(props) {\n\nconst {printPageEditData,tableTemplate,pageData,\n       setShow,confirmFunc2,saveTableTemplateFunc\n}=props\n\nconsole.log('PrintPageForm')\nconst calDigit=100\n\nconst convertToDigit=(calDigit,mynumber)=>{\n      const temp =calDigit.toString()\n      const n=Array.from(temp).length-1\n      return mynumber.toFixed(n)\n}\n\n//const mynum=99\n//const digit=mynum.toFixed(2)\n\n//console.log(digit)\n\nconst tempTransaction={\n\nid:1,  date:new Date().toISOString(),    dateOut:new Date().toISOString(),    branch:\"main\",\ntransactionType:\"\",   transactionStatus:\"open\",    active:true,\ntable:\"A1\", tableStatus:\"open\", paymentType:\"\",\neffectStock:\"unChange\", effectSpending:\"unChange\", effectCustomerPoint:\"unChange\",\npartnerId:1, partnerType:\"\", title:\"\", name:\"\", phone:[\"0924424349 \",\"0459213311\"], address: \"12 . . . 70183\",\nremark:\"\", total:100, totalReduction:10,\nreduction:[\n   { reductionName:\"vat\", reductionActive:true, reductionRate:7, reductionInPercentage:true, reductionAmount:100 },\n   { reductionName:\"vat\",reductionActive:true, reductionRate:70, reductionInPercentage:false, reductionAmount:70},\n],\ngrandTotal:280, totalTax:300,\ntax:[{ taxName:\"vat\", taxActive:true, taxRate:7, taxInPercentage:true, taxAmount:100 },\n     { taxName:\"viso\", taxActive:true, taxRate:10, taxInPercentage:true, taxAmount:200},\n],\ntotalPoint:2, customerPointReduction:2,\nshopId:\"shopa\",userId:\"1\",\ndetail:[\n{ id:1, barcode:\"1\", productName:\"\", groupId:1, groupName: \"main\", unit:\"\", \n  price:100, priceLevel:[{price:100,remark:\"\"}],\n  quantity:1, result:100, remark:\"ok\", isRawMat:false, point:1, jobStatus:\"open\"\n},\n{ id:2, barcode:\"2\", productName:\"\", groupId:1, groupName: \"main\", unit:\"\",\n  price:50, priceLevel:[{price:50,remark:\"\"}],\n  quantity:1, result:50, remark:\"ok\", isRawMat:false, point:1,jobStatus:\"open\",\n},\n]\n}\n//---------------------------------------\n/*\nconst printTableTemplate={\nselectedLine     :{lb:'_',type:\"radio\",width:40,showCol:true,showColHead:true}, \nprintLb          :{lb:'',type:\"string\",width: 120,showCol:true,showColHead:true}, \nprintValue       :{lb:'',type:\"string\",width:120,showCol:true,showColHead:true}, \nprintFieldName   :{lb:'',type:\"string\",width:120,showCol:true,showColHead:true},\nprintFontSize    :{lb:'',type:\"string\",width:80,showCol:true,showColHead:true},\nprintWidth       :{lb:'',type:\"string\",width:80,showCol:true,showColHead:true},\nprintPosition    :{lb:'',type:\"string\",width:80,showCol:true,showColHead:true},\n}  \n*/\n\nconst [editData,setEditData]=React.useState(null)\nconst [showPrint,setShowPrint]=React.useState(false)\n\n\nconst setEditDataFunc=(value,e)=>{\n      console.log('setEditDataFunc')\n      setEditData(value)\n}\n\nconst setPageSetupFunc=(value)=>{\n      console.log('setPageSetupFunc')\n      console.log(value)\n}\n\nconst updatePageSetupFunc=(index,i)=>{\n      const tableArray=[\"header1\",\"header2\",\"table1\",\"footer1\",\"footer2\"]\n\n      let tempObj={...pageSetup}\n\n      tableArray.map(j=>{\n            let tempArray=[]\n            pageSetup[j].map((k,idx)=>{\n                  if(k._id==i._id){   \n                        if(i.printFieldName&&i.printValue){\n                              tempArray=[...tempArray,k]    \n                        }\n                        else {\n                              tempArray=[...tempArray,i]    \n                        }\n                  }\n                  else{\n                        tempArray=[...tempArray,k]      \n                  }\n            })\n\n            tempObj={...tempObj,[j]:tempArray}\n      })\n      setPageSetup(tempObj)\n}\n\nconst basicData={\n      widthUnit:[\"cm\",\"%\",\"mm\"],\n      fontUnit:[\"em\",\"rem\",\"px\"]\n}\n\nconst genDataForTable=(obj)=>{\n\n      const {header1,header2,table1,footer1,footer2}=obj\n      const tableArray=[\"header1\",\"header2\",\"table1\",\"footer1\",\"footer2\"]\n      let tempObj={...obj}\n\n      tableArray.map(i=>{    \n            let tempArray=[]\n            obj[i].map(i=>{\n                  const tempObj={...i,selectedLine:false,_id:uuid()}\n                  tempArray=[...tempArray,tempObj]\n            })\n            tempObj={...tempObj,[i]:tempArray}\n\n      })\n            //console.log('tempObj')\n            //console.log(tempObj)\n      return tempObj\n}\n\nconst [pageSetup,setPageSetup]=React.useState(\n      genDataForTable(printPageEditData))\n\nReact.useEffect(()=>{\n      //console.log('pageSetup')\n      //console.log(pageSetup)\n},[pageSetup])\n/*\nconst [pageSetup,setPageSetup]=React.useState(genDataForTable({\n      widthUnit:\"%\",\n      fontUnit:\"rem\",\n      totalWidth:83,\n      showTableHead:true,\n      header1:[\n            {printLb:\"\",printValue:\"Sister Steak\",                      printFontSize:\"1\",printWidth:\"100\",printPosition:\"center\"},\n            {printLb:\"\",printValue:\"126 24,,\",             printFontSize:\"0.8\",printWidth:\"100\",printPosition:\"center\"},\n            {printLb:\"\",printValue:\" 10240\",                printFontSize:\"0.8\",printWidth:\"100\",printPosition:\"center\"},\n            {printLb:\"\",printValue:\":0882224577\",                 printFontSize:\"0.8\",printWidth:\"100\",printPosition:\"center\"},\n            {printLb:\"\",printValue:\"TAX ID:1101499065873\",              printFontSize:\"0.8\",printWidth:\"100\",printPosition:\"center\"},\n            {printLb:\"\",printValue:\"-----------------------------\",     printFontSize:\"1.2\",printWidth:\"100\",printPosition:\"center\"},\n\n      ],\n      header2:[\n            {printLb:\"\",printFieldName:\"date\",printFontSize:\"1\",        printWidth:\"100\",printPosition:\"left\"},\n            {printLb:\"\",printFieldName:\"transactionType\",               printFontSize:\"1\",printWidth:\"66\",printPosition:\"left\"},\n            {printLb:\"\",printFieldName:\"id\",printFontSize:\"1\",          printWidth:\"33\",printPosition:\"right\"},\n            {printLb:\"\",printFieldName:\"partnerId\",printFontSize:\"1\",   printWidth:\"66\",printPosition:\"left\"},\n            {printLb:\"\",printFieldName:\"name\",printFontSize:\"1\",        printWidth:\"33\",printPosition:\"right\"},\n            {printLb:\"\",printValue:\"-----------------------------\",     printFontSize:\"1.2\",printWidth:\"100\",printPosition:\"center\"},\n\n      ],\n      table:[\n            {printLb:\"Product\",printFieldName:\"productName\",            printWidth:\"33\",printFontSize:\"1\",printPosition:\"left\"},\n            {printLb:\"Qty\",printFieldName:\"quantity\",printFontSize:\"1\", printWidth:\"33\",printPosition:\"left\"},\n            {printLb:\"Total\",printFieldName:\"result\",printFontSize:\"1\", printWidth:\"33\",printPosition:\"left\"},\n      ],\n      footer1:[\n            {printLb:\"\",printValue:\"-----------------------------\",printFontSize:\"1.2\",printWidth:\"100\",printPosition:\"center\"},\n\n            {printLb:\"\",printValue:\"total\",printFontSize:\"1\",printWidth:\"66\",printPosition:\"left\"},\n            {printLb:\"\",printFieldName:\"total\",printFontSize:\"1\",printWidth:\"33\",printPosition:\"left\"},\n\n            {printLb:\"-\",printFieldName:\"tax\",printFontSize:\"1\",printWidth:\"68\",printPosition:\"right\"},\n            \n            {printLb:\"\",printValue:\"totalTax\",printFontSize:\"1\",printWidth:\"66\",printPosition:\"left\"},\n            {printLb:\"\",printFieldName:\"totalTax\",printFontSize:\"1\",printWidth:\"33\",printPosition:\"left\"},\n\n            {printLb:\"-\",printFieldName:\"reduction\",printFontSize:\"1\",printWidth:\"68\",printPosition:\"right\"},\n\n            {printLb:\"\",printValue:\"totalReduction\",printFontSize:\"1\",printWidth:\"66\",printPosition:\"left\"},\n            {printLb:\"\",printFieldName:\"totalReduction\",printFontSize:\"1\",printWidth:\"33\",printPosition:\"left\"},\n\n            {printLb:\"\",printValue:\"grandTotal\",printFontSize:\"1\",printWidth:\"66\",printPosition:\"left\"},\n            {printLb:\"\",printFieldName:\"grandTotal\",printFontSize:\"1\",printWidth:\"33\",printPosition:\"left\"},\n\n      ],\n      footer2:[\n            {printLb:\"\",printValue:\"----------------------------\",printFontSize:\"1.2\",printWidth:\"100\",printPosition:\"center\"},\n            {printLb:\"\",printValue:\" Wifi:zzzzzzz\",printFontSize:\"0.8\",printWidth:\"100\",printPosition:\"center\"},\n            {printLb:\"\",printValue:\"Thank you\",printFontSize:\"0.8\",printWidth:\"100\",printPosition:\"center\"},\n      ]\n}))\n*/\n/*\nconst printForm={\n      formHead:\"\",\n      widthUnit:\"Width Unit..\",\n      fontUnit:\"Font Unit..\",\n      totalWidth:\"Total Width..\",\n      showTableHead:\"Show Table Head..\",\n      header1:\"Header 1..\",\n      header2:\"Header 2..\",\n      table:\"Table..\",\n      footer1:\"Footer 1..\",\n      footer2:\"Footer 2..\",\n      \n      printLb:\"Label..\",\n      printValue:\"Value..\",\n      printFieldName:\"Key Name..\",\n      printFontSize:\"Font Size..\",\n      printWidth:\"Width..\",\n      printPosition:\"Position..\"\n}\n*/\n\n\nconst moveUp=()=>{\n      if(editData){\n          \n            const tempRender=[\"header1\",\"header2\",\"table1\",\"footer1\",\"footer2\"]\n\n            let tempObj={...pageSetup}\n      \n            tempRender.map(i=>{\n                  let tempArray=[]\n                  let targetIdx=null\n\n                  pageSetup[i].map((j,idx)=>{\n                        if(j._id==editData._id){\n                              targetIdx=idx\n                        }\n                  })\n                 \n                  if(targetIdx||targetIdx>0){\n                        pageSetup[i].map((j,idx)=>{\n                              if(idx==targetIdx-1){\n                              tempArray=[...tempArray,pageSetup[i][targetIdx]]\n                              }\n                              else if(idx==targetIdx){\n                              tempArray=[...tempArray,pageSetup[i][targetIdx-1]]\n                              }\n                              else {\n                              tempArray=[...tempArray,j]\n                              }\n                        })                 \n                        tempObj={...tempObj,[i]:tempArray}\n                  }\n            })\n\n            //console.log('tempObj')\n            //console.log(tempObj)\n            setPageSetup(tempObj)\n      }\n  }\n  \n  const moveDown=()=>{\n      if(editData){\n            const tempRender=[\"header1\",\"header2\",\"table1\",\"footer1\",\"footer2\"]\n\n            let tempObj={...pageSetup}\n      \n            tempRender.map(i=>{\n                  let tempArray=[]\n                  let targetIdx=null\n                  const lastIndex=pageSetup[i].length-1\n\n                  pageSetup[i].map((j,idx)=>{\n                        if(j._id==editData._id){\n                              targetIdx=idx\n                        }\n                  })\n                 \n                  if((targetIdx!=null)&&(targetIdx<lastIndex)){\n                        pageSetup[i].map((j,idx)=>{\n                              if(idx==targetIdx){\n                              tempArray=[...tempArray,pageSetup[i][targetIdx+1]]\n                              }\n                              else if(idx==targetIdx+1){\n                              tempArray=[...tempArray,pageSetup[i][targetIdx]]\n                              }\n                              else {\n                              tempArray=[...tempArray,j]\n                              }\n                        })                 \n                        tempObj={...tempObj,[i]:tempArray}\n                  }\n            })\n            setPageSetup(tempObj)\n      }\n  }\n\nconst deleteLine=()=>{\n  if(editData){\n\n      const tempRender=[\"header1\",\"header2\",\"table1\",\"footer1\",\"footer2\"]\n\n      let tempObj={...pageSetup}\n\n      tempRender.map(i=>{\n            let tempArray=[]\n            pageSetup[i].map(j=>{\n                  if(j._id!=editData._id){\n                       tempArray=[...tempArray,j] \n                  }\n            })\n            tempObj={...tempObj,[i]:tempArray}\n      })\n\n      setPageSetup(tempObj)\n  }\n}\n  \nconst insertLine=()=>{\n  \n      if(editData){\n            const blankData= { printLb:\"\",printValue:\"\",printFieldName:null,\n                             printFontSize:\"1\",printWidth:\"50\",\n                             printPosition:\"center\",_id:uuid(),selectedLine:false}\n\n            const tempRender=[\"header1\",\"header2\",\"table1\",\"footer1\",\"footer2\"]\n\n            let tempObj={...pageSetup}\n      \n            tempRender.map(i=>{\n                  let tempArray=[]\n                  pageSetup[i].map(j=>{\n                        if(j._id==editData._id){\n                              tempArray=[...tempArray,blankData,j] \n                        }\n                        else {\n                              tempArray=[...tempArray,j] \n                        }\n                  })\n                  tempObj={...tempObj,[i]:tempArray}\n            })\n      \n            setPageSetup(tempObj)\n      }\n}\n\nconst {widthUnit,fontUnit,totalWidth,showTableHead,header1,header2,table1,footer1,footer2}=pageSetup\n\nconst [swapStyleRight,setSwapStyleRight]=React.useState(true)\nconst [printTableTemplate,setPrintTableTemplate]=React.useState(tableTemplate.printTableTemplate)\n\nconst styleRight={position:\"fixed\",\n    top:`3rem`,right:\"0.5rem\",zIndex:\"100\",\n    width:\"3rem\",backgroundColor:\"white\",\n    borderRadius:\"10px\",margin:\"1rem\"\n}\nconst styleLeft={position:\"fixed\",\n    top:`3rem`,Left:\"0.5rem\",zIndex:\"100\",\n    width:\"3rem\",backgroundColor:\"white\",\n    borderRadius:\"10px\",margin:\"1rem\"\n}\n\nconst renderToolBox=()=>{\n      return(\n          <div className=\"\" style={swapStyleRight?styleRight:styleLeft}>\n              <div className=\"flex-center-center\" style={{margin:\"0.5rem 0\"}}>\n                  <MdDelete className=\"lg-icon\"\n                      onClick={e=>{\n                        deleteLine()\n                      }}\n                  />\n              </div>\n              <div className=\"flex-center-center\" style={{margin:\"0.5rem 0\"}}>\n                  <FaPlusCircle className=\"lg-icon\"\n                      onClick={e=>{\n                          insertLine()\n                      }}\n                  />\n              </div>\n              <div className=\"flex-center-center\" style={{margin:\"0.5rem 0\"}}>\n                  <FaRegArrowAltCircleUp className=\"lg-icon\"\n                      onClick={e=>{\n                          moveUp()\n                      }}\n                  />\n              </div>\n              <div className=\"flex-center-center\" style={{margin:\"0.5rem 0\"}}>\n                  <FaRegArrowAltCircleDown className=\"lg-icon\"\n                      onClick={e=>{\n                          moveDown()\n                      }}\n                  />\n              </div>\n              <div className=\"flex-center-center\" style={{margin:\"0.5rem 0\"}}>\n                  <MdSwapHoriz className=\"xl-icon\"\n                      onClick={e=>{\n                          setSwapStyleRight(!swapStyleRight)\n                      }}\n                  />\n              </div>\n              \n              <div className=\"flex-center-center\" style={{margin:\"0.5rem 0\"}}>\n                  <MdPrint className=\"xl-icon\"\n                      onClick={e=>{\n                        //printFunc()\n                        //setReloadPrint(true)\n                        window.print()\n\n                  }}\n                  />\n              </div>\n              <div className=\"flex-center-center\" style={{margin:\"0.5rem 0\"}}>\n                  <MdClose className=\"lg-icon\"\n                      onClick={e=>{\n                          setEditData(null)\n                      }}\n                  />\n              </div>\n          </div>\n      )\n  }\n  \nconst renderArray=(array)=>(\n      array.map((i,idx)=>(\n            <div key={idx} style={{width:`${i.printWidth}${widthUnit}`}}>\n                  <div style={{fontSize:`${i.printFontSize}${fontUnit}`,\n                               textAlign:i.printPosition}}>\n                        {\n                        `${i.printLb}${i.printValue}`\n                        }\n                  </div>\n            </div>\n      ))\n)\n\nconst renderArray2=(array,inputState)=>(\n      array.map((i,idx)=>{\n            if(i.printFieldName==\"tax\"||i.printFieldName==\"reduction\"){\n                  console.log(i.printFieldName)\n                  return(inputState[i.printFieldName].map((k,idx2)=>(\n                  <div key={`${idx}-${idx2}`} style={{width:`${i.printWidth}${widthUnit}`}}>\n                        <div \n                             style={{fontSize:`${i.printFontSize}${fontUnit}`,\n                                     textAlign:i.printPosition}}>\n                              {i.printLb==\"\"\n                              ?convertToDigit(calDigit,k[`${i.printFieldName}Amount`])\n                              :<div style={{display:\"flex\",justifyContent:\"space-between\"}}>\n                                    <div>\n                                          { `${i.printLb}  ${k[`${i.printFieldName}Name`]}`}\n                                    </div>\n                                    <div>\n                                          {\n                                          convertToDigit(calDigit,k[`${i.printFieldName}Amount`])\n                                          }\n                                    </div>\n                                    \n                               </div>\n                              }\n                        </div>\n                  </div>\n                       )) \n                  )      \n            }\n            else {\n                  return(\n                  <div key={idx} style={{width:`${i.printWidth}${widthUnit}`}}>\n                        <div style={{fontSize:`${i.printFontSize}${fontUnit}`,textAlign:i.printPosition}}>\n                              {i.printFieldName\n                              ?i.printFieldName==\"totalTax\"||i.printFieldName==\"totalReduction\"||i.printFieldName==\"total\"||i.printFieldName==\"grandTotal\"\n                                    ?`${i.printLb}${convertToDigit(calDigit,inputState[i.printFieldName])}`\n                                    :`${i.printLb}${inputState[i.printFieldName]}`\n                              :`${i.printLb}${i.printValue}`\n                              }\n                        </div>\n                  </div>\n                  )\n            }\n      })\n)\n\n\nconst renderTableHead=(array)=>(\n      array.map((i,idx)=>(\n      <div key={idx} style={{width:`${i.printWidth}${widthUnit}`}}>\n            <div style={{fontSize:`${i.printFontSize}${fontUnit}`,textAlign:i.printPosition}}>\n                  {`${i.printLb}`}\n            </div>\n      </div>\n      ))\n)\n\nconst renderTableBody=(array,detail)=>(\n      \n      detail.map((i,idx1)=>(\n            array.map((j,idx2)=>(\n                  <div key={`${idx1}-${idx2}`} \n                       style={{width:`${j.printWidth}${widthUnit}`}}>\n                        <div style={{fontSize:`${j.printFontSize}${fontUnit}`,textAlign:j.printPosition}}>\n                              {j.printFieldName==\"result\"\n                              ?convertToDigit(calDigit,i[j.printFieldName])\n                              :`${i[j.printFieldName]}`\n                              }\n                        </div>\n                  </div>\n            ))\n      ))\n)\n\n\nconst renderForm=()=>{\n  const temp=Object.keys(pageSetup)\n  \n  return temp.map((i,idx)=>{\n\n      if(i==\"widthUnit\"||i==\"fontUnit\") {\n            return (    \n            <div key={idx} className=\"flex-center-center jc-start w-50\" \n                  style={{padding:\"0.3rem\",display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}} >\n                  <div className=\"xc4\">\n                        {pageData.printForm[i]}\n                  </div>\n                  <select className=\"xc8\">\n                    {\n                        basicData[i].map((j,idx2)=>(\n                              <option key={idx2}\n                                      selected={j==pageSetup[i]?\"selected\":\"\"}\n                              >{j}</option>\n                        ))     \n                    }\n                  </select>\n            </div>\n            )\n      }\n      else if(i==\"totalWidth\"){\n            return (    \n                  <div key={idx} className=\"flex-center-center jc-start w-50\" \n                        style={{padding:\"0.3rem\",display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}} >\n                        <div className=\"xc4\">\n                              {pageData.printForm[i]}\n                        </div>\n                        <input className=\"xc8\"\n                              value={pageSetup[i]}\n                              type=\"number\"\n                              onChange={e=>setPageSetup({...pageSetup,\n                                    [i]:e.target.value\n                              })}\n                        />\n                  </div>\n            )\n      }\n      else if(i==\"showTableHead\"){\n            return (    \n            <div key={idx} className=\"flex-center-center jc-start w-50\" \n                  style={{padding:\"0.3rem\",display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}} >\n                  <div className=\"xc4\">\n                        {pageData.printForm[i]}\n                  </div>\n                  <div className=\"xc8\">\n                        <input \n                              type=\"checkbox\"\n                              style={{height:\"1.4rem\",padding:\"0\",margin:\"0\"}}\n                              checked={pageSetup[i]}\n                              \n                              onChange={e=>setPageSetup({...pageSetup,\n                                    [i]:e.target.checked\n                              })}\n                        />\n                  </div>\n                 \n            </div>\n            )\n      }\n      else if(i==\"header1\"||i==\"header2\"||i==\"table1\"||i==\"footer1\"||i==\"footer2\"){\n            const fieldArray=[\"lb\",\"value\",\"fieldName\",\"fontSize\",\"width\",\"position\"]\n            return(\n            <div key={idx} className=\"w-100\">\n                  <div className=\"w-100\" \n                       style={{padding:\"0.3rem\",display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}} >\n                         {pageData.printForm[i]}\n                  </div>\n\n                  {printTableTemplate&&\n                    <Table\n                        tableTemplate={printTableTemplate}\n                        setTableTemplate={setPrintTableTemplate}\n      \n                        filterData={pageSetup[i]}//{filterData.data0}\n                        setFilterData={setPageSetupFunc}//{setFilterDataData0}\n                        \n                        editData={editData}//{filterData.editData}\n                        setEditData={setEditDataFunc}//{setEditData}\n                        saveTableTemplateFunc={saveTableTemplateFunc}\n                        isSubTable={false}\n                        updateFilterData={updatePageSetupFunc}\n                        useInput={true}\n                        pageData={pageData.tableSettingModal}\n                  />\n                  }\n\n            </div>\n            )\n      }\n   })\n}\n//======================\nconst renderFooter=()=>{\n      return(\n      <div  className=\"\"\n            style={{display:\"flex\",\n                   position:\"fixed\",\n                   bottom:\"1rem\",right:\"2rem\",zIndex:\"100\"}}\n      >\n          <div>\n              <button\n                  onClick={e=>{\n                        if(confirmFunc2){\n                          confirmFunc2(pageSetup)\n                        }\n                  }}\n              >\n                  <FaCheck/>\n              </button>\n          </div>\n          \n          <div>\n              <button\n                   onClick={e=>{\n                      setShow(false)\n                   }}\n              >\n                  <FaBan/>\n              </button>\n          </div>\n      </div>\n      )\n   }\n//======================\n\n//======================\nreturn(\n<div style={{width:\"100%\"}}>\n      <div className=\"bd-green\" \n                  style={{//position:\"fixed---\",top:\"0\",left:\"0\",\n                              margin:\"0\",\n                              width:`${totalWidth}${widthUnit}`,\n                              display:\"flex\",    \n                              flexWrap:\"wrap\",\n                              }}>\n                  {\n                        renderArray(header1)\n                  }\n                  {\n                        renderArray2(header2,tempTransaction)\n                  }\n                  { showTableHead&&\n                        renderTableHead(table1)   \n                  }\n                  {\n                        renderTableBody(table1,tempTransaction.detail)   \n                  }\n                  {\n                        renderArray2(footer1,tempTransaction)\n                  }\n                  {\n                        renderArray(footer2)\n                  }\n\n      </div>\n\n      <div className=\"w-100 hide-on-print\">\n            {\n            renderForm()\n            }\n      </div>\n     \n      <div className=\"w-100 hide-on-print\">\n            {editData&&\n            renderToolBox()   \n            }\n      </div>\n    \n       <div className=\"w-100 hide-on-print\">\n            {\n            renderFooter()\n            }\n       </div>\n\n      {/*\n       ?<div className=\"hide-on-screen\">\n            <PrintOut\n                  printPage={[pageSetup]}\n                  printPageSetting={pageSetup.printPageName}\n                  calDigit={100}\n                  trasaction={tempTransaction}\n            />\n       </div>\n       :null\n      */}\n     \n</div>\n)\n\n}\n\n\n\nexport default PrintPageForm;\n","import React from 'react';\nimport uuid from 'react-uuid'\n\n\nfunction PrintOut(props) {\n\nconst {\n   printPage,\n   printPageSetting,\n   calDigit,\n   transaction\n}=props\n\nconst convertToDigit=(calDigit,mynumber)=>{\n      const temp =calDigit.toString()\n      const n=Array.from(temp).length-1\n      return mynumber.toFixed(n)\n}\n\nconst genDataForTable=(obj)=>{\n   const {header1,header2,table1,footer1,footer2}=obj\n   const tableArray=[\"header1\",\"header2\",\"table1\",\"footer1\",\"footer2\"]\n   let tempObj={...obj}\n   tableArray.map(i=>{    \n         let tempArray=[]\n         obj[i].map(i=>{\n               const tempObj={...i,selectedLine:false,_id:uuid()}\n               tempArray=[...tempArray,tempObj]\n         })\n         tempObj={...tempObj,[i]:tempArray}\n   })\n   return tempObj\n}\n\nconst findPrintPage=(printPage,printPageSetting)=>{\n   let result=null\n   printPage.map(i=>{\n      if(i.printPageName==printPageSetting){\n         result=genDataForTable(i)\n      }\n   })\n   return result\n}\n\nconst [pageSetup,setPageSetup]=React.useState(\n   findPrintPage(printPage,printPageSetting)\n)\n\nconst {widthUnit,fontUnit,totalWidth,showTableHead,\n       header1,header2,table1,footer1,footer2}=pageSetup\n\nReact.useEffect(()=>{\n   //console.log('pageSetup')\n   //console.log(pageSetup)\n},[pageSetup])\n\n\n\nconst renderArray=(array)=>(\n   array.map((i,idx)=>(\n         <div key={idx} style={{width:`${i.printWidth}${widthUnit}`}}>\n               <div style={{fontSize:`${i.printFontSize}${fontUnit}`,\n                              textAlign:i.printPosition}}>\n                     {\n                     `${i.printLb}${i.printValue}`\n                     }\n               </div>\n         </div>\n   ))\n)\n\nconst renderArray2=(array,inputState)=>(\n   array.map((i,idx)=>{\n         if(i.printFieldName==\"tax\"||i.printFieldName==\"reduction\"){\n               console.log(i.printFieldName)\n               return(inputState[i.printFieldName].map((k,idx2)=>(\n               <div key={`${idx}-${idx2}`} style={{width:`${i.printWidth}${widthUnit}`}}>\n                     <div \n                           style={{fontSize:`${i.printFontSize}${fontUnit}`,\n                                    textAlign:i.printPosition}}>\n                           {i.printLb==\"\"\n                           ?convertToDigit(calDigit,k[`${i.printFieldName}Amount`])\n                           :<div style={{display:\"flex\",justifyContent:\"space-between\"}}>\n                                 <div>\n                                       { `${i.printLb}  ${k[`${i.printFieldName}Name`]}`}\n                                 </div>\n                                 <div>\n                                       {\n                                       convertToDigit(calDigit,k[`${i.printFieldName}Amount`])\n                                       }\n                                 </div>\n                                 \n                              </div>\n                           }\n                     </div>\n               </div>\n                     )) \n               )      \n         }\n         else {\n               return(\n               <div key={idx} style={{width:`${i.printWidth}${widthUnit}`}}>\n                     <div style={{fontSize:`${i.printFontSize}${fontUnit}`,textAlign:i.printPosition}}>\n                           {i.printFieldName\n                           ?i.printFieldName==\"totalTax\"||i.printFieldName==\"totalReduction\"||i.printFieldName==\"total\"||i.printFieldName==\"grandTotal\"\n                                 ?`${i.printLb}${convertToDigit(calDigit,inputState[i.printFieldName])}`\n                                 :`${i.printLb}${inputState[i.printFieldName]}`\n                           :`${i.printLb}${i.printValue}`\n                           }\n                     </div>\n               </div>\n               )\n         }\n   })\n)\n\nconst renderTableHead=(array)=>(\n   array.map((i,idx)=>(\n   <div key={idx} style={{width:`${i.printWidth}${widthUnit}`}}>\n         <div style={{fontSize:`${i.printFontSize}${fontUnit}`,textAlign:i.printPosition}}>\n               {`${i.printLb}`}\n         </div>\n   </div>\n   ))\n)\n\nconst renderTableBody=(array,detail)=>(\n   \n   detail.map((i,idx1)=>(\n         array.map((j,idx2)=>(\n               <div key={`${idx1}-${idx2}`} \n                    style={{width:`${j.printWidth}${widthUnit}`}}>\n                     <div style={{fontSize:`${j.printFontSize}${fontUnit}`,textAlign:j.printPosition}}>\n                           {j.printFieldName==\"result\"\n                           ?convertToDigit(calDigit,i[j.printFieldName])\n                           :`${i[j.printFieldName]}`\n                           }\n                     </div>\n               </div>\n         ))\n   ))\n)\n\n\nreturn(\n   \n   <div className=\"bd-green\" \n        style={{position:\"fixed\",top:\"0\",left:\"0\",zIndex:\"500\",\n               width:`${totalWidth}${widthUnit}`,\n               display:\"flex\",    \n               flexWrap:\"wrap\",\n               backgroundColor:\"white\"\n            }}\n   >\n      {\n         renderArray(pageSetup.header1)\n      }\n\n      {\n         renderArray2(pageSetup.header2,transaction)\n      }\n      { \n         pageSetup.showTableHead&&\n         renderTableHead(table1)   \n      }\n      {\n         renderTableBody(pageSetup.table1,\n                        transaction.detail)   \n      }\n      {\n         renderArray2(pageSetup.footer1,transaction)\n      }\n      {\n         renderArray(pageSetup.footer2)\n      }\n\n   </div>\n\n\n)\n\n}\nexport default PrintOut;\n\n/*\n{\n   renderArray(pageSetup.header1)\n}\n{\n   renderArray2(pageSetup.header2,transaction)\n}\n{  pageSetup.showTableHead&&\n           renderTableHead(table1)   \n}\n{\n   renderTableBody(pageSetup.table1,\n                   transaction.detail)   \n}\n{\n   renderArray2(pageSetup.footer1,transaction)\n}\n{\n   renderArray(pageSetup.footer2)\n}\n*/","import React from 'react';\nimport {MdEdit} from 'react-icons/md';\nimport {FaPlusSquare,FaMinusSquare,FaBan,FaCheck} from 'react-icons/fa'; \nimport PrintPageForm from './PrintPageForm';\nimport PrintOut from './PrintOut'\n\nconst tempTransaction={\n\n    id:1,  date:new Date().toISOString(),    dateOut:new Date().toISOString(),    branch:\"main\",\n    transactionType:\"\",   transactionStatus:\"open\",    active:true,\n    table:\"A1\", tableStatus:\"open\", paymentType:\"\",\n    effectStock:\"unChange\", effectSpending:\"unChange\", effectCustomerPoint:\"unChange\",\n    partnerId:1, partnerType:\"\", title:\"\", name:\"\", phone:[\"0924424349 \",\"0459213311\"], address: \"12 . . . 70183\",\n    remark:\"\", total:100, totalReduction:10,\n    reduction:[\n       { reductionName:\"vat\", reductionActive:true, reductionRate:7, reductionInPercentage:true, reductionAmount:100 },\n       { reductionName:\"vat\",reductionActive:true, reductionRate:70, reductionInPercentage:false, reductionAmount:70},\n    ],\n    grandTotal:280, totalTax:300,\n    tax:[{ taxName:\"vat\", taxActive:true, taxRate:7, taxInPercentage:true, taxAmount:100 },\n         { taxName:\"viso\", taxActive:true, taxRate:10, taxInPercentage:true, taxAmount:200},\n    ],\n    totalPoint:2, customerPointReduction:2,\n    shopId:\"shopa\",userId:\"1\",\n    detail:[\n    { id:1, barcode:\"1\", productName:\"\", groupId:1, groupName: \"main\", unit:\"\", \n      price:100, priceLevel:[{price:100,remark:\"\"}],\n      quantity:1, result:100, remark:\"ok\", isRawMat:false, point:1, jobStatus:\"open\"\n    },\n    { id:2, barcode:\"2\", productName:\"\", groupId:1, groupName: \"main\", unit:\"\",\n      price:50, priceLevel:[{price:50,remark:\"\"}],\n      quantity:1, result:50, remark:\"ok\", isRawMat:false, point:1,jobStatus:\"open\",\n    },\n    ]\n    }\n\n\n\n\nfunction PrintPage(props) {\n\nconst {pageData,setShow,submitFunction,submitFunction2,\n       printPage,basicData,tableTemplate,\n       addPrintPage,deletePrintPage,saveTableTemplateFunc\n}=props\n\nconst refSubmitForm=React.createRef() //\nconst refCancelForm=React.createRef() //    \n\nconsole.log('printPage')\nconsole.log(printPage)\n\nconst getRefArray=(array)=>{\n    let tempRefArray=[]\n\n    if(Array){\n        if(Array.isArray(array)){\n            array.map(k=>{\n                tempRefArray=[...tempRefArray,React.createRef()]\n            })\n        }\n    }\n    \n    return tempRefArray\n}\n\n\nlet [filterData,setFilterData]=React.useState(printPage)\nReact.useEffect(()=>{\n    console.log('filterData')\n    console.log(filterData)\n},[filterData])\n\nconst [editData,setEditData]=React.useState(null)\n\nconst [refOfInputState,setRefOfInputState]=React.useState(getRefArray(printPage))\n\n\n//===========================\nconst changeInputState=(e,idx)=>{\n\n    let tempArray=[]\n    filterData.map((j,idx2)=>{\n        if(idx==idx2){\n            const tempObj={...j,printPageName:e.target.value}\n            tempArray=[...tempArray,tempObj]\n        }\n        else{\n            tempArray=[...tempArray,j]\n        }\n    })\n\n    setFilterData(tempArray)\n}\n//============================\nconst confirmFunc2=(pageSetup)=>{\n\n    submitFunction2(pageSetup,filterData)\n}\n//=======================\n//===========================\nconst renderBody=(obj)=>{\n   \nreturn (\n<div \n    className=\"hide-on-print w-100 flex-center-start jc-start\" \n    style={{marginBottom:\"0.2rem\"}}>\n   \n    \n    <div className=\"w-100\">\n        {\n            filterData.map((i,idx)=>{\n                return(\n                    <div className=\"flex-center-center\" \n                         style={{marginBottom:\"0.2rem\"}}\n                    key={idx}>\n                        {idx>0\n                        ?<div className=\"w-10\">   \n                           <FaMinusSquare className=\"sm-icon\"\n                               onClick={e=>{\n                                 deletePrintPage(i.printId)\n                               }}\n                           />\n                       </div> \n                       :<div className=\"w-10\">\n                            <FaPlusSquare className=\"sm-icon\"\n                                onClick={e=>{\n                                   addPrintPage(filterData)\n                                }}\n                            />\n                        </div>\n                       \n                        }\n                        <div className=\"w-70\">\n                            <input\n                                type=\"text\"\n                                ref={refOfInputState[idx]}\n\n                                onKeyDown={e=>{\n                                  \n                                    \n                                    if(e.key==\"Enter\"){\n                                        if(idx==filterData.length-1){\n                                            refSubmitForm.current.focus()\n                                        }\n                                        else{\n                                            refOfInputState[idx+1].current.focus()\n                                        }\n                                    }\n                                    \n                                }}\n\n\n                                value={i.printPageName}\n                                onChange={e=>{\n                                   changeInputState(e,idx)\n                                }}\n                            />\n                        </div>\n                        <div className=\"w-10\">\n                            <MdEdit className=\"sm-icon\"\n                               onClick={e=>{                                       \n                                   setEditData(i)\n                               }}\n                            />\n                        </div>\n                    </div>\n                )\n            })\n        }\n    </div>\n    \n   <div style={{display:\"flex\",width:\"100%\",marginTop:\"2rem\"}}\n   >\n        <div className=\"xc9\"/>\n        <div className=\"xc3\" style={{display:\"flex\"}}>\n            <div>\n                <button\n                    ref={refSubmitForm}\n                    onKeyDown={e=>{\n                        //if(e.key==\"ArrowRight\"){\n                            //refCancelForm.current.focus()\n                        //}\n                    }}\n                    onClick={e=>{\n                        if(submitFunction){\n                            submitFunction(filterData)\n                        }\n            \n                    }}\n                >\n                    <FaCheck/>\n                </button>\n            </div>\n            \n            <div>\n                <button\n                    ref={refCancelForm}\n                    onKeyDown={e=>{\n                        //if(e.key==\"ArrowLeft\"){\n                            //refCancelForm.current.focus()\n                        //}\n                    }}\n                    onClick={e=>{\n                        setShow(false)\n                    }}\n                >\n                    <FaBan/>\n                </button>\n            </div>\n        </div>\n  </div>   \n\n\n</div>\n   )\n}\n//===========================\nreturn(\n<div>\n    <div className=\"Modal-background hide-on-print\">\n        {editData\n        ?null\n        :<div className=\"Modal-box\" \n            style={{paddingBottom:\"1rem\",minWidth:\"70%\",minHeight:\"30%\"}}>\n        \n            <div className=\"w-100 hide-on-print\">\n                <div className=\"flex-center-center\">\n                    <h5>{`${pageData.setting.printPage}`}</h5>   \n                </div>     \n            </div>\n\n            <div className=\"Modal-body hide-on-print\" >\n                    <div className=\"ModalInsideBody\">\n                        {\n                            renderBody()\n                        }\n                    </div>\n            </div>     \n        </div>\n        \n        }\n\n        {editData&&\n        <div className=\"Modal-box hide-on-print\"\n            style={{width:\"100%\",height:\"100%\",padding:\"0\"}}\n        >\n            <PrintPageForm\n                    printPageEditData={editData}\n                    tableTemplate={tableTemplate}\n                    pageData={pageData}\n                    setShow={setShow}\n                    confirmFunc2={confirmFunc2}\n                    saveTableTemplateFunc={saveTableTemplateFunc}\n            />    \n        </div>\n        }\n   \n    </div>\n\n    {\n    editData&&\n    <div className=\"hide-on-screen\">\n        <PrintOut \n                printPage={[editData]}\n                printPageSetting={editData.printPageName}\n                transaction={tempTransaction}\n                calDigit={100}\n        />  \n    </div>\n    }\n\n\n</div>\n\n)\n\n}\nexport default PrintPage;\n","\nimport React from 'react';\n\nimport '../Modal.css'\n\n\n\nfunction WidthLeft({\n   pageData,\n   basicData,\n   setShow,\n   submitFunction\n}) {\n\nconst refSubmitForm=React.createRef() //\nconst refCancelForm=React.createRef() //    \n\nconst [formInputState,setFormInputState]=React.useState({widthLeft:basicData.widthLeft})\n\n/*\nconst widthLeftForm={\n   formHead:\"Set Width\",\n   WidthLeft:\"Width\"\n}\n*/\n\n//=======================\nconst renderFooter=()=>{\n   return(\n   <div style={{display:\"flex\",position:\"fixed\",bottom:\"1rem\",right:\"2rem\",zIndex:\"100\"}}\n   >\n       <div>\n           <button\n               ref={refSubmitForm}\n               onKeyDown={e=>{\n                   if(e.key==\"ArrowRight\"){\n                       refCancelForm.current.focus()\n                   }\n               }}\n               onClick={e=>{\n                   if(submitFunction){\n                       submitFunction(formInputState)\n                   }\n\n               }}\n           >Confirm</button>\n       </div>\n       \n       <div>\n           <button\n               ref={refCancelForm}\n               onKeyDown={e=>{\n                   if(e.key==\"ArrowLeft\"){\n                       refCancelForm.current.focus()\n                   }\n               }}\n               onClick={e=>{\n                   setShow(false)\n               }}\n           >Cancel</button>\n       </div>\n\n   </div>\n   )\n}\n//=======================\n\n\n\n\nreturn (\n<div className=\"Modal-background\">\n   <div className=\"Modal-box\" \n        style={{paddingBottom:\"1rem\",minWidth:\"70%\",minHeight:\"100px\"}}>\n       <div className=\"Modal-header\">\n           <div className=\"flex-center-center\">\n               <h5>{pageData.widthLeftForm.formHead}</h5>\n           </div>\n       </div>\n\n       <div \n            className=\"w-100 flex-center-center jc-start\" \n            style={{marginBottom:\"0.2rem\"}}>\n                \n               <div className=\"w-30\">{pageData.widthLeftForm.widthLeft}</div>\n                \n               <div className=\"w-70\" style={{position:\"relative\"}}>\n                    <input\n                        type={\"number\"}\n                        value={formInputState.widthLeft}\n                        onChange={e=>{\n                            setFormInputState({widthLeft:parseInt(e.target.value)})\n                        }}\n                    />\n               </div>\n      </div>\n\n      {renderFooter()}\n\n   </div>\n</div>\n)      \n}\n\nWidthLeft.defaultProps={\n\n}\n\n\nexport default WidthLeft;\n","import React from 'react';\nimport Table from '../../component/table/Table'\nimport uuid from 'react-uuid'\nimport {FaPlusCircle,FaRegArrowAltCircleDown,FaRegArrowAltCircleUp,FaCheck,FaBan,\n   FaRegArrowAltCircleRight,FaRegArrowAltCircleLeft} from 'react-icons/fa';\nimport {MdRefresh,MdAddCircle,MdEdit,MdDelete,MdClose,\n   MdPrint,MdSave,MdSwapHoriz,MdRawOn,MdMergeType,\n} from 'react-icons/md'\nimport Ticon from '../../component/ticon/Ticon'\n\nfunction ModalTable(props) {\n\nconst {modalTableState,submitFunc,basicData,cancelFunc,\n    saveTableTemplateFunc,pageData}=props\n\nconsole.log('modalTableState')\n\nconst gendData=(data)=>{\n   let tempArray=[]\n   data.map(i=>{\n      const tempObj={...i,selectedLine:false,_id:uuid()}\n      tempArray=[...tempArray,tempObj]\n   })\n   return tempArray\n}\n\nconst {pageForm,tableTemplate,data,blankData}=modalTableState\n\nconst [data1,setData1]=React.useState(gendData(data))\nconst [editData,setEditData]=React.useState(null)\nconst [tableTemplate1,setTableTemplate1]=React.useState(tableTemplate)\nconst [showToolBox,setShowToolBox]=React.useState(true)\n\nconst moveUp=()=>{\n   if(editData){\n       \n       let tempArray=[]\n       let targetIdx=null\n\n       data1.map((i,idx)=>{\n           if(i._id==editData._id){\n               targetIdx=idx\n           }\n       })\n\n       if((targetIdx!=null)&&(targetIdx>0)){\n           \n           data1.map((i,idx)=>{\n              \n               if(idx==targetIdx-1){\n                   tempArray=[...tempArray,data1[targetIdx]]\n               }\n               else if(idx==targetIdx){\n                   tempArray=[...tempArray,data1[targetIdx-1]]\n               }\n               else {\n                   tempArray=[...tempArray,i]\n               }\n\n           })\n           setData1(tempArray)\n       }\n   \n   }\n}\n\nconst moveDown=()=>{\n   if(editData){\n       \n       let tempArray=[]\n       let targetIdx=null\n       const lastIndex=data1.length-1\n\n       data1.map((i,idx)=>{\n           if(i._id==editData._id){\n               targetIdx=idx\n           }\n       })\n\n       if((targetIdx!=null)&&(targetIdx<lastIndex)){\n           \n           data1.map((i,idx)=>{\n              \n               if(idx==targetIdx){\n                   tempArray=[...tempArray,data1[targetIdx+1]]\n               }\n               else if(idx==targetIdx+1){\n                   tempArray=[...tempArray,data1[targetIdx]]\n               }\n               else {\n                   tempArray=[...tempArray,i]\n               }\n\n           })\n           setData1(tempArray)\n       }\n   \n   }\n}\n\nconst deleteLine=()=>{\n    if(editData){\n        if(data1){\n            if(data1.length>1){\n            let tempArray=[]\n         \n                data1.map((i,idx)=>{\n                    if(i._id!=editData._id){\n                        tempArray=[...tempArray,i]\n                    }\n                })\n         \n                setData1(tempArray)\n            }\n       }\n   }\n\n  \n}\n\nconst insertLine=()=>{\n\n   if(editData){\n\n       let tempArray=[]\n\n       data1.map((i,idx)=>{\n           if(i._id==editData._id){\n               const tempObj={...blankData,selectedLine:false,_id:uuid()}\n               tempArray=[...tempArray,tempObj,i]\n           }\n           else{\n               tempArray=[...tempArray,i]\n           }\n       })\n       setData1(tempArray)\n   }\n   else{\n   \n      const tempObj={...blankData,selectedLine:false,_id:uuid()}\n      let tempArray=[tempObj]\n      setData1(tempArray)\n   }\n}\n\nconst updateFilterDataFunc=(idx,value)=>{\n   //console.log('updateFilterDataFunc.............')\n   //console.log(idx)\n   //console.log(value)\n\n   let tempArray=[]\n\n   data1.map(i=>{\n      if(i._id==editData._id){\n         tempArray=[...tempArray,value]\n      }\n      else{\n         tempArray=[...tempArray,i]\n      }\n   })\n   setData1(tempArray)\n}\n\nconst styleRight={position:\"fixed\",\n  top:\"3rem\",right:\"0.5rem\",zIndex:\"100\",\n  width:\"\",backgroundColor:\"white\",\n  borderRadius:\"10px\",margin:\"\"\n}\nconst styleLeft={position:\"fixed\",\n  top:\"3rem\",Left:\"0.5rem\",zIndex:\"100\",\n  width:\"\",backgroundColor:\"white\",\n  borderRadius:\"10px\",margin:\"\"\n}\n\nconst [swapStyleRight,setSwapStyleRight]=React.useState(true)\n\nconst renderToolBox=()=>{\n    return(\n        <div style={swapStyleRight?styleRight:styleLeft}>\n            \n            \n            <div className=\"iconbox\"\n                 style={{height:\"3.5rem\"}}\n                 onClick={e=>{\n                    deleteLine()\n                 }}\n            >\n                   <Ticon \n                   iconName=\"MdDelete\"\n                   className=\"lg-icon\"\n                   textStyle={{color:\"black\"}}\n                />\n            </div>\n\n            <div className=\"iconbox\"\n                 style={{height:\"3.5rem\"}}     \n                 onClick={e=>{\n                    insertLine()\n                 }}\n            >\n                <Ticon\n                    iconName=\"MdAddCircle\" \n                    className=\"lg-icon\"\n                    textStyle={{color:\"black\"}}\n                    \n                />\n            </div>\n\n            <div className=\"iconbox\"\n                 style={{height:\"3.5rem\"}} \n                 onClick={e=>{\n                    moveUp()\n                 }}\n            >\n                <Ticon\n                    iconName=\"FaRegArrowAltCircleUp\" \n                    className=\"lg-icon\"\n                    textStyle={{color:\"black\"}}\n                />\n            </div>\n            \n            <div className=\"iconbox\"\n                 style={{height:\"3.5rem\"}} \n                 onClick={e=>{\n                    moveDown()\n                 }}\n            >\n                <Ticon\n                    iconName=\"FaRegArrowAltCircleDown\" \n                    className=\"lg-icon\"\n                    textStyle={{color:\"black\"}}\n                />\n            </div>\n\n            <div className=\"iconbox\"\n                 style={{height:\"3.5rem\"}} \n                 onClick={e=>{\n                    setSwapStyleRight(!swapStyleRight)\n                }}\n            >\n                <Ticon\n                    iconName=\"MdSwapHoriz\" \n                    className=\"xl-icon\"\n                    textStyle={{color:\"black\"}}\n                />\n            </div>\n           \n            <div className=\"iconbox\"\n                 style={{height:\"3.5rem\"}} \n                 onClick={e=>{\n                    setEditData(null)\n                    setShowToolBox(false)\n                    //updateData(billFormData)\n                }}\n            >\n                <Ticon \n                    iconName=\"MdClose\" \n                    className=\"lg-icon\"\n                    textStyle={{color:\"black\"}}\n                />\n            </div>\n            \n        </div>\n    )\n}\n\n\nreturn(\n\n<div className=\"Modal-background\">\n       \n       <div className=\"Modal-box\" style={{minWidth:\"70%\",minHeight:\"40%\"}}>\n         \n           <div className=\"Modal-header\">\n               <h5>{pageForm.formHead}</h5>\n           </div>\n\n           <div className=\"flex-center-center w-80\"\n                style={{width:\"100%\"}}\n           >\n             \n              {\n               <Table\n                        tableTemplate={tableTemplate1}\n                        setTableTemplate={setTableTemplate1}//{setTableTemplate}\n        \n                        filterData={data1}\n                        setFilterData={()=>{}}//{setFilterDataData0}\n                        \n                        editData={editData}\n                        setEditData={setEditData}\n                        saveTableTemplateFunc={saveTableTemplateFunc}\n                        isSubTable={false}\n                        updateFilterData={updateFilterDataFunc}\n                        useInput={true}\n                        basicData={basicData}\n                        pageData={pageData.tableSettingModal}\n               />\n              }\n           </div>\n\n            {showToolBox\n               ?editData\n                ?renderToolBox()   \n                :null\n               :null\n            }    \n\n\n           <div className=\"Modal-footer\">\n               <div>\n                   <button\n                       onClick={e=>{\n                           submitFunc(data1)\n                       }}\n                    \n                   >\n                       <FaCheck/>\n                   </button>\n               </div>\n               <div>\n                   <button\n                       onClick={e=>{\n                          cancelFunc()\n                          setShowToolBox(false)\n                       }}\n                   >\n                       <FaBan/>\n                   </button>\n               </div>\n           </div>\n        </div>\n\n</div>\n\n\n)\n\n}\nexport default ModalTable;\n\n","import React from 'react';\n\nimport {Route,Switch,Redirect} from 'react-router-dom';\nimport {MdEdit} from 'react-icons/md';\nimport axios from 'axios'\n\nimport axiosUtil from '../../util/axiosUtil'\nimport ctUtil from '../../util/ctUtil'\nimport StateUtil from '../../model/StateUtil'\nimport pageUtil from '../../component/pageComponent/pageUtil'\n\nimport ShopChangePassword from '../../render/renderForm/ShopChangePassword'\n\nimport BasicValueSetting from '../../render/renderForm/BasicValueSetting'\n\nimport BasicValueSetting2 from '../../render/renderForm/BasicValueSetting2'\n\nimport AddUser from '../../render/renderForm/AddUser'\n\nimport RouteAuth from '../../render/renderForm/RouteAuth'\nimport Language from '../../render/renderForm/Language'\nimport PrintPage from '../../render/renderForm/PrintPage'\nimport WidthLeft from '../../render/renderForm/WidthLeft'\nimport renderModalError from '../../render/renderModalError'\nimport ModalTable from './ModalTable'\n\nconst {createTableTemplateForPage,convertTableTemplateObjToArray}=ctUtil\nconst {genArrayForFilterAxios,genFD,addFileNameInPhotoUrl,\n    addSingleFileNameInsteadOfPhotoUrl,\n    catchErrorToMessage}=axiosUtil\nconst {genBlankState,genRefAndValue,revRefAndValue,combineLoadDataBlankState}=StateUtil \n\nconst {reloadAxiosAll,saveTableTemplate,updateFilterData,\n    submitFunctionEdit,submitFunctionAdd,filterAxios,\n    setUnSelectAll,submitFunctionDelete\n} = pageUtil\n\nfunction ShopInfo(props) {\nconst {pageData,basicData,FormTemplate,StateTemplate,\n        basicDataTableTemplate,pageDataStandard,languageObj,\n        myheader, setReloadBasicData,tableTemplate\n    }=props\n\nconsole.log('shopInfo........')\n//console.log(basicData)\n//console.log(pageData)\n\n//const {pageData,basicData,FormTemplate,StateTemplate,\n//       basicDataTableTemplate,pageDataStandard}=props\n\n\n//const {shopInfoState} = StateTemplate\n//const {shopInfoForm} = FormTemplate\n\nconst [inputState,setInputState]=React.useState(null)\n\nconst [showShopInfo,setShowShopInfo]=React.useState(false)\nconst [showShopChangePassword,setShowShopChangePassword]=React.useState(false)\nconst [showAddUser,setShowAddUser]=React.useState(false)\nconst [showPrintPage,setShowPrintPage]=React.useState(false)\n\nconst [error,setError]=React.useState({\n    showModalError:false,\n    message:null\n})\n\nconst [basicValueSetting,setBasicValueSetting]=React.useState({\n    key:null,\n    show:false,\n    lb:null,\n    array:null\n})\n\nconst [basicValueSetting2,setBasicValueSetting2]=React.useState({\n    key:null,\n    show:false,\n    lb:null,\n    array:null\n})\n\nconst [showRouteAuth,setShowRouteAuth]=React.useState(false)\nconst [showLanguage,setShowLanguage]=React.useState(false)\nconst [showWidthLeft,setShowWidthLeft]=React.useState(false)\nconst [showModalTable,setShowModalTable]=React.useState(false)\nconst [myTableTemplate,setMyTableTemplate]=React.useState(tableTemplate)\n\nconst [modalTableState,setModalTableState]=React.useState({\n    key:null,\n    showModalTable:false,\n    pageForm:null,\n    tableTemplate:null,\n    data:null,\n    blankData:null\n})\n\nconst setShowShopChangePasswordFunc=()=>{\n    setShowShopChangePassword(true)\n}\n\nconst setShowAddUserFunc=()=>{\n    setShowAddUser(true)    \n}\n\nconst setShowPrintPageFunc=()=>{\n    setShowPrintPage(true)    \n}\n\n\n\nconst addPrintPage=(filterData)=>{\n    const lastIdx=filterData.length-1\n    const newId=parseInt(filterData[lastIdx].printId)+1\n\n    let tempArray=filterData\n   \n    const tempObj={...filterData[0],\n        printId:newId,\n        printPageName:newId.toString()\n    }\n    tempArray=[...tempArray,tempObj]\n\n    axios.post('/p35basicdata/updatecustom',\n                {id:basicData.id,printPage:tempArray},\n                myheader)\n    .then(result=>{\n        //console.log('result')\n        setShowPrintPage(false)\n        setReloadBasicData(true)\n    })\n    .catch(error=>{  \n        console.log('error')\n        \n        const tempObj={showModalError:true,message:catchErrorToMessage(error)}\n        setError(tempObj)  \n    })\n}\n\n\nconst deletePrintPage=(printId)=>{\n    let tempArray=[]\n    basicData.printPage.map(i=>{\n        if(i.printId!=printId){\n            tempArray=[...tempArray,i]\n        }\n    })\n\n    axios.post('/p35basicdata/updatecustom',\n                {id:basicData.id,printPage:tempArray},\n                myheader)\n    .then(result=>{\n        //console.log('result')\n        setShowPrintPage(false)\n        setReloadBasicData(true)\n    })\n    .catch(error=>{  \n        console.log('error')\n        \n        const tempObj={showModalError:true,message:catchErrorToMessage(error)}\n        setError(tempObj)  \n    })\n}\n\nconst updatePrintPageFunc=(filterData)=>{\n    axios.post('/p35basicdata/updatecustom',\n    {   id:basicData.id, printPage:filterData},\n    myheader)\n    .then(result=>{\n    //console.log('result')\n    setShowPrintPage(false)\n    setReloadBasicData(true)\n    })\n    .catch(error=>{  \n    console.log('error')\n\n    const tempObj={showModalError:true,message:catchErrorToMessage(error)}\n    setError(tempObj)  \n    })\n}\n\nconst updatePrintPageFunc2=(pageSetup,filterData)=>{\n\n    console.log('updatePrintPageFunc2')\n\n    const {_id,...remaining}=pageSetup\n    let tempObj=remaining\n    const temp=[\"header1\",\"header2\",\"table1\",\"footer1\",\"footer2\"]\n    temp.map(i=>{\n        let tempArray2=[]\n        pageSetup[i].map(j=>{\n            const {_id,...remaining2}=j\n            tempArray2=[...tempArray2,remaining2]\n        })\n        tempObj={...tempObj,[i]:tempArray2}\n    })\n\n    let tempArray=[]\n    filterData.map(i=>{\n        if(i.printId==pageSetup.printId){\n              tempArray=[...tempArray,tempObj]\n        }\n        else{\n            tempArray=[...tempArray,i]\n        }\n    })\n\n    axios.post('/p35basicdata/updatecustom',\n        {id:basicData.id, printPage:tempArray},\n        myheader)\n    .then(result=>{\n        setShowPrintPage(false)\n        setReloadBasicData(true)\n    })\n    .catch(error=>{  \n        console.log('error')\n        const tempObj={showModalError:true,message:catchErrorToMessage(error)}\n        setError(tempObj)  \n    })\n}\n//======================\nconst addLanguage=(filterData)=>{\n    const lastIdx=filterData.length-1\n    const newId=parseInt(filterData[lastIdx].id)+1\n\n    let tempArray=[]\n    Object.keys(filterData[0].template).map(i=>{\n        const tempObj={key:i,lb:filterData[0].template[i]}\n        tempArray=[...tempArray,tempObj]\n    })\n  \n    const tempObj={\n        id:newId,\n        formLanguage:newId.toString(),\n        template:tempArray\n    }\n\n    axios.post('/p35formtemplate/addcustom',\n                tempObj,\n                myheader)\n    .then(result=>{\n        //console.log('result')\n        setShowLanguage(false)\n        setReloadBasicData(true)\n    })\n    .catch(error=>{  \n        console.log('error')\n        \n        const tempObj={showModalError:true,message:catchErrorToMessage(error)}\n        setError(tempObj)  \n    })\n}\nconst deleteLanguage=(id)=>{\n    //console.log('deleteLan.........')\n    axios.post('/p35formtemplate/deletecustom',\n        {id:id},\n        myheader)\n    .then(result=>{\n        setShowLanguage(false)\n        setReloadBasicData(true)\n    })\n    .catch(error=>{  \n    //console.log('error')\n    const tempObj={showModalError:true,message:catchErrorToMessage(error)}\n    setError(tempObj)  \n    })\n}\n\nconst updateLanguageSettingFunc=(filterData,arrayOfChange)=>{\n    console.log('updateLanguageSettingFunc')\n    \n    let tempPromise=[]\n\n    if(arrayOfChange){\n        if(arrayOfChange.length>0){\n       \n            arrayOfChange.map(i=>{\n                \n                filterData.map(j=>{\n                    if(i==j.id){\n                        const temp=axios.post(`/p35formtemplate/updatecustom`,j,myheader)\n                        tempPromise=[...tempPromise,temp]\n                    }\n                })\n                \n            })\n        }\n    }\n    \n    Promise.all(tempPromise)\n    .then(result=>{\n        //console.log('result')\n        setShowLanguage(false)\n        setReloadBasicData(true)\n    })\n    .catch(error=>{  \n        //console.log('error')\n        const tempObj={showModalError:true,message:catchErrorToMessage(error)}\n        setError(tempObj)  \n    })\n    \n}\nconst updateLanguageSettingFunc2=(editData)=>{\n    console.log('updateLanguageSettingFunc2')\n    \n    let tempArray=[]\n    Object.keys(editData.template).map(i=>{\n        \n        const tempObj={\n            key:i,\n            lb:editData.template[i]\n        }\n        tempArray=[...tempArray,tempObj]\n    })\n  \n    const tempObj={\n        id:editData.id,\n        formLanguage:editData.formLanguage,\n        template:tempArray\n    }\n\n    axios.post(`/p35formtemplate/updatecustom`,tempObj,myheader)    \n    .then(result=>{\n        //console.log('result')\n        setShowLanguage(false)\n        setReloadBasicData(true)\n    })\n    .catch(error=>{  \n        //console.log('error')\n        const tempObj={showModalError:true,message:catchErrorToMessage(error)}\n        setError(tempObj)  \n    })\n    \n}\n\nconst updateAddUserFunc=(inputState)=>{\n    console.log('updateAddUserFunc.........')\n    axios.post(`/user/adduser`,inputState,myheader)\n    .then(result=>{\n        //resoladdve(true)\n        setShowAddUser(false)\n    })\n    .catch(error=>{  \n        const tempObj={showModalError:true,message:catchErrorToMessage(error)}\n        setError(tempObj)  \n    })\n}\n\n\nconst updateWidthLeftFunc=(formInputState)=>{\n    console.log('updateWidthLeftFunc.........')\n    const {id}=basicData\n    const temp={id,widthLeft:formInputState.widthLeft}\n      \n    axios.post(`/p35basicdata/updatecustom`,temp,myheader)\n    .then(result=>{\n        setReloadBasicData(true)\n        setShowWidthLeft(false)\n    })\n    .catch(error=>{  \n        const tempObj={showModalError:true,message:catchErrorToMessage(error)}\n        setError(tempObj)  \n    })\n\n}\n\nconst updateShopInfoFunc=(inputState)=>{\n    console.log('updateShopInforFunc')\n    console.log(inputState)\n\n    const {file1,photoUrl1,...remaining}=inputState\n    const {id}=basicData\n    const tempFormInputState1={id,shopInfo:remaining}\n        \n    let promise1=axios.post(`/p35basicdata/updatecustom`,tempFormInputState1,myheader)\n\n    let promise2=null\n\n    if(file1){\n        const tempFormInputState2=addSingleFileNameInsteadOfPhotoUrl({id,file1,photoUrl1})  \n\n        const fd=genFD({\n            inputState:tempFormInputState2,\n            template:{\n                id:StateTemplate.shopInfoState.id,\n                file1:StateTemplate.shopInfoState.file1,\n                photoUrl1:StateTemplate.shopInfoState.photoUrl1,\n            }\n        })\n\n        promise2=axios.post(`/p35basicdata/updatecustom`,fd,myheader)\n    }\n    else{\n        promise1=axios.post(`/p35basicdata/updatecustom`,{...tempFormInputState1,photoUrl1},myheader)\n    }\n\n    Promise.all([promise1,promise2])\n        .then(result=>{\n            setReloadBasicData(true)\n            setShowShopInfo(false)\n        })\n        .catch(error=>{\n            const tempObj={showModalError:true,message:catchErrorToMessage(error)}\n            setError(tempObj)\n            \n         })\n}\n\n\nconst updateBasicValueSettingFunc=(inputState)=>{\n    console.log('updateBasicDataFunc........')\n    const tempObj={id:basicData.id,[basicValueSetting.key]:inputState}\n\n    axios.post(`/p35basicdata/updatecustom`,tempObj,myheader)\n    .then(result=>{\n        console.log('result')\n        //resolve(true)\n        setReloadBasicData(true)\n        setBasicValueSetting({...basicValueSetting,show:false})\n    })\n    .catch(error=>{  \n        console.log('error')\n        const tempObj={showModalError:true,message:catchErrorToMessage(error)}\n        setError(tempObj)\n        \n    })\n    \n}\n\nconst updateRouteAuthFunc=(routeAuth)=>{\n    //console.log('updateRouteAuthFunc')\n    //console.log(routeAuth)\n    const tempBasicData ={...basicData,routeAuth:routeAuth}\n    axios.post(`/p35basicdata/updatecustom`,tempBasicData,myheader)\n    .then(result=>{\n        //resolve(true)\n        setReloadBasicData(true)\n        setShowRouteAuth(false)\n    })\n    .catch(error=>{  \n        const tempObj={showModalError:true,message:catchErrorToMessage(error)}\n        setError(tempObj)\n        \n    })\n}\n\nconst updateShopChangePasswordFunc=(inputState)=>{\n    axios.post(`/shop/shopchangepassword`,inputState,myheader)\n    .then(result=>{\n        //resolve(true)\n        setShowShopChangePassword(false)\n    })\n    .catch(error=>{  \n        const tempObj={showModalError:true,message:catchErrorToMessage(error)}\n        setError(tempObj)  \n    })\n}\n\nconst setShowBasicValueSettingFunc=(value)=>{\n    setBasicValueSetting({...basicValueSetting,show:value})\n}\n\nconst setShowBasicValueSettingFunc2=(value)=>{\n    setBasicValueSetting2({...basicValueSetting2,show:value})\n}\n\n\nconst setShowRouteAuthFunc=()=>{\n    setShowRouteAuth(true)\n}\n\nconst setShowLanguageFunc=()=>{\n    setShowLanguage(true)\n}\n\n\nconst setShowWidthLeftFunc=()=>{\n    setShowWidthLeft(true)\n}\n\nconst setShowModalErrorFunc=(value)=>{\n    setError({...error,showModalError:value})\n}\n\nconst genArrayFromArrayObj=(Array,key)=>{\n    let tempArray=[]\n    Array.map(i=>{\n        tempArray=[...tempArray,i[key]]\n    })\n    return tempArray\n}\n\nconst updateBasicDataFunc=(value)=>{\n    console.log('updateBa.............')\n    if(value){\n\n        let tempArray=[]\n\n        value.map(i=>{\n            const {_id,...remaining}=i\n            tempArray=[...tempArray,remaining]\n        })\n\n        const tempObj={...basicData,[modalTableState.key]:tempArray}\n\n        axios.post(`/p35basicdata/updatecustom`,tempObj,myheader)\n        .then(result=>{\n            //resolve(true)\n            setReloadBasicData(true)\n            setModalTableState({\n                key:null,\n                showModalTable:false,\n                pageForm:null,\n                tableTemplate:null,\n                data:null,\n                blankData:null\n            })\n            //setBasicValueSetting({...basicValueSetting,show:false})\n        })\n        .catch(error=>{  \n            const tempObj={showModalError:true,message:catchErrorToMessage(error)}\n            setError(tempObj)\n            \n        })\n    }\n}\n\nconst updateBasicValueSettingFunc2=(formInputState,editData)=>{\n    console.log('updateBasicValueSettingFunc2')\n\n    console.log(formInputState)\n    console.log(editData)\n\n    let tempArray=[]\n    if(editData._id){\n        formInputState.map(i=>{\n            if(editData._id==i._id){\n                const {_id,...remaining2}=editData\n                tempArray=[...tempArray,remaining2]\n            }\n            else{\n                const {_id,...remaining}=i\n                tempArray=[...tempArray,remaining]\n            }\n        })\n    }\n    else{\n        formInputState.map(i=>{\n            const {_id,...remaining}=i\n            tempArray=[...tempArray,remaining]\n        })\n    }\n\n    const tempObj={id:basicData.id,[\"branch\"]:tempArray}\n\n    axios.post(`/p35basicdata/updatecustom`,tempObj,myheader)\n    .then(result=>{\n        console.log('result')\n        setReloadBasicData(true)\n        setBasicValueSetting2({\n            key:null,\n            show:false,\n            lb:null,\n            array:null\n        })\n        //setBasicValueSetting({...basicValueSetting,show:false})\n    })\n    .catch(error=>{  \n        console.log('error')\n        const tempObj={showModalError:true,message:catchErrorToMessage(error)}\n        setError(tempObj)\n        \n    })\n    \n}\n\nconst savePrintTableTemplateFunc=(tableTemplate)=>{\n    //console.log('savePrintTableTemplateFunc')\n    //console.log(tableTemplate)\n    \n    let tempObj={}\n    Object.keys(tableTemplate).map(i=>{\n       const temp={...tableTemplate[i],showColHead:true}\n        tempObj={...tempObj,[i]:temp}\n    })\n    \n    const tableName=\"printTableTemplate\"\n    saveTableTemplate(tempObj,'p35tabletemplate',tableName,myheader)\n}\n\nconst saveTableTemplateFunc=(tableTemplate)=>{\n    const key=modalTableState.key\n    let tableName\n    if(key==\"reduction\"){\n        tableName=\"basicDataReductionTableTemplate\"\n    }\n    if(key==\"tax\"){\n        tableName=\"basicDataTaxTableTemplate\"\n    }\n    if(key==\"transaction\"){\n        tableName=\"basicDataTransactionTableTemplate\"\n    }\n\n    let tempObj={}\n    Object.keys(tableTemplate).map(i=>{\n       const temp={...tableTemplate[i],showColHead:true}\n        tempObj={...tempObj,[i]:temp}\n    })\n    //console.log(tableTemplate)\n    //console.log(tempObj)\n    setMyTableTemplate({...myTableTemplate,[tableName]:tempObj})\n    saveTableTemplate(tempObj,'p35tabletemplate',tableName,myheader)\n}\n\n\nconst tempFunc2=(key,lb,array)=>{\n    console.log('tempFunc2')\n\n    if(key==\"tax\"||key==\"reduction\"||key==\"transaction\"){\n        let capKey\n        let blankData\n        if(key==\"tax\"){\n            capKey=\"Tax\"\n            blankData={\n                taxName:\"\",\n                taxActive:false,\n                taxRate:0,\n                taxInPercentage:false\n            }\n        }\n        if(key==\"reduction\"){\n            capKey=\"Reduction\"\n            blankData={\n                reductionName:\"\",\n                reductionActive:false,\n                reductionRate:0,\n                reductionInPercentage:false\n            }\n        }\n        if(key==\"transaction\"){\n            capKey=\"Transaction\"\n            blankData={\n                transactionType:\"\",    \n                effectStock:\"unChange\",// \n                effectSpending:\"unChange\",// \n                effectCustomerPoint:\"unChange\",//  \n            }\n        }\n \n        setModalTableState({\n            key:key,\n            showModalTable:true,\n            pageForm:pageData[`${key}Form`],\n            tableTemplate:myTableTemplate[`basicData${capKey}TableTemplate`],\n            data:basicData[key],\n            blankData:blankData,\n        })\n    }\n    else if(key==\"branch\"){\n        setBasicValueSetting2({\n            key:key,\n            show:true,\n            lb:lb,\n            array:basicData.branch\n        })\n    }\n    else {\n        setBasicValueSetting({\n            key:key,\n            show:true,\n            lb:lb,\n            array:array\n        })\n    }\n}\n\nconst renderSettingLine=(lb,func)=>{\n    return (\n        <div style={{display:\"flex\"}}>   \n            <div>{lb}</div>\n            \n            <MdEdit className=\"sm-icon\" style={{marginLeft:\"0rem\"}}\n                onClick={()=>func()}\n            />\n        </div>\n    )\n}\n\nconst renderSetting=()=>{\n    const {formHead,changePassword,addNewUser,routeAuth,language,printPage,widthLeft} = pageData.setting\n    return(\n        <div className=\"w-100\"\n        style={{\n                marginBottom:\"0.5rem\",\n                padding:\"0.5rem\"\n        }}>\n            <div className=\"w-100 bd-pureWhite\"  style={{padding:\"0.5rem\"}}>\n                <h5>{formHead}</h5>\n    \n                {renderSettingLine(changePassword,setShowShopChangePasswordFunc)}\n                {renderSettingLine(addNewUser,setShowAddUserFunc)}\n                {renderSettingLine(routeAuth,setShowRouteAuthFunc)}\n                {renderSettingLine(language,setShowLanguageFunc)}\n                {renderSettingLine(printPage,setShowPrintPageFunc)}\n\n                {\n                //renderSettingLine(widthLeft,setShowWidthLeftFunc)\n                }\n\n            </div>\n        </div>\n    )   \n}\n\n\nconst renderBasicValueLine=(key,func,array)=>{\n\n    const lb=pageData.basicValue[key]\n\n    return(\n        <div className=\"xc6 sc12\" style={{margin:\"0.2rem 0\"}}>\n            <div style={{display:\"flex\",width:\"100%\"}}>   \n                <div className=\"w-35\">{lb}</div>\n                \n                <div className=\"w-50\">\n                    <select>\n                        {\n                        array.map((i,idx)=><option key={idx}>{i}</option>)\n                        }\n\n                    </select>\n                </div>\n                \n                <MdEdit className=\"sm-icon\" style={{marginLeft:\"0rem\"}}\n                    onClick={()=>func(key,lb,array)}\n                />\n            </div>\n        </div>\n    )\n    \n}\n\nconst renderBasicValue=()=>{\n\n    return(\n        <div className=\"w-100\"\n        style={{\n                marginBottom:\"0.5rem\",\n                padding:\"0.5rem\"\n        }}>\n            <div className=\"w-100 bd-pureWhite\"\n                 style={{padding:\"0.5rem\"}}\n            >\n                <div  \n                    >\n                    <h5>{pageData.basicValue.formHead}</h5>\n                </div>\n                <div className=\"flex-center-center jc-start\">\n                    \n                    {renderBasicValueLine(\"title\",tempFunc2,basicData.title)}\n                    {renderBasicValueLine(\"unit\",tempFunc2,basicData.unit)}\n                    {renderBasicValueLine(\"userLevel\",tempFunc2,basicData.userLevel)}\n\n                    \n                    {\n                        //renderBasicValueLine(\"transactionStatus\",tempFunc2,basicData.transactionStatus)\n                    }\n                    {\n                        //renderBasicValueLine(\"jobStatus\",tempFunc2,basicData.jobStatus)\n                    }\n\n                    {\n                        //renderBasicValueLine(\"tableStatus\",tempFunc2,basicData.tableStatus)\n                    }\n                    {renderBasicValueLine(\"partnerType\",tempFunc2,basicData.partnerType)}\n                    {renderBasicValueLine(\"paymentType\",tempFunc2,basicData.paymentType)} \n\n                    {\n                    //renderBasicValueLine(\"branch\",tempFunc2,genArrayFromArrayObj(basicData.branch,\"branchName\"))\n                    }\n                    {renderBasicValueLine(\"tax\",tempFunc2,genArrayFromArrayObj(basicData.tax,\"taxName\"))}\n                    {renderBasicValueLine(\"reduction\",tempFunc2,genArrayFromArrayObj(basicData.reduction,\"reductionName\"))}\n                    {renderBasicValueLine(\"transaction\",tempFunc2,genArrayFromArrayObj(basicData.transaction,\"transactionType\"))}\n\n                </div>\n            </div>\n        </div>\n        \n    )\n}\n\n\nreturn(\n<div className=\"w-100 h-100\" style={{overflowY:\"auto\"}} >\n\n    {\n    pageData&&renderSetting()\n    }\n\n    {\n    pageData&&renderBasicValue()\n    }\n\n    {showPrintPage&&basicData.printPage\n    ?<PrintPage\n        pageData={pageData}\n        submitFunction={updatePrintPageFunc}\n        submitFunction2={updatePrintPageFunc2}\n        setShow={(value)=>setShowPrintPage(value)}\n        printPage={basicData.printPage}\n        basicData={basicData}\n        addPrintPage={addPrintPage}\n        deletePrintPage={deletePrintPage}\n        tableTemplate={tableTemplate}\n        saveTableTemplateFunc={savePrintTableTemplateFunc}\n    />\n    :null\n    }\n    {\n     showShopChangePassword\n     ?<ShopChangePassword\n        pageData={pageData}\n        setShow={setShowShopChangePassword}\n        submitFunction={updateShopChangePasswordFunc}\n    />\n     :null\n    }\n\n    {\n     showAddUser\n     ?<AddUser\n        pageData={pageData}\n        basicData={basicData}\n        tableTemplate={tableTemplate}\n        myheader={myheader}\n        setShow={setShowAddUser}\n        submitFunction={updateAddUserFunc}\n    />\n     :null\n    }\n\n    {\n    basicValueSetting.show\n    ?<BasicValueSetting\n        pageData={pageData}\n        basicData={basicData}\n        basicValueSetting={basicValueSetting}\n        setShow={setShowBasicValueSettingFunc}\n        submitFunction={updateBasicValueSettingFunc}\n    />\n    :null\n    }\n\n    {\n    basicValueSetting2.show\n    ?<BasicValueSetting2\n        pageData={pageData}\n        basicData={basicData}\n        basicValueSetting={basicValueSetting2}\n        setShow={setShowBasicValueSettingFunc2}\n        submitFunction={updateBasicValueSettingFunc2}\n    />\n    :null\n    }\n    \n    {\n    showRouteAuth\n    ?<RouteAuth\n        pageData={pageData}\n        basicData={basicData}\n        setShow={setShowRouteAuth}\n        submitFunction={updateRouteAuthFunc}\n        basicDataTableTemplate={basicDataTableTemplate}\n    />\n    :null\n    }\n\n    {\n     showLanguage\n     ?<Language\n        pageData={pageData}\n        basicData={basicData}\n        setShow={setShowLanguage}\n        submitFunction={updateLanguageSettingFunc}\n        submitFunction2={updateLanguageSettingFunc2}\n\n        myheader={myheader}\n        languageObj={languageObj}\n        addLanguage={addLanguage}\n        deleteLanguage={deleteLanguage}\n     />\n     :null   \n    }\n\n    {modalTableState.showModalTable\n    ?<ModalTable\n        modalTableState={modalTableState}\n        submitFunc={updateBasicDataFunc}\n        cancelFunc={(value)=>setModalTableState({...modalTableState,showModalTable:value})}\n        basicData={basicData}\n        saveTableTemplateFunc={saveTableTemplateFunc}\n        pageData={pageData}\n    />\n    :null\n    }\n\n    {  \n    error.showModalError\n    ?renderModalError({\n        setShow:setShowModalErrorFunc,\n        message:error.message\n    })\n    :null\n    }\n</div>\n)\n}\nexport default ShopInfo;\n\n/*\n          \n  \n\n\n\n\n\n*/","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport {MainContext} from '../../context/MainContext';\nimport {FaHome} from 'react-icons/fa';\nimport Navbar from '../../component/navbar/Navbar';\n\nimport Ticon from '../../component/ticon/Ticon';\nimport LogOutTool from '../login/LogOutTool'\nimport ShopInfo from './ShopInfo'\nimport StateTemplate from '../../model/StateTemplate';\nimport FormTemplate from '../../render/renderForm/FormTemplate';\n\nimport '../../component/navbar/Navbar.css';\n\nfunction BasicData() {\n\nconsole.log('BasicData..........')\n\nconst { basicDataSt,\n        setReloadBasicData,\n        myheader,\n        setBasicData,\n        tokenSt,\n        setReloadCheckToken\n        //widthLeft,setWidthLeft\n}=React.useContext(MainContext)\n\nconst {haveUserToken,haveShopToken,userName}=tokenSt  \nconst {basicData,pageData,tableTemplate,languageObj,user}=basicDataSt\nconst refHome=React.createRef()\n\nlet [pageState,setPageState]=React.useState({\n    reloadData:false,\n    pageData:null,\n    basicData:null,\n    tableTemplate:null\n    //pageDataStandard:null\n})\n  \nReact.useEffect(()=>{\n    setPageState({\n        reloadData:false,\n        pageData:pageData,\n        basicData:basicData,\n        tableTemplate:tableTemplate\n    })\n},[basicDataSt])\n\n\nReact.useEffect(()=>{\n    //console.log('pageState')\n    //console.log(pageState)\n},[pageState])\n\n//<div style={{padding:\"0 1rem\",overflowY:\"auto\"}}>\n\nreturn(\n<div style={{height:\"100vh\",width:\"100vw\",overflow:\"hidden\"}}>\n    <div className=\"h-5 w-100 hide-on-print\">\n        <Navbar/>\n    </div>       \n    <div className=\"h-95 w-100\">\n        { \n        pageState.pageData&&pageState.basicData&&pageState.tableTemplate&&(user.userLevel==\"admin\")&&\n        <ShopInfo \n            pageData={pageState.pageData} \n            //pageDataStandard={pageState.pageDataStandard}\n            basicData={pageState.basicData}\n            FormTemplate={FormTemplate}\n            StateTemplate={StateTemplate}   \n            basicDataTableTemplate={pageState.tableTemplate.basicDataTableTemplate}   \n            myheader={myheader} \n            setReloadBasicData={setReloadBasicData}\n            languageObj={languageObj}\n            tableTemplate={tableTemplate}\n        />\n    }\n    </div>\n    <div className=\"d-none\">\n        <Link ref={refHome} to=\"/pos/home\"/>\n    </div>\n</div>\n)\n\n}\nexport default BasicData;\n\n/*\n\n\n\n    {\n    \n     pageState.pageData&&pageState.basicData&&pageState.tableTemplate&&\n     <ShopInfo pageData={pageState.pageData} \n               //pageDataStandard={pageState.pageDataStandard}\n               basicData={pageState.basicData}\n               FormTemplate={FormTemplate}\n               StateTemplate={StateTemplate}   \n               basicDataTableTemplate={pageState.tableTemplate.basicDataTableTemplate}   \n               myheader={myheader}     \n    />\n    \n    }\n\n\n\n\n*/","import React from 'react';\n\nimport GallerySinglePhoto_add from '../../component/galleryone_add/GallerySinglePhoto_add'\nimport photoUtil from '../../component/galleryone_add/photoUtil'\n\nimport {FaPlusSquare,FaMinusSquare,FaCheck,FaBan} from 'react-icons/fa';\n\nimport '../Modal.css'\n\nfunction ShopInfoModalForm({\n    lb,\n    basicData,\n    shopInfo,\n    keyName,\n    setShow,\n    submitFunction,\n    \n    //submitCancel\n}) {\n    console.log('ShopInfoModalForm....')\n    //console.log(basicData)\n    //console.log(branchSettingPage)\n\n    const {changeArrayFile}=photoUtil\n\n    const refSubmitForm=React.createRef() //\n    const refCancelForm=React.createRef() //     \n\n    let [formInputState,setFormInputState]=React.useState(basicData)\n  \n    React.useEffect(()=>{\n        console.log('formInputState')\n        console.log(formInputState)\n    },[formInputState])\n\n    const getRefArray=(array)=>{\n        let tempRefArray=[]\n    \n        if(Array){\n            if(Array.isArray(array)){\n                array.map(k=>{\n                    tempRefArray=[...tempRefArray,React.createRef()]\n                })\n            }\n        }\n        \n        return tempRefArray\n    }\n    \n    const [refOfInputState,setRefOfInputState]=React.useState(\n                                                getRefArray(formInputState.shopInfo)\n                                            )\n    //===================================\n\n  //==============================\n  //==============================\n  //==============================\n  //image\n  // 1 = photoUrl1\n  // 2 = photoUrl1 , photoUrl2\n  \n  //---------------\n  //We limiet only 2 image which is photoUrl1,photoUrl2 perform\n  //image1\n  \n  const [showImage1,setShowImage1]=React.useState(true)\n  const [arrayFile1,setArrayFile1]=React.useState([])\n  const [fileUrl1,setFileUrl1]=React.useState([])\n\n  React.useEffect(()=>{\n    console.log('fileUrl1')\n    console.log(fileUrl1)\n  },[fileUrl1])\n\n  const changeInputState=(e,idx)=>{\n    const {shopInfo}=formInputState\n\n    let tempArray=[]\n    shopInfo.map((i,idx2)=>{\n        if(idx==idx2){\n            tempArray=[...tempArray,e.target.value]\n        }else {\n            tempArray=[...tempArray,i]\n        }\n    })\n\n    //let tempObj = {...shopInfo,[i]:e.target.value}\n    setFormInputState({...formInputState,[\"shopInfo\"]:tempArray})\n  }\n\n\n  const addRow=(idx)=>{\n    const {shopInfo}=formInputState\n\n    let tempArray=[]\n    shopInfo.map((i,idx2)=>{\n        if(idx==idx2){\n            tempArray=[...tempArray,i,\"\"]\n        }\n        else{\n            tempArray=[...tempArray,i]\n        }\n    })\n\n    setRefOfInputState(getRefArray(tempArray))\n    setFormInputState({...formInputState,[\"shopInfo\"]:tempArray})\n  }\n\n  const deleteRow=(idx)=>{\n    const {shopInfo}=formInputState\n\n    let tempArray=[]\n    shopInfo.map((i,idx2)=>{\n        if(idx!=idx2){\n            tempArray=[...tempArray,i]\n        }\n    })\n\n    setRefOfInputState(getRefArray(tempArray))\n    setFormInputState({...formInputState,[\"shopInfo\"]:tempArray})\n  }\n\n\n  React.useEffect(()=>{\n    console.log('useEffect ArrayFile1')\n    console.log(arrayFile1)\n    \n    if(keyName){\n        if(keyName[0]==\"photoUrl1\"){\n            \n            changeArrayFile({ arrayFile:arrayFile1,\n                fileUrl:fileUrl1,\n                setFileUrl:setFileUrl1,\n                inputState:formInputState,\n                setInputState:setFormInputState,\n                keyName:keyName[0],\n                //fileName,\n                //serverFolder,\n                //fileName:\"file\",\n                //serverFolder:\"/upload/customer\",\n                setShowImage:setShowImage1})\n            \n        }\n    }\n    \n  },[arrayFile1])\n  //----------------\n\n//==============================  \n//==============================\n/*\nname:{lb:\"\",value:\"\",active:true},\n        address:{lb:\"\",value:\"123    \",active:true},\n        contact:{lb:\"\",value:\"1234 4567\",active:true},\n        branch:{lb:\"\",value:\"\",active:true},\n        other:{lb:\"\",value:\"\",active:true},\n*/\n\n/*\nconst renderBody=()=>{\n    const objKeys=[\"nameOfShop\",\"address\",\"contact\",\"branch\",\"other\"]\n\n    return (objKeys.map((i,idx)=>{\n        return (\n            <div className=\"w-100 flex-center-center jc-start\" style={{marginBottom:\"0.2rem\"}}>\n   \n                <div className=\"w-10\">\n                    <div className=\"flex-center-center\">\n                        <input type=\"checkbox\"\n                            checked={formInputState[`${i}Active`]}\n                            //ref={ref}\n                            onChange={e=>{\n                                changeCheckBox(e,i)\n                            }}\n                        />\n                    </div>\n                </div>\n                <div className=\"w-20\">{pageData.shopInfo[i]}</div>\n                <div className=\"w-70\">\n                    <input type=\"text\"\n                        value={formInputState[i]}\n                        ref={genInputRef(i)}\n                        onChange={e=>{\n                            changeInputState(e,i)\n                        }}\n                        onKeyDown={e=>{goToNextRef(e,i)}}\n                        autoFocus={i==\"nameOfShop\"?\"autoFocus\":null}\n                    />\n                </div>\n            </div>\n        )\n    }))\n}\n*/\n//====================\nconst renderBody=()=>{\n    return formInputState.shopInfo.map((i,idx)=>(\n    <div className=\"flex-center-center\" key={idx}>\n        <div className=\"w-10\">\n            <FaPlusSquare className=\"sm-icon\"\n                onClick={e=>{\n                    addRow(idx)\n                }}\n            />\n        </div>\n        <div className=\"w-10\">\n            {idx>0\n            ?<FaMinusSquare className=\"sm-icon\"\n                onClick={e=>{\n                    deleteRow(idx)\n                }}\n            />\n            :null\n            }\n        </div>\n        <div className=\"w-80\">\n            <input\n                type=\"text\"\n                ref={refOfInputState[idx]}\n                value={i}\n\n                onKeyDown={e=>{\n                    if(e.key==\"Enter\"){\n                        if(formInputState.shopInfo){\n                            if(idx==formInputState.shopInfo.length-1){\n                                refSubmitForm.current.focus()\n                            }\n                            else{\n                                refOfInputState[idx+1].current.focus()\n                            }\n\n                        }   \n                    }\n                }}\n\n                onChange={e=>{\n                    changeInputState(e,idx)\n                }}\n            />\n        </div>\n    </div>\n\n    ))  \n}\n\n//====================\n//console.log('ShopInfoModalForm')\n//====================\nconst renderFooter=()=>{\n    return(\n    <div style={{display:\"flex\",position:\"fixed\",bottom:\"1rem\",right:\"2rem\",zIndex:\"100\"}}\n    >\n        <div>\n            <button\n                ref={refSubmitForm}\n                onKeyDown={e=>{\n                    //if(e.key==\"ArrowRight\"){\n                        //refCancelForm.current.focus()\n                    //}\n                }}\n                onClick={e=>{\n                    if(submitFunction){\n                        submitFunction(formInputState)\n                    }\n                }}\n            >\n                <FaCheck/>\n            </button>\n        </div>\n        \n        <div>\n            <button\n                ref={refCancelForm}\n                onKeyDown={e=>{\n                    //if(e.key==\"ArrowLeft\"){\n                     //   refCancelForm.current.focus()\n                    //}\n                }}\n                onClick={e=>{\n                    setShow(false)\n                }}\n            >\n                <FaBan/>\n            </button>\n        </div>\n\n    </div>\n    )\n}\n\nreturn (\n    <div className=\"Modal-background\">\n        <div className=\"Modal-box\" \n             style={{paddingBottom:\"1rem\",minWidth:\"70%\",minHeight:\"100px\"}}>\n            <div className=\"Modal-header\">\n                <div>\n                    <h5>{shopInfo.formHead}</h5>\n                </div>\n                {\n                    renderFooter()\n                }\n            </div>\n            <div className=\"Modal-body\" >\n                <div className=\"ModalInsideBody\">\n                {\n                    renderBody()\n                }\n                </div>\n            </div>\n          \n            <div className=\"xc12 form-row h-100\"\n                  style={{justifyContent:\"space-around\"}}>\n                   <div className=\"xc4 sc10 bgc-darkGray bd-lightGray h-100\">\n                        {\n                        showImage1\n                        ?<GallerySinglePhoto_add \n                            fileUrl={fileUrl1}\n                            arrayFile={arrayFile1}\n                            setArrayFile={setArrayFile1}\n                            keyName={keyName[0]}\n\n                            setShowImage={setShowImage1}\n                            inputState={formInputState}\n                            setInputState={setFormInputState}\n                        />\n                        :null\n                        }   \n                    </div>                       \n            </div>\n         \n        </div>\n    </div>\n  );\n}\n\n\nShopInfoModalForm.defaultProps={\n    lb:\"Form\",\n    loadData:null,\n    setShow:()=>{},\n    submitFunction:null,\n    //submitCancel:null\n}\n\n\nexport default ShopInfoModalForm;\n","import React from 'react';\nimport {FaPlusSquare,FaMinusSquare,FaCheck,FaBan} from 'react-icons/fa'; \nimport {MdCheckBox,MdCheckBoxOutlineBlank} from 'react-icons/md';\nimport uuid from 'react-uuid'\n\nfunction BranchSettingForm(props) {\n\nconst {confirmFunc,setShow,pageData,basicData}=props\n\nconsole.log('BranchSettingForm')\n//console.log(basicData)\n\nconst refSubmitForm=React.createRef() //\nconst refCancelForm=React.createRef() //    \n\nconst [inputData,setInputDataData]=React.useState({\n   languageSetting:basicData.languageSetting,\n   printPageSetting:basicData.printPageSetting,\n   widthLeft:basicData.widthLeft,\n   thisBranch:basicData.thisBranch\n})\n\nconst gendTable=(array)=>{\n   let tempArray=[]\n   array.map(i=>{\n      tempArray=[...tempArray,{...i,_idx:uuid()}]\n   })\n   return tempArray\n}\n\nconst [table,setTable]=React.useState(\n   gendTable(basicData.table)\n)\n\nconst [editData,setEditData]=React.useState({\n   _idx:null,\n   tableName:null,\n   tableActive:false\n})\n\nconst deleteTable=(i)=>{\n   let tempArray=[]\n   table.map(j=>{\n      if(j._idx!=i._idx){\n         tempArray=[...tempArray,j]\n      }\n   })\n   setTable(tempArray)\n}\n\nconst addTable=(i)=>{\n\n   //console.log(i)\n   //console.log(table)\n   \n   let tempArray=[]\n   table.map(j=>{\n      if(j._idx==i._idx){\n         const tempObj={_idx:uuid(),\n                        tableName:\"\",\n                        tableActive:true\n                     }\n         tempArray=[...tempArray,j,tempObj]\n      }\n      else{\n         tempArray=[...tempArray,j]\n      }\n   })\n   //console.log(tempArray)\n\n   setTable(tempArray)\n   \n}\n\nconst handleChange=(e,i)=>{\n   setInputDataData({...inputData,[i]:e.target.value})\n}\n//================================\nconst renderFooter=()=>{\n   return(\n   <div style={{display:\"flex\",\n                  position:\"fixed\",\n                  bottom:\"1rem\",right:\"2rem\",zIndex:\"100\"}}\n   >\n         <div>\n            <button\n                ref={refSubmitForm}\n                onClick={e=>{\n                     if(confirmFunc){\n                        confirmFunc({...inputData,table:table})\n                     }\n               }}\n            >\n               <FaCheck/>\n            </button>\n         </div>\n         \n         <div>\n            <button\n                  ref={refCancelForm}\n                  onClick={e=>{\n                     setShow(false)\n                  }}\n            >\n               <FaBan/>\n            </button>\n         </div>\n   </div>\n   )\n}\n//=====================================\nconst renderInput=(i)=>{\n   \n   const tempObj={\n      languageSetting:\"listOfLanguage\",\n      printPageSetting:\"listOfPrintPage\",\n      thisBranch:\"branch\"\n   }\n\n   if(i==\"languageSetting\"||i==\"printPageSetting\"){\n        return(\n         <select\n            onChange={e=>handleChange(e,i)}\n         >\n            {basicData[tempObj[i]].map((j,idx2)=>(\n               <option key={idx2}\n                  selected={inputData[i]==j?\"selected\":\"\"}\n               >{j}</option>\n            ))}\n         </select>\n        )\n   }\n   else if(i==\"thisBranch\"){\n      return(\n      <div>\n         {inputData[i]}\n      </div>\n      )\n   }\n   else {\n      return(\n         <input\n            type={\"number\"}\n            value={inputData[i]}\n            onChange={e=>handleChange(e,i)}\n         />\n      )\n   }\n}\n\n//---------------------------\nconst renderTable=()=>{\nreturn table.map((i,idx)=>{\n      return (//editData._idx==i._idx\n         <div className=\"flex-center-center jc-start\" key={idx}\n            style={{margin:\"0.5rem 0\"}}\n         >\n               <FaPlusSquare className=\"sm-icon\"\n                                 onClick={e=>{\n                                    addTable(i)\n                                 }}\n               />\n               \n               <FaMinusSquare className=\"sm-icon\"\n                  style={{opacity:idx>0?\"1\":\"0\"}}\n                  onClick={e=>{\n                     deleteTable(i)\n                  }}\n               />\n                \n               {\n                  i.tableActive\n                  ?<MdCheckBox className=\"md-icon\"\n                     onClick={e=>{\n                        let tempArray=[]\n\n                        table.map(j=>{\n                           if(j._idx==i._idx){\n                              tempArray=[...tempArray,{...j,tableActive:false}]\n                              setEditData({...j,tableActive:false})\n                           }\n                           else{\n                              tempArray=[...tempArray,j]\n                           }\n                        })\n                        setTable(tempArray)\n                     }}\n                  />\n                  :<MdCheckBoxOutlineBlank className=\"md-icon\"\n                     onClick={e=>{\n                        let tempArray=[]\n                        table.map(j=>{\n                           if(j._idx==i._idx){\n                              tempArray=[...tempArray,{...j,tableActive:true}]\n                              setEditData({...j,tableActive:true})\n                           }\n                           else{\n                              tempArray=[...tempArray,j]\n                           }\n                        })\n                        setTable(tempArray)\n                     }}\n                  />\n               }\n               {\n               editData._idx==i._idx\n               ?<input className=\"h-100 w-50\"\n                     value={editData.tableName}\n\n                     onKeyDown={e=>{\n                        if(e.key==\"Enter\"){\n                           refSubmitForm.current.focus()\n                           //refPassword.current.focus()\n                       }\n\n                     }}\n                     onChange={e=>{\n                        setEditData({\n                           ...editData,tableName:e.target.value\n                        })\n                     }}\n                     onBlur={e=>{\n                        let tempArray=[]\n                        table.map(i=>{\n                           \n                           if(editData._idx==i._idx){\n                              tempArray=[...tempArray,editData]\n                           }\n                           else{\n                              tempArray=[...tempArray,i]\n                           }\n                        })\n                        setTable(tempArray)\n                     }}\n                  />\n               :<div className=\"\"\n                  onClick={e=>{\n                     setEditData(i)\n                  }}   \n               >\n               \n                  {i.tableName}\n               </div>\n               }\n         </div>\n      \n      )\n   })    \n}\n\n//=====================================\nconst renderBody=()=>{\n   const temp=[\"thisBranch\",\"languageSetting\",\"printPageSetting\",\"widthLeft\",\"table\"]\n\n   return (temp.map((i,idx)=>{\n       return i!=\"table\"\n           ?<div key={idx} \n               className=\"w-100 flex-center-center jc-start\" \n               style={{marginBottom:\"0.2rem\"}}>\n             \n               <div className=\"w-50\"\n                 \n               >{pageData.branchSettingPage[i]}</div>\n               \n               \n               <div className=\"w-50\">\n                  {\n                    renderInput(i)\n                  }\n               </div>\n\n           </div>\n         :null\n   }))\n}\n\n\n//=====================================\nreturn(\n<div className=\"Modal-background\">\n        <div className=\"Modal-box\" \n             style={{paddingBottom:\"1rem\",minWidth:\"70%\",minHeight:\"100px\"}}>\n            <div className=\"Modal-header\">\n                <div>\n                    <h5>{pageData.branchSettingPage.formHead}</h5>\n                </div>\n                {\n                  renderFooter()\n                }\n            </div>\n            <div className=\"Modal-body\" >\n                <div className=\"ModalInsideBody\">\n                {\n                    renderBody()\n                }\n                <div>\n                  {pageData.branchSettingPage[\"table\"]}\n                </div>\n                {\n                    renderTable() \n                }\n                </div>\n            </div>\n           \n\n           \n         \n        </div>\n</div>\n\n)\n\n}\nexport default BranchSettingForm;\n\n\n\n/*\n\n\nconst renderTable=()=>{\nreturn(\n<div \n   className=\"w-100 flex-center-start jc-start\" \n   style={{marginBottom:\"0.2rem\"}}>\n   <div className=\"w-100\">\n       {\n            table.map((i,idx)=>{\n               return(\n                   <div className=\"flex-center-center\" key={idx}\n                        style={{margin:\"0.5rem 0\"}}\n                   >\n                     \n                     \n                  \n                     \n                       <div className=\"w-10\">\n                          \n                       </div>\n            \n                       <div className=\"w-10\">\n                           {idx>0\n                           ?<FaMinusSquare className=\"sm-icon\"\n                                 onClick={e=>{\n                                    deleteTable(i)\n                                 }}\n                           />\n                           :null\n                           }\n                       </div>\n                        \n\n                        {editData._idx==i._idx\n                        ?<div className=\"w-80\" style={{display:\"flex\"}}>\n                           <input className=\"w-20\"\n                                 type=\"checkbox\"\n                                 checked={editData.tableActive}\n                                 onChange={e=>{\n                                    setEditData({\n                                       ...editData,tableActive:e.target.checked\n                                    })\n                                 }}\n                                 \n                                 onBlur={e=>{\n                                    let tempArray=[]\n                                    table.map(i=>{\n                                       if(editData._idx==i._idx){\n                                          tempArray=[...tempArray,editData]\n                                       }\n                                       else{\n                                          tempArray=[...tempArray,i]\n                                       }\n                                    })\n                                    setTable(tempArray)\n                                 }}\n                           />\n                           <input className=\"h-100 w-80\"\n                              value={editData.tableName}\n                              onChange={e=>{\n                                 setEditData({\n                                    ...editData,tableName:e.target.value\n                                 })\n                              }}\n                              onBlur={e=>{\n                                 let tempArray=[]\n                                 table.map(i=>{\n                                    if(editData._idx==i._idx){\n                                       tempArray=[...tempArray,editData]\n                                    }\n                                    else{\n                                       tempArray=[...tempArray,i]\n                                    }\n                                 })\n                                 setTable(tempArray)\n                              }}\n                           />\n                        </div>\n                        :<div className=\"w-80\" style={{display:\"flex\"}}\n                           onClick={e=>{   \n                                 setEditData(i)\n                           }}\n                        >\n                              <div className=\"w-20\" \n                                   style={{display:\"flex\",\n                                           justifyContent:\"center\",\n                                           alignItems:\"center\"\n                                           }}>\n                                 {\n                                    i.tableActive\n                                    ?<MdCheckBox \n                                       className=\"md-icon\"\n                                     />\n                                    :<MdCheckBoxOutlineBlank \n                                       className=\"md-icon\"\n                                    />\n                                 }\n                              </div>\n                              <div className=\"w-80\" style={{margin:\"auto 0\"}}>\n                                 {i.tableName}\n                              </div>\n                        </div>\n                        }\n                   </div>\n               )\n           })\n       }\n   </div>\n\n</div>\n)\n}\n\n*/","import React from 'react';\nimport {MdEdit} from 'react-icons/md';\n\nimport ShopInfoModalForm from '../../render/renderForm/ShopInfoModalForm'\nimport axios from 'axios'\nimport axiosUtil from '../../util/axiosUtil'\nimport BranchSettingForm from '../../render/renderForm/BranchSettingForm';\n\nconst {genArrayForFilterAxios,genFD,addFileNameInPhotoUrl,\n   addSingleFileNameInsteadOfPhotoUrl,\n   catchErrorToMessage}=axiosUtil\n\nfunction BranchInfo(props) {\n\nconst {\n   pageData,basicData,\n   FormTemplate,StateTemplate,\n   myheader,setReloadBasicData,\n   languageObj,tableTemplate\n}=props\n\nconsole.log('BranchInfo........')\n//console.log(basicData)\n\nconst {photoUrl1,shopInfo,languageSetting,printPageSetting,widthLeft,thisBranch,table}=basicData\nconst tempBranch={photoUrl1,shopInfo,languageSetting,printPageSetting,widthLeft,thisBranch,table}\n\nconst {branchSettingPage}=pageData\n\n//console.log('tempBranch')\n\nconst [showShopInfo,setShowShopInfo]=React.useState(false)\nconst [showBranchSetting,setShowBranchSetting]=React.useState(false)\nconst [error,setError]=React.useState({\n                                       showModalError:false,\n                                       message:null\n                                    })\n\n//===============================\nconst updateShopInfoFunc=(inputState)=>{\n   console.log('updateShopInforFunc')\n   console.log(inputState)\n   const {file1,photoUrl1,shopInfo}=inputState\n   const {branchId}=basicData\n   const tempFormInputState1={ id:branchId,\n                              shopInfo:shopInfo}\n  \n   let promise1=axios.post(`/p35branch/updatecustom`,tempFormInputState1,myheader)\n\n   let promise2=null\n   \n   if(file1){\n        console.log('file1.............')\n        console.log(file1)\n\n       if(file1.length>0){\n            console.log('there is file')\n\n            const tempFormInputState2=addSingleFileNameInsteadOfPhotoUrl({  id:branchId,\n                                                                            file1,photoUrl1})  \n        \n            const fd=genFD({\n                inputState:tempFormInputState2,\n                template:{\n                    id:StateTemplate.shopInfoState.id,\n                    file1:StateTemplate.shopInfoState.file1,\n                    photoUrl1:StateTemplate.shopInfoState.photoUrl1,\n                }\n            })\n        \n            promise2=axios.post(`/p35branch/updatecustom`,fd,myheader)\n       }\n       else{\n            console.log('there is No.........file')\n            promise1=axios.post(`/p35branch/updatecustom`,{...tempFormInputState1,photoUrl1},myheader)\n       }\n   }\n   else{\n       console.log('no click on add Image')\n       promise1=axios.post(`/p35branch/updatecustom`,{...tempFormInputState1,photoUrl1},myheader)\n   }\n\n   Promise.all([promise1,promise2])\n       .then(result=>{\n           setReloadBasicData(true)\n           setShowShopInfo(false)\n       })\n       .catch(error=>{\n           const tempObj={showModalError:true,message:catchErrorToMessage(error)}\n           setError(tempObj)\n           \n        })\n    \n}\n//==================================\nconst updateBranchData=(inputData)=>{\n\n    const temp={id:basicData.branchId,...inputData}\n\n    axios.post(`/p35branch/updatecustom`,temp,myheader)\n    .then(result=>{\n        console.log('result')\n        setReloadBasicData(true)\n        setShowBranchSetting(false)\n    })\n    .catch(error=>{\n        console.log('error')\n        const tempObj={showModalError:true,message:catchErrorToMessage(error)}\n        setError(tempObj)\n        \n     })\n}\n\n//==================================\n/*\nconst renderBody=()=>{\n    return basicData.shopInfo.map((i,idx)=>(\n    <div className=\"flex-center-center\" key={idx}>\n        <div className=\"w-10\">\n            <FaPlusSquare className=\"sm-icon\"\n                onClick={e=>{\n                    //addRow(idx)\n                }}\n            />\n        </div>\n        <div className=\"w-10\">\n            {idx>0\n            ?<FaMinusSquare className=\"sm-icon\"\n                onClick={e=>{\n                    //deleteRow(idx)\n                }}\n            />\n            :null\n            }\n        </div>\n        <div className=\"w-80\">\n            <input\n                type=\"text\"\n                value={i}\n                onChange={e=>{\n                    //changeInputState(e,idx)\n                }}\n            />\n        </div>\n    </div>\n\n    ))\n       \n}\n\n*/\n\n\n\n\n\n\n\n\n\nconst renderBody=()=>{\n    const temp=[\"languageSetting\",\"printPageSetting\",\"widthLeft\",\"thisBranch\",\"table\"]\n\n    return temp.map((i,idx)=>{\n      return i!=\"table\"\n      ?<div key={idx} \n          className=\"\" \n          style={{display:\"flex\",width:\"100%\"}}>\n        <div style={{width:\"20%\"}}>\n            <div style={{fontSize:\"1rem\"}}>{branchSettingPage[i]}</div>\n        </div>\n        <div style={{width:\"80%\"}}>\n            <div style={{fontSize:\"1rem\"}}>{basicData[i]}</div>\n        </div>\n      </div>\n      :<div key={idx} \n            className=\"\" \n            style={{display:\"flex\",width:\"100%\"}}>\n         <div style={{width:\"20%\"}}>\n            <div style={{fontSize:\"1rem\"}}>{branchSettingPage[i]}</div>\n         </div>\n         <div style={{width:\"40%\"}}>\n            <select>\n               {\n                  basicData.table.map((i,idx2)=>(\n                     <option key={idx2}>\n                        {i.tableName}\n                     </option>\n                  ))\n               }\n            </select>\n         </div>\n      </div>\n   })    \n}\n\n\n//==================================\nconst renderShopInfoLine=()=>{\n\n   return  basicData.shopInfo.map((i,idx)=>(\n    <div key={idx} \n         className=\"\" \n         style={{display:\"flex\",width:\"100%\"}}>\n\n             <div style={{fontSize:\"1rem\"}}>{i}</div>\n    </div>\n   ))\n}\n\n\n//------------------------------\nconst renderShopInfo=()=>{\n   //const {lb,name,address,contact,branch,other,logo} = pageData.shopInfo  \n   return(\n      <div className=\"w-100\"\n      style={{display:\"flex\",\n              justifyContent:\"space-between\",\n              marginBottom:\"0.5rem\"\n      }}>\n          <div className=\"w-60\"  style={{paddingTop:\"0.5rem\"}}>\n              <div style={{display:\"flex\"}}>   \n                  <h5>{pageData.shopInfo.formHead}</h5>\n                      <MdEdit className=\"sm-icon\"\n                              style={{marginLeft:\"0rem\"}}\n                              onClick={e=>setShowShopInfo(!showShopInfo)}\n                      />\n              </div>\n              {\n                  renderShopInfoLine()\n              }\n          </div>\n          {\n          <div className=\"w-50\"\n              style={{display:\"flex\",\n                      justifyContent:\"center\",alignItems:\"center\"}}\n          >   \n                <img src={basicData.photoUrl1[0]}\n                            style={{maxWidth:\"100%\",maxHeight:\"30vh\"}}\n                />\n          </div>\n          }\n      </div>\n   )\n}\n//=========================\n\nreturn(\n<div className=\"w-100 h-100\" \n     style={{padding:\"0.5rem\",overflowY:\"auto\"}} \n>\n        <div className=\"bd-pureWhite\" \n             style={{padding:\"0.5rem\",marginBottom:\"2rem\"}}>\n        {\n            pageData&&renderShopInfo()\n        }\n        </div>\n\n        <div className=\"bd-pureWhite\" \n             style={{padding:\"0.5rem\",marginBottom:\"2rem\"}}>\n            <div style={{display:\"flex\"}}>\n                <h5>{`${branchSettingPage.formHead}`}</h5>\n                <MdEdit className=\"sm-icon\"\n                    style={{marginLeft:\"0rem\"}}\n                    onClick={e=>setShowBranchSetting(!showBranchSetting)}\n                />\n            </div>\n            {\n            renderBody()\n            }\n\n        </div>\n\n        {\n            showShopInfo\n            ?<ShopInfoModalForm\n                lb={pageData.shopInfo.formHead}\n                basicData={basicData}\n                shopInfo={pageData.shopInfo}\n                setShow={setShowShopInfo}\n                keyName={[\"photoUrl1\"]}\n                submitFunction={updateShopInfoFunc}\n            />\n            :null\n        }\n        {\n            showBranchSetting\n            ?<BranchSettingForm\n                pageData={pageData}\n                basicData={basicData}\n                setShow={setShowBranchSetting}\n                confirmFunc={updateBranchData}\n            />\n            :null\n        }\n\n</div>\n)\n\n}\nexport default BranchInfo;\n\n","import React from 'react';\nimport {MainContext} from '../../context/MainContext'\n\nimport Navbar from '../../component/navbar/Navbar';\n\nimport BranchInfo from './BranchInfo'\nimport StateTemplate from '../../model/StateTemplate';\nimport FormTemplate from '../../render/renderForm/FormTemplate';\n\nfunction Branch() {\n\nconsole.log('Branch')\n\nconst {basicDataSt,\n    setReloadBasicData,\n    myheader,\n    setBasicData\n    //widthLeft,setWidthLeft\n}=React.useContext(MainContext)\n\nconst {basicData,pageData,tableTemplate,languageObj}=basicDataSt\n\nlet [pageState,setPageState]=React.useState({\n    reloadData:false,\n    pageData:null,\n    basicData:null,\n    tableTemplate:null\n    //pageDataStandard:null\n})\n  \nReact.useEffect(()=>{\n    setPageState({\n        reloadData:false,\n        pageData:pageData,\n        basicData:basicData,\n        tableTemplate:tableTemplate\n    })\n},[basicDataSt])\n\nreturn(\n<div style={{height:\"100vh\",width:\"100vw\",overflow:\"hidden\"}}>\n    <div className=\"h-5 w-100 hide-on-print\">\n        <Navbar/>\n       \n    </div>\n   \n    <div className=\"h-95 w-100\">\n        { \n            pageState.pageData&&pageState.basicData&&pageState.tableTemplate&&\n            <BranchInfo \n                pageData={pageState.pageData} \n                basicData={pageState.basicData}\n                FormTemplate={FormTemplate}\n                StateTemplate={StateTemplate}   \n                myheader={myheader} \n                setReloadBasicData={setReloadBasicData}\n                languageObj={languageObj}\n                tableTemplate={tableTemplate}\n            />\n        }\n    </div>\n</div>\n)\n\n}\nexport default Branch;\n","const patternNumber=/^\\d{1,30}$/gi\nconst patternString=/^[-\\w\\+\\-\\*\\/\\\\.=]{1,200}$/gi\nconst patternEmail=/^[\\w@\\.\\-]{1,30}$/gi\nconst patternDate=/^\\d{4}-\\d{2}-\\d{2}$/gi\nconst patternFileName=/^[\\w\\-\\*\\/\\.\\\\=]{1,200}$/gi\nconst patternBoolean=/^(true)|(false)$/gi\nconst patternWildCard=/.{0,200}/gi\n//const patternNumber=/^(\\d{1,30})|(\\d{1,15}\\.\\d{1,15})|(\\d{1,29}.)$/gi\n\nconst valBasic= (pttn,str)=>{\n    return new RegExp(pttn).test(str)\n}\n\nconst valArray= (pttn,array)=>{\n    let tempResult=true\n\n    for (let i=0; i<array.length;i++){\n        tempResult= new RegExp(pttn).test(array[i])\n        if(!tempResult){\n            break\n        }\n    }\n    return tempResult\n}\nconst valNone=()=>{\n  return true\n}\n\nconst groupState={\n    id:{stType:\"number\",  validate:valBasic,  pattern:patternNumber},\n    groupPage:{stType:\"number\",  validate:valBasic,  pattern:patternNumber},\n    groupName:{stType:\"string\", validate:valBasic,  pattern:patternString},\n    children:{stType:\"array\",  validate:valArray,  pattern:patternNumber},\n    parentId:{stType:\"array\",  validate:valArray,  pattern:patternNumber},\n    allDeleteId:{stType:\"array\",  validate:valArray,  pattern:patternNumber},\n}\n\nconst testData=[\n    {id:1,gropuPage: 1,groupName:\"main\",children:[2,3,4,13],parentId:null},\n    {id:2,groupPage: 1,groupName:\"one\",children:[5,10],parentId:1},\n\n    {id:3,groupPage: 1,groupName:\"three\",children:[7,9],parentId:1},\n    {id:4,groupPage: 1,groupName:\"four\",children:[11],parentId:1},\n    {id:5,groupPage: 2,groupName:\"five\",children:[6,12],parentId:2},\n    {id:6,groupPage: 2,groupName:\"six\",children:[],parentId:5},\n    {id:7,groupPage: 3,groupName:\"seven\",children:[8],parentId:3},\n    {id:8,groupPage: 3,groupName:\"eight\",children:[],parentId:7},\n    {id:9,groupPage: 3,groupName:\"nine\",children:[],parentId:3},\n    {id:10,groupPage: 2,groupName:\"ten\",children:[],parentId:2},//\n    {id:11,groupPage: 4,groupName:\"eleven\",children:[],parentId:4},\n    {id:12,groupPage: 2,groupName:\"twelve\",children:[],parentId:5},//\n    {id:13,groupPage: 13,groupName:\"thirteen\",children:[],parentId:1},\n    \n  ]\n\nconst testTemplate={groupState,testData}\n\nexport default testTemplate\n","import React from 'react';\n\nimport {FaFolderPlus,FaFolder,FaFolderOpen, FaLaptopHouse} from 'react-icons/fa';\n\nimport {MdRefresh,MdEdit,MdAddCircle,MdDelete,MdFolderSpecial, MdZoomIn,MdSearch} from 'react-icons/md';\n//import treeUtil from './treeUtil'\n\nimport './Tree.css'\n\n//const {convertToObject,createGroupTree,findAllChildrenIdByGroupTree,openAllParentId} = treeUtil\n\nconst Tree=(props)=>{\n  console.log('Tree')\n\n  const {\n         tempObj,\n         canGroupChange,\n         selectGroupObjectId,\n         folderOpenFunc,\n         folderClosePlusFunc,\n         folderCloseFunc,\n         pOpenFunc,\n         pCloseFunc,\n         delFunc,\n         addFunc,\n         editFunc,\n         refreshFunc,\n         zoomFunc,\n         setEditGroupFunc,\n         /*\n         loadData,editData,\n         setEditGroup,\n         setAllDeleteId,\n         groupState,\n         setShowAdd,setShowEdit,setShowModalConfirm,\n         reloadFunctionForGroup,\n         filterDataByGroup,\n         canGroupChange,\n         clickFolderIcon,\n         setClickFolderIcon\n         */\n        }=props\n\n  //===================================\n  const getBGcolor=(id)=>{\n    //if(!selectGroupObject){return null}\n    //if(selectGroupObject.id==id){\n    //  return '2px solid rgb(244, 248, 4)'\n    //}\n  }\n\n  const getColor=(id)=>{\n    if(!selectGroupObjectId){return null}\n    if(selectGroupObjectId==id){\n      return 'red'\n    }\n  }\n\n  //================================\n  const renderSubFolder = (subArrs,step) =>{\n    return ( subArrs.map((i,index)=> {\n      //if(!i){return null}\n      return(  \n      <div key={index} \n           style={{marginLeft:`${step*1}rem`}}\n           //className=\"Tree-box\"\n      >    \n        {\n          i.open    \n          ?<div style={{}}>\n             \n                <div style={{display:\"flex\",alignItems:\"center\"}}> \n                    <FaFolderOpen \n                        style={{fontSize:\"2rem\"}}\n                        //className=\"Tree-open-icon\"\n                        //style={{display:'inline'}}\n                        onClick={e=>{                // folder     \n                            folderOpenFunc(i)\n                        }}\n                    />\n                    \n                    {i.groupName\n                    ?<div id={i.groupName}\n                         style={{marginTop:\"0.7rem\",marginLeft:\"0.3rem\"}}\n                          onClick={e=>{\n                              setEditGroupFunc(i)\n                              //pOpenFunc(i)\n                          }}\n                          //className=\"Tree-p\"\n                          style={{color:selectGroupObjectId==i.id?\"red\":\"black\",\n                                  fontSize:i.groupName==\"main\"?\"1.5rem\":null\n                                  }}\n                      >{`${i.id}.${i.groupName}`}\n                      </div>\n                    :null\n                    }\n                   <MdSearch className=\"sm-icon\"\n                            style={{color:selectGroupObjectId==i.id?\"red\":\"black\"}}\n                            onClick={e=>{pCloseFunc(i)}}\n                   />\n              </div>    \n              <div >\n                  {\n                  renderSubFolder(i.folders,step+1)\n                  }    \n              </div>\n          </div>\n          :<div style={{}}>\n              \n              <div style={{}}>\n                  {i.children\n                  ?i.children.length>0          \n                        ?<div style={{display:\"flex\",alignItems:\"center\"}}>\n                              <FaFolderPlus \n                                style={{fontSize:\"2rem\"}}\n                                //className=\"Tree-close-icon\"\n                                //style={{display:'inline',border:getBGcolor(i.id)}} \n                                onClick={e=>{    // folder   \n                                    folderClosePlusFunc(i)\n                                    //loadGroup\n                                  }}\n                              />\n                               {i.groupName\n                                ?\n                                  <div id={i.groupName}\n                                          style={{marinTop:\"0.7rem\",marginLeft:\"0.3rem\"}}\n                                          onClick={e=>{\n                                            setEditGroupFunc(i)\n                                            //pCloseFunc(i)\n                                          }}\n                                          \n                                          style={{color:selectGroupObjectId==i.id?\"red\":\"black\",\n                                                  fontSize:i.groupName==\"main\"?\"1.5rem\":null\n                                                  }}\n                                      >{`${i.id}.${i.groupName}`}\n                                  </div>\n                                :null\n                                }\n                            <MdSearch className=\"sm-icon\"\n                                      style={{color:selectGroupObjectId==i.id?\"red\":\"black\"}}\n                                      onClick={e=>{pCloseFunc(i)}}\n                            />\n                         </div>\n                        :<div style={{display:\"flex\",alignItems:\"center\"}}>\n                          <FaFolder\n                            style={{fontSize:\"2rem\"}}\n                            //className=\"Tree-close-icon\"\n                            //style={{display:'inline',border:getBGcolor(i.id)}} \n                            onClick={e=>{ // folder        \n                                folderCloseFunc(i)\n                            }}\n                          />\n                          {i.groupName\n                          ?\n                            <div id={i.groupName}\n                                    style={{marinTop:\"0.7rem\",marginLeft:\"0.3rem\"}}\n                                    onClick={e=>{\n                                      setEditGroupFunc(i)\n                                      //pCloseFunc(i)\n                                    }}\n                                    \n                                    style={{color:selectGroupObjectId==i.id?\"red\":\"black\",\n                                            fontSize:i.groupName==\"main\"?\"1.5rem\":null\n                                            }}\n                                >{`${i.id}.${i.groupName}`}\n                            </div>\n                          :null\n                          }\n                          <MdSearch className=\"sm-icon\"\n                                  style={{color:selectGroupObjectId==i.id?\"red\":\"black\"}}\n                                  onClick={e=>{pCloseFunc(i)}}\n                          />\n                        </div>\n                  :null  \n                  }\n                 \n                  \n              </div>\n          </div>\n        }\n      </div>\n      )}\n    ))\n  }\n  \n  //==============================\n\n  return(\n    <div className=\"h-100 w-100\" style={{position:\"relative\"}}>\n    \n      <div className=\"h-5\">\n        <MdRefresh className=\"lg-icon\" \n          onClick={e=>{\n            refreshFunc()\n          }}\n        />\n        {selectGroupObjectId>0&&canGroupChange\n          ?<MdAddCircle className=\"lg-icon\" \n              onClick={e=>{\n                addFunc()\n              }}/>\n          :null\n        }\n        {selectGroupObjectId>1&&canGroupChange\n          ?<MdEdit className=\"lg-icon\"  \n              onClick={e=>{\n                  editFunc()\n              }} />\n          :null\n        }\n        {selectGroupObjectId>1&&canGroupChange\n          ?<MdDelete className=\"lg-icon\" \n              onClick={e=>{\n                  delFunc()\n              }}/>\n          :null\n        }\n        <MdZoomIn className=\"lg-icon\" \n              onClick={e=>{\n                  zoomFunc()\n              }}\n        />\n      </div>\n\n      <div className=\"w-100 h-95\"\n            //style={{overflowY:\"scroll\",overflowX:\"scroll\",}}\n      >\n        { tempObj\n          ?renderSubFolder(tempObj,0)\n          :null\n        }\n      </div>\n    </div>\n  )\n}\n\nTree.defaultProps={\n  tempObj:null,\n  canGroupChange:true,\n  selectGroupObjectId:null,\n  folderOpenFunc:()=>{},\n  folderClosePlusFunc:()=>{},\n  folderCloseFunc:()=>{},\n  pOpenFunc:()=>{},\n  pCloseFunc:()=>{},\n  delFunc:()=>{},\n  addFunc:()=>{},\n  editFunc:()=>{},\n  refreshFunc:()=>{}\n}  \nexport default Tree\n\n\n\n\n/*\n\n\n\n\n\n\n\n\n*/","/*\nconst group=[\n    {id:1,name:'main',        parent:1,children:[2,3],remark:'this is main'},\n    \n    {id:2,name:'',   parent:1,children:[4,5,6],remark:''},\n    {id:3,name:'',        parent:1,children:[7,8],remark:''},\n    \n    {id:4,name:'',          parent:2,children:[],remark:''},\n    {id:5,name:'',      parent:2,children:[],remark:''},\n    {id:6,name:'',     parent:2,children:[],remark:''},\n    \n    {id:7,name:'samsung',      parent:3,children:[],remark:''},\n    {id:8,name:'oppo',         parent:3,children:[9,10],remark:''},\n    \n    {id:9,name:'oppo-AS',         parent:8,children:[],remark:''},\n    {id:10,name:'oppo-BS',         parent:8,children:[],remark:''},\n  ]\n*/\n\nimport { FaTeamspeak } from \"react-icons/fa\";\n\n//line to nested object\nconst convertToObject=(myarrs,stateTemplate)=>{   \n    \n    if(!myarrs){return null}\n    \n    const objKeys = Object.keys({...myarrs[0],...stateTemplate}); //myarras[0] for open key\n\n    //const searchId=(_id,groupId,groupName,remark,subGroup,folders)=>{\n    const searchId=(l,folders)=>{\n        //folders:[{id:_ ,folders:[] },{id:_ ,folders:[]}]    \n        // l  {id:_,name:_,parent:_,children:_,remark:_},\n\n        if(folders){\n            folders.map(f=>{\n                if(l.id==f.id){\n                    objKeys.map(ky=>{\n                        //f={...f,[ky]:l[ky]} //copy all existing key\n                        f[ky]=l[ky]\n                    })\n                    l.children.map(kidId=>{\n                        const ob={id:kidId,folders:[]}\n                        f.folders.push(ob)\n                    })\n                }\n                else{\n                    searchId(l,f.folders)\n                }\n            })        \n        }\n        \n    }\n\n    let mainObj={}                              //step 1\n    myarrs.map(l=>{\n        if(l.id==1){     \n            mainObj={...mainObj,folders:[]}     //add new key\n            objKeys.map(ky=>{\n                mainObj={...mainObj,[ky]:l[ky]} //copy all existing key of Id=1=mainObj\n            })  //{id:1,name:'main',parent:1,children:[2,3],remark:'this is main',open:false,folders:[]}\n    \n            l.children.map(kidId=>{\n                let objInFoldersArray={id:kidId,folders:[]}\n                mainObj.folders.push(objInFoldersArray)   //we use push to effect parent\n            }) //{id:1,name:'main',parent:1,children:[2,3],remark:'this is main',open:false}\n        }        //folders:[ {id:_,folders:[]}, {id:_,folders:[]}]         \n        else{\n            searchId(l,mainObj.folders)         \n            //searchId(l,mainObj.folders)\n        }   // l  {id:_,name:_,parent:_,children:_,remark:_},\n    })\n    return [mainObj]\n}\n//===============================================\nconst createParentGroupObject=(obj,i)=>{\n    const myKey=i.parentGroup.length.toString()\n\n    if(obj[myKey]){\n        \n        obj[myKey]=[...obj[myKey],i]\n\n    }\n    else {\n        obj={...obj,[myKey]:[i]}\n    }\n    return obj\n}\n\n//------------------------------------------\nconst createGroupTree=({group,openArrayIn})=>{\n\n    if(!group){return null}\n\n    let tempParentGroupOjbect={}\n\n    let openArray\n\n    if(!openArrayIn){\n        openArray=[1]\n    }\n    else {\n        openArray=openArrayIn\n    }\n\n    /*   \n    if(prevGroupTree){\n        //openArray=[]\n        prevGroupTree.map(i=>{\n            if(i.open){\n                openArray=[...openArray,parseInt(i.id)]\n            }\n        })\n    }\n    */\n\n    let groupTree=[]\n    \n    group.map(i=>{\n\n            let tempX={...i,open:i.id==1?true:false} //main always open\n            if(openArray){\n                for(let j=0;j<openArray.length;j++){\n                    if(i.id==openArray[j]){\n                        tempX={...tempX,open:true}\n                        //openArray=openArray.splice(j,1)\n                        break\n                    }\n                }\n            }\n\n            tempParentGroupOjbect=createParentGroupObject(tempParentGroupOjbect,tempX)\n\n   })\n\n    const objKeys = Object.keys(tempParentGroupOjbect);\n\n    objKeys.map(i=>{\n        tempParentGroupOjbect[i].map(j=>{\n            groupTree=[...groupTree,j]\n        })\n    })\n\n    return {groupTree,openArray}\n   \n}\n\n//================================================\nconst findAllChildrenId=(id,tempObj)=>{\n    let tempChildrenId=[]\n    let idIsFound=false\n    //console.log(tempObj)\n    \n    console.log('tempObj')\n    console.log(tempObj)\n\n    /*\n    const findChildren=(obj)=>{\n        console.log('obj')\n        console.log(obj)\n\n        tempChildrenId=[...tempChildrenId,...obj.children]\n        obj.folders.map(i=>{\n            findChildren(i)\n        })\n        //console.log('tempChildrenId')\n        //console.log(tempChildrenId)\n    }\n    \n    const findId=(id,obj)=>{\n        if(id==obj.id){\n            console.log(`foundId=${id} in ${obj.id}`) \n            console.log(obj) \n            idIsFound=true\n            findChildren(obj)\n            //tempChildrenId=[...tempChildrenId,...obj.children]\n        }\n        \n        else{\n            if(idIsFound==false){\n                //console.log(`not found Id = ${id} in ${obj.id}`)    \n                console.log('obj')\n                console.log(obj)\n                console.log(obj.id)\n                console.log(obj.folders)       \n                obj.folders.map(i=>{\n                        findId(id,i)\n                })\n            }\n        }\n    }\n     \n     findId(id,tempObj)\n     */\n     //tempChildrenId=Array.from(new Set(tempChildrenId))\n     //console.log(tempChildrenId) \n     return tempChildrenId\n  }\n//==================================\nconst findAllChildrenByGroupTree=(id,groupTree)=>{\n    let tempAllChildenId=[] \n    let tempArrayOfId=[id]\n    let tempAllChildenObject=[]\n\n    for (let i=0;i<groupTree.length;i++){\n        for (let j=0;j<tempArrayOfId.length;j++){\n            if(tempArrayOfId[j]==groupTree[i].id){\n                tempArrayOfId.splice(j,1)\n                tempArrayOfId=[...tempArrayOfId,...groupTree[i].children]\n                tempAllChildenObject=[...tempAllChildenObject,groupTree[i]]\n                tempAllChildenId=[...tempAllChildenId,groupTree[i].id]\n                break\n            }\n        }\n\n        if(tempArrayOfId.length==0){\n            break\n        }\n\n    }\n\n    const temp = {allDeleteId:tempAllChildenId,\n            allDeleteObject:tempAllChildenObject \n           }\n\n    return temp\n}\n//========================================\n//========================================\nconst findAllParentId=({groupTree,editGroupId})=>{\n    \n    const funcCheckParentId=(id)=>{\n        if(!id){return}\n        \n        let tempParentId=null\n        for (let i =0; i<groupTree.length-1; i++){\n            if(groupTree[i].id==id){\n                tempParentId=groupTree[i].parentId\n                break\n            }\n        }\n        return tempParentId\n    }\n    \n    if(!groupTree){return null}\n    \n    if(!editGroupId){return null}\n   \n    let allParentId=[]\n\n    let idToCheck=editGroupId\n    \n    while(idToCheck){\n        idToCheck=funcCheckParentId(idToCheck)\n        if(idToCheck){\n            allParentId=[...allParentId,idToCheck]\n        }\n    }\n\n    return allParentId\n}\n\nconst openAllParentId=({groupTree,editGroupId})=>{\n    if(!groupTree){return null}\n    if(!editGroupId){return null}\n\n    let tempGroupTree=[]\n\n    let allParentId=[]\n    allParentId=findAllParentId({groupTree,editGroupId})\n\n    groupTree.map(i=>{\n        let tempObj=i\n        \n        for(let j=0;j<allParentId.length;j++){\n            if(i.id==allParentId[j]){\n                tempObj={...tempObj,[\"open\"]:true}\n                allParentId.splice(j,1)\n                break\n            }\n        }\n        \n        tempGroupTree=[...tempGroupTree,tempObj]\n    })\n\n\n    return tempGroupTree\n    \n}\n\nconst treeUtil={convertToObject,createGroupTree,findAllChildrenId,\n                openAllParentId,findAllChildrenByGroupTree,\n                \n            }\n\nexport default treeUtil\n","import React from 'react';\nimport {MdVisibility,MdVisibilityOff,MdAddCircle,\n  MdRadioButtonChecked,MdRadioButtonUnchecked} from 'react-icons/md';\nimport {FaPlusSquare,FaMinusSquare,FaFolder,\n  FaPlusCircle,FaRegArrowAltCircleUp,FaRegArrowAltCircleDown,\n  FaBullseye\n} from 'react-icons/fa'; \nimport {RiShareForwardLine} from 'react-icons/ri'\n\nimport {BsFolderSymlink} from 'react-icons/bs'\nimport {MdSearch,MdRefresh,MdDelete,} from 'react-icons/md';\nimport renderFormTable from './renderFormTable'\nimport Table from '../../component/table/Table'\n\nimport StateUtil from '../../model/StateUtil'\n\nimport Ticon from '../../component/ticon/Ticon'\n\nimport axios from 'axios';\n\n\nimport DatePicker, { registerLocale } from 'react-datepicker';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/dist/js/bootstrap.min.js';\nimport th from \"date-fns/locale/th\";\n\n\nregisterLocale(\"th\", th);\n\nconst {revRefAndValue}=StateUtil  \n\nconst renderForm=({\n    cName,\n    template,\n    refAndValue,ref1,iconAction,\n    setRefAndValue,\n    \n    //basicData,\n    selectData,\n    blankData,\n    refAndValueBlankData,\n    loadData,setLoadData,\n    hidePassword,setHidePassword,\n\n    tableTemplate,setTableTemplate,\n    showTable,setShowTable,\n    selectRow,setSelectRow,\n    editData,setEditData,\n    \n    updateFilterData,\n    insertLine,//insertUp,insertDown,\n    selectAll,unSelectAll,deleteLine,getSelectAll,\n    moveSelectedDown,moveSelectedUp,\n    moveUp,moveDown,\n    findProductIdByKeyDown,\n    findBarcodeByKeyDown,\n    calDigit,\n\n    setCalculate,\n    sumAmount,\n    saveDetailTableTemplateForFormFunc,\n    selectGroup,\n    selectProduct,\n    pageDataModalForm,\n    dataUrl,myheader\n    })=>{\n    //================================\n    const changeInputStateForNumber=({location,value})=>{\n     \n      const  pattern = \"^\\-?[0-9]+(?:\\.[0-9]{1,2})?$\"\n      const regex = new RegExp(pattern);\n      const result=regex.test(value.toString())\n      \n      if(result||value==\"\"){\n        let temp= refAndValue\n        location.map(i=>{ temp=temp[i]})\n        temp.value=value\n        setRefAndValue({...refAndValue})\n        let tempRev=revRefAndValue({template,refAndValue})\n        setLoadData({...loadData,...tempRev})\n        setCalculate(true)\n      }\n    } \n    //================================\n    const changeInputState=({location,value})=>{\n        let temp= refAndValue\n        location.map(i=>{ temp=temp[i]})\n        temp.value=value\n        setRefAndValue({...refAndValue})\n        let tempRev=revRefAndValue({template,refAndValue})\n        setLoadData({...loadData,...tempRev})\n        setCalculate(true)\n    }\n    //================================\n    const goToNextRef=(e,nextRef,lastRef)=>{\n      \n       console.log('geToNextRef')\n       //console.log(refAndValue)\n\n        if(e.key==\"Enter\"){\n            if(Array.isArray(nextRef)){\n\n               if(nextRef[0]!=\"detail\"){\n                 if(lastRef){\n                   //console.log('lastRef')  \n                   ref1.current.focus()\n                 }\n                 else{\n                    let temp= refAndValue\n                    nextRef.map(i=>{ \n                      temp=temp[i]\n                    })\n                    temp.ref.current.focus()\n                  }\n               }\n               \n            }\n            else{\n              ref1.current.focus()\n            }\n        }\n        \n      \n    }\n    //========================\n    const genRef=(location)=>{\n\n      let temp=refAndValue\n      if(Array.isArray(location)){\n        location.map(i=>{\n          temp=temp[i]\n        })\n      }\n\n      return temp.ref \n    }\n    //========================\n    const goToNextRefInTable=(e,rAv,tpKey,tPtTpKey,idx,length)=>{\n      \n      //console.log('e.key')\n      //console.log(e.key)\n\n      if((e.key==\"Enter\")||(e.key==\"ArrowRight\")){  \n          \n          if(Array.isArray(rAv.nextRef)){\n              let temp= refAndValue\n              rAv.nextRef.map(i=>{ temp=temp[i]})\n              temp.ref.current.focus()\n          }\n          else{ //out of form to OK button\n            //refButtonOK.current.focus()\n            ref1.current.focus()\n          }\n          \n      }\n\n      /*\n      if(e.key==\"Enter\"){\n        \n        if(tPtTpKey.nextEnter){\n          //last filed and last line in table\n          if((idx==length-1)&&tPtTpKey.nextEnter.lastKey){\n\n            if(Array.isArray(tPtTpKey.nextEnter.lastKey)){ //out of table to next ref in form\n              \n              let temp= refAndValue\n              tPtTpKey.nextEnter.lastKey.map(i=>{ temp=temp[i]})\n              temp.ref.current.focus()\n            \n            }\n            else{ //out of form to OK button\n              //refButtonOK.current.focus()\n              ref1.current.focus()\n\n            }\n\n          }\n          else{ //compare \n            let temp=refAndValue\n            \n            tPtTpKey.nextEnter.nextKey1.map(i=>{\n              if(i===0){ temp=temp[idx] } //not last in row\n              else  if (i===1){ temp=temp[idx+1] } //last in row go to next line\n              else{ temp=temp[i] } //not last in row\n            })\n            temp.ref.current.focus()\n          }  \n\n        }\n      }\n      */\n    }\n    //========================\n    const renderEachInputType=({\n        lb,cName,subCName,templateType,\n        inputType,subFormTemplate,\n        placeholder,disabled,autoFocus,unchangeable,\n        selectObj,selectDataKey,textRow,\n        selectOption,\n        location,nextRef,ref,value,lastRef,\n        tpKey\n    })=>{\n\n        if(inputType==\"select\"){\n            \n            //--------------------\n            // customerData  Array  \n            // selectData={basicData,customerData}\n            // selectData[basicData][title]] \n\n            const renderSelectCondition=()=>{\n              // 1\n              if(selectData[selectDataKey]){\n\n                if(!selectData [ selectDataKey ]){return null}\n\n                const tempSelectObjSplit=selectObj.split(\",\")\n\n                if(tempSelectObjSplit.length==2){\n                  let temp2=selectData[selectDataKey][tempSelectObjSplit[0]]\n                  return temp2.map((m,index)=>(\n                    <option key={index} value={m[tempSelectObjSplit[1]]}>{m[tempSelectObjSplit[1]]}</option>\n                  ))\n                }\n                if(tempSelectObjSplit.length==1){\n                  \n                  if(Array.isArray(selectData[selectDataKey][selectObj])) {\n                    return selectData[selectDataKey][selectObj].map((m,index)=>(\n                        <option key={index} value={m}>{m}</option>\n                    ))\n                  }\n\n                }\n              }\n\n            }\n            \n            return(\n            <select className=\"w-100\"\n                style={{height:\"1.5rem\"}}\n                type={inputType}\n                value={value}\n                ref={genRef(location)}\n                onChange={e=>{\n                    if(!unchangeable){\n                      changeInputState({location,value:e.target.value})\n                    }\n                }}\n                onKeyDown={e=>{goToNextRef(e,nextRef,lastRef)}}\n                disabled={disabled}\n                autoFocus={autoFocus}\n            >  \n                <option value=\"\" hidden>list below...</option>\n                {renderSelectCondition()}\n            </select>\n            )\n        }\n\n        else if(inputType==\"select2\"){\n          return(\n              <select className=\"w-100\"\n                  style={{height:\"1.5rem\"}}\n                  type={inputType}\n                  value={value}\n                  ref={genRef(location)}\n                  onChange={e=>{\n                      if(!unchangeable){\n                        changeInputState({location,value:e.target.value})\n                      }\n                  }}\n                  onKeyDown={e=>{goToNextRef(e,nextRef,lastRef)}}\n                  disabled={disabled}\n                  autoFocus={autoFocus}\n              >  \n                  <option value=\"\" hidden>list below...</option>\n\n                  {\n                   selectOption.map((i,index)=>{\n                     return(\n                       <option key={index} value={i}>{i}</option>\n                     )\n                   })\n                  }\n              </select>\n          )\n        }\n\n        else if(inputType==\"checkbox\"){\n            return(\n              <div className=\"h-100 w-100\"\n                   style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}\n              >\n                <input \n                  style={{height:\"1.5rem\",margin:\"0\",border:\"0\"}}\n                  type={inputType}\n                  checked={value}\n                  ref={genRef(location)}\n                  onChange={e=>{\n                    if(!unchangeable){\n                      changeInputState({location,value:e.target.checked})\n                    }\n                  }}\n                  onKeyDown={e=>{goToNextRef(e,nextRef,lastRef)}}\n                  disabled={disabled}\n                  autoFocus={autoFocus}\n                />\n            </div>\n            )\n        }\n        else if(inputType==\"password\"){\n            return(\n            <div style={{position:\"relative\",width:\"100%\"}} >\n                <input\n                    style={{height:\"1.5rem\"}}\n                    type={hidePassword?inputType:\"text\"}\n                    value={value}\n                    ref={genRef(location)}\n                    onChange={e=>{\n                      if(!unchangeable){\n                        changeInputState({location,value:e.target.value})\n                      }\n                    }}\n                    onKeyDown={e=>{goToNextRef(e,nextRef,lastRef)}}\n                    autoComplete='one-time-code'\n\n                    disabled={disabled}\n                    autoFocus={autoFocus}\n                />\n                {\n                hidePassword\n                ?<MdVisibilityOff \n                    className=\"sm-icon\" \n                    style={{position:'absolute',top:\"0.2rem\",right:'0.3rem'}}\n                    onClick={e=>{\n                    setHidePassword(!hidePassword)\n                    }}\n                />\n                :<MdVisibility \n                    className=\"sm-icon\" \n                    style={{position:'absolute',top:\"0.2rem\",right:'0.3rem'}}\n                    onClick={e=>{\n                    setHidePassword(!hidePassword)\n                    }}\n                />\n                }\n            </div>\n            )\n        }\n        else if(inputType==\"date\"){\n          //type={'datetime-local'}\n          //type={'date'}\n          return (\n            <input\n                style={{height:\"1.5rem\"}}\n                type={'date'}\n                value={value.substring(0,10)}\n                ref={genRef(location)}\n                onChange={e=>{\n                    //console.log(`Date:${e.target.value}`)\n                  if(!unchangeable){\n                    changeInputState({location,value:e.target.value})\n                  }\n                }}\n                onKeyDown={e=>{goToNextRef(e,nextRef,lastRef)}}\n               \n                disabled={disabled}\n                autoFocus={autoFocus}\n            />\n            )\n        }\n        //=======================\n        else if(inputType==\"thaiDate\"){\n          //type={'datetime-local'}\n          //type={'date'}\n          return (\n            <div style={{position:\"relative\"}}>\n                 \n                  <button className=\"hideButton\" style={{position:\"absolute\"}}\n                  ref = {ref}\n                  onKeyDown={e=>{goToNextRef(e,nextRef,lastRef)}}\n                  />\n                     \n              <DatePicker\n                style={{height:\"1.5rem\"}}\n                locale=\"th\"\n                dateFormat=\"dd/MM/yyyy\"\n                selected={value?new Date(value):null}\n                onChange={e=>{\n                  //console.log(`thaiDate:${e.toISOString()}`)\n                  if(!unchangeable){\n                    changeInputState({\n                      location,\n                      value:e.toISOString().substring(0,10)})\n                  }\n                }}\n                \n                onKeyDown={e=>{goToNextRef(e,nextRef,lastRef)}}\n                disabled={disabled}\n                autoFocus={autoFocus}\n              />\n              </div>\n          \n            )\n        }\n        else if (inputType==\"textarea\"){\n          return (\n            <textarea\n              style={{width:\"100%\"}}\n              value={value}\n              rows={textRow}\n              ref={genRef(location)}\n              onChange={e=>{\n               \n                  if(!unchangeable){\n                    changeInputState({location,value:e.target.value})\n                  }\n              }}\n              //onKeyDown={e=>{goToNextRef(e,nextRef,lastRef)}}\n              disabled={disabled}\n              autoFocus={autoFocus}\n            />\n          )\n        }\n        //=======================\n        //=======================\n        else if( (inputType==\"number\")||(inputType==\"genId\")){\n \n          return (\n            <input\n                style={{height:\"1.5rem\"}}\n                type={inputType}\n                value={value}\n                rows={textRow}\n                ref={genRef(location)}\n                onChange={e=>{\n                  if(!unchangeable){\n                    changeInputStateForNumber({location,value:e.target.value})\n                  }\n                }}\n                onKeyDown={e=>{goToNextRef(e,nextRef,lastRef)}}\n                disabled={disabled}\n                autoFocus={autoFocus}\n            />\n            )\n        }\n        //=======================\n        else{\n            return (\n            <input\n                style={{height:\"1.5rem\"}}\n                type={inputType}\n                value={value}\n                rows={textRow}\n                ref={genRef(location)}\n                onChange={e=>{\n                  if(!unchangeable){\n                    changeInputState({location,value:e.target.value})\n                  }\n                }}\n                onKeyDown={e=>{goToNextRef(e,nextRef,lastRef)}}\n                disabled={disabled}\n                autoFocus={autoFocus}\n            />\n            )\n        }\n    }  \n    //==================================\n\n    const renderIconGroup=({tPt,rAv,bDt,rAvbDt,lDt,tpKey,tpIdx})=>{\n      const { lb,cName,subCName,templateType,\n        inputType,subFormTemplate,\n        placeholder,disabled,autoFocus,unchangeable,\n        selectObj,selectDataKey,iconActionIdx}=tPt[tpKey]\n\n      return(\n        <div key={tpIdx} className={`${cName}`}>\n  \n          <div  className=\"flex-center-center\">\n            <div className={subCName[0]}\n                 style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}\n            >\n                <p className=\"label table-p\"\n                  style={{margin:\"auto 0\"}}\n                >{lb}</p>\n\n            </div>\n            <div className={subCName[1]}>\n              <div style={{display:\"flex\",alignItems:\"flex-end\"}}>\n                <FaFolder style={{fontSize:\"1.5rem\"}}/>\n              </div>\n            </div>\n            </div>\n        </div>\n        )\n    }\n    //======================================\n    const renderSingleInput=({tPt,rAv,bDt,rAvbDt,lDt,tpKey,tpIdx})=>{\n        const { lb,cName,subCName,templateType,\n                inputType,subFormTemplate,\n                placeholder,disabled,autoFocus,unchangeable,\n                selectObj,selectDataKey,textRow,\n                selectOption\n                //calculation\n              }=tPt[tpKey]\n        const {location,nextRef,ref,value}=rAv[tpKey]\n        \n        return(\n        <div key={tpIdx} className={`${cName}`}>\n\n\n          <div  className=\"flex-center-center\">\n         \n            <div className={subCName[0]}> \n              <div className=\"\" style={{display:\"flex\",paddingLeft:\"0.5rem\"}}>\n              \n                <p style={{margin:\"auto 0\"}} className=\"table-p\" >{lb}</p>\n                {inputType==\"genId\"\n                ?<MdRefresh className=\"sm-icon\"\n                  onClick={e=>{\n                    console.log('dataUrl')\n                    axios.post(`/${dataUrl}/getlimit`,{},myheader)\n                    .then(result=>{\n                      console.log('result')\n                      if(result){\n                        if(result.data){\n                          const nextId=parseInt(result.data.lastRecordId)+1\n                          //console.log(location)  \n                          changeInputState({location,value:nextId})\n\n                        }\n                      }\n\n                    })\n                    .catch(error=>{\n                      console.log('error')\n                    })\n                  }}\n                />\n                :null\n                }  \n              </div>\n            </div>\n\n            <div className={subCName[1]}>\n              {  true\n                  ?renderEachInputType({\n                    lb,cName,subCName,templateType,\n                    inputType,subFormTemplate,\n                    placeholder,disabled,autoFocus,unchangeable,\n                    selectObj,selectDataKey,textRow,\n                    selectOption,\n                    location,nextRef,ref,value,\n                    tpKey\n                    //calculation\n                  })\n                  :null\n              }\n            </div>\n\n            \n            </div>\n        </div>\n        )\n    }\n    //====================================\n    const renderArrayInput=({tPt,rAv,bDt,rAvbDt,lDt,tpKey,tpIdx})=>{\n        const { lb,cName,subCName,templateType,\n                inputType,subFormTemplate,\n                placeholder,disabled,autoFocus,unchangeable,\n                \n                selectObj,selectDataKey}=tPt[tpKey]        \n        return(\n          <div key={tpIdx} className={`${cName}`}>\n            \n            <div  className=\"flex-center-center\">\n                <div className={subCName[0]} \n                     style={{padding:\"0.5rem\"}}\n                >\n                    <p className=\"label table-p\"\n                        style={{margin:\"auto 0\"}}\n                    >{lb}</p>\n                </div>\n                <div className={subCName[1]}></div>\n            </div>\n            {\n            rAv[tpKey].map((i,idx)=>{\n                const {location,nextRef,ref,value}=i\n              return(\n                <div  key={idx} className=\"flex-center-baseline\">\n                  \n                  <div className={subCName[0]}>\n                    \n                    {disabled==\"disabled\"\n                    ?null\n                    :<div className=\"flex-center-center\">  \n                      <div className=\"px-1\">\n                        <FaPlusSquare\n                          className=\"sm-icon\" \n                          onClick={e=>{\n                            //we do not use revRefAndValue anymore\n                            //instead we update lDt \n                            //After we lDt update, ReactEffect of [editData] in ModalForm\n                            //it will update genRefAndValue automatically\n                            lDt[tpKey].splice(idx+1,0,bDt[tpKey][0])\n                            upDateLoadData()\n                            //below code no use\n                            //rAv[tpKey].splice(idx+1,0,rAvbDt[tpKey][0])\n                            //let temp=revRefAndValue({template,refAndValue})\n                            //setLoadData({...loadData,...temp})\n                          }}\n                        />   \n                      </div>\n                      <div className=\"px-1\">\n                        <FaMinusSquare\n                          className=\"sm-icon\" \n                          style={{visibility:idx>0?\"visible\":\"hidden\"}}\n                          onClick={e=>{\n                            //we do not use revRefAndValue anymore\n                            //instead we update lDt \n                            //After we lDt update, ReactEffect of [editData] in ModalForm\n                            //it will update genRefAndValue automatically\n                            lDt[tpKey].splice(idx,1)\n                            upDateLoadData()\n                            //below code no use\n                            //rAv[tpKey].splice(idx,1)\n                            //console.log(refAndValue)\n                            //let temp=revRefAndValue({template,refAndValue})\n                            //setLoadData({...loadData,...temp})\n                            //setRefAndValue({...refAndValue})\n                          }}\n                        />   \n                      </div>\n                    </div>\n                    }\n                  </div>\n                  <div className={subCName[1]} style={{position:\"relative\"}}>\n                   {renderEachInputType({\n                       lb,cName,subCName,templateType,\n                       inputType,subFormTemplate,\n                       placeholder,disabled,autoFocus,unchangeable,\n                       //calculation\n                       selectObj,selectDataKey,\n\n                       location,nextRef,ref,value\n                   })}\n                  </div>  \n                </div>\n              )\n            })\n            }\n          </div>\n        )\n    }\n    //====================================\n\n    const renderFunction=({tPt,rAv,bDt,rAvbDt,lDt})=>{\n\n        const arrayTemplate=Object.keys(tPt) \n        //console.log('renderFunction: arrayTemplate')\n        //console.log(arrayTemplate)\n        return ( arrayTemplate.map((tpKey,tpIdx)=>{  \n          const {templateType}=tPt[tpKey]\n\n          const { lb,cName,subCName,subFormTemplate,iconActionIdx}=tPt[tpKey]\n          \n          if(templateType==\"object\"){\n            return(\n              <div key={tpIdx} className={`${cName}`}>\n                  <div className={subCName[0]}>\n\n                  <p className=\"label table-p\"\n                     style={{margin:\"auto 0\"}}\n                    >{lb}</p>\n                  </div>\n                  <div className={subCName[1]}>\n                    {\n                      renderFunction({\n                        tPt:subFormTemplate,\n                        rAv:rAv[tpKey],\n                        bDt:bDt[tpKey],\n                        rAvbDt:rAvbDt[tpKey],\n                        lDt:lDt[tpKey],\n                      })\n                    }\n                  </div>\n              </div>\n            )\n          }\n          else if(templateType==\"arrayObject\"){\n       \n            return rAv[tpKey].map((i,idx)=>{\n                const {location}=i\n              return(\n                <div key={`${tpKey}-${idx}`} className={`${cName}`}>\n                    <div className={subCName[0]}>\n                      <p style={{margin:\"auto\"}} className=\"table-p\">{lb}</p>\n                    </div>                \n                    \n                    <div className={subCName[1]}> \n\n                      <div className=\"flex-center-center jc-start\">  \n                        <div className=\"px-1\">\n                            <FaPlusSquare\n                            className=\"sm-icon\" \n                            onClick={e=>{\n                                //we do not use revRefAndValue anymore\n                                //instead we update lDt \n                                //After we lDt update, ReactEffect of [editData] in ModalForm\n                                //it will update genRefAndValue automatically\n                                lDt[tpKey].splice(idx+1,0,bDt[tpKey][0])\n                                upDateLoadData()\n                                //below code no use\n                                //rAv[tpKey].splice(idx+1,0,rAvbDt[tpKey][0])\n                                //console.log('FaPlus RefAndValue arrayObject')\n                                //console.log(refAndValue)\n\n                                //let temp=revRefAndValue({template,refAndValue})\n                                //setLoadData({...loadData,...temp})\n                            }}\n\n                            />   \n                        </div>\n                        <div className=\"px-1\">\n                            <FaMinusSquare\n                            className=\"sm-icon\" \n                            style={{visibility:idx>0?\"visible\":\"hidden\"}}\n                            onClick={e=>{\n                                //we do not use revRefAndValue anymore\n                                //instead we update lDt \n                                //After we lDt update, ReactEffect of [editData] in ModalForm\n                                //it will update genRefAndValue automatically\n                                lDt[tpKey].splice(idx,1)\n                                upDateLoadData()\n                                //below code no use\n                                //rAv[tpKey].splice(idx,1)\n                                //let temp=revRefAndValue({template,refAndValue})\n                                //setLoadData({...loadData,...temp})\n                                //setRefAndValue({...refAndValue})\n                            }}\n                            />   \n                        </div>\n                      </div>\n                      <div className=\"flex-center-start jc-start\">      \n                        { \n                        renderFunction({\n                          tPt:subFormTemplate,\n                          rAv:i,\n                          bDt:bDt[tpKey][0],\n                          rAvbDt:rAvbDt[tpKey][0],\n                          lDt:lDt[tpKey][idx]\n                        })\n                        }\n                      </div>\n                  </div>\n                </div>\n              )\n            })\n          }  \n          else if(templateType==\"arrayObjectInTable\"){\n            if(!tableTemplate){\n              return null\n            }\n            else{\n              return(\n                <div style={{width:\"100%\",height:\"100%\",overflow:\"hidden\"}}>\n                  <div className=\"flex-center-center jc-start\" \n                       style={{margin:\"2rem 0 0 0\",\n                              backgroundColor:\"#e5d1db\",\n                              height:\"2rem\"\n                              }}>\n                    \n                    <div className=\"iconbox\"\n                        onClick={e=>{\n                          //if(editData){\n                              insertLine()\n                          //}\n                          }}\n                    > \n                        <Ticon\n                          iconName=\"MdAddCircle\"\n                          className=\"sm-icon\"\n                          textStyle={{color:\"black\"}}\n                        />\n                    </div>\n                \n                    <div\n                      className=\"iconbox\"\n                      onClick={e=>{\n                        if(editData){\n                          moveUp()\n                        }\n                      }}\n                    > \n                        <Ticon\n                        iconName=\"FaRegArrowAltCircleUp\"\n                        className=\"sm-icon\"\n                        textStyle={{color:\"black\"}}\n                      />\n                    </div>\n                 \n                    <div  className=\"iconbox\"\n                        onClick={e=>{\n                          if(editData){\n                            moveDown()\n                          }\n                        }}\n                    >\n                      <Ticon\n                        iconName=\"FaRegArrowAltCircleDown\"\n                        className=\"sm-icon\"\n                        textStyle={{color:\"black\"}}  \n                      />\n                    </div>\n                   \n                    <div  className=\"iconbox\"\n                        onClick={e=>{\n                          if(editData){\n                            deleteLine()\n                          }\n                        }}\n                    > \n                        <Ticon\n                          iconName=\"MdDelete\"\n                          className=\"sm-icon\"\n                          textStyle={{color:\"black\"}}\n                        />\n                    </div>\n                  \n                    <div className='iconbox'\n                         onClick={e=>{\n                          getSelectAll()\n                          }}\n                    >\n                         <Ticon\n                           iconName=\"RiShareForwardLine\"\n                           className=\"sm-icon\"\n                           textStyle={{color:\"black\"}}\n                      />        \n                    </div>\n                \n\n                  </div>\n\n                  <div className=\"w-100 h-100\" style={{marginTop:\"0rem\"}}>\n                    <Table\n                        colorHead={\"#777\"}\n                        tableTemplate={tableTemplate}\n                        setTableTemplate={setTableTemplate}\n\n                        filterData={loadData[tpKey]}\n                        setFilterData={()=>{}}\n                        \n                        editData={editData}\n                        setEditData={setEditData}\n\n                        useInput={true}\n                        saveTableTemplateFunc={saveDetailTableTemplateForFormFunc}\n                        isSubTable={false}\n                        basicData={selectData.basicData}\n                        updateFilterData={updateFilterData}\n                        //insertUp,insertDown,selectAll,unSelectAll,deleteLine,getSelectAll,\n                        //moveSelectedDown,moveSelectedUp,\n                        findProductIdByKeyDown={findProductIdByKeyDown}\n                        findBarcodeByKeyDown={findBarcodeByKeyDown}\n                        calDigit={calDigit}\n                        \n                    />\n                  </div>\n                </div>\n              )\n            }\n          }\n          else if(templateType==\"array\"){      \n            return(\n              renderArrayInput({tPt,rAv,bDt,rAvbDt,lDt,tpKey,tpIdx})\n            )\n          }\n          else if(templateType==\"icon-group\"){\n\n            if(iconAction){\n              return (\n              renderIconGroup({tPt,rAv,bDt,rAvbDt,lDt,tpKey,tpIdx})\n              )\n            }\n\n          }\n          else{\n            return(\n              renderSingleInput({tPt,rAv,bDt,rAvbDt,lDt,tpKey,tpIdx})\n            )\n          }\n        }))\n    }\n    //=========================================\n    let globalTemp={...loadData}  \n    const upDateLoadData=()=>{\n      //console.log('upDateLoadData')\n      setLoadData({...globalTemp})\n    }\n    //========================================\n    return (\n        <div className=\"flex-center-start jc-start\">\n        {  \n          renderFunction({\n             tPt:template,\n             rAv:refAndValue,\n             bDt:blankData,\n             rAvbDt:refAndValueBlankData,\n             lDt:globalTemp,\n          }) \n        }\n        </div>\n    )\n}\n\nexport default renderForm\n","import React from 'react';\nimport StateUtil from '../../model/StateUtil'\nimport renderForm from './renderForm'\nimport GallerySinglePhoto_add from '../../component/galleryone_add/GallerySinglePhoto_add'\nimport photoUtil from '../../component/galleryone_add/photoUtil'\nimport formUtil from './formUtil'\nimport tableUtil from '../../component/table/tableUtil'\nimport uuid from 'react-uuid'\n\nimport axiosUtil from '../../util/axiosUtil'\nimport '../Modal.css'\n\nfunction ModalForm({\n    lb,\n    formTemplate,stateTemplate,\n    selectData,\n\n    iconAction,\n    iconActionData,\n    iconActionDataDetail,\n    loadData,\n    keyName,\n    setShow,\n\n    calculation,\n    detailTableTemplate,\n\n    submitFunction,\n    selectGroup,\n    selectProduct,\n    pageDataModalForm,\n    dataUrl,myheader\n    //submitCancel\n}) {\n    //console.log('ModalForm')\n    const {genBlankState,genRefAndValue,revRefAndValue,combineLoadDataBlankState}=StateUtil  \n    const {submitFunc}=axiosUtil  \n    const {changeArrayFile}=photoUtil\n    const {convertFormTemplateToTableTemplate}=formUtil\n    const {tableResize}=tableUtil\n\n    const [isSecond,setIsSecond]=React.useState(false)\n\n    React.useEffect(()=>{\n        //console.log(`isSecond : ${isSecond}`)\n        if(!isSecond){\n            setIsSecond(true)\n        }\n    },[isSecond])\n    \n      \n    const [hidePassword,setHidePassword]=React.useState(true)\n\n    const [calculate,setCalculate]=React.useState(true)\n\n\n    const refSubmitForm=React.createRef() //\n    const refCancelForm=React.createRef() //     \n    //const refClearForm=React.createRef() //     \n\n    const blankData=genBlankState({template:stateTemplate}).state\n    const refAndValueBlankData = genRefAndValue({template:formTemplate,FData:blankData})\n\n    const genFormInputState =() =>{\n        /*\n        if(isAddForm){\n\n            if(genAutoId){\n                return {...blankData,id:lastRecordId+1}\n            }\n            else{\n                return blankData\n            }\n        }\n        */\n        if(loadData){\n            //we create combineLoadDataBlankState function\n            //to make sure that every filed is valid at least \"\"\n            //because in mongoDB if model type = number, it we send \"\" it will be save as null\n            //when we receive data back it will be just like customerId=null\n            //so this function will make customerId=\"\" again\n            //const temp=loadData //test\n            let temp=combineLoadDataBlankState({template:stateTemplate,loadData})\n            if(temp.newId>=0){\n                temp={...temp,newId:temp.id}\n            }\n            //console.log('temp..............')\n            //console.log(temp)\n            return temp\n        }\n        else{\n            return blankData\n        }\n    }\n    \n    let [formInputState,setFormInputState]=React.useState(genFormInputState())\n    let [sumAmount,setSumAmount]=React.useState(null)\n\n    \n    React.useEffect(()=>{\n    if(isSecond){\n        //console.log('useEffect iconActionData')\n        if(iconActionData){\n            setFormInputState({...formInputState,...iconActionData})\n        }\n    }\n    },[iconActionData])\n    \n    React.useEffect(()=>{\n    if(isSecond){\n        //console.log('useEffect iconActionDataDetail')\n\n        if(iconActionDataDetail&&selectRow){\n            if(iconActionDataDetail.id>0){\n\n                let temp=[]\n                formInputState.detail.map((i,index)=>{\n                    if(selectRow.index==index){\n                       const tempLine={...i,...iconActionDataDetail}\n                       temp=[...temp,tempLine] \n                    }\n                    else{\n                        temp=[...temp,i]\n                    }\n                })\n\n                setFormInputState({...formInputState,[\"detail\"]:temp})\n            }\n        }\n        \n    }\n    },[iconActionDataDetail])\n\n    let [refAndValue,setRefAndValue]=React.useState(\n        genRefAndValue({template:formTemplate,FData:formInputState})\n    )\n    \n\n    React.useEffect(()=>{\n\n    if(isSecond){\n        //console.log('useEffect formInputState')\n        \n        let passCheck=false\n        \n        if(formInputState){\n            if(formInputState.detail){\n                passCheck=true\n            }\n        }\n\n        if(tableTemplate){\n           passCheck=true\n        }\n\n        if(passCheck){\n            const objKeys=Object.keys(tableTemplate)\n            let newSum={}\n            let showSum=false\n\n            objKeys.map(h=>{\n                if(tableTemplate[h]){\n                    if(tableTemplate[h].showSum){\n                        newSum={...newSum,[h]:0}\n                        showSum=true\n                    }\n                }\n            })\n\n\n            formInputState.detail.map((i,idx)=>{\n\n                objKeys.map(j=>{\n                    if(tableTemplate[j]){\n                        \n                        if(tableTemplate[j].showSum){\n                            const updateSum=newSum[j]+parseInt(i[j]*10000)\n\n                            if(idx==formInputState.detail.length-1){\n                                newSum={...newSum,[j]:updateSum/10000}\n                            }\n                            else{\n                                newSum={...newSum,[j]:updateSum}\n\n                            }\n                        }\n                    }\n                })\n            })\n\n            //console.log('newSum')\n            //console.log(newSum)\n\n\n            if(showSum){\n\n                setSumAmount(newSum)\n            }\n        }\n        \n        const temp=genRefAndValue({\n            template:formTemplate,\n            FData:formInputState\n            })\n\n        setRefAndValue({...temp})\n        \n        if(calculation){\n            if(calculate){\n                setFormInputState(calculation(formInputState))\n                setCalculate(false)\n            }\n        }\n       \n\n        console.log('formInputState....................')\n        console.log(formInputState)\n    \n    }\n    },[formInputState])\n  //===================================\n  //===================================\n  //===================================\n  //for tableForm\n  let [showTable,setShowTable]=React.useState({\n    width:1200,\n    gridCol:\"\"\n  })\n  \n\n  const [tableTemplate,setTableTemplate]=React.useState(detailTableTemplate)\n        //convertFormTemplateToTableTemplate(formTemplate,detailTableTemplate))\n  \n  React.useEffect(()=>{\n  //if(isSecond){\n\n    tableResize({tableTemplate,showTable,setShowTable})\n    \n  //}\n  },[tableTemplate])\n\n  const [selectRow,setSelectRow]=React.useState(null)\n\n  React.useEffect(()=>{\n    if(isSecond){\n        //console.log(`selectRow : ${selectRow}`)\n    }\n   },[selectRow])\n\n  //==============================\n  //==============================\n  //==============================\n  //image\n  // 1 = photoUrl1\n  // 2 = photoUrl1 , photoUrl2\n  \n  //---------------\n  //We limiet only 2 image which is photoUrl1,photoUrl2 perform\n  //image1\n  \n  const [showImage1,setShowImage1]=React.useState(true)\n  const [arrayFile1,setArrayFile1]=React.useState([])\n  const [fileUrl1,setFileUrl1]=React.useState([])\n\n  React.useEffect(()=>{\n  if(isSecond){\n    //console.log('useEffect ArrayFile1')\n\n    \n    if(keyName){\n        if(keyName[0]==\"photoUrl1\"){\n            changeArrayFile({ arrayFile:arrayFile1,\n                fileUrl:fileUrl1,\n                setFileUrl:setFileUrl1,\n                inputState:formInputState,\n                setInputState:setFormInputState,\n                keyName:keyName[0],\n                //fileName,\n                //serverFolder,\n                //fileName:\"file\",\n                //serverFolder:\"/upload/customer\",\n                setShowImage:setShowImage1})\n        }\n    }\n    \n  }\n  },[arrayFile1])\n  //----------------\n  //image1\n  const [showImage2,setShowImage2]=React.useState(true)\n  const [arrayFile2,setArrayFile2]=React.useState([])\n  const [fileUrl2,setFileUrl2]=React.useState([])\n\n\n  React.useEffect(()=>{\n  if(isSecond){\n    //console.log('useEffect ArrayFile2')\n\n    if(keyName){\n        if(keyName[1]==\"photoUrl2\"){\n            changeArrayFile({ arrayFile:arrayFile2,\n                fileUrl:fileUrl2,\n                setFileUrl:setFileUrl2,\n                inputState:formInputState,\n                setInputState:setFormInputState,\n                keyName:keyName[1],\n                //fileName,\n                //serverFolder,\n                //fileName:\"file\",\n                //serverFolder:\"/upload/customer\",\n                setShowImage:setShowImage2})\n        }\n    }\n\n   }\n  },[arrayFile2])\n\n//==============================  \nconst clearForm=()=>{\n    setFormInputState(blankData)\n}\n//==============================\n//==============================\n//Table\n//==============================\n//==============================\nconst [editData,setEditData]=React.useState(null)\n\nconst updateFilterData=(idx,inputState)=>{\n    console.log('updateFilterData')\n\n    let tempArray=[]\n\n    formInputState.detail.map((i,index)=>{\n        if(idx==index){\n            tempArray=[...tempArray,inputState]\n        }\n        else{\n            tempArray=[...tempArray,i]\n        }\n    })\n    \n    //console.log(tempArray)\n    setFormInputState({...formInputState,detail:tempArray})\n\n}\n//\nconst insertUp=()=>{\n    console.log('insertUp.......blankData')\n    console.log(blankData)\n\n    if(formInputState.detail){\n        if(editData){\n            let tempFilterDataData0=[]\n            //let tIdx=0\n            let tempEditData=null\n            formInputState.detail.map((i,idx)=>{\n                //console.log(\"xxx\")\n                if(editData._id==i._id){\n                    const temp={...blankData.detail[0],_id:uuid(),selectedLine:false,result:0} //empty line\n                    tempFilterDataData0=[...tempFilterDataData0,temp,i]\n                }\n                else{\n                    tempFilterDataData0=[...tempFilterDataData0,i]\n                }\n            })\n            setFormInputState({...formInputState,\n                detail:tempFilterDataData0,\n            })\n        }\n    }\n}\n//\nconst insertDown=()=>{\n    console.log('insertDown')\n\n     //console.log('insertDown')\n\n     if(formInputState.detail){\n        if(editData){\n            let tempFilterDataData0=[]\n            //let tIdx=0  \n            let tempEditData=null\n            formInputState.detail.map((i,idx)=>{\n                if(editData._id==i._id){\n\n                    const temp={...blankData.detail[0],_id:uuid(),selectedLine:false,result:0} //empty line\n                    tempFilterDataData0=[...tempFilterDataData0,i,temp]\n                    tempEditData=i\n                }\n                else{\n                    tempFilterDataData0=[...tempFilterDataData0,i]\n                }\n            })\n\n            \n            setFormInputState({...formInputState,\n                detail:tempFilterDataData0,\n            })\n            \n            //setFilterData({...filterData,data0:tempFilterDataData0,editData:tempEditData})\n        }\n    }\n\n}\n//\nconst selectAll=()=>{\n    console.log('selectAll')\n\n    if(formInputState.detail){\n        let tempArray=[]\n        formInputState.detail.map(i=>{\n            tempArray=[...tempArray,{...i,selectedLine:true}]\n            \n        })\n        setFormInputState({...formInputState,detail:tempArray})\n        setEditData(null)\n        //setFilterData({...filterData,data0:tempArray})\n    }\n}\n//\nconst unSelectAll=()=>{\n    console.log('unSelectAll')\n        //console.log(data0)        \n    if(formInputState.detail){\n        let tempArray=[]\n        //let idx=0\n        formInputState.detail.map(i=>{\n          \n            tempArray=[...tempArray,{...i,selectedLine:false}]\n            //tempArray=[...tempArray,{...i,tempIndex:idx,selectedLine:false}]\n            //idx=idx+1\n           \n        })\n        \n        setFormInputState({...formInputState,detail:tempArray})\n        setEditData(null)\n    }\n}\n//\nconst deleteLine=()=>{\n    console.log('deleteLine')\n\n    //console.log(data0)        \n    if(formInputState.detail){\n        let tempArray=[]\n        //let idx=0\n        formInputState.detail.map(i=>{\n            if(!i.selectedLine){\n                tempArray=[...tempArray,{...i,selectedLine:false}]\n                //tempArray=[...tempArray,{...i,tempIndex:idx,selectedLine:false}]\n                //idx=idx+1\n            }\n        })\n        \n        setFormInputState({...formInputState,detail:tempArray})\n        setEditData(null)\n    }\n\n}\n//\nconst getSelectAll=()=>{\n    console.log('getSelectAll')\n\n    if(formInputState.detail){\n        let tempNewSelectAll=[]\n\n        if(selectProduct){\n            selectProduct.map(i=>{\n                if(i.selectedLine){\n                    tempNewSelectAll=[...tempNewSelectAll,{...i,quantity:0,result:0}\n                    ]\n                }\n            })\n        \n            //console.log(tempNewSelectAll)\n            setFormInputState({...formInputState,\n                detail:[...formInputState.detail,...tempNewSelectAll]\n            })\n            //console.log('getSelectAll')\n            //console.log(myFilterData)\n        }\n\n    }\n}\n//\nconst moveSelectedDown=()=>{\n    console.log('moveSelectedDown')\n\n    if(formInputState.detail) {\n        let beforeEditData=true\n        let beforeArray = []\n        let afterArray = []\n        let selectedArray = []\n\n        formInputState.detail.map(i=>{\n            //1,2 beforeArray\n            //5 editData\n            //3,4,7,8 selectedArray\n            //6,9,10 afterArray\n\n            if(editData._id==i._id){\n                beforeEditData=false\n            }\n            else if( (i.selectedLine==false)&&(beforeEditData==true) ){\n                beforeArray=[...beforeArray,i]\n            }\n            else if( (i.selectedLine==false)&&(beforeEditData==false) ){\n                afterArray=[...afterArray,i]\n            } \n            else {\n                selectedArray=[...selectedArray,i]\n            }\n        })\n        const tempArray=[...beforeArray,editData,...selectedArray,...afterArray]\n        \n        setFormInputState({...formInputState,detail:tempArray})\n    }\n\n}\n//\nconst moveSelectedUp=()=>{\n    console.log('moveSelectedUp')\n\n    //console.log(editData)\n    //console.log(formInputState.detail)\n\n\n    if(formInputState.detail){\n\n        let beforeEditData=true\n        let beforeArray = []\n        let afterArray = []\n        let selectedArray = []\n\n        formInputState.detail.map(i=>{\n            //1,2 beforeArray\n            //5 editData\n            //3,4,7,8 selectedArray\n            //6,9,10 afterArray\n\n            if(editData._id==i._id){\n                beforeEditData=false\n            }\n            else if( (i.selectedLine==false)&&(beforeEditData==true) ){\n                beforeArray=[...beforeArray,i]\n            }\n            else if( (i.selectedLine==false)&&(beforeEditData==false) ){\n                afterArray=[...afterArray,i]\n            } \n            else {\n                selectedArray=[...selectedArray,i]\n            }\n        })\n        const tempArray=[...beforeArray,...selectedArray,editData,...afterArray]\n        \n        setFormInputState({...formInputState,detail:tempArray})\n\n    }\n}\n// id\nconst findProductIdByKeyDown=()=>{\n    console.log('findProductIdByKeyDown')\n}\n// Barcode\nconst findBarcodeByKeyDown=()=>{\n    console.log('findBarcodeByKeyDown')\n}\n\n\n\n\n\n\n\n\n\n\n\n\n//====================\n//console.log('ModalForm')\n//====================\nconst renderFooter=()=>{\n    return(\n    <div style={{display:\"flex\",position:\"fixed\",bottom:\"1rem\",right:\"2rem\",zIndex:\"100\"}}\n    >\n        <div>\n            <button\n                ref={refSubmitForm}\n                onKeyDown={e=>{\n                    if(e.key==\"ArrowRight\"){\n                        refCancelForm.current.focus()\n                    }\n                }}\n                onClick={e=>{\n                    if(submitFunction){\n                        submitFunction(formInputState)\n                    }\n                }}\n            >Confirm</button>\n        </div>\n        {/*        \n        <div>\n            <button\n                ref={refClearForm}\n                onKeyDown={e=>{\n                    if(e.key==\"ArrowRight\"){\n                        refCancelForm.current.focus()\n                    }\n                    if(e.key==\"ArrowLeft\"){\n                        refSubmitForm.current.focus()\n                    }\n                }}\n                onClick={e=>{\n                    clearForm();\n                }}\n\n            >\n                \n            </button>\n        </div>\n        */}\n        \n        <div>\n            <button\n                ref={refCancelForm}\n                onKeyDown={e=>{\n                    if(e.key==\"ArrowLeft\"){\n                        refCancelForm.current.focus()\n                    }\n                }}\n                onClick={e=>{\n                    //if(submitCancel){\n                    //    submitCancel()\n                    //}\n                    clearForm()\n                    setShow(false)\n                }}\n            >Cancel</button>\n        </div>\n\n    </div>\n    )\n}\n\nreturn (\n    <div className=\"Modal-background\">\n        <div className=\"Modal-box\" style={{paddingBottom:\"7rem\"}}>\n            <div className=\"Modal-header\">\n\n                <div>\n                    <h1>{lb}</h1>\n                </div>\n                {renderFooter()}\n            </div>\n            <div className=\"Modal-body\" >\n                <div className=\"ModalInsideBody\">\n                {\n                 renderForm({\n                    cName:\"form-row flex-justify-start flex-align-stretch bd-green\",\n                    template:formTemplate,\n                    ref1:refSubmitForm,\n                    iconAction,\n                    refAndValue, //origin dont have ModalRefAndValue\n                    setRefAndValue, //Origin dont have ModalRefAndValue\n                    loadData:formInputState,\n                    setLoadData:setFormInputState,\n                    selectData,\n                    //basicData:basicData,\n                    blankData,\n                    refAndValueBlankData,\n                    hidePassword,setHidePassword,\n\n                    tableTemplate,setTableTemplate,\n                    showTable,setShowTable,\n                    selectRow,setSelectRow,\n                    setCalculate,\n                    sumAmount,\n                    selectGroup,\n                    selectProduct,\n                    updateFilterData,\n                    editData,setEditData,\n\n                    updateFilterData,\n                    insertUp,\n                    insertDown,\n                    selectAll,\n                    unSelectAll,\n                    deleteLine,\n                    getSelectAll,\n                    moveSelectedDown,moveSelectedUp,\n                    findProductIdByKeyDown,\n                    findBarcodeByKeyDown,\n                    calDigit:100,\n                    pageDataModalForm,\n                    dataUrl,myheader\n                 })\n                 \n                }\n                </div>\n            </div>\n\n            {\n            keyName\n            ?<div className=\"xc12 form-row h-100\"\n                  style={{justifyContent:\"space-around\"}}>\n                    {  \n                    keyName[0]==\"photoUrl1\"\n                    ?<div className=\"xc4 sc10 bgc-darkGray bd-lightGray h-100\">\n                        {\n                        showImage1\n                        ?<GallerySinglePhoto_add \n                            fileUrl={fileUrl1}\n                            arrayFile={arrayFile1}\n                            setArrayFile={setArrayFile1}\n                            keyName={keyName[0]}\n\n                            setShowImage={setShowImage1}\n                            inputState={formInputState}\n                            setInputState={setFormInputState}\n                        />\n                        :null\n                        }   \n                    </div>    \n                    :null\n                    }\n                    {\n                    keyName[1]==\"photoUrl2\"\n                    ?<div className=\"xc4 sc10 bgc-darkGray bd-lightGray h-100\">\n                        {\n                        showImage2\n                        ?<GallerySinglePhoto_add \n                            fileUrl={fileUrl2}\n                            arrayFile={arrayFile2}\n                            setArrayFile={setArrayFile2}\n                            keyName={keyName[1]}\n\n                            setShowImage={setShowImage2}\n                            inputState={formInputState}\n                            setInputState={setFormInputState}\n                        />\n                        :null\n                        }   \n                    </div>    \n                    :null\n                    }\n            </div>\n            :null\n            }\n        </div>\n    </div>\n  );\n}\n\n\nModalForm.defaultProps={\n    lb:\"Form\",\n    formTemplate:{},\n    stateTemplate:{},\n    selectData:{},\n\n    iconAction:null,\n    iconActionData:{},\n    iconActionDataDetail:{},\n    loadData:null,\n    keyName:null,\n    setShow:()=>{},\n\n    calculation:null,\n    detailTableTemplate:null,\n\n    submitFunction:null,\n    //submitCancel:null,\n    selectGroup:null,\n    selectProduct:[],\n    modalFormTemplate:{\n       insertUp:\"Insert Up\",\n       insertDown:\"Insert Down\",\n       selectAll:\"Select All\",\n       unSelectAll:\"Unselect All\",\n       moveUp:\"Move Up\",\n       moveDown:\"Move Down\",\n       delete:\"Delete\",\n       import:\"Import\",\n       selectImage:\"Select Image\",\n    }\n}\n\n\nexport default ModalForm;\n","import React from 'react';\nimport axios from 'axios';\n\nimport testTemplate from './testTemplate'\n//===============================\n//import renderModalError from './render/renderModalError'\nimport ModalConfirm from '../ModalConfirm'\nimport Tree from './Tree'\nimport treeUtil from './treeUtil'\nimport {MainContext} from '../../context/MainContext';\nimport axiosUtil from '../../util/axiosUtil'\nimport renderModalError from '../renderModalError'\nimport StateTemplate from '../../model/StateTemplate'\nimport FormTemplate from '../renderForm/FormTemplate'\nimport ModalForm from '../renderForm/ModalForm'\n\n\nconst {genArrayForFilterAxios,genFD,addFileNameInPhotoUrl,catchErrorToMessage}=axiosUtil\n\nconst {convertToObject,createGroupTree,findAllChildrenId,findAllChildrenByGroupTree,\n       openAllParentId} = treeUtil\n\nconst {groupState,testData}=testTemplate\n\nfunction NewGroupComponent(props) {\n  const {groupDataUrl,canGroupChange,\n         selectData,setSelectGroup,\n         filterDataByGroup,editData,\n         groupFormTemplate,\n         groupEditFormTemplate,\n         groupAddFormTitle,\n         groupEditFormTitle\n\n        }=props\n\nconsole.log('NewGroupComponent')\n\nconst {myheader}=React.useContext(MainContext)\n\nconst [groupSt,setGroupSt]=React.useState({\n    reloadGroup:true,\n    groupTree:null,\n    openArray:[1],\n    tempObj:null,\n    mainGroup:null,\n    lastRecordGroup:{id:0},\n    showError:false,\n    message:null,\n    showAdd:false,\n    showEdit:false,\n    showConfirm:false,\n    allDeleteId:[]\n})\n\nconst [editGroup,setEditGroup]=React.useState(null)          \n//const [editData,setEditData]=React.useState(null)\n\n\n//=====================================================\n\nconst changeKeyInData=({data,id,key,value,openArray})=>{\n  console.log('changeKeyInData')\n\n  let tempArray=[]\n  if(value==false){\n    openArray.map((i,idx)=>{\n      if(i!=id){\n        tempArray=[...tempArray,i]\n      }\n    })\n  }\n\n  if(value==true){\n    tempArray=[...openArray,id]\n  }\n\n  //tempArray=[...tempArray,id]\n\n  let tempData=[]\n  if(data){\n    data.map(i=>{\n        if (i.id==id){\n            tempData=[...tempData,{...i,[key]:value}]\n        }else{\n            tempData=[...tempData,i]\n        }\n    })\n  //setData([...tempData])\n  }\n  //console.log('000df0df')\n  return {groupTree:tempData,openArray:tempArray}\n}   \n\n\nconst reloadAxiosGroup=({mainGroup,openArray})=>{\n  console.log('reloadAxios')\n  //1: initial load\n  //default, load for id=1, parentID =1 \n  let qry={$or:[{parentId:1},{id:1}]}\n\n  //2: load after select mainGroup\n  //if mainGroup is selected, load for mainGroup as well\n  if(mainGroup>0){\n    qry={$or:[{parentId:1},{id:1},{mainGroup}]}\n  }\n  \n  //3. load for addGroup\n  //default, tempOpenArray=[1]\n  //if mainGroup is selected,openArry has mainGroup as well \n  let tempOpenArray = [1]\n  if(mainGroup>1){\n    tempOpenArray=[1,mainGroup]\n  }\n  \n  //if there is openArray,use openArray instead \n  // for delete,add and update\n  if(openArray){\n    tempOpenArray=openArray\n  }\n\n  if(groupDataUrl){\n      axios.post(`/${groupDataUrl}/getcustom`,qry,myheader)\n      .then(result=>{\n          //console.log('....result.......')\n          //console.log(result.data.data)\n          const temp= createGroupTree({group:result.data.data,openArrayIn:tempOpenArray})\n          const groupTree=temp.groupTree\n          const openArray=temp.openArray\n\n          const temp35=convertToObject(groupTree,groupState)\n          //console.log(temp35)\n          //setReloadGroup(false)\n          let tempSt = { ...groupSt,\n            groupTree: groupTree,\n            openArray: openArray,\n            tempObj:convertToObject(groupTree,groupState),\n            lastRecordGroup: {id:result.data.lastRecordId},\n            reloadGroup:false,\n            showAdd:false,\n            showEdit:false,\n            showConfirm:false,\n            mainGroup\n          }\n\n          setGroupSt(tempSt)\n      })\n      .catch(error=>{\n          catchErrorToMessage(error,(value)=>{setGroupSt({...groupSt,message:value})})\n          //setMessage(error.response.data.message)\n          const tempSt={...groupSt,\n            reloadGroup:false,\n            showError:true\n          }\n          console.log(tempSt)\n          //setGroupSt(tempSt)\n          //setReloadGroup(false)\n      })\n  } \n}\n//=================================\nconst deleteAxiosGroup=(id,parentId,allDeleteId)=>{\n  \n  const qry = {id,parentId,allDeleteId}\n\n  if(groupDataUrl){\n    axios.post(`/${groupDataUrl}/deletegroup`,qry,myheader)\n    .then(result=>{ \n      reloadAxiosGroup({mainGroup:groupSt.mainGroup,openArray:groupSt.openArray})\n    } )\n    .catch(error=>{\n      catchErrorToMessage(error,(value)=>{setGroupSt({...groupSt,message:value})})\n    })\n  }\n}\n\nconst addAxiosGroup = (formInputState)=>{\n  let qry = formInputState\n\n  console.log('formInputState')\n  console.log(formInputState)\n\n  if(formInputState.parentId==1){\n    qry.mainGroup=qry.id\n  }\n\n  // id,groupName,\n  //parentId,mainGroup,parentGroup\n  //children\n  if(groupDataUrl){\n    axios.post(`/${groupDataUrl}/addgroup`,qry,myheader)\n    .then(result=>{ \n      reloadAxiosGroup({mainGroup:groupSt.mainGroup,openArray:groupSt.openArray})\n    } )\n    .catch(error=>{\n      showErrorModal()\n    })\n  }\n}\n//=================================\nconst folderOpenFunc=(i)=>{\n  if(i.id>1){\n    const {groupTree}=groupSt\n    const temp = changeKeyInData({data:groupTree,id:i.id,key:\"open\",value:false,\n                                  openArray:groupSt.openArray})\n    const temp2 = convertToObject(temp.groupTree,groupState)\n    const tempSt={...groupSt,tempObj:temp2,groupTree:temp.groupTree,openArray:temp.openArray}\n    setGroupSt(tempSt)\n  }\n}\n\nconst folderClosePlusFunc=(i)=>{\n  if(i.parentId!=1){\n    const {groupTree}=groupSt\n    const temp = changeKeyInData({data:groupTree,id:i.id,key:\"open\",value:true,\n                                  openArray:groupSt.openArray})\n    const temp2 = convertToObject(temp.groupTree,groupState)\n    const tempSt={...groupSt,tempObj:temp2,groupTree:temp.groupTree,openArray:temp.openArray}\n    setGroupSt(tempSt)\n  }\n  else {\n    reloadAxiosGroup({mainGroup:i.id,openArray:null})\n  } \n}\nconst folderCloseFunc=(i)=>{\n  if(i.parentId!=1){\n    const {groupTree}=groupSt\n    const temp = changeKeyInData({data:groupTree,id:i.id,key:\"open\",value:true,\n                                 openArray:groupSt.openArray})\n    const temp2 = convertToObject(temp.groupTree,groupState)\n    const tempSt={...groupSt,tempObj:temp2,groupTree:temp.groupTree,openArray:temp.openArray}\n    setGroupSt(tempSt)\n  }\n  else {\n    reloadAxiosGroup({mainGroup:i.id,openArray:null})\n  } \n}\n\nconst pOpenFunc=(i)=>{\n  console.log(`filterGroup : ${i.id}`)\n  filterDataByGroup(i)\n  //filterDataByGroup(i.id)\n  \n  if(i.parentId==1){\n    const {folders,...remaining}=i\n    //setSelectGroup(remaining)\n    setEditGroup(remaining)\n    reloadAxiosGroup({mainGroup:i.id,openArray:null})\n  }\n  else {\n    const {folders,...remaining}=i\n    //setSelectGroup(remaining)\n    setEditGroup(remaining)\n  }\n\n}\n\nconst pCloseFunc=(i)=>{\n  console.log(`filterGroup : ${i.id}`)\n  filterDataByGroup(i)\n  //filterDataByGroup(i.id)\n\n\n  if(i.parentId==1){\n    const {folders,...remaining}=i\n    //setSelectGroup(remaining)\n    setEditGroup(remaining)\n    reloadAxiosGroup({mainGroup:i.id,openArray:null})\n\n  }\n  else{\n    const {folders,...remaining}=i\n    //setSelectGroup(remaining)\n    setEditGroup(remaining)\n  }\n\n}\n\nconst setEditGroupFunc=(i)=>{\n  const {folders,...remaining}=i\n  setEditGroup(remaining)\n  setSelectGroup(remaining)\n}\n\nconst hideConfirmModal=()=>{\n  const temp = {...groupSt,showConfirm:false}\n  setGroupSt(temp)\n}\n\nconst hideErrorModal=()=>{\n  const temp = {...groupSt,showError:false}\n  setGroupSt(temp)\n}\n\nconst hideEditModal=()=>{\n    const temp={...groupSt,showEdit:false}\n    setGroupSt(temp)\n}\n\nconst hideAddModal=()=>{\n  const temp={...groupSt,showAdd:false}\n  setGroupSt(temp)\n}\n\nconst showErrorModal=()=>{\n    const temp = {...groupSt,showError:true}\n    setGroupSt(temp)\n}\n\nconst showDelModal=()=>{\n  //if(editGroup.mainGroup==groupSt.mainGroup){\n    const temp = {...groupSt,showConfirm:true}\n    setGroupSt(temp)\n  //}\n}\n\nconst showAddModal=()=>{\n  const temp = {...groupSt,showAdd:true}\n  setGroupSt(temp)\n}\n\nconst showEditModal=()=>{\n  const temp = {...groupSt,showEdit:true}\n  setGroupSt(temp)\n}\n\nconst delFunc=()=>{\n  console.log('delFunc')\n  const temp=findAllChildrenByGroupTree(editGroup.id,groupSt.groupTree)\n  const id=editGroup.id\n  const parentId=editGroup.parentId\n  const allDeleteId=temp.allDeleteId\n  deleteAxiosGroup(id,parentId,allDeleteId)\n}\n\nconst addFunc=(formInputState)=>{\n  console.log('addFunc')\n  addAxiosGroup(formInputState)\n}\n\n\nconst editFunc=(formInputState)=>{\n  let {id,newId,parentId,newParentId,mainGroup,parentGroup} = formInputState\n  // \n  newId = parseInt(newId)\n  newParentId = parseInt(newParentId) \n  // formInputStte  number \n  let newFormInputState = {...formInputState,newId,parentId}\n\n  //if(newId<=1){ error  }\n\n  //4................................\n  if( (newId!=id)&&(newId>1) ){\n    let newMainGroup=null\n    if(parentId==1){ newMainGroup=newId } else{ newMainGroup=mainGroup }\n    newFormInputState={...newFormInputState,newMainGroup}\n    \n    const temp=findAllChildrenByGroupTree(id,groupSt.groupTree)\n    const allChildrenId=temp.allDeleteId\n    let tempAllChilden=temp.allDeleteObject\n\n    let newAllChildren = []\n\n    tempAllChilden.map((i,idx)=>{\n      if(idx>0){  //\n        let temp=[]  // parentGroup   \n        i.parentGroup.map(j=>{\n          if(j==id){\n            temp=[...temp,newId]\n          }\n          else{\n            temp=[...temp,j]\n          }\n        })\n        const newParentIdOfChildren=temp[temp.length-1]\n        const newI={...i,\n          mainGroup:newMainGroup,\n          parentId:newParentIdOfChildren,\n          parentGroup:temp\n        }\n        newAllChildren=[...newAllChildren,newI]\n      }\n    }) \n  \n    let parentObject\n    groupSt.groupTree.map(i=>{\n      if(i.id==parentId){\n        const {_id,v,...remaining}=i\n        parentObject=remaining\n      }\n    })  \n\n    let tempParentNewChildren=[]\n    parentObject.children.map(i=>{\n      if(i==id){\n        tempParentNewChildren=[...tempParentNewChildren,newId]\n      }\n      else{\n        tempParentNewChildren=[...tempParentNewChildren,i]\n      }\n    })\n    parentObject={...parentObject,children:tempParentNewChildren}\n\n    const tempFormInputState={...newFormInputState,id:newId,mainGroup:newMainGroup}\n\n    const tempForIdChange = {\n      ...newFormInputState,\n        deleteMany:[parentObject.id,...allChildrenId],\n        create:[parentObject,tempFormInputState,...newAllChildren]\n      \n    }\n   \n    axios.post(`/${groupDataUrl}/updategroup`,tempForIdChange,myheader)\n    .then(result=>{ \n      reloadAxiosGroup({mainGroup:groupSt.mainGroup,openArray:groupSt.openArray})\n    } )\n    .catch(error=>{\n      showErrorModal()\n    })\n  }\n  else if( (parentId!=newParentId) && (newParentId>0) ){\n    const temp=findAllChildrenByGroupTree(id,groupSt.groupTree)\n    const allChildrenId=temp.allDeleteId\n    let tempAllChilden=temp.allDeleteObject\n\n    let parentObject\n    groupSt.groupTree.map(i=>{\n      if(i.id==parentId){\n        const {_id,v,...remaining}=i\n        parentObject=remaining\n      }\n    }) \n\n    const tempForParentIdChange = {\n        ...newFormInputState,\n        parentObject,\n        allChildrenId,\n        tempAllChilden\n    }\n\n    axios.post(`/${groupDataUrl}/updategroup`,tempForParentIdChange,myheader)\n    .then(result=>{ \n      reloadAxiosGroup({mainGroup:groupSt.mainGroup,openArray:groupSt.openArray})\n    } )\n    .catch(error=>{\n      showErrorModal()\n    })\n\n  }\n  else {\n    axios.post(`/${groupDataUrl}/updategroup`,newFormInputState,myheader)\n    .then(result=>{ \n      reloadAxiosGroup({mainGroup:groupSt.mainGroup,openArray:groupSt.openArray})\n    } )\n    .catch(error=>{\n      showErrorModal()\n    })\n  }\n\n}\n\n\nconst refreshFunc=()=>{\n  reloadAxiosGroup({mainGroup:null,openArray:null})\n}\n\nconst zoomFunc=()=>{\n  console.log('zoomFunc')\n\n  if(editData){\n    const qry={id:editData.groupId}\n    axios.post(`/${groupDataUrl}/getcustom`,qry,myheader)\n    .then(result=>{\n        const temp=result.data.data[0]\n        reloadAxiosGroup({mainGroup:temp.mainGroup,openArray:temp.parentGroup})\n    })\n    .catch(error=>{\n        catchErrorToMessage(error,(value)=>{setGroupSt({...groupSt,message:value})})\n    })\n\n  }\n  //reloadAxiosGroup(selectData)\n}\n//==================================\nReact.useEffect(()=>{\n  if(groupSt.reloadGroup){\n    reloadAxiosGroup({mainGroup:null,openArray:null})\n  }\n},[groupSt])\n\n//=================================\n\n//=================================\nreturn(\n<div className=\"bgc-lightGray\" \n     style={{height:\"100%\"}}>\n\n  <Tree\n      tempObj={groupSt.tempObj}\n      canGroupChange={canGroupChange}\n      selectGroupObjectId={editGroup?editGroup.id:null}\n\n      folderOpenFunc={folderOpenFunc}\n      folderClosePlusFunc={folderClosePlusFunc}\n      folderCloseFunc={folderCloseFunc}\n      pOpenFunc={pOpenFunc}\n      pCloseFunc={pCloseFunc}\n      delFunc={showDelModal}\n      addFunc={showAddModal}\n      editFunc={showEditModal}\n      refreshFunc={refreshFunc}\n      zoomFunc={zoomFunc}\n      setEditGroupFunc={setEditGroupFunc}\n  />\n\n  {\n      groupSt.showConfirm\n      ?<ModalConfirm\n        setShow={hideConfirmModal}\n        submitFunction={delFunc}\n      />\n      :null\n  }\n  { \n      groupSt.showAdd\n      ?<ModalForm\n          lb={groupAddFormTitle}\n          formTemplate={groupFormTemplate}\n          stateTemplate={StateTemplate.groupState}\n          loadData={{\n            id:groupSt.lastRecordGroup.id+1,\n            parentId:editGroup.id,\n            mainGroup:editGroup.mainGroup,\n            parentGroup:[...editGroup.parentGroup,editGroup.id]\n          }}\n          submitFunction={addFunc}\n          setShow={hideAddModal}\n          selectData={selectData}\n        />\n      :null\n  }\n  { \n      groupSt.showEdit\n      ?<ModalForm\n          lb={groupEditFormTitle}\n          formTemplate={groupEditFormTemplate}\n          stateTemplate={StateTemplate.groupState}\n          loadData={{...editGroup,newId:editGroup.id,newParentId:editGroup.parentId}}\n          submitFunction={editFunc}\n          setShow={hideEditModal}\n          selectData={selectData}\n        />\n      :null\n  }\n  { \n    groupSt.showError \n    ?renderModalError({\n      setShow:hideErrorModal,\n      message:groupSt.message,\n      setMessage:()=>{}\n    })\n    :null\n\n  }\n\n</div>\n)\n}\n\nNewGroupComponent.defaultProps={\n  groupAddFormTitle:\"Add Group\",\n  groupEditFormTitle:\"Edit Group\"\n}\n\nexport default NewGroupComponent;\n","import React from 'react';\nimport {FaCheck,FaBan} from 'react-icons/fa';\n\nconst renderCustomerConfirm=({\n   filterData,\n   setFilterData,\n   basicData,\n   customerConfirmForm,\n   submitFunc,\n   cancelFunc\n})=>{\n   /*\n   const customerConfirmForm={\n       formHead:\"\",\n       partnerId:\"Partner ID\",\n       title:\"Title\",\n       name:\"Name\",\n       partnerType:\"Customer Type\",\n       phone:\"Phone\",\n       address:\"Address\"\n   }\n   */\n\n\n   //console.log('filterData')\n   //console.log(filterData)\n\n   const handleChange=(e,i)=>{\n       const tempObj={\n           ...filterData.customerConfirm,\n           [i]:e.target.value\n       }\n       setFilterData({...filterData,customerConfirm:tempObj})\n   }\n\n   const handleChangePhone=(e,i,idx2)=>{\n       let tempArray=[]\n       filterData.customerConfirm[i].map((k,idx3)=>{\n           if(idx2==idx3){\n               tempArray=[...tempArray,e.target.value]\n           }\n           else {\n               tempArray=[...tempArray,k]\n           }\n       })\n       const tempObj={\n           ...filterData.customerConfirm,\n           [i]:tempArray\n       }\n       setFilterData({...filterData,customerConfirm:tempObj})\n\n   }\n\n   const handleChangeAddress=(e,i)=>{\n      const tempObj={...filterData.customerConfirm,[\"selectedAddress\"]:e.target.value}\n       setFilterData({...filterData,customerConfirm:tempObj})\n   }\n\n   const renderBody=(i,idx)=>{\n       if(i.formHead){\n           return null\n       }\n       else if((i==\"partnerId\")||(i==\"name\")){\n           return (\n               <div className=\"flex-center-center jc-start w-100\" \n                  key={idx}>\n                   <div className=\"xc4\">\n                       {customerConfirmForm[i]}\n                   </div>\n                   <div className=\"xc8\">\n                       <input\n                           value={filterData.customerConfirm[i]}\n                           onChange={e=> handleChange(e,i)}\n                       />\n                   </div>\n               </div>\n           )\n       }\n       else if( (i==\"title\")||(i==\"partnerType\") ){\n           return(\n               <div className=\"flex-center-center jc-start w-100\" \n                    key={idx}>\n                   <div className=\"xc4\">\n                       {customerConfirmForm[i]}\n                   </div>\n                   <div className=\"xc8\">\n                       <select\n                           onChange={e=>{\n                               handleChange(e,i)\n                           }}\n                       >\n                           {\n                           basicData[i].map((j,idx2)=>(\n                               <option key={idx2} \n                                    selected={filterData.customerConfirm[i]==j?\"selected\":\"\"}>\n                                        {j}\n                               </option>\n                           ))\n                           }\n                       </select>\n\n                   </div>\n               </div>\n           )\n       }\n       else if(i==\"phone\"){\n           return( filterData.customerConfirm[i].map((j,idx2)=>(\n           <div className=\"flex-center-center jc-start w-100\" \n                style={{margin:\"0.2rem 0\"}}\n                key={idx2}>\n               <div className=\"xc4\">\n                   {idx2==0?customerConfirmForm[i]:null}\n               </div>\n               <div className=\"xc8\">\n                   <input\n                       value={j}\n                       onChange={e=>{\n                           handleChangePhone(e,i,idx2)\n                       }}\n                   />\n               </div>\n           </div>\n           ))\n          \n           )\n       }\n       else if(i==\"address\"){\n           return(\n                   <div className=\"flex-center-center jc-start w-100\" \n                        key={idx}>\n                       <div className=\"xc4\">\n                           {customerConfirmForm[i]}\n                       </div>\n                       <div className=\"xc8\">\n                           <select\n                               onChange={e=>{\n                                   handleChangeAddress(e,i)\n                               }}\n                           >\n                               {\n                               filterData.customerConfirm[i].map((j,idx2)=>(\n                                   <option key={idx2} \n                                       selected={idx2==0?\"selected\":\"\"}>\n                                           {j}\n                                   </option>\n                               ))\n                               }\n                           </select>\n\n                       </div>\n                   </div>\n           )\n       }\n   }\n  \n   return(\n   <div className=\"Modal-background\">\n       <div className=\"Modal-box\">\n           <div className=\"Modal-header\">\n               <h4>{customerConfirmForm.formHead}</h4>\n           </div>\n\n           <div className=\"w-100\"\n                style={{marginBottom:\"1rem\"}}\n           >\n               {Object.keys(customerConfirmForm).map((i,idx)=>{\n                   return(\n                       <div key={idx} style={{\n                           margin:\"0.2rem 0\"\n                       }}>\n                        {renderBody(i,idx)}\n                        </div>\n                   )\n               }\n               )\n               }\n\n           </div>\n           <div className=\"Modal-footer\">\n               <div>\n                   <button\n                       onClick={e=>{\n                           submitFunc()\n                           //submitFunction()\n                       }}\n                    \n                   >\n                       <FaCheck/>\n                   </button>\n               </div>\n               <div>\n                   <button\n                       onClick={e=>{\n                          cancelFunc()\n                       }}\n                   >\n                       <FaBan/>\n                   </button>\n               </div>\n\n           </div>\n\n       </div>\n   </div>\n   )\n}\n\nexport default renderCustomerConfirm","import React from 'react';\nimport {FaCheck,FaBan} from 'react-icons/fa';\n\nconst renderTransactionConfirm=({\n   editTransaction,\n   submitFunc,\n   cancelFunc,\n   pageData,\n   changeIncludeTransactionHead,\n   includeTransactionHead\n})=>{\n   \n   const {transactionType,id,transactionStatus,\n          //branchId,branchName,\n          date,table,\n         tableStatus,partnerId,title,name,phone,address\n   }=editTransaction\n\n   const {transactionConfirmForm}=pageData\n   /*\n   const transactionConfirmForm={\n       formHead:\"\",\n       id:\"ID\",\n       date:\"Date\",  \n       table:\"Table\",\n       partnerId:\"Customer ID\",\n       phone:\"Phone\",\n       address:\"Address\"\n   }*/\n\n   const findDateTime=(date)=>{\n    const date1=new Date(date).toISOString()\n    const date2=new Date(date1).toLocaleString('fr-ca')\n    const date3=new Date(date1).toLocaleString('en-GB')\n\n      const tempDate= date2.substring(0,10)\n      const tempTime=date3.substring(12,17)\n      return {date:tempDate,time:tempTime}\n   }\n\n   const genArrayToString=(array)=>{\n      const genSeparator=(str)=>{\n         const tempArray=Array.from(str)\n         let tempString=''\n         tempArray.map((i,idx)=>{\n               if((idx==3)||(idx==6)){\n                  tempString=`${tempString} ${i}`\n               }\n               else {\n                  tempString=`${tempString}${i}`\n               }\n         })\n         return tempString\n      }\n\n      let temp=''\n      array.map((i,idx)=>{\n\n         if(idx==array.length-1){\n               temp=`${temp}${genSeparator(i)}`\n         }\n         else{\n               temp=`${temp}${genSeparator(i)},`\n         }\n      })\n      return temp\n   }\n   //<div>{`${transactionConfirmForm.branch}:${branchId}.${branchName}`}</div>\n\n   const renderBody=()=>{\n      return(\n      <div className=\"h-100 w-100\">\n            <div>{`${transactionType} ${transactionConfirmForm.id}: ${id} (${transactionStatus})`}</div>\n                <div>{`${transactionConfirmForm.date}: ${findDateTime(date).date} ,${findDateTime(date).time}`}</div>\n            <div>{`${transactionConfirmForm.table}: ${table}(${tableStatus})`}</div>\n\n            <div>{`${transactionConfirmForm.partnerId}:${partnerId}, ${title} ${name}`}</div>\n                <div>{`${transactionConfirmForm.phone}: ${genArrayToString(phone)}`}</div>\n            <div>{`${transactionConfirmForm.address}: ${address}`}</div>\n\n            <div className=\"flex-center-center jc-start\">\n                <div className=\"xc1\">\n                    <input type=\"checkbox\" \n                        checked={includeTransactionHead}\n                        onChange={e=>changeIncludeTransactionHead(e.target.checked)}\n                    />\n                </div>\n                \n                <div>{transactionConfirmForm.includeTransactionHead}</div>\n            </div>\n      </div>\n\n\n      )\n   }\n\n  \n   return(\n   <div className=\"Modal-background\">\n       <div className=\"Modal-box\" style={{width:\"70%\"}}>\n           <div className=\"Modal-header\">\n               <h4>{transactionConfirmForm.formHead}</h4>\n           </div>\n\n           <div className=\"w-100\">\n               {renderBody()}\n           </div>\n           <div className=\"Modal-footer\">\n               <div>\n                   <button\n                       onClick={e=>{\n                           submitFunc()\n                           //submitFunction()\n                       }}\n                    \n                   >\n                       <FaCheck/>\n                    </button>\n               </div>\n               <div>\n                   <button\n                       onClick={e=>{\n                          cancelFunc()\n                       }}\n                   >\n                       <FaBan/>\n                   </button>\n               </div>\n\n           </div>\n\n       </div>\n   </div>\n   )\n}\n\nexport default renderTransactionConfirm","const productInputState=\n{\n    id:     {toCheck:false,min:0,max:0},\n    barcode:{toCheck:false,value:\"\"},\n    productName:   {toCheck:false,value:\"\"},///\n    //groupId:{toCheck:false,min:0,max:0},\n    //groupName:{toCheck:false,value:\"\"},\n    //unit:   {toCheck:false,value:\"\"},\n    price:  {toCheck:false,min:0,max:0},///\n    stock:{toCheck:false,min:0,max:0},///\n    //order:{toCheck:false,min:0,max:0},\n    //plan:{toCheck:false,min:0,max:0},\n    active:{toCheck:true,value:true},///\n    isRawMat:{toCheck:false,value:false},///\n    remark: {toCheck:false,value:\"\"},///\n}\n\n\nconst partnerInputState={\n    id:{toCheck:false,min:0,max:0},\n    title:{toCheck:false,value:\"\"},\n    name:{toCheck:false,value:\"\"},\n    phone:{toCheck:false,value:\"\"},\n    active:{toCheck:true,value:true},\n    remainingCustomerPoint:{toCheck:false,min:0,max:0},\n    totalSpending:{toCheck:false,min:0,max:0},\n    //partnerType:{toCheck:false,value:\"\"},\n    remark:{toCheck:false,value:\"\"},\n    //address_number:{toCheck:false,value:\"\"},\n    //address_tambon:{toCheck:false,value:\"\"},\n    //address_district:{toCheck:false,value:\"\"},\n    //address_province:{toCheck:false,value:\"\"},\n    //address_postcode:{toCheck:false,value:\"\"},\n  }\n\n\nconst transactionInputState={\n  id:{toCheck:false,min:0,max:0},///\n  date:{toCheck:false,min:new Date().toISOString(),max:new Date().toISOString()},///\n  \n  //remindDate:{toCheck:false,min:new Date().toISOString(),max:new Date().toISOString()},\n  //branch:{toCheck:false,value:\"\"},///\n  //branchId:{toCheck:false,min:0,max:0},///\n  //transactionName:{toCheck:false,value:\"\"},\n  transactionType:{toCheck:false,value:\"\"},///\n  //transactionCode:{toCheck:false,value:\"\"},\n  //transactionGroupType:{toCheck:false,value:\"\"},\n  transactionStatus:{toCheck:false,value:\"open\"},///\n\n  //reference:{toCheck:false,value:\"\"},\n  active:{toCheck:true,value:true},///\n\n  table:{toCheck:false,value:\"\"},\n  tableStatus:{toCheck:false,value:\"open\"},\n  \n  partnerId:{toCheck:false,min:0,max:0},///\n  //partnerType:{toCheck:false,value:\"\"},\n\n  //title:{toCheck:false,value:\"\"},\n  name:{toCheck:false,value:\"\"},///\n  phone:{toCheck:false,value:\"\"},///\n  queueStatus:{toCheck:false,value:\"open\"},\n  //remark:{toCheck:false,value:\"\"},\n  \n  /*\n  address_number:{toCheck:false,value:\"\"},\n  address_tambon:{toCheck:false,value:\"\"},\n  address_district:{toCheck:false,value:\"\"},\n  address_province:{toCheck:false,value:\"\"},\n  address_postcode:{toCheck:false,value:\"\"},\n\n  total:{toCheck:false,min:0,max:0},\n  reduction:{toCheck:false,min:0,max:0},\n  grandTotal:{toCheck:false,min:0,max:0},\n  \n  detail_id:     {toCheck:false,min:0,max:0},\n  detail_barcode:{toCheck:false,value:\"\"},\n  detail_productName:   {toCheck:false,value:\"\"},\n  */\n  /*\n  detail_groupId:{toCheck:false,min:0,max:0},\n  */\n /*\n  detail_groupName:{toCheck:false,value:\"\"},\n  \n\n  detail_unit:   {toCheck:false,value:\"\"},\n  detail_price:  {toCheck:false,min:0,max:0},\n\n  \n  detail_quantity: {toCheck:false,min:0,max:0},\n  detail_result: {toCheck:false,min:0,max:0},\n  detail_remark: {toCheck:false,value:\"\"},\n  detail_isRawMat:   {toCheck:false,value:false},\n\n  detail_partnerId:{toCheck:false,min:0,max:0},\n  detail_name:   {toCheck:false,value:\"\"}\n  */\n}\n\nconst stickerInputState={\n  id:{toCheck:false,min:0,max:0},\n  recordName:{toCheck:false,value:\"\"},\n  date:{toCheck:false,\n        min:new Date().toISOString(),\n        max:new Date().toISOString(),\n      },\n  recordBy:{toCheck:false,value:\"\"},\n  \n  productData_code:{toCheck:false,value:\"\"},\n  productData_name:   {toCheck:false,value:\"\"},\n\n}\n\nconst billMenuInputState={\n  id:{toCheck:false,min:0,max:0},\n  date:{toCheck:false,min:new Date().toISOString(),max:new Date().toISOString()},\n  transactionType:{toCheck:false,value:\"\"},\n  active:{toCheck:true,value:true},\n  tableStatus:{toCheck:true,value:\"open\"},\n\n}\n\n\nconst inputState = {\n    productInputState,\n    partnerInputState,\n    transactionInputState,\n    stickerInputState,\n    billMenuInputState,\n}\n\nexport default inputState\n","import React from 'react'\n\nimport {RiShareForwardLine} from 'react-icons/ri'\n\n\nimport {MdRefresh,MdSwapHoriz,MdSettings,\n    MdSearch,MdEdit,MdAddCircle,MdDelete,MdPrint,\n    MdChevronLeft,MdChevronRight,MdLastPage,\n    MdRadioButtonChecked,MdClose,\n} from 'react-icons/md';\n\nimport { FaBullseye,FaFileCsv, FaRegArrowAltCircleUp} from 'react-icons/fa';\nimport Ticon from '../../component/ticon/Ticon'\n\nconst renderBadge = ({\n                filterData,\n                \n                setPageNumber,\n                \n                totalSwapPage, \n                setSwapState,\n                \n                setReloadData,\n                setShowFilter,\n                setShowAdd,\n                setShowEdit,\n                setShowModalCsv,\n                setShowModalConfirm,\n                setUnSelectAll,\n                setClose,\n                setShowForwardConfirm,\n                captureSelect,\n                bgColor\n})=>{\n    //console.log('renderBadge')\n    //console.log(filterData)\n\n    const {badgeState,pageNumber,limitRow,sort,count,swapState,editData,selectProduct}=filterData\n\n    const {swapShow,swapFunc,\n           reloadShow,reloadFunc,\n           filterShow,filterFunc,\n           addShow,addFunc,\n           editShow,editFunc,\n           delShow,delFunc,\n           printerShow,printerFunc,\n           csvShow,csvFunc,\n           closeShow,closeFunc,\n           forwardShow,forwardFunc,\n           pageNumberShow,\n           bullEyeShow,unSelectShow\n          } = badgeState\n\n    const changeSwapState=()=>{\n        if(swapState<totalSwapPage-1){\n            setSwapState(swapState+1)\n        }\n        if(swapState==totalSwapPage-1){\n            setSwapState(0)\n        }\n    }\n\n    const calTotalPage =()=>{\n       return Math.ceil(count/limitRow)\n    }\n\n    const countSelectedLine=()=>{\n\n        let tempArray=[]\n\n        selectProduct.map(i=>{\n            tempArray=[...tempArray,i.id]\n        })\n\n        tempArray=new Set(tempArray)\n\n        let tempCount=0\n\n        for (let j of tempArray){\n            let isCount=false\n            \n            selectProduct.map(i=>{\n                if(i.id==j){\n                    if(i.selectedLine){\n                        isCount=true\n                    }\n                    else{\n                        isCount=false\n                    }\n                }\n            })\n\n            if(isCount){\n                tempCount=tempCount+1\n            }\n\n        }\n\n        return tempCount\n    }\n\n    const getSelectedLine=()=>{\n        let tempArray=[]\n\n        selectProduct.map(i=>{\n            tempArray=[...tempArray,i.id]\n        })\n\n        tempArray=new Set(tempArray)\n\n        let tempArray2=[]\n\n        for (let j of tempArray){\n            \n            let isFound=false\n            let tempObj\n\n            selectProduct.map(i=>{\n\n                if(i.id==j){\n\n                    if(i.selectedLine){\n                        isFound=true\n                        tempObj=i\n                    }\n                    else{\n                        isFound=false\n                    }\n                }\n            })\n\n            if(isFound){\n                tempArray2=[...tempArray2,tempObj]\n            }\n\n        }\n\n        return tempArray2\n    }\n\n    return (\n    <div className=\"badge-frame-xc12\"\n        style={{background:bgColor}}\n    > \n        \n        <div className=\"flex-center-center flex-no-wrap xc12 jc-start\"\n              style={{justifyContent:\"flex-start\"}}>\n\n            {swapShow\n            ?<div className=\"iconbox\"\n                onClick={e=>{\n                    changeSwapState()\n                    if(swapFunc){swapFunc()}\n                }}\n            >\n                <Ticon\n                    iconName=\"MdSwapHoriz\"\n                    className=\"sm-icon\"\n                    textStyle={{color:\"black\"}}\n                />\n            </div>\n            :null\n            }\n            \n\n            {reloadShow\n            ?<div className=\"iconbox\"\n                onClick={e=>{\n                    setReloadData(true)\n                    if(reloadFunc){reloadFunc({limitRow:limitRow,sort:sort})}\n                    //if(reloadFunc){reloadFunc({limitRow:tempLimitRow,sort:tempSort})}\n                }}\n            >\n                \n                <Ticon\n                    iconName=\"MdRefresh\"\n                    className=\"sm-icon\"\n                    textStyle={{color:\"black\"}}\n                />\n                \n            </div>\n            :null\n            }\n               \n            {filterShow\n            ?<div className=\"iconbox\"\n                onClick={e=>{ \n                    setShowFilter(true)\n                    if(filterFunc){filterFunc()}\n                } } \n            >\n                <Ticon\n                    iconName=\"MdSearch\"\n                    className=\"sm-icon\"\n                    textStyle={{color:\"black\"}}\n                />\n            </div>\n            :null\n            }\n            \n            {addShow\n            ?<div className=\"iconbox\"\n                onClick={e=>{ \n                    setShowAdd(true)\n                    if(addFunc){addFunc()}\n                }}\n            >    \n                <Ticon\n                    iconName=\"MdAddCircle\"\n                    className=\"sm-icon\" \n                    textStyle={{color:\"black\"}}\n                />\n            </div>\n            :null\n            }\n\n            {editShow\n            ?<div className=\"iconbox\"\n                onClick={e=>{\n                    if(editData){\n                        setShowEdit(true)\n                        if(editFunc){editFunc()}\n                    }\n                }}\n            >   \n                <Ticon\n                    iconName=\"MdEdit\"\n                    className=\"sm-icon\"\n                    textStyle={{color:\"black\"}}\n                />\n            </div>\n            :null\n            }\n            \n            {delShow\n            ?<div className=\"iconbox\"\n                onClick={e=>{\n                    setShowModalConfirm(true)\n                    if(delFunc){delFunc()}\n                }}\n            >\n                <Ticon\n                    iconName=\"MdDelete\"\n                    className=\"sm-icon\"\n                    textStyle={{color:\"black\"}}\n                />\n            </div>\n            :null\n            }\n\n            {printerShow\n            ?<div className=\"iconbox\"\n                onClick={e=>{\n                    window.print()\n                    if(printerFunc){printerFunc()}\n                }}\n            >\n                <Ticon\n                    iconName=\"MdPrint\"\n                    className=\"sm-icon\"\n                    textStyle={{color:\"black\"}} \n                />\n            </div>\n            :null\n            }\n\n            {csvShow\n            ?<div className=\"iconbox\"\n                onClick={e=>{\n                    setShowModalCsv(true)\n                    if(csvFunc){csvFunc()}\n                }}\n            >\n                <Ticon \n                    iconName=\"FaFileCsv\"\n                    className=\"sm-icon\" \n                    textStyle={{color:\"black\"}}\n                />\n            </div>\n            :null\n            }\n\n            {forwardShow\n            ?<div className=\"iconbox\"\n                onClick={e=>{\n                    setShowForwardConfirm(true)\n                    if(forwardFunc){forwardFunc()}\n                }}\n            >\n                <Ticon\n                    iconName=\"RiShareForwardLine\"\n                    className=\"sm-icon\"\n                    textStyle={{color:\"black\"}}\n                />\n            </div>\n            :null\n            }\n\n            {closeShow\n            ?<div className=\"iconbox\"\n                onClick={e=>{\n                    if(setClose){setClose()}\n                    if(closeFunc){closeFunc()}\n                }}\n            >\n                <Ticon\n                    iconName=\"MdClose\"\n                    className=\"sm-icon\" \n                    textStyle={{color:\"black\"}}\n                />\n            </div>\n            :null\n            }\n\n            {unSelectShow\n            ?\n            <div className=\"iconbox\"\n                onClick={e=>{\n                    if(setUnSelectAll){setUnSelectAll()}\n                }}\n            >\n                <Ticon \n                    iconName=\"FaBullseye\"\n                    className=\"sm-icon\"\n                    textStyle={{color:\"black\"}}\n                />\n            </div>\n            :null\n            }\n\n            {bullEyeShow  \n            ?\n            <div className=\"bd-black\" \n                style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",\n                        margin:\"10px\"\n                      }}>\n                \n                <Ticon\n                    iconName=\"MdRadioButtonChecked\"\n                    className=\"sm-icon\"\n                    textStyle={{color:\"black\"}}\n                />\n                <div style={{marginRight:\"10px\"}}>{countSelectedLine()}</div>\n\n            </div>\n      \n            :null\n            }\n\n            {true//pageNumberShow\n            ?<div>\n                <MdChevronLeft\n                    className=\"sm-icon\"\n                    style={{visibility:(calTotalPage()>1)&&(pageNumber>1)\n                            ?\"visible\":\"hidden\"}}\n                    onClick={e=>{\n                        const temp=parseInt(pageNumber)-1\n                        setPageNumber(temp)\n                        //setReloadData(true)\n                    }}\n                />\n            </div>\n            :null\n            }\n\n            {calTotalPage()>1//&&pageNumberShow\n             ?<input \n                type=\"number\"\n                style={{width:\"70px\"}}\n                value={pageNumber.toString()}\n                onChange={e=>{\n                    const temp=parseInt(e.target.value)\n                    if(temp<=calTotalPage()||!temp){ //04-06-2021\n                        setPageNumber(temp)\n                        //setReloadData(true)\n                    }\n                }}\n              />\n             :null\n            }        \n\n            {calTotalPage()>1//&&pageNumberShow\n            ?<div style={{paddingTop:\"1rem\"}}>\n                <p>{`/${calTotalPage()}`}</p>\n            </div>\n            :null\n            }\n\n            {(calTotalPage()>1)&&(pageNumber<calTotalPage())//&&pageNumberShow\n            ?<div>\n                <MdChevronRight\n                    className=\"sm-icon\"\n                    onClick={e=>{\n                      const temp=parseInt(pageNumber)+1\n                      setPageNumber(temp)\n                      //setReloadData(true)\n                    }}\n                />\n            </div>\n            :null\n            }\n               \n            {(calTotalPage()>1)&&(pageNumber<calTotalPage())//&&pageNumberShow\n             ?<div>\n                 <MdLastPage\n                    className=\"sm-icon\"\n                    onClick={e=>{\n                        const temp=parseInt(calTotalPage())\n                        setPageNumber(temp)\n                        //setReloadData(true)\n                    }}\n                 />\n              </div>   \n             :null   \n            }\n        </div>\n        \n    </div>  \n    )\n}\n\nexport default renderBadge\n\n\n\n\n\n\n\n/*\n\n\n\n\n            {bullEyeShow\n            ?<button\n                 onClick={e=>{\n                    if(captureSelect){\n                        captureSelect(getSelectedLine())\n                        if(closeShow){\n                            if(closeFunc){closeFunc()}\n                        }   \n                    }\n                }}\n            >\n                <div style={{display:\"flex\",justifyContent:\"space-around\",alignItems:\"center\"}}>\n                    <p style={{margin:\"auto\"}}>{countSelectedLine()}</p>\n                    <MdRadioButtonChecked\n                        className=\"sm-icon\"\n                       \n                    />\n                </div>\n            </button>\n            :null\n            }\n\n\n\n*/","const filterDataTemplate={\n    data0:null, \n    detail0:null,\n    count:0, \n    lastRecordId:null,\n    showRange:true, \n\n    widthLeft:25, \n    heightTop:70,\n    \n    pageNumber:1, \n    limitRow:10, \n    sort:{id:1},\n    qry:{}, \n\n    tableTemplate:null,\n    \n    /*\n    dataUrl:\"p29transaction\",\n    tableTemplateUrl:\"p29tabletemplate\",\n    tableTemplateName:\"transactionTableTemplate\",\n    detailTableTemplateName:\"productDetailTableTemplate\",\n    detailTableTemplateForFormName:\"productDetailTableTemplateForForm\",\n    */\n   \n    reloadData:true,\n    message:null,\n    showModalError:false,\n    editData:null,\n    \n    badgeState:{\n            swapShow:false,swapFunc:()=>{},\n            reloadShow:true,reloadFunc:()=>{},\n            filterShow:false,filterFunc:()=>{},\n            addShow:false,addFunc:()=>{},\n            editShow:false,editFunc:()=>{},\n            \n            delShow:false,delFunc:()=>{},\n            printerShow:false,printerFunc:()=>{},\n            csvShow:false,\n            closeShow:true,closeFunc:()=>{},\n            forwardShow:false,\n            bullEyesShow:false,\n            unSelectShow:false,\n            \n    },\n    \n    rawMatBadgeState:{\n        swapShow:false,swapFunc:()=>{},\n        reloadShow:true,reloadFunc:()=>{},\n        filterShow:false,filterFunc:()=>{},\n        addShow:false,addFunc:()=>{},\n        editShow:false,editFunc:()=>{},\n        delShow:true,delFunc:()=>{},\n        printerShow:false,printerFunc:()=>{},\n        closeShow:true,closeFunc:()=>{}\n    },\n\n\n    selectProduct:[],\n    showEdit:false,\n    showAdd:false,\n    showModalConfirm:false,\n    showModalError:false,\n    message:null,\n    iconActionData:null,\n    iconActionDataDetail:null\n}\n\n\nexport default filterDataTemplate","import React from 'react';\nimport './Calendar.css';\n\nimport {FaRegCalendarAlt} from 'react-icons/fa';\nimport {MdClose} from 'react-icons/md';\n\n//==================\nfunction Calendar(props) {\n\nconst {onMyClick,value,style,styleIcon,\n       showDateOption,timeOption,\n       days,thaiMonths  \n    }=props\n//value id isostring\n\n/*\nconst thaiMonths=[\n    \"\",\"\",\"\",\"\",\"\",\"\",\n    \"\",\"\",\"\",\"\",\"\",\"\"\n]\n\nconst thaiMonths=[\n    \"01\",\"02\",\"03\",\"04\",\"05\",\"06\",\n    \"07\",\"08\",\"09\",\"10\",\"11\",\"12\"\n]\n*/\n/*\nconst days=[\n    \"Su\",\"Mo\",\"Tu\",\"Wd\",\"Th\",\"Fr\",\"Sa\"\n]\n*/\n\n/*\nconst datePattern=/^\\d{4}\\-(0?[1-9]|1[012])\\-(0?[1-9]|[12][0-9]|3[01])$/gi\n\nconst valDate= (pttn,str)=>{\n    return new RegExp(pttn).test(str)\n}\n*/\n\n/*\nconst convertNewDateToString=(newDate)=>{\n        const temp =newDate.toString()\n\n        let tempMonth=temp.substring(4,7)\n        if(tempMonth==\"Jan\"){tempMonth=\"01\"}\n        else if(tempMonth==\"Feb\"){tempMonth=\"02\"}\n        else if(tempMonth==\"Mar\"){tempMonth=\"03\"}\n        else if(tempMonth==\"Apr\"){tempMonth=\"04\"}\n        else if(tempMonth==\"May\"){tempMonth=\"05\"}\n        else if(tempMonth==\"Jun\"){tempMonth=\"06\"}\n        else if(tempMonth==\"Jul\"){tempMonth=\"07\"}\n        else if(tempMonth==\"Aug\"){tempMonth=\"08\"}\n        else if(tempMonth==\"Sep\"){tempMonth=\"09\"}\n        else if(tempMonth==\"Oct\"){tempMonth=\"10\"}\n        else if(tempMonth==\"Nov\"){tempMonth=\"11\"}\n        else if(tempMonth==\"Dec\"){tempMonth=\"12\"}\n\n        const tempDate=temp.substring(8,10)\n        const tempYear=temp.substring(11,15)\n\n        const tempNewDate=`${tempYear}-${tempMonth}-${tempDate}`\n\n        return tempNewDate\n}\n*/\n\n/*\nconst convertISOtoLocale=(date)=>{\n    const date1=new Date(date).toISOString()\n    const date2=new Date(date1).toLocaleString('fr-ca')\n    const date3=new Date(date1).toLocaleString('en-GB')\n    const date4=date2.substring(0,10)+'T'+date3.substring(12,date3.length)\n    return date4\n}\n*/\n\n/*\nconst convertLocaleToISO=(date)=>{\n    const date5=new Date(date).toISOString()\n    return date5\n}\n\nconst genCurrentDate=()=>{\n    const date1=new Date().toISOString()\n    //2021-10-29T05:43:33.516Z\n    const date4=convertISOtoLocale(date1)\n    \n    return new Date(date4)\n}\n*/\n\nconst genDate=(value)=>{\n    //value is date in ISOstring which is UK time\n    if(value){\n        let tempDate=new Date(value)\n\n        if(timeOption){\n            const {hour,minute,second}=timeOption\n            tempDate=new Date(tempDate.setHours(hour,minute,second))\n        }\n\n        return tempDate//.toLocaleString('en-GB')\n\n    }\n    else{\n        return new Date()//.toLocaleString('en-GB')\n    }\n    \n    /*\n    if(value){\n        const shortDate = value.substring(0,10)\n        if(valDate(datePattern,shortDate)){\n            const temp=convertISOtoLocale(value)\n            return new Date(temp)\n        }\n        else{\n            return genCurrentDate()\n        }\n    }\n    else{\n        return genCurrentDate()\n    }\n    */\n}\n\nlet [date,setDate]=React.useState(genDate(value))\n\nReact.useEffect(()=>{\n    //console.log('date........')\n    //console.log(date)\n},[date])\n\nconst [showCalendar,setShowCalendar]=React.useState(false)\n\nconst getSelectedDateThisMonth=(i,date)=>{\n\n    let temp=date.setDate(i)\n    temp=new Date(temp)\n\n    setDate(temp)\n\n    onMyClick(temp.toISOString())\n\n    //const dateUK=\"2021-12-31T18:50:41.750Z\"\n    //Sat Jan 01 2022 01:50:41 GMT+0700 (Indochina Time)\n}\n\nconst genThaiFullDate=(value)=>{\n\n    if(value){\n        //const shortDate = value.substring(0,10)\n        //if(valDate(datePattern,shortDate)){\n        let tempDate=new Date(value)\n        \n        //console.log('timeOption')\n        //console.log(timeOption)\n\n        if(timeOption){\n            const {hour,minute,second}=timeOption\n            tempDate=new Date(tempDate.setHours(hour,minute,second))\n        }\n\n        const date2=tempDate.toLocaleString('en-GB')\n\n        if(showDateOption==\"date\"){\n            return date2.substring(0,10)\n        }\n        else if(showDateOption==\"datetime\"){\n            return date2\n        }\n        else if(showDateOption==\"time\"){\n            return date2.substring(12,21)\n        }\n        else{\n            return '--'\n        }\n        //}\n        //else{\n        //}\n    }\n\n    else {\n        return '--'\n    }\n    /*\n        const thaiDays=[\n            \"\",\"\",\"\",\"\",\"\",\"\",\"\"\n        ]\n       \n        const thaiMonth=thaiMonths[date.getMonth()]\n        const thaiDay=thaiDays[date.getDay()]\n        const thaiYear=date.getFullYear()+543\n        const thaiDate=date.getDate()\n        const temp=`${thaiDay} ${thaiDate} ${thaiMonth} ${thaiYear}`\n        return temp\n        */\n}\n\nconst genThaiMonth=(date)=>{\n\n    const thaiMonth=thaiMonths[date.getMonth()]\n    const thaiYear=date.getFullYear()//+543\n\n    const temp=`${thaiMonth}-${thaiYear}`\n    return temp\n}\n\nconst genPrevMonthDay=(date)=>{\n    const lastFullDayPrevMonth=new Date(date.getFullYear(),date.getMonth(),0)\n    const lastDayPrevMonth=lastFullDayPrevMonth.getDay()\n    const lastDatePrevMonth=lastFullDayPrevMonth.getDate()\n\n    let prevMonthDay =[]\n    for (let i=lastDatePrevMonth-lastDayPrevMonth;i<=lastDatePrevMonth;i++){\n        prevMonthDay=[...prevMonthDay,i]\n    }\n    return prevMonthDay\n}\n\nconst genThisMonthDay=(date)=>{\n    const lastDate=new Date(date.getFullYear(),date.getMonth()+1,0).getDate()\n    let thisMonthDay=[]\n    for (let j=1;j<=lastDate;j++){\n        thisMonthDay=[...thisMonthDay,j]\n    }\n    return thisMonthDay\n}\n\nconst genNextMonthDay=(date)=>{\n    const lastFullDayThisMonth=new Date(date.getFullYear(),date.getMonth()+1,0)\n    const lastDayThisMonth=lastFullDayThisMonth.getDay()\n\n    let nextMonthDay=[]\n    for (let k=1;k<=6-lastDayThisMonth;k++){\n        nextMonthDay=[...nextMonthDay,k]\n    }\n    return nextMonthDay\n}\n\n//==================================\nreturn (\n    !showCalendar\n    ?<div style={{width:\"100%\",height:\"100%\",backgroundColor:\"white\",\n                  display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\",\n                  borderRadius:\"5px 5px\",\n                  ...style\n    }}>\n        <FaRegCalendarAlt style={styleIcon}\n            onClick={e=>setShowCalendar(true)}\n        />\n        {genThaiFullDate(value)}\n\n    </div>\n    :<div className=\"container\" style={{width:\"100vw\",height:\"100vh\"}}>\n        <div className=\"calendar\">\n\n            <div className=\"month\">\n                <div className=\"arrow\"\n                      onClick={e=>{\n                        let temp=date.setFullYear(date.getFullYear()-1)\n                        temp=new Date(temp)\n                        setDate(temp)\n                      }}\n                 >\n                    <i>&lt;&lt;</i>\n                </div>\n\n\n                <div className=\"arrow\"\n                      onClick={e=>{\n                        let temp=date.setMonth(date.getMonth()-1)\n                        temp=new Date(temp)\n                        setDate(temp)\n                      }}\n                 >\n                    <i>&lt;</i>\n                </div>\n\n\n                <div className=\"date\">\n                    <div>{genThaiMonth(date)}</div>\n                </div>\n               \n                <div className=\"arrow\"\n                      onClick={e=>{\n                        let temp=date.setMonth(date.getMonth()+1)\n                        temp=new Date(temp)\n                        setDate(temp)\n                      }}\n                >\n                    <i>&gt;</i>\n                </div>\n\n                <div className=\"arrow\"\n                      onClick={e=>{\n                        let temp=date.setFullYear(date.getFullYear()+1)\n                        temp=new Date(temp)\n                        setDate(temp)\n                      }}\n                >\n                    <i>&gt;&gt;</i>\n                </div>\n                <MdClose className='md-icon'\n                    onClick={e=>{\n                        setShowCalendar(!showCalendar)\n                    }}\n                />\n\n            </div>\n\n\n\n            {\n            \n            <div className=\"weekdays\">\n                {\n                    days.map((i,index)=>{\n                        return(\n                            <div key={index}>{i}</div>\n                        )        \n                    })\n                }\n            </div>\n            \n            }\n\n            {\n            \n            <div className=\"days\">\n                \n                {\n                genPrevMonthDay(date).map((i,index)=>(\n                    <div key={index} className=\"prev-date\">\n                        {i}\n                    </div>\n                ))\n                }\n\n                {\n                genThisMonthDay(date).map((i,index)=>(\n                    <div key={index} \n                         className={i==date.getDate()?\"today\":null}\n                         onClick={e=>{\n                            getSelectedDateThisMonth(i,date)\n                            setShowCalendar(false)\n                        }}\n                    >\n                        {i}\n                    </div>\n                ))\n                }\n                \n                {\n                genNextMonthDay(date).map((i,index)=>(\n                    <div key={index} className=\"next-date\">\n                        {i}\n                    </div>\n                ))\n                }\n            </div>   \n            \n            }\n        </div>\n    </div>\n  );\n}\n\n\nCalendar.defaultProps={\n    onMyClick:()=>{},\n    showDateOption:\"date\",\n    value:new Date().toISOString(),\n    days:[\"Su\",\"Mo\",\"Tu\",\"Wd\",\"Th\",\"Fr\",\"Sa\"],\n    thaiMonths:[\n        \"01\",\"02\",\"03\",\"04\",\"05\",\"06\",\n        \"07\",\"08\",\"09\",\"10\",\"11\",\"12\"\n    ],\n    timeOption:null\n}\n\nexport default Calendar;\n\n\n\n//=========================\n/*\n \n\n mongoDB \nconst dateUK=\"2021-12-31T18:50:41.750Z\"\n\n\nnew Date(dateUK)\nSat Jan 01 2022 01:50:41 GMT+0700 (Indochina Time)\n\n        \n.setFullYear()    .getFullYear()\n.setMonth()  0-11      .getMonth()\n.setDate()         .getDate()\n.setDay()  0-6   .getDay()\n.setHours(0,0,0)   .getHours()    get\n\nISOstring > new Date(ISOstring) >  set   new Date().setDate(1)  \n\n  toLocaleString('en-GB')\n\n 25/12/2021, 19:55:03 \n\n\n<Calendar\n        style={{height:\"1.6rem\",fontSize:\"1rem\"}}         \n        showDateOption={\"datetime\"}\n        onMyClick={\n        (e)=>{\n            console.log('onMyClick')\n            console.log(e)\n        }\n        }\n        value={dateUK}\n        timeOption={{hour:0,minute:0,second:0}}\n/>\n\n\n*/\n//=========================","import React from 'react';\nimport {FaRegArrowAltCircleDown,FaRegArrowAltCircleUp,\n    FaPlusSquare,FaMinusSquare,FaCaretDown,FaCaretUp\n} from 'react-icons/fa';\n\nimport { BsIntersect,BsUnion } from 'react-icons/bs';\n\nimport {MdEdit} from 'react-icons/md';\n\nimport Calendar from '../../component/calendar/Calendar'\n\nimport stateUtil from '../../util/stateUtil'\nimport axiosUtil from '../../util/axiosUtil'\nimport '../Modal.css'\n\nconst {changeKeyKey} = stateUtil\n\nconst {genSortFromSortState,genSortStateFromSort}=axiosUtil\n\nconst ModalFilterInput=({\n    show,setShow,\n\n    filterTemplate,\n    inputState,setInputState,\n\n    limitRow,setLimitRow,\n    sort,setSort,\n    filterAxios,\n    basicData,\n    LB\n})=>{\n\nconsole.log('ModalFilterInput')\n\nconst [sortState,setSortState]=React.useState(genSortStateFromSort(sort))\nconst [tempInputState,setTempInputState]=React.useState(inputState)\nconst [showFilter,setShowFilter]=React.useState(true)\n\nReact.useEffect(()=>{\n   setInputState(tempInputState)\n},[tempInputState])\n\nReact.useEffect(()=>{\n    //console.log('sortState')\n    //console.log(sortState)\n    const temp=genSortFromSortState(sortState)\n    setSort(temp)\n},[sortState])\n//========================    \n\n\n\n\n\n\n\n\n\n\nconst renderBetweenNumber=(i,templateIdx)=>{\n    return(\n    <div key={templateIdx} className={i.cName}\n         style={{paddingTop:\"0.2rem\"}}\n    >\n        \n        <div  className=\"flex-center-center flex-no-wrap\">\n\n            <div className={i.subCName[0]} \n                style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}\n            >\n                <input\n                    style={{height:\"1.5rem\"}}\n                    type=\"checkbox\"\n                    checked={tempInputState[i.keyName].toCheck}\n                    ref={i.refInput[0]}\n                    onKeyDown={e=>{\n                        /*\n                        if(e.key==\"Enter\"){\n                            i.refInput[1].current.focus()\n                        }\n                        */\n                    }}\n                    onChange={e=>{\n                        changeKeyKey({\n                            key:i.keyName,\n                            subKey:\"toCheck\",\n                            value:e.target.checked,\n                            inputState:tempInputState,\n                            setInputState:setTempInputState\n                        })\n                        //i.refInput[1].current.focus()\n                    }}\n                />\n            </div>\n\n            <div className={i.subCName[1]}\n                style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}\n            >\n                <p className=\"label table-p\"\n                    style={{margin:\"auto 0\"}}\n                >{i.lb}</p>\n            </div>\n\n            <div className={i.subCName[2]}>\n                <div className=\"xc12 flex-center-baseline\" \n                     //style={{marginTop:\"-0.8rem\"}}\n                >\n\n                    <div className=\"xc6\" style={{paddingLeft:\"0.2rem\"}}>\n                        {   \n                        i.inputType==\"date\"\n                        ?<Calendar\n                            style={{height:\"1.6rem\",fontSize:\"0.8rem\"}}\n                            onMyClick={\n                                (e)=>{\n                                //console.log('calendar1 e....')\n                                //console.log(e)\n\n                                //console.log('calendar =============...')\n                                //console.log('new Date(e).toLocaleString(fr-ca)')\n\n                                //console.log(new Date(e).toLocaleString('fr-ca'))\n\n                                const date2=new Date(e).toLocaleString('fr-ca').substring(0,10)\n                                const tempDateTime=`${date2} 00:00:01`\n\n                                //console.log('tempDateTime-------')\n                                //console.log(tempDateTime)\n\n                                const tempISODate=new Date(tempDateTime).toISOString()\n                                //console.log('.....tempISODate')\n                                //console.log(tempISODate)\n                                //handleInput(e,key)\n                                //setInputState({...inputState,[key]:e})\n                                changeKeyKey({\n                                    key:i.keyName,\n                                    subKey:\"min\",\n                                    value:tempISODate,\n                                    inputState:tempInputState,\n                                    setInputState:setTempInputState\n                                })  \n\n                                }\n                            }\n                            value={tempInputState[i.keyName].min}\n                        \n                        />\n                        :<input\n                        style={{width:\"100%\"}}\n                        type={i.inputType}\n                        value={tempInputState[i.keyName].min}\n                        ref={i.refInput[1]}\n                        onKeyDown={e=>{\n                            /*\n                            if(e.key==\"Enter\"){\n                                i.refInput[2].current.focus()\n                            }\n                            */\n                        }}\n                        onChange={e=>{changeKeyKey({\n                            key:i.keyName,\n                            subKey:\"min\",\n                            value:(e.target.type==\"number\")\n                            ?e.target.value?parseFloat(e.target.value):0\n                            :e.target.value,\n                            inputState:tempInputState,\n                            setInputState:setTempInputState\n                        })}}  \n                        />\n                        }\n                    </div>\n                    {/*\n                    <div className=\"xc1\"\n                            style={{textAlign:\"center\"}}\n                    >\n                        <p>-</p>\n                    </div>\n                    */}   \n                    <div className=\"xc6\" style={{paddingLeft:\"0.2rem\"}}> \n                        {   \n                        i.inputType==\"date\"\n                        ?<Calendar\n                                style={{height:\"1.6rem\",fontSize:\"0.8rem\"}}\n                                onMyClick={\n                                    (e)=>{\n                                    //console.log('calendar2 e....')\n                                    //console.log(e)\n\n                                    const date2=new Date(e).toLocaleString('fr-ca').substring(0,10)\n                                    const tempDateTime=`${date2} 23:59:59`\n                                    const tempISODate=new Date(tempDateTime).toISOString()\n                                    //console.log('tempISODate')\n                                    //console.log(tempISODate)\n                                    //handleInput(e,key)\n                                    //setInputState({...inputState,[key]:e})\n                                    changeKeyKey({\n                                        key:i.keyName,\n                                        subKey:\"max\",\n                                        value:tempISODate,\n                                        inputState:tempInputState,\n                                        setInputState:setTempInputState\n                                    })  \n\n                                    }\n                                }\n                                value={tempInputState[i.keyName].max}\n                        />\n                        :<input\n                        style={{width:\"100%\"}}\n                        type={i.inputType}\n                        value={tempInputState[i.keyName].max}\n                        ref={i.refInput[2]}\n                        onKeyDown={e=>{\n                         /*\n                         if(e.key==\"Enter\"){\n                          if(filterTemplate.length-1!=templateIdx){\n                           filterTemplate[templateIdx+1].refInput[0].current.focus()\n                          }\n                         } \n                         */\n                        }} \n                        onChange={e=>{changeKeyKey({\n                            key:i.keyName,\n                            subKey:\"max\",\n                            value:(e.target.type==\"number\")\n                                ?e.target.value?parseFloat(e.target.value):0\n                                :e.target.value,\n                                inputState:tempInputState,\n                                setInputState:setTempInputState\n                        })}}\n                        /> \n                        } \n                    </div>\n                </div>\n                    \n            </div>\n        </div>\n     </div>\n    )\n}\n//=================================\n//=================================\nconst renderBoolean=(i,templateIdx)=>{\n    return(\n        <div key={templateIdx} className={i.cName} \n             style={{height:\"100%\",width:\"100%\",paddingTop:\"0.2rem\"}}\n        >\n            \n            <div  className=\"flex-center-center flex-no-wrap\">\n    \n                <div className={i.subCName[0]} \n                     style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}\n                >\n                    <input\n                        style={{height:\"1.5rem\"}}\n                        type=\"checkbox\"\n                        checked={tempInputState[i.keyName].toCheck}\n                        ref={i.refInput[0]}\n                        onKeyDown={e=>{\n                            /*\n                            if(e.key==\"Enter\"){\n                                i.refInput[1].current.focus()\n                            }\n                            */\n                        }}\n                        onChange={e=>{\n                            changeKeyKey({\n                                key:i.keyName,\n                                subKey:\"toCheck\",\n                                value:e.target.checked,\n                                inputState:tempInputState,\n                                setInputState:setTempInputState\n                            })\n                            //i.refInput[1].current.focus()\n                        }}\n                    />\n                </div>\n    \n    \n                <div className={i.subCName[1]}\n                      style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}\n                >\n                    <p className=\"label table-p\"\n                       style={{margin:\"auto 0\"}}\n                    >{i.lb}</p>\n                </div>\n    \n                <div className={`${i.subCName[2]}`}\n                     style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}\n                >\n                    <input\n                    style={{height:\"1.5rem\"}}\n                    type={i.inputType}\n                    checked={tempInputState[i.keyName].value}\n                    ref={i.refInput[1]}\n                    onKeyDown={e=>{\n                        /*\n                        if(e.key==\"Enter\"){\n                            if(filterTemplate.length-1!=templateIdx){\n                                filterTemplate[templateIdx+1].refInput[0].current.focus()\n                            }\n                        }\n                        */\n                    }}\n                    onChange={e=>{changeKeyKey({\n                        key:i.keyName,\n                        subKey:\"value\",\n                        value:e.target.checked,\n                        inputState:tempInputState,\n                        setInputState:setTempInputState\n                    })}}\n                    />\n                </div>\n            </div>\n        </div>\n    )\n}\n//========================\nconst renderSelectArrayObj=(i,templateIdx)=>{\n    const {selectArrayObj}=i\n\n    const renderOption=()=>{\n        \n        if(basicData){\n            return basicData[selectArrayObj[0]].map((j,idx2)=>\n            <option key={idx2} >\n               \n                {\n                    //j[\"groupName\"]\n                    j[selectArrayObj[1]]\n                }\n            </option>\n            )\n        }\n        else {\n            return null\n        }\n    \n    }\n    \n    return(\n        <div key={templateIdx} className={i.cName} \n            style={{height:\"100%\",width:\"100%\",paddingTop:\"0.2rem\"}}\n        >\n           \n           <div  className=\"flex-center-center flex-no-wrap\">\n    \n               <div className={i.subCName[0]} \n                    style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}\n               >\n                   <input\n                       style={{height:\"1.5rem\"}}\n                       type=\"checkbox\"\n                       checked={tempInputState[i.keyName].toCheck}\n                       ref={i.refInput[0]}\n                       onKeyDown={e=>{\n                           /*\n                           if(e.key==\"Enter\"){\n                               i.refInput[1].current.focus()\n                           }\n                           */\n                       }}\n                       onChange={e=>{\n                           changeKeyKey({\n                               key:i.keyName,\n                               subKey:\"toCheck\",\n                               value:e.target.checked,\n                               inputState:tempInputState,\n                               setInputState:setTempInputState\n                           })\n                           //i.refInput[1].current.focus()\n                       }}\n                   />\n               </div>\n    \n    \n               <div className={i.subCName[1]}\n                     style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}\n               >\n                   <p className=\"label table-p\"\n                      style={{margin:\"auto 0\"}}\n                   >{i.lb}</p>\n               </div>\n    \n               <div className={`${i.subCName[2]}`}\n                    style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",paddingLeft:\"0.25rem\"}}\n               >\n                     <select\n                        style={{height:\"100%\"}}\n                        \n                        onChange={e=>{changeKeyKey({\n                            key:i.keyName,\n                            subKey:\"value\",\n                            value:e.target.value,\n                            inputState:tempInputState,\n                            setInputState:setTempInputState\n                        })}}\n                    >\n                        <option>...</option>\n                    {   \n                        renderOption()\n                    }\n                    </select>\n               </div>\n           </div>\n       </div>\n        )\n}\n\n//========================\nconst renderSelectObj=(i,templateIdx)=>{\n    const {selectObj}=i\n\n    const renderOption=()=>{\n        \n        if(basicData){\n            return basicData[selectObj].map((j,idx2)=>\n            <option key={idx2} >\n               \n            {j}</option>\n            )\n        }\n        else {\n            return null\n        }\n    \n    }\n\n\n    return(\n    <div key={templateIdx} className={i.cName} \n        style={{height:\"100%\",width:\"100%\",paddingTop:\"0.2rem\"}}\n    >\n       \n       <div  className=\"flex-center-center flex-no-wrap\">\n\n           <div className={i.subCName[0]} \n                style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}\n           >\n               <input\n                   style={{height:\"1.5rem\"}}\n                   type=\"checkbox\"\n                   checked={tempInputState[i.keyName].toCheck}\n                   ref={i.refInput[0]}\n                   onKeyDown={e=>{\n                       /*\n                       if(e.key==\"Enter\"){\n                           i.refInput[1].current.focus()\n                       }\n                       */\n                   }}\n                   onChange={e=>{\n                       changeKeyKey({\n                           key:i.keyName,\n                           subKey:\"toCheck\",\n                           value:e.target.checked,\n                           inputState:tempInputState,\n                           setInputState:setTempInputState\n                       })\n                       //i.refInput[1].current.focus()\n                   }}\n               />\n           </div>\n\n\n           <div className={i.subCName[1]}\n                 style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}\n           >\n               <p className=\"label table-p\"\n                  style={{margin:\"auto 0\"}}\n               >{i.lb}</p>\n           </div>\n\n           <div className={`${i.subCName[2]}`}\n                style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",paddingLeft:\"0.25rem\"}}\n           >\n                 <select\n                    style={{height:\"100%\"}}\n                    \n                    onChange={e=>{changeKeyKey({\n                        key:i.keyName,\n                        subKey:\"value\",\n                        value:e.target.value,\n                        inputState:tempInputState,\n                        setInputState:setTempInputState\n                    })}}\n                >\n                    <option>...</option>\n                {   \n                    renderOption()\n                }\n                </select>\n           </div>\n       </div>\n   </div>\n    )\n}\n\n\n//========================\nconst renderString=(i,templateIdx)=>{\n\n    return(\n        <div key={templateIdx} className={i.cName}\n             style={{paddingTop:\"0.2rem\"}}\n        >\n            \n            <div  className=\"flex-center-center flex-no-wrap\">\n    \n                <div className={i.subCName[0]} \n                     style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}\n                >\n                    <input\n                        style={{height:\"1.5rem\"}}\n                        type=\"checkbox\"\n                        checked={tempInputState[i.keyName].toCheck}\n                        ref={i.refInput[0]}\n                        onKeyDown={e=>{\n                            /*\n                            if(e.key==\"Enter\"){\n                                i.refInput[1].current.focus()\n                            }\n                            */\n                        }}\n                        onChange={e=>{\n                            //console.log(tempInputState)\n                            //console.log(e.target.checked)\n                            changeKeyKey({\n                                key:i.keyName,\n                                subKey:\"toCheck\",\n                                value:e.target.checked,\n                                inputState:tempInputState,\n                                setInputState:setTempInputState\n                            })\n                            //i.refInput[1].current.focus()\n                        }}\n                    />\n                </div>\n\n              <div className={i.subCName[1]}\n                style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}\n              >\n                <p className=\"label table-p\"\n                    style={{margin:\"auto 0\"}}\n                >{i.lb}</p>\n              </div>           \n    \n              <div className={`${i.subCName[2]}`}\n                   style={{paddingLeft:\"0.25rem\"}}\n              >\n                <input\n                 type={i.inputType}\n                 value={tempInputState[i.keyName].value}\n                 ref={i.refInput[1]}\n                 onKeyDown={e=>{\n                  if(e.key==\"Enter\"){\n                     /* \n                    if(filterTemplate.length-1!=templateIdx){\n                     filterTemplate[templateIdx+1].refInput[0].current.focus()\n                    }\n                    */\n                  }\n                 }}\n                 onChange={e=>{changeKeyKey({\n                    key:i.keyName,\n                    subKey:\"value\",\n                    value:e.target.value.replace(/\\s{2}$/,' '),\n                    inputState:tempInputState,\n                    setInputState:setTempInputState\n                })}}\n                />\n              </div>\n            </div>\n        </div>\n    )\n}\n\n//====================================\n\n//<div style={{width:\"100%\",height:\"100%\"}}>     \nconst renderFilterBody=()=>{\nreturn(\n    filterTemplate.map((i,templateIdx)=>{\n        //we change from switch case to if instead to prevent error\n        if( (i.templateType ==\"number\")||\n            (i.templateType==\"arrayNumber\")||\n            (i.templateType==\"objectNumber\")||\n            (i.templateType==\"arrayObjectNumber\")||\n            (i.templateType==\"arrayObjectArrayNumber\") ){\n                return renderBetweenNumber(i,templateIdx)\n            }\n        else if( (i.templateType ==\"boolean\")||\n            (i.templateType==\"arrayBoolean\")||\n            (i.templateType==\"objectBoolean\")||\n            (i.templateType==\"arrayObjectBoolean\")||\n            (i.templateType==\"arrayObjectArrayBoolean\") ){\n                return renderBoolean(i,templateIdx)\n            }\n        else if(i.templateType ==\"selectObj\"){\n            return renderSelectObj(i,templateIdx)\n        }\n        else if(i.templateType ==\"selectArrayObj\"){\n            return renderSelectArrayObj(i,templateIdx)\n        }\n        else{\n            return renderString(i,templateIdx)\n        }\n    })\n    )\n}\n\n//=====================================\n\nconst renderSortBody=()=>{\n    const arraySortStateKey=Object.keys(sortState)\n    //[\"order1\",\"order2\",\"order3\"]\n    //=====================\n    let tempFilterTemplate=[]\n    \n    filterTemplate.map((i)=>{\n        //we change from switch case to if instead to prevent error\n        if((i.templateType==\"string\")||\n           (i.templateType==\"number\")||\n           (i.templateType==\"date\")){\n            tempFilterTemplate=[...tempFilterTemplate,i]\n        }\n    })\n  \nreturn(\n<div className=\"w-100\">\n    {\n        arraySortStateKey.map((i,index)=>{\n            return(\n            <div key={index} className={filterTemplate[0].cName} >\n                <div  className=\"flex-center-center\">\n                    \n                    <div className={filterTemplate[0].subCName[0]}\n                        style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}\n                    >\n                        {sortState[i].toAscending==1\n                          ?<FaRegArrowAltCircleDown className=\"md-icon\"\n                                onClick={e=>{\n                                    const tempOrder=sortState[i]\n                                    tempOrder.toAscending=-1\n                                    setSortState({\n                                        ...sortState,\n                                        [i]:tempOrder})\n                                }}\n                            />\n                          :<FaRegArrowAltCircleUp className=\"md-icon\"\n                                onClick={e=>{\n                                    const tempOrder=sortState[i]\n                                    tempOrder.toAscending=1\n                                    setSortState({\n                                        ...sortState,\n                                        [i]:tempOrder})\n                                }}\n                          />\n                        }\n                    </div>\n                \n                    <div className={filterTemplate[0].subCName[1]} \n                        style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}\n                    >\n                        <p className=\"table-p\"\n                        style={{margin:\"auto 0\"}}\n                        >{`${index+1}`}</p>\n                    </div>\n                    <div className={filterTemplate[0].subCName[2]} >\n                        <select type=\"select\" \n                                className=\"w-100\"\n                                value={sortState[i].sortName\n                                        ?sortState[i].sortName\n                                        :\"\"}\n                                onChange={e=>{\n                     \n                                    const tempOrder=sortState[i]\n                                    tempOrder.sortName=e.target.value\n                                    setSortState({\n                                        ...sortState,\n                                        [i]:tempOrder\n                                    })\n                                \n                                    setSort({\n                                        ...sortState,\n                                        [i]:tempOrder\n                                    })        \n                                }}\n                                \n\n                        >  \n                         <option value=\"\" hidden>...</option>\n                         {    //we use keyName for filterTemplate, \n                                //but make sure to use only main Field \n                            tempFilterTemplate.map((k,index)=>{\n                            return(\n                            <option key={index} value={k.keyName}>{k.lb}</option>\n                            )\n                            })\n                         }\n                        </select>\n                    </div>\n                </div>\n            </div>\n            )\n        })\n    }\n</div>\n)    \n}\n//====================================\nconst renderLimitRow=()=>{\nreturn(\n        <div className=\"pt-2\">\n            <h5>{LB.RecordLimit}</h5> \n            <div className=\"flex-center-center flex-no-wrap\" >\n                <div className=\"flex-center-center lc6\">\n                    <p className=\"table-p\">{LB.recordPerPage}</p>\n                </div>\n                <div className=\"flex-center-center lc6\">\n                    <div className=\"flex-center-start flex-no-wrap\">\n                        <FaMinusSquare className=\"md-icon mr-2 mb-3\"\n                            onClick={e=>{\n                                if(limitRow>1){\n                                    const temp=limitRow-1\n                                    setLimitRow(temp)\n                                }\n                            }}\n                        />\n                        <div className=\"h-100\" \n                             style={{alignItems:\"flex-start\"}}\n                        >\n                            <input\n                                type=\"number\"\n                                value={limitRow}\n                                onChange={e=>setLimitRow(parseInt(e.target.value))}\n                            />\n                        </div>\n                        \n                        \n                        {\n                            //<p>{`${limitRow}`}</p>\n                        }\n                        <FaPlusSquare className=\"md-icon ml-2 mb-3\"\n                            onClick={e=>{\n                                if(limitRow<50){\n                                    const temp=limitRow+1\n                                    setLimitRow(temp)\n                                }\n                            }}\n                        />\n                    </div>   \n                </div>\n            </div>\n        </div>\n)\n}\n\n/*\n <div className=\"Modal-background\">\n        <div className=\"Modal-box\" style={{minWidth:\"70%\"}}>\n\n*/\n//====================================\nconst renderFooter=()=>{\n    return(\n    <div className=\"flex-center-center pt-2 pb-2\">\n        <div className=\"w-45\">\n            <button className=\"w-100\" style={{margin:\"0\"}}\n                onClick={e=>{\n                    //console.log(tempInputState)\n                    filterAxios(\"and\",tempInputState)\n                    //setFilterOption(1)\n                    //setPageNumber(1)\n                    //setReload(true)\n                    //setShow(false)\n                }}\n            >\n                <BsIntersect style={{marginRight:\"0.2rem\"}}/>\n                {LB.allTrue}\n            </button>\n        </div>\n        <div className=\"w-45\">\n            <button className=\"w-100\"  style={{margin:\"0\"}}\n                onClick={e=>{\n                    //console.log(tempInputState)\n                    filterAxios(\"or\",tempInputState)\n                    //setFilterOption(2)\n                    //setPageNumber(1)\n                    //setReload(true)\n                    //setShow(false)\n                }}\n            >\n                <BsUnion style={{marginRight:\"0.2rem\"}}/>\n                {LB.someTrue}\n            </button>\n        </div>\n    </div> \n\n\n    )\n}\n\n//====================================\nreturn (\n    <div>\n            <div className=\"flex-center-center h-100\">\n                <h5>{LB.formHead}</h5>\n                {showFilter\n                ?<FaCaretDown  className=\"sm-icon\" \n                    onClick={e=>{\n                        setShowFilter(!showFilter)\n                    }}\n                />\n                :<FaCaretUp  className=\"sm-icon\" \n                    onClick={e=>{\n                        setShowFilter(!showFilter)\n                    }}\n                />\n                }\n            </div>\n\n            {    \n            showFilter\n            ?<div>\n                <div className=\"flex-center-center jc-start h-100\">\n                    <h5>{LB.subject}</h5>\n                </div>\n\n                <div className=\"flex-center-center jc-start h-100\">\n                { renderFilterBody() }\n                </div>\n\n               \n\n                <div className=\"pt-2\">\n                    <h5>{LB.sortBySubject}</h5>\n                </div>\n                { sortState?renderSortBody():null }\n                { renderLimitRow()}\n                { renderFooter()}\n\n            </div>\n            :null\n            }\n    </div>\n)\n}\n\nModalFilterInput.defaultProps={\n    title:\"Filter Form\",\n    show:null, \n    setShow:()=>{},\n    filterTemplate:{},\n    inputState:null, \n    setInputState:()=>{},\n    limitRow:10,\n    setLimitRow:()=>{},\n    sort:null ,\n    setSort:()=>{},\n    setPageNumber:()=>{}, \n    setFilterOption:()=>{},\n    setReload:()=>{},\n    filterAxios:()=>{},\n    LB:{\n        formHead:\"Form Head\",\n        subject:\"Subject\",\n        allTrue:\"All True\",\n        someTrue:\"Some True\",\n        sortBySubject:\"Sort By Subject\",\n        recordLimit:\"Record Limit\",\n        recordPerPage:\"Record Per Page\"\n    }\n}\nexport default ModalFilterInput","import React from 'react';\nimport StateUtil from '../../model/StateUtil'\nimport renderForm from './renderForm'\nimport GallerySinglePhoto_add from '../../component/galleryone_add/GallerySinglePhoto_add'\nimport photoUtil from '../../component/galleryone_add/photoUtil'\nimport formUtil from './formUtil'\nimport tableUtil from '../../component/table/tableUtil'\nimport uuid from 'react-uuid'\nimport pageUtil from '../../component/pageComponent/pageUtil'\nimport {FaBan,FaCheck,FaFolder} from 'react-icons/fa';\n\nimport axiosUtil from '../../util/axiosUtil'\n//import '../Modal.css'\n\nconst {reloadAxiosAll,saveTableTemplate,updateFilterData,\n    submitFunctionEdit,submitFunctionAdd,filterAxios,\n    setUnSelectAll,submitFunctionDelete\n} = pageUtil\n\nfunction PageForm({\n    lb,\n    formTemplate,stateTemplate,\n    selectData,\n\n    iconAction,\n    iconActionData,\n    iconActionDataDetail,\n    loadData,\n    keyName,\n    setShow,\n\n    calculation,\n    detailTableTemplate,\n\n    submitFunction,\n    selectGroup,\n    setSelectGroup,\n    selectProduct,\n    pageDataModalForm,\n    dataUrl,myheader,\n    tableTemplateUrl,\n    tableTemplateName,\n    calDigit,\n    isAddForm\n    //submitCancel\n}) {\n    //console.log('PageForm')\n    const {genBlankState,genRefAndValue,revRefAndValue,\n          combineLoadDataBlankState}=StateUtil  \n    const {submitFunc}=axiosUtil  \n    const {changeArrayFile}=photoUtil\n    const {convertFormTemplateToTableTemplate}=formUtil\n    const {tableResize}=tableUtil\n\n    const [showRenderAddGroup,setShowRenderAddGroup]=React.useState(false)\n    \n    React.useEffect(()=>{\n        if(selectGroup){\n            setShowRenderAddGroup(true)\n        }\n    },[selectGroup])\n\n    const [isSecond,setIsSecond]=React.useState(false)\n\n    React.useEffect(()=>{\n        //console.log(`isSecond : ${isSecond}`)\n        if(!isSecond){\n            setIsSecond(true)\n        }\n    },[isSecond])\n    \n      \n    const [hidePassword,setHidePassword]=React.useState(true)\n\n    const [calculate,setCalculate]=React.useState(true)\n\n\n    const refSubmitForm=React.createRef() //\n    const refCancelForm=React.createRef() //     \n    //const refClearForm=React.createRef() //     \n\n    const blankData=genBlankState({template:stateTemplate}).state\n\n    const refAndValueBlankData = genRefAndValue({\n                                    template:formTemplate,\n                                    FData:blankData\n                                })\n    \n    const genFormInputState =() =>{\n        /*\n        if(isAddForm){\n\n            if(genAutoId){\n                return {...blankData,id:lastRecordId+1}\n            }\n            else{\n                return blankData\n            }\n        }\n        */\n        if(loadData){\n            //we create combineLoadDataBlankState function\n            //to make sure that every filed is valid at least \"\"\n            //because in mongoDB if model type = number, it we send \"\" it will be save as null\n            //when we receive data back it will be just like customerId=null\n            //so this function will make customerId=\"\" again\n            //const temp=loadData //test\n            //console.log('loadData')\n            //console.log(loadData)\n\n            let temp=combineLoadDataBlankState({template:stateTemplate,loadData})\n\n            //console.log('temp')\n            //console.log(temp)\n\n\n            if(isAddForm){\n                if(temp.detail){\n                    temp={...temp,detail:[]}\n                }\n            }\n            else{\n                if(loadData.detail){\n                    if(Array.isArray(loadData.detail)){\n                        if(loadData.detail.length==0){\n                            temp={...temp,detail:[]}\n                        }\n                    }\n                }\n            }\n\n            if(temp.newId>=0){\n                temp={...temp,newId:temp.id}\n            }\n\n            return temp\n        }\n        else{\n           \n            return blankData\n        }\n    }\n    \n    let [formInputState,setFormInputState]=React.useState(genFormInputState())\n    let [sumAmount,setSumAmount]=React.useState(null)\n\n    //React.useEffect(()=>{\n    //    console.log('loadData')\n    //    setFormInputState(genFormInputState())\n    //},[loadData])\n\n    React.useEffect(()=>{\n    if(isSecond){\n        //console.log('useEffect iconActionData')\n        if(iconActionData){\n            setFormInputState({...formInputState,...iconActionData})\n        }\n    }\n    },[iconActionData])\n    \n    React.useEffect(()=>{\n    if(isSecond){\n        //console.log('useEffect iconActionDataDetail')\n\n        if(iconActionDataDetail&&selectRow){\n            if(iconActionDataDetail.id>0){\n\n                let temp=[]\n                formInputState.detail.map((i,index)=>{\n                    if(selectRow.index==index){\n                       const tempLine={...i,...iconActionDataDetail}\n                       temp=[...temp,tempLine] \n                    }\n                    else{\n                        temp=[...temp,i]\n                    }\n                })\n\n                setFormInputState({...formInputState,[\"detail\"]:temp})\n            }\n        }\n        \n    }\n    },[iconActionDataDetail])\n\n    let [refAndValue,setRefAndValue]=React.useState(\n        genRefAndValue({template:formTemplate,FData:formInputState})\n    )\n\n    React.useEffect(()=>{\n        console.log('refAndValue........000000000000000.')\n        console.log(refAndValue)\n    },[refAndValue])\n    \n\n    React.useEffect(()=>{\n        //console.log('formInputState.....ffffff.....fffff..........')\n        //console.log(formInputState)\n            if(isSecond){\n                //console.log('useEffect formInputState')\n               \n                let passCheck=false\n                \n                if(formInputState){\n                    if(formInputState.detail){\n                        passCheck=true\n                    }\n                }\n\n                if(tableTemplate){\n                passCheck=true\n                }\n\n                if(passCheck){\n                    const objKeys=Object.keys(tableTemplate)\n                    let newSum={}\n                    let showSum=false\n\n                    objKeys.map(h=>{\n                        if(tableTemplate[h]){\n                            if(tableTemplate[h].showSum){\n                                newSum={...newSum,[h]:0}\n                                showSum=true\n                            }\n                        }\n                    })\n\n\n                    formInputState.detail.map((i,idx)=>{\n\n                        objKeys.map(j=>{\n                            if(tableTemplate[j]){\n                                \n                                if(tableTemplate[j].showSum){\n                                    const updateSum=newSum[j]+parseInt(i[j]*10000)\n\n                                    if(idx==formInputState.detail.length-1){\n                                        newSum={...newSum,[j]:updateSum/10000}\n                                    }\n                                    else{\n                                        newSum={...newSum,[j]:updateSum}\n\n                                    }\n                                }\n                            }\n                        })\n                    })\n\n                    //console.log('newSum')\n                    //console.log(newSum)\n\n\n                    if(showSum){\n\n                        setSumAmount(newSum)\n                    }\n                }\n\n                //console.log('aaaa')\n                \n                const temp=genRefAndValue({\n                    template:formTemplate,\n                    FData:formInputState\n                    })\n\n                setRefAndValue({...temp})\n                \n                if(calculation){\n                    if(calculate){\n                        setFormInputState(calculation(formInputState))\n                        setCalculate(false)\n                    }\n                }\n            \n\n                \n            \n            }\n    },[formInputState])\n  //===================================\n  //===================================\n  //===================================\n  //for tableForm\n  let [showTable,setShowTable]=React.useState({\n    width:1200,\n    gridCol:\"\"\n  })\n  \n\n  const [tableTemplate,setTableTemplate]=React.useState(detailTableTemplate)\n        //convertFormTemplateToTableTemplate(formTemplate,detailTableTemplate))\n  \n  React.useEffect(()=>{\n  //if(isSecond){\n\n    tableResize({tableTemplate,showTable,setShowTable})\n    \n  //}\n  },[tableTemplate])\n\n  const [selectRow,setSelectRow]=React.useState(null)\n\n  React.useEffect(()=>{\n    if(isSecond){\n        //console.log(`selectRow : ${selectRow}`)\n    }\n   },[selectRow])\n\n  //==============================\n  //==============================\n  //==============================\n  //image\n  // 1 = photoUrl1\n  // 2 = photoUrl1 , photoUrl2\n  \n  //---------------\n  //We limiet only 2 image which is photoUrl1,photoUrl2 perform\n  //image1\n  \n  const [showImage1,setShowImage1]=React.useState(true)\n  const [arrayFile1,setArrayFile1]=React.useState([])\n  const [fileUrl1,setFileUrl1]=React.useState([])\n\n  React.useEffect(()=>{\n  if(isSecond){\n    //console.log('useEffect ArrayFile1')\n\n    \n    if(keyName){\n        if(keyName[0]==\"photoUrl1\"){\n            changeArrayFile({ arrayFile:arrayFile1,\n                fileUrl:fileUrl1,\n                setFileUrl:setFileUrl1,\n                inputState:formInputState,\n                setInputState:setFormInputState,\n                keyName:keyName[0],\n                //fileName,\n                //serverFolder,\n                //fileName:\"file\",\n                //serverFolder:\"/upload/customer\",\n                setShowImage:setShowImage1})\n        }\n    }\n    \n  }\n  },[arrayFile1])\n  //----------------\n  //image1\n  const [showImage2,setShowImage2]=React.useState(true)\n  const [arrayFile2,setArrayFile2]=React.useState([])\n  const [fileUrl2,setFileUrl2]=React.useState([])\n\n\n  React.useEffect(()=>{\n  if(isSecond){\n    //console.log('useEffect ArrayFile2')\n\n    if(keyName){\n        if(keyName[1]==\"photoUrl2\"){\n            changeArrayFile({ arrayFile:arrayFile2,\n                fileUrl:fileUrl2,\n                setFileUrl:setFileUrl2,\n                inputState:formInputState,\n                setInputState:setFormInputState,\n                keyName:keyName[1],\n                //fileName,\n                //serverFolder,\n                //fileName:\"file\",\n                //serverFolder:\"/upload/customer\",\n                setShowImage:setShowImage2})\n        }\n    }\n\n   }\n  },[arrayFile2])\n\n//==============================  \nconst clearForm=()=>{\n    setFormInputState(blankData)\n}\n//==============================\n//==============================\n//Table\n//==============================\n//==============================\nconst [editData,setEditData]=React.useState(null)\n\nconst updateFilterData=(idx,inputState)=>{\n    //console.log('updateFilterData')\n\n    let tempArray=[]\n\n    formInputState.detail.map((i,index)=>{\n        if(idx==index){\n            tempArray=[...tempArray,inputState]\n        }\n        else{\n            tempArray=[...tempArray,i]\n        }\n    })\n    \n    //console.log(tempArray)\n    setFormInputState({...formInputState,detail:tempArray})\n\n}\n\n/*\n//\nconst insertUp=()=>{\n    console.log('insertUp.......blankData')\n    console.log(blankData)\n\n    if(formInputState.detail){\n        if(editData){\n            let tempFilterDataData0=[]\n            //let tIdx=0\n            let tempEditData=null\n            formInputState.detail.map((i,idx)=>{\n                //console.log(\"xxx\")\n                if(editData._id==i._id){\n                    const temp={...blankData.detail[0],_id:uuid(),selectedLine:false,result:0} //empty line\n                    tempFilterDataData0=[...tempFilterDataData0,temp,i]\n                }\n                else{\n                    tempFilterDataData0=[...tempFilterDataData0,i]\n                }\n            })\n            setFormInputState({...formInputState,\n                detail:tempFilterDataData0,\n            })\n        }\n    }\n}\n//\nconst insertDown=()=>{\n    console.log('insertDown')\n\n     //console.log('insertDown')\n\n     if(formInputState.detail){\n        if(editData){\n            let tempFilterDataData0=[]\n            //let tIdx=0  \n            let tempEditData=null\n            formInputState.detail.map((i,idx)=>{\n                if(editData._id==i._id){\n\n                    const temp={...blankData.detail[0],_id:uuid(),selectedLine:false,result:0} //empty line\n                    tempFilterDataData0=[...tempFilterDataData0,i,temp]\n                    tempEditData=i\n                }\n                else{\n                    tempFilterDataData0=[...tempFilterDataData0,i]\n                }\n            })\n\n            \n            setFormInputState({...formInputState,\n                detail:tempFilterDataData0,\n            })\n            \n            //setFilterData({...filterData,data0:tempFilterDataData0,editData:tempEditData})\n        }\n    }\n\n}\n*/\n\nconst insertLine=()=>{\n\n    //console.log('insertLine')\n    if(editData){\n\n        let tempArray=[]\n\n        formInputState.detail.map((i,idx)=>{\n            if(i._id==editData._id){\n                const temp={...blankData.detail[0],_id:uuid(),selectedLine:false,result:0}\n                tempArray=[...tempArray,temp,i]\n            }\n            else{\n                tempArray=[...tempArray,i]\n            }\n        })\n        setFormInputState({...formInputState,detail:tempArray})\n        //console.log(tempArray)\n    }\n    else{\n        if(formInputState.detail){\n            if(Array.isArray(formInputState.detail)){\n                if(formInputState.detail.length==0){\n                    const temp={...blankData.detail[0],_id:uuid(),selectedLine:false,result:0}\n                    setFormInputState({...formInputState,detail:[temp]})\n                }\n            }\n        }\n    }\n    \n}\n\n\n//\nconst selectAll=()=>{\n    console.log('selectAll')\n\n    if(formInputState.detail){\n        let tempArray=[]\n        formInputState.detail.map(i=>{\n            tempArray=[...tempArray,{...i,selectedLine:true}]\n            \n        })\n        setFormInputState({...formInputState,detail:tempArray})\n        setEditData(null)\n        //setFilterData({...filterData,data0:tempArray})\n    }\n}\n//\nconst unSelectAll=()=>{\n    console.log('unSelectAll')\n        //console.log(data0)        \n    if(formInputState.detail){\n        let tempArray=[]\n        //let idx=0\n        formInputState.detail.map(i=>{\n          \n            tempArray=[...tempArray,{...i,selectedLine:false}]\n            //tempArray=[...tempArray,{...i,tempIndex:idx,selectedLine:false}]\n            //idx=idx+1\n           \n        })\n        \n        setFormInputState({...formInputState,detail:tempArray})\n        setEditData(null)\n    }\n}\n//--------------------\n\nconst deleteLine=()=>{\n    if(editData){\n\n        let tempArray=[]\n\n        formInputState.detail.map((i,idx)=>{\n            if(i._id!=editData._id){\n                tempArray=[...tempArray,i]\n            }\n        })\n        setFormInputState({...formInputState,detail:tempArray})\n        setEditData(null)\n\n    }\n}\n\n//---------------------\n/*  \nconst deleteLine=()=>{\n    console.log('deleteLine')\n    console.log(editData)\n    //console.log(data0)        \n    if(formInputState.detail){\n        let tempArray=[]\n        //let idx=0\n        formInputState.detail.map(i=>{\n            if(!i.selectedLine){\n                tempArray=[...tempArray,{...i,selectedLine:false}]\n                //tempArray=[...tempArray,{...i,tempIndex:idx,selectedLine:false}]\n                //idx=idx+1\n            }\n        })\n        \n        setFormInputState({...formInputState,detail:tempArray})\n        setEditData(null)\n    }\n}\n*/\n//\nconst getSelectAll=()=>{\n    //console.log('getSelectAll')\n\n    if(formInputState.detail){\n        let tempNewSelectAll=[]\n\n        if(selectProduct){\n            selectProduct.map(i=>{\n                if(i.selectedLine){\n                    tempNewSelectAll=[...tempNewSelectAll,\n                        {...i,_id:uuid(),quantity:0,result:0}\n                    ]\n                }\n            })\n        \n            //console.log('tempNewSelectAll')\n            //console.log(tempNewSelectAll)\n            setFormInputState({...formInputState,\n                detail:[...formInputState.detail,...tempNewSelectAll]\n            })\n            //console.log('getSelectAll')\n            //console.log(myFilterData)\n        }\n\n    }\n}\n//\nconst moveSelectedDown=()=>{\n    console.log('moveSelectedDown')\n\n    if(formInputState.detail) {\n        let beforeEditData=true\n        let beforeArray = []\n        let afterArray = []\n        let selectedArray = []\n\n        formInputState.detail.map(i=>{\n            //1,2 beforeArray\n            //5 editData\n            //3,4,7,8 selectedArray\n            //6,9,10 afterArray\n\n            if(editData._id==i._id){\n                beforeEditData=false\n            }\n            else if( (i.selectedLine==false)&&(beforeEditData==true) ){\n                beforeArray=[...beforeArray,i]\n            }\n            else if( (i.selectedLine==false)&&(beforeEditData==false) ){\n                afterArray=[...afterArray,i]\n            } \n            else {\n                selectedArray=[...selectedArray,i]\n            }\n        })\n        const tempArray=[...beforeArray,editData,...selectedArray,...afterArray]\n        \n        setFormInputState({...formInputState,detail:tempArray})\n    }\n\n}\n//\nconst moveSelectedUp=()=>{\n    console.log('moveSelectedUp')\n\n    //console.log(editData)\n    //console.log(formInputState.detail)\n\n\n    if(formInputState.detail){\n\n        let beforeEditData=true\n        let beforeArray = []\n        let afterArray = []\n        let selectedArray = []\n\n        formInputState.detail.map(i=>{\n            //1,2 beforeArray\n            //5 editData\n            //3,4,7,8 selectedArray\n            //6,9,10 afterArray\n\n            if(editData._id==i._id){\n                beforeEditData=false\n            }\n            else if( (i.selectedLine==false)&&(beforeEditData==true) ){\n                beforeArray=[...beforeArray,i]\n            }\n            else if( (i.selectedLine==false)&&(beforeEditData==false) ){\n                afterArray=[...afterArray,i]\n            } \n            else {\n                selectedArray=[...selectedArray,i]\n            }\n        })\n        const tempArray=[...beforeArray,...selectedArray,editData,...afterArray]\n        \n        setFormInputState({...formInputState,detail:tempArray})\n\n    }\n}\n//--------------------------------------\nconst moveUp=()=>{\n    if(editData){\n        \n        let tempArray=[]\n        let targetIdx=null\n\n        formInputState.detail.map((i,idx)=>{\n            if(i._id==editData._id){\n                targetIdx=idx\n            }\n        })\n\n        if((targetIdx!=null)&&(targetIdx>0)){\n            \n            formInputState.detail.map((i,idx)=>{\n               \n                if(idx==targetIdx-1){\n                    tempArray=[...tempArray,formInputState.detail[targetIdx]]\n                }\n                else if(idx==targetIdx){\n                    tempArray=[...tempArray,formInputState.detail[targetIdx-1]]\n                }\n                else {\n                    tempArray=[...tempArray,i]\n                }\n\n            })\n            setFormInputState({...formInputState,detail:tempArray})\n        }\n    \n    }\n}\n\nconst moveDown=()=>{\n    if(editData){\n        \n        let tempArray=[]\n        let targetIdx=null\n        const lastIndex=formInputState.detail.length-1\n\n        formInputState.detail.map((i,idx)=>{\n            if(i._id==editData._id){\n                targetIdx=idx\n            }\n        })\n\n        if((targetIdx!=null)&&(targetIdx<lastIndex)){\n            \n            formInputState.detail.map((i,idx)=>{\n               \n                if(idx==targetIdx){\n                    tempArray=[...tempArray,formInputState.detail[targetIdx+1]]\n                }\n                else if(idx==targetIdx+1){\n                    tempArray=[...tempArray,formInputState.detail[targetIdx]]\n                }\n                else {\n                    tempArray=[...tempArray,i]\n                }\n\n            })\n            setFormInputState({...formInputState,detail:tempArray})\n        }\n    \n    }\n}\n\n//--------------------------------------\n// id\nconst findProductIdByKeyDown=()=>{\n    console.log('findProductIdByKeyDown')\n}\n// Barcode\nconst findBarcodeByKeyDown=()=>{\n    console.log('findBarcodeByKeyDown')\n}\n//====================\nconst saveDetailTableTemplateForFormFunc=(tableTemplate)=>{\n\n    saveTableTemplate(tableTemplate,tableTemplateUrl,tableTemplateName,myheader)\n}\n//====================\n//console.log('ModalForm')\n\nconst renderAddGroup=()=>{\n    return (\n<div className=\"Modal-background\">\n    <div className=\"Modal-box\">\n        <div className=\"Modal-header\">\n            <div className=\"flex-center-center\">\n                <FaFolder style={{fontSize:\"2rem\"}}/>\n                <div style={{marginLeft:\"0.5rem\"}}>\n                    {selectGroup.groupName}\n                </div>\n            </div>\n        </div>\n      \n        <div className=\"Modal-footer\">\n            <div>\n                <button\n                    onClick={e=>{\n                        //submitFunction()\n                        console.log('click FaCheck renderAddGroup')\n                        const tempGroup={groupId:selectGroup.id,\n                            groupName:selectGroup.groupName}\n                        setFormInputState({...formInputState,...tempGroup})\n                        setSelectGroup(null)\n                        setShowRenderAddGroup(false)\n                    }}\n                >\n                    <FaCheck/>\n                </button>\n            </div>\n            <div>\n                <button\n                    onClick={e=>{\n                        console.log('click FaBan renderAddGroup')\n                        setSelectGroup(null)\n                        setShowRenderAddGroup(false)\n                        //if(setShow){setShow(false)}\n                    }}\n                >\n                    <FaBan/>\n                </button>\n            </div>\n        </div>\n    </div>\n</div>\n    )\n}\n\n//====================\nconst renderFooter=()=>{\n    return(\n    <div style={{display:\"flex\",position:\"fixed\",bottom:\"2.5rem\",right:\"2rem\",zIndex:\"100\"}}\n    >\n        <div>\n            <button\n                ref={refSubmitForm}\n                onKeyDown={e=>{\n                    if(e.key==\"ArrowRight\"){\n                        refCancelForm.current.focus()\n                    }\n                }}\n                onClick={e=>{\n                    if(submitFunction){\n                        submitFunction(formInputState)\n\n                    }\n                }}\n            >\n                <FaCheck/>\n            </button>\n        </div>\n        {/*        \n        <div>\n            <button\n                ref={refClearForm}\n                onKeyDown={e=>{\n                    if(e.key==\"ArrowRight\"){\n                        refCancelForm.current.focus()\n                    }\n                    if(e.key==\"ArrowLeft\"){\n                        refSubmitForm.current.focus()\n                    }\n                }}\n                onClick={e=>{\n                    clearForm();\n                }}\n\n            >\n                \n            </button>\n        </div>\n        */}\n        \n        <div>\n            <button\n                ref={refCancelForm}\n                onKeyDown={e=>{\n                    if(e.key==\"ArrowLeft\"){\n                        refCancelForm.current.focus()\n                    }\n                }}\n                onClick={e=>{\n                    //if(submitCancel){\n                    //    submitCancel()\n                    //}\n                    clearForm()\n                    setSelectGroup(null)\n                    setShow(false)\n                }}\n            >\n                <FaBan/>\n            </button>\n        </div>\n\n    </div>\n    )\n}\n\nreturn (\n    <div className=\"h-100 w-100 bgc-trans\">\n        <div className=\"Modal-box bgc-trans\" \n             style={{paddingBottom:\"7rem\"}}>\n            <div className=\"Modal-header bgc-trans\">\n                <div>\n                    <h5>{lb}</h5>\n                </div>\n                {renderFooter()}\n            </div>\n            <div className=\"Modal-body bgc-trans\" >\n                <div className=\"ModalInsideBody bgc-trans\">\n                {\n                 renderForm({\n                    cName:\"form-row flex-justify-start flex-align-stretch bd-green\",\n                    template:formTemplate,\n                    ref1:refSubmitForm,\n                    iconAction,\n                    refAndValue, //origin dont have ModalRefAndValue\n                    setRefAndValue, //Origin dont have ModalRefAndValue\n                    loadData:formInputState,\n                    setLoadData:setFormInputState,\n                    selectData,\n                    //basicData:basicData,\n                    blankData:blankData,\n                    refAndValueBlankData,\n                    hidePassword,setHidePassword,\n\n                    tableTemplate,setTableTemplate,\n                    showTable,setShowTable,\n                    selectRow,setSelectRow,\n                    setCalculate,\n                    sumAmount,\n                    selectGroup,\n                    selectProduct,\n                    updateFilterData,\n                    editData,setEditData,\n\n                    updateFilterData,\n                    insertLine,\n                    //insertUp,\n                    //insertDown,\n                    selectAll,\n                    unSelectAll,\n                    deleteLine,\n                    getSelectAll,\n                    moveSelectedDown,moveSelectedUp,\n                    moveUp,moveDown,\n                    \n                    findProductIdByKeyDown,\n                    findBarcodeByKeyDown,\n                    calDigit:calDigit,\n                    pageDataModalForm,\n                    dataUrl,myheader,\n                    saveDetailTableTemplateForFormFunc\n                 })\n                 \n                }\n                </div>\n            </div>\n\n            {\n            keyName\n            ?<div className=\"xc12 form-row h-100\"\n                  style={{justifyContent:\"space-around\"}}>\n                    {  \n                    keyName[0]==\"photoUrl1\"\n                    ?<div className=\"xc4 sc10 bgc-darkGray bd-lightGray h-100\">\n                        {\n                        showImage1\n                        ?<GallerySinglePhoto_add \n                            fileUrl={fileUrl1}\n                            arrayFile={arrayFile1}\n                            setArrayFile={setArrayFile1}\n                            keyName={keyName[0]}\n\n                            setShowImage={setShowImage1}\n                            inputState={formInputState}\n                            setInputState={setFormInputState}\n                        />\n                        :null\n                        }   \n                    </div>    \n                    :null\n                    }\n                    {\n                    keyName[1]==\"photoUrl2\"\n                    ?<div className=\"xc4 sc10 bgc-darkGray bd-lightGray h-100\">\n                        {\n                        showImage2\n                        ?<GallerySinglePhoto_add \n                            fileUrl={fileUrl2}\n                            arrayFile={arrayFile2}\n                            setArrayFile={setArrayFile2}\n                            keyName={keyName[1]}\n\n                            setShowImage={setShowImage2}\n                            inputState={formInputState}\n                            setInputState={setFormInputState}\n                        />\n                        :null\n                        }   \n                    </div>    \n                    :null\n                    }\n            </div>\n            :null\n            }\n        </div>\n\n        { showRenderAddGroup&&\n            renderAddGroup()\n        }\n\n\n    </div>\n  );\n}\n\n\nPageForm.defaultProps={\n    isAddForm:false,\n    lb:\"Form\",\n    formTemplate:{},\n    stateTemplate:{},\n    selectData:{},\n\n    iconAction:null,\n    iconActionData:{},\n    iconActionDataDetail:{},\n    loadData:null,\n    keyName:null,\n    setShow:()=>{},\n\n    calculation:null,\n    detailTableTemplate:null,\n    \n    submitFunction:null,\n    //submitCancel:null,\n    selectGroup:null,\n    setSelectGroup:()=>{},\n    selectProduct:[],\n    modalFormTemplate:{\n       insertUp:\"Insert Up\",\n       insertDown:\"Insert Down\",\n       selectAll:\"Select All\",\n       unSelectAll:\"Unselect All\",\n       moveUp:\"Move Up\",\n       moveDown:\"Move Down\",\n       delete:\"Delete\",\n       import:\"Import\",\n       selectImage:\"Select Image\",\n    }\n}\n\n\nexport default PageForm;\n","import React from 'react';\nimport {MdClose,MdCheck} from 'react-icons/md';\n\n\nconst renderRangeBar=({showRange,setShowRange,\n    widthLeft,setWidthLeft,\n    heightTop,setHeightTop\n})=>{\n/*\n<div  style={{position:\"absolute\",bottom:\"2rem\",left:\"0\",\n        width:`50%`,zIndex:\"200\"}}>\n*/\nreturn(\nshowRange  \n?<div className=\"hide-on-print\"  style={{width:`100%`}}>\n    \n    <div className=\"flex-center-center jc-space-between\">\n\n        <div className=\"w-50\">\n            <input type=\"range\" min=\"0\" max=\"95\"   \n                style={{visibility:showRange?\"visible\":\"hidden\"}}\n                value={widthLeft}\n                onChange={e=>{setWidthLeft(e.target.value)}} \n            />\n        </div>\n\n        <div className=\"w-45\">\n            <input type=\"range\" min=\"0\" max=\"93\" orient=\"vertical\"\n                style={{visibility:showRange?\"visible\":\"hidden\"}}    \n                value={heightTop}\n                onChange={e=>{setHeightTop(e.target.value,\"heightTop\")}} \n            />\n        </div>\n\n       <div className=\"w-5\"\n             style={{display:\"flex\",justifyContent:\"flex-end\"}}\n        >\n           <MdClose className=\"sm-icon\" \n                style={{backgroundColor:\"rgba(255,255,255,0.5)\"}}\n                onClick={e=>{setShowRange(!showRange)}}/>\n        </div>\n\n    </div>\n\n</div>\n\n:<MdCheck className=\"sm-icon hide-on-print\"\n         style={{position:\"absolute\",top:\"0.5rem\",zIndex:\"200\",right:\"0\",\n                backgroundColor:\"rgba(255,255,255,0.5)\"}}\n          onClick={e=>{setShowRange(!showRange)}}/>\n)\n}\n\nexport default renderRangeBar\n","\n\nimport React from 'react';\nimport axios from 'axios'\nimport {MainContext} from '../../context/MainContext'\nimport Table from '../table/Table'\nimport uuid from 'react-uuid'\nimport ModalConfirm from '../../render/ModalConfirm'\n\n//import Badge from '../../render/renderBadge/Badge'\nimport renderBadge from '../../render/renderBadge/renderBadge'\n\n\nimport FormTemplate from '../../render/renderForm/FormTemplate'\nimport StateTemplate from '../../model/StateTemplate'\nimport FilterTemplate from '../../render/renderFilter/FilterTemplate'\nimport inputState from '../table/inputState'\n\nimport filterDataTemplate from './filterDataTemplate'\n\nimport ModalFilterInput from '../../render/renderFilter/ModalFilterInput'\nimport tableTemplate from '../table/tableTemplate'\n\nimport PageForm from '../../render/renderForm/PageForm'\nimport renderModalError from '../../render/renderModalError'\nimport axiosUtil from '../../util/axiosUtil'\n\nimport ctUtil from '../../util/ctUtil'\n\nimport NewGroupComponent from '../../render/renderTree/NewGroupComponent'\nimport renderRangeBar from '../table/renderRangeBar'\n//import renderHeightRangeBar from '../table/renderHeightRangeBar'\n\nimport pageUtil from './pageUtil'\n\n/*\nconst dataTableTemplateName=\"transactionTableTemplate\"\nconst detailTableTemplateName=\"productDetailTableTemplate\"\nconst {createTableTemplateForPage,convertTableTemplateObjToArray}=ctUtil\nconst {genArrayForFilterAxios,genFD,addFileNameInPhotoUrl,catchErrorToMessage}=axiosUtil\n//const {reloadAxiosAll,setShowRange,setWidthLeft,setHeightTop} = pageUtil\n*/\n/*\nconst {transactionForm}=FormTemplate\nconst {dataState}=StateTemplate\nconst {dataFilter}=FilterTemplate\nconst {dataInputState}=inputState\nconst { transactionTableTemplate,productDetailTableTemplate}=tableTemplate\n*/\n\nconst {reloadAxiosAll,saveTableTemplate,updateFilterData,\n       submitFunctionEdit,submitFunctionAdd,filterAxios,\n       setUnSelectAll,submitFunctionDelete\n} = pageUtil\n\nfunction PageComponent(props) {\n\nconst {dataState,dataFilter,dataInputState,captureEditData,captureSelect,bgColor,filterTitle}=props\n\n/*\n    dataUrl:\"p29transaction\",\n    tableTemplateUrl:\"p29tabletemplate\",\n    tableTemplateName:\"transactionTableTemplate\",\n    detailTableTemplateName:\"productDetailTableTemplate\",\n    detailTableTemplateForFormName:\"productDetailTableTemplateForForm\",\n*/\n\nconsole.log('PageComponent')\n\nconst {basicDataSt,tokenSt,setReloadCheckToken,myheader}=React.useContext(MainContext)\n\nconst {basicData}=basicDataSt\nconst {reloadCheckToken,haveShopToken,haveUserToken,userName}=tokenSt\n\nconst setShowRange=(data)=>{setFilterData({...filterData,showRange:data})}\nconst setHeightTop=(data)=>{setFilterData({...filterData,heightTop:data})}\nconst setWidthLeft=(data)=>{setFilterData({...filterData,widthLeft:data})}\nconst setShowModalError=(data)=>{setFilterData({...filterData,showModalError:data})}\nconst setShowModalConfirm=(data)=>{setFilterData({...filterData,showModalConfirm:data})}\nconst setPageNumber=(data)=>{setFilterData({...filterData,pageNumber:data,reloadData:true})}\nconst setShowAdd=(data)=>{setFilterData({...filterData,showAdd:data})}\nconst setShowEdit=(data)=>{setFilterData({...filterData,showEdit:data})}\nconst setTableTemplate=(data)=>{setFilterData({...filterData,tableTemplate:data})}\nconst setDetailTableTemplate=(data)=>{setFilterData({...filterData,detailTableTemplate:data})}\nconst setEditData=(data)=>{\n\n    setFilterData({...filterData,editData:data})\n    captureEditData(data)\n}\n//to save filterData when sort Up and down each column\nconst setFilterDataData0=(data)=>{setFilterData({...filterData, data0:data})}\nconst setSort=(data)=>{setFilterData({...filterData,sort:data})}\nconst setLimitRow=(data)=>{setFilterData({...filterData,limitRow:data})}\n\n//when click FaBullEyes it change data0.selectedLine \n//and set selectProct to null \n//and uncheck all input radio \nconst setUnSelectAllFunc=()=>{\n    setFilterData(setUnSelectAll(filterData))\n}\n\n\nconst submitFunctionDeleteFunc=async(data)=>{\n    const temp = await submitFunctionDelete(filterData,myheader)\n    setFilterData(temp)\n}\n\n\nconst updateWithSelectGroup=()=>{\n    if(filterData.selectGroup){        \n        const {id,...remaining}=filterData.selectGroup\n        setFilterData({...filterData,iconActionData:{groupId:id,...remaining}})\n    }\n}\n\n//=================================\nconst reloadAxiosAllFunc=async()=>{\n    //console.log('reloadAxiosAllFunc..........')\n    const temp=await reloadAxiosAll(filterData,myheader)\n    setFilterData(temp)\n}\n\n//------------------\nconst refreshPage=(data)=>{\n    //data = true\n    console.log('refreshPage')\n    const {limitRow,sort}=filterData\n    const temp = {...filterData, limitRow,sort,selectProduct:[],\n                editData:null,qry:null,reloadData:true\n            }\n    setFilterData(temp)\n}\n\n\n//<LineForm/> onBlur => updateFilterData with LineForm\nconst updateFilterDataFunc=(index,i)=>{\n    //<LineForm/>   onBlur => updateFilterData\n\n    const temp=updateFilterData(index,i,filterData)\n    setFilterData({...filterData,...temp})\n\n}\n\nconst submitFunctionEditFunc=async (formInputState)=>{\n    const temp = await submitFunctionEdit(formInputState,filterData,dataState,myheader)\n    setFilterData(temp)\n}\n\nconst submitFunctionAddFunc=async (formInputState)=>{\n    const temp = await submitFunctionAdd(formInputState,filterData,dataState,myheader)\n    setFilterData(temp)\n}\n\nconst filterAxiosFunc=async (option,inputState)=>{\n    const temp = await filterAxios(option,inputState,dataFilter,filterData,myheader)\n    setFilterData(temp)\n}\n\n\nconst filterDataByGroup=(i)=>{\n    const {folders,...remaining}=i\n    const temp = {...filterData,pageNumber:1,qry:{groupId:i.id},selectGroup:remaining,reloadData:true}\n    setFilterData(temp)\n\n}\n\nconst dataTableTemplateName=\"transactionTableTemplate\"\nconst detailTableTemplateName=\"productDetailTableTemplate\"\n\nconst saveTableTemplateFunc=(tableTemplate)=>{\n    const {tableTemplateUrl}=filterData\n    saveTableTemplate(tableTemplate,tableTemplateUrl,filterData.tableTemplateName,myheader)\n}\n\nconst saveDetailTableTemplateFunc=(tableTemplate)=>{\n    const {tableTemplateUrl}=filterData\n    saveTableTemplate(tableTemplate,tableTemplateUrl,filterData.detailTableTemplateName,myheader)\n}\n\n\nconst saveDetailTableTemplateForFormFunc=(tableTemplate)=>{\n\n    const {tableTemplateUrl}=filterData\n    saveTableTemplate(tableTemplate,tableTemplateUrl,\n            filterData.detailTableTemplateForFormName,myheader)\n}\n\n/*\nconst captureSelect=(selectLine)=>{\n    console.log('selectLine')\n    setFilterData({...filterData,selectProduct:selectLine})\n}\n*/\n\n//-------------------------\nlet [filterData,setFilterData]=React.useState({...filterDataTemplate,...props})\n\nReact.useEffect(()=>{\n\n    //console.log('filterData PageComponent')\n    //console.log(filterData)\n\n    if(filterData.reloadData){\n        reloadAxiosAllFunc()\n    }\n},[filterData])\n\n//===================================\n\n\n//To render Filter \nconst renderFilter=()=>{\n    const {limitRow,sort}=filterData\n    return (\n        <div>\n            <ModalFilterInput\n            title={filterTitle}\n            show={true} setShow={()=>{}}\n            filterTemplate={dataFilter}\n            inputState={dataInputState} \n            setInputState={()=>{}}\n            limitRow={limitRow} \n            setLimitRow={setLimitRow}\n            sort={sort} \n            setSort={setSort}\n            filterAxios={filterAxiosFunc}\n            basicData={basicData}\n            />\n        </div>\n    )\n}\n\n//==================================\n\nconst renderGroup=()=>{\n\n    return (\n    <div className=\"w-100 h-100\" style={{overflowY:\"auto\",paddingBottom:\"5rem\"}}>\n        {\n            renderFilter()\n        }\n        {filterData.groupTitle\n        ?<div className=\"flex-center-center\"  style={{borderTop:\"1px black solid\"}}>\n            <h3>{filterData.groupTitle}</h3>\n        </div>\n        :null\n        }\n        {\n        filterData.groupDataUrl\n        ?<div className=\"\" style={{marginBottom:\"4rem\"}}>\n            <NewGroupComponent\n                groupDataUrl={\"p29group\"}\n                canGroupChange={true}\n                selectData={{basicData:basicData}}\n                setSelectGroup={()=>{}}\n                filterDataByGroup={filterDataByGroup}\n                editData={filterData.editData}\n            />\n        </div>\n        :null\n        }\n\n    </div>\n    )\n}\n\n\n//===================================\n//there are 3 case to render add PageForm, edit PageForm or Table for detail of product\nconst renderSubTable=()=>{\n    const {showAdd,showEdit,editData}=filterData\n    \n    if(filterData.showAdd){\n        return (\n            <div style={{height:\"100%\",paddingBottom:\"4rem\"}}>\n\n            <PageForm\n                                lb={filterData.addFormTitle}\n                                formTemplate={filterData.dataForm}\n                                stateTemplate={filterData.dataState}\n                                loadData={{id:filterData.lastRecordId+1}}\n                                myFilterData={filterData}\n                                selectData={{basicData:basicData}}\n                                setShow={setShowAdd}\n                                iconAction={[updateWithSelectGroup,()=>{}]}\n                                iconActionData={filterData.iconActionData}\n                                iconActionDataDetail={filterData.iconActionDataDetail}\n                                detailTableTemplateForForm={filterData.detailTableTemplateForForm}\n                                submitFunction={submitFunctionAddFunc}\n                                keyName={[\"photoUrl1\"]} //new ---------------------------------\n                                calculation={null}\n                                saveDetailTableTemplateForFormFunc={saveDetailTableTemplateForFormFunc}\n            />\n            </div>   \n        )\n    }\n    else if(filterData.showEdit){\n        return(\n            <div style={{height:\"100%\",paddingBottom:\"4rem\"}}>\n            <PageForm\n                                lb={filterData.editFormTitle}\n                                formTemplate={filterData.dataEditForm}\n                                stateTemplate={filterData.dataState}\n                                loadData={filterData.editData}\n                                myFilterData={filterData}\n                                selectData={{basicData:basicData}}\n                                setShow={setShowEdit}\n                                iconAction={[updateWithSelectGroup,()=>{}]}\n                                iconActionData={filterData.iconActionData}\n                                iconActionDataDetail={filterData.iconActionDataDetail}\n                                detailTableTemplateForForm={filterData.detailTableTemplateForForm}\n                                submitFunction={submitFunctionEditFunc}\n                                keyName={[\"photoUrl1\"]} //new ---------------------------------\n                                calculation={null}\n                                saveDetailTableTemplateForFormFunc={saveDetailTableTemplateForFormFunc}\n            />\n            </div>\n        )\n    }\n     \n}\n\n/*\n<Table\n                    colorHead={\"#aaa\"}\n                    tableTemplate={filterData.detailTableTemplate}\n                    setTableTemplate={setDetailTableTemplate}\n                    filterDataKey={[\"detailTableTemplate\"]}\n\n                    filterData={filterData.editData.detail}\n                    setFilterData={()=>{}}\n\n                    editData={null}\n                    setEditData={()=>{}}\n                    saveTableTemplateFunc={saveDetailTableTemplateFunc}\n                    isSubTable={false}\n                    updateFilterData={()=>{}}\n                    useInput={false}\n                    selectData={null}\n                />\n*/\n\n//====================================\nconst renderTable=()=>{\n\n    return (\n            filterData.data0\n            ?<Table\n                colorHead={\"#888\"}\n                tableTemplate={filterData.tableTemplate}\n                setTableTemplate={setTableTemplate}\n                filterDataKey={\"tableTemplate\"}\n\n                filterData={filterData.data0}\n                setFilterData={setFilterDataData0}\n                \n                editData={filterData.editData}\n                setEditData={setEditData}\n                saveTableTemplateFunc={saveTableTemplateFunc}\n                isSubTable={false}\n                updateFilterData={updateFilterDataFunc}\n                useInput={false}\n                selectData={filterData.selectData}\n            />\n            :null\n    )\n}\n\n//===================================\nconst renderBody=()=>{\n    return (\n        <div className=\"\"\n             style={{display:\"flex\",height:\"95%\",width:\"100%\"}}\n        >\n            <div className=\"bd-darkGray hide-on-print\" \n                 style={{height:\"100%\",width:`${filterData.widthLeft}%`}}>\n                { \n                  renderGroup() \n                }\n            </div>\n\n\n            {true    \n            ?<div className=\"bd-darkGray\" \n                style={{height:\"100%\",width:`${100-filterData.widthLeft}%`}}>\n\n                        <div className=\"hide-on-print\"\n                             style={{height:\"5%\",width:\"100%\"}}\n                        >\n                            { renderBadge({\n                                filterData,\n                                setPageNumber:setPageNumber,\n                                \n                                totalSwapPage:1, \n                                setSwapState:()=>{},\n                                \n                                setReloadData:refreshPage,\n                                setShowFilter:()=>{},\n                                setShowAdd:setShowAdd,\n                                setShowEdit:setShowEdit,\n                                setShowModalConfirm:setShowModalConfirm,\n                                setUnSelectAll:setUnSelectAllFunc,\n                                setClose:()=>{},\n                                bgColor:bgColor,\n                                captureSelect:captureSelect\n\n                            }) }\n                        </div>\n\n                        <div style={{height:\"100%\",width:\"100%\"}}>    \n\n                                {\n                                  //height:`${95-filterData.heightTop}%`\n                                  //height:`${filterData.heightTop}%`,\n\n                                }\n\n                                <div className=\"\" \n                                    style={{width:\"100%\",\n                                            height:`${filterData.heightTop}%`,\n                                           }}>\n                                        { \n                                        renderTable() \n                                        }\n                                </div>\n                                \n                                <div className=\"\"\n                                    style={{width:\"100%\",\n                                            height:`${95-filterData.heightTop}%`\n                                            }}>     \n                                    {\n                                        renderSubTable()\n                                    }\n                                </div>\n                        </div>\n\n            </div>\n\n            :null\n            }              \n        </div>\n    ) \n}\n\n//===================================\n\nreturn(\n<div className=\"w-100 h-100\">\n    {   \n        renderBody()    \n    }\n       \n    <div className=\"hide-on-print\" \n        style={{width:\"100%\",display:\"flex\",position:\"relative\"}}>\n            {\n            renderRangeBar({showRange:filterData.showRange,\n                                setShowRange:setShowRange,\n                                widthLeft:filterData.widthLeft,\n                                setWidthLeft:setWidthLeft,\n                                heightTop:filterData.heightTop,\n                                setHeightTop:setHeightTop\n                            })\n            }\n   \n    </div>\n \n    {\n    filterData.showModalConfirm\n    ?<ModalConfirm\n        setShow={setShowModalConfirm}\n        submitFunction={submitFunctionDeleteFunc}\n    />\n    :null\n    }\n\n    {  \n    filterData.showModalError\n    ?renderModalError({\n        setShow:setShowModalError,\n        message:filterData.message\n    })\n    :null\n    }\n</div>\n)\n\n}\n\n\n\nPageComponent.defaultProps={\n    captureEditData:()=>{},\n    captureSelect:null,\n    bgColor:\"radial-gradient(circle, rgba(241,239,225,1) 1%, rgba(125,160,151,1) 93%)\",\n    filterTitle:\"\"\n}\n\n\n\n\nexport default PageComponent ;","import FormTemplate from '../../render/renderForm/FormTemplate'\nimport StateTemplate from '../../model/StateTemplate'\nimport FilterTemplate from '../../render/renderFilter/FilterTemplate'\nimport inputState from '../../component/table/inputState'\nimport PageComponent from '../../component/pageComponent/SparePageComponent';\nimport uuid from 'react-uuid';\n\n\nconst {partnerForm,productForm,transactionForm}=FormTemplate\nconst {partnerState,productState,transactionState}=StateTemplate\nconst {partnerFilter,productFilter,transactionFilter,billMenuFilter}=FilterTemplate\nconst {partnerInputState,productInputState,transactionInputState,billMenuInputState}=inputState\n\n\nconst blankData={\n    id:\"\",date:new Date().toISOString(),\n    remindDate:\"\",\n    //branchId:\"\",\n    //branchName:\"\",\n    transactionType:\"\",transactionStatus:\"open\",active:true,\n    table:\"\",tableStatus:\"open\",\n    paymentType:\"\",\n\n    effectStock:\"-\",effectSpending:\"unChange\",effectCustomerPoint:\"unChange\",\n    \n    partnerId:\"\",partnerType:\"\",\n    title:\"\",name:\"\",phone:[\"\"], \n    address:\"\",       \n    \n    remark:\"\",\n    total:0,\n\n    totalReduction:0,\n    reduction:[{\n        reductionName:\"\",\n        reductionActive:true,\n        reductionRate:0,\n        reductionAmount:0\n    }],\n\n    grandTotal:0,\n    totalTax:0,\n    tax:[{\n        taxName:\"\",\n        taxActive:true,\n        taxRate:0,\n        taxAmount:0\n    }],\n\n    detail:[],\n    /*\n    detail:[\n        { _id:uuid(),\n          id:\"\",barcode:\"\",productName:\"\",\n          groupId:\"\",groupName:\"\",\n          unit:\"\",price:0,\n          priceLevel:[{price:0,remark:\"\"}],\n          quantity:0,result:0,remark:\"\",isRawMat:false,\n          point:0,\n          partnerId:\"\",name:\"\",jobStatus:\"open\"\n        }\n    ],\n    */\n\n    totalPoint:0,\n    editExistingBill:false\n}\n\n\nconst bill={\n    queueArray:null,\n    transactionArray:null,\n    colorHead:\"#7da097\",\n    dataIdx:\"\",\n    //dataIdx:\"data1\",\n    //dataIdx:\"data0\",\n    //data0:null,\n    //data0:blankData,\n    data1:null,//{...blankData},\n    data2:null,//{...blankData},\n    //data3:blankData,\n    //data4:blankData,\n    //data5:blankData,\n    count:0,\n    lastRecordId:null,\n    showRange:true,\n    \n    widthLeft:31,\n    heightTop:60,\n\n    pageNumber:1,\n    limitRow:11,\n    sort:{id:-1},\n    qry:{},\n\n    qryProduct:{isRawMat:false},\n\n    tableTemplateUrl:\"p35tabletemplate\",\n    dataUrl:\"p35transaction\",\n    selectGroup:null,\n    tableTemplate:null,\n\n    detailTableTemplate:null,\n    detailTableTemplateForForm:null,\n\n    reloadData:true,\n    message:null,\n    showModalError:false,\n    editData:null,\n\n    badgeState:{\n        swapShow:false,swapFunc:()=>{},\n        reloadShow:true,reloadFunc:()=>{},////////////////refreshPage\n        filterShow:false,filterFunc:()=>{},\n        addShow:true,addFunc:()=>{},\n        editShow:true,editFunc:()=>{},\n        delShow:true,delFunc:()=>{},\n        printerShow:true,printerFunc:()=>{}\n    },\n\n    customerConfirm:null,\n\n    showParter:false,\n    showGroup:false,\n    showProductGrid:false,\n    showTable:false,//\n    showTransaction:false,\n    showBillMenu:false,\n    showBarcode:false,\n    showQueue:false,\n\n\n    showModalFromTable:false,\n    showBillForm1:true,\n    showBillForm2:false,\n    reloadBillForm1:false,\n    reloadBillForm2:false,\n\n    showCustomerConfirm:false,\n    includeTransactionHead:true,\n    showTransactionConfirm:false,\n    dataToDelete:null,\n\n    reloadSelectProduct:true,\n    selectProduct:[],\n    selectOfSelectProduct:null,\n    showAdd:false,\n    showModalConfirm:false,\n    showModalError:false,\n    message:null,\n    iconActionData:null,\n    iconActionDataDetail:null,\n\n    editTransaction:null,\n    editProduct:null,\n    editPartner:null,\n\n    showImageBill:true,\n\n    isGenIdOfBillForm1:false,\n    isGenIdOfBillForm2:false,\n\n    billMenuFilter:billMenuFilter,\n    billMenuInputState:billMenuInputState,\n    billMenuSort:{date:1},\n    billMenuLimitRow:31,\n    billMenuShowTransaction:false,\n    billMenuOption:\"and\",\n\n}\n\nconst product={\n    dataUrl:\"p35product\",\n    tableTemplateUrl:\"p35tabletemplate\",\n    tableTemplateName:\"productTableTemplate\",\n    detailTableTemplateName:\"productDetailTableTemplate\",\n    detailTableTemplateForFormName:\"productDetailTableTemplateForForm\",\n    dataState:productState,\n    dataFilter:productFilter,\n    dataInputState:productInputState,\n    dataForm:productForm,\n\n    groupTitle:\"\",\n    groupDataUrl:\"p35group\",\n\n    badgeState:{\n        \n        swapShow:false,swapFunc:()=>{},\n        reloadShow:true,reloadFunc:()=>{},////////////////refreshPage\n        filterShow:false,filterFunc:()=>{},\n        addShow:false,addFunc:()=>{},\n        editShow:false,editFunc:()=>{},\n        delShow:true,delFunc:()=>{},\n        printerShow:true,printerFunc:()=>{},\n        csvShow:true,csvFunc:()=>{}\n    }\n}\n\nconst transaction={\n    dataUrl:\"p35transaction\",\n    tableTemplateUrl:\"p35tabletemplate\",\n    tableTemplateName:\"transactionTableTemplate\",\n    detailTableTemplateName:\"productDetailTableTemplate\",\n    detailTableTemplateForFormName:\"productDetailTableTemplateForForm\",\n\n    dataState:transactionState,\n    dataFilter:transactionFilter,\n    dataInputState:transactionInputState,\n    dataForm:transactionForm,\n\n    badgeState:{\n        swapShow:false,swapFunc:()=>{},\n        reloadShow:true,reloadFunc:()=>{},////////////////refreshPage\n        filterShow:false,filterFunc:()=>{},\n        addShow:false,addFunc:()=>{},\n        editShow:false,editFunc:()=>{},\n        delShow:true,delFunc:()=>{},\n        printerShow:true,printerFunc:()=>{},\n        csvShow:true,csvFunc:()=>{}\n\n    }\n}\n\nconst partner={\n    dataUrl:\"p35partner\",\n    tableTemplateUrl:\"p35tabletemplate\",\n    tableTemplateName:\"partnerTableTemplate\",\n    detailTableTemplateName:\"productDetailTableTemplate\",\n    dataState:partnerState,\n    dataFilter:partnerFilter,\n    dataInputState:partnerInputState,\n    dataForm:partnerForm,\n\n    badgeState:{\n        swapShow:false,swapFunc:()=>{},\n        reloadShow:true,reloadFunc:()=>{},////////////////refreshPage\n        filterShow:false,filterFunc:()=>{},\n        addShow:false,addFunc:()=>{},\n        editShow:false,editFunc:()=>{},\n        delShow:true,delFunc:()=>{},\n        printerShow:true,printerFunc:()=>{},\n        csvShow:true,csvFunc:()=>{}\n\n    }\n}\n\n\nconst filterDataTemplate={\n    blankData:blankData,\n    bill:bill,\n    product:product,\n    transaction:transaction,\n    product:product,\n    partner:partner,\n    blankData:blankData\n}\nexport default filterDataTemplate","import React from 'react';\nimport {MdClose,MdCheck} from 'react-icons/md';\nimport {FaChevronCircleLeft,FaChevronCircleRight} from 'react-icons/fa'\n\nconst renderWidthRangeBar=({showRange,setShowRange,\n    widthLeft,setWidthLeft,\n    //heightTop,setHeightTop\n})=>{\n/*\n<div  style={{position:\"absolute\",bottom:\"2rem\",left:\"0\",\n        width:`50%`,zIndex:\"200\"}}>\n*/\n\n\nreturn(\n<div className=\"hide-on-print\" \n      style={{width:`100%`,height:\"5vh\"}}>\n    \n    <div className=\"flex-center-center jc-space-between\">\n        <div className=\"\"\n             style={{width:`15%`,height:\"5vh\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\"}}\n        >\n            <FaChevronCircleLeft className=\"md-icon\"\n                onClick={e=>{\n                    setWidthLeft(0)\n                }}\n            />\n        </div>\n        \n        <div className=\"\"\n            style={{width:`70%`,height:\"5vh\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\"}}\n        >\n            <input type=\"range\" min=\"0\" max=\"100\"   \n                style={{visibility:showRange?\"visible\":\"hidden\"}}\n                value={widthLeft}\n                onChange={e=>{setWidthLeft(e.target.value)}} \n            />\n        </div>\n        \n        <div className=\"\" \n             style={{width:`15%`,height:\"5vh\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\"}}\n        >\n            <FaChevronCircleRight className=\"md-icon\"\n                onClick={e=>{\n                    setWidthLeft(100)\n                }}\n            />\n        </div>\n\n        {/*\n        <div className=\"w-5\"\n             style={{display:\"flex\",justifyContent:\"flex-end\"}}\n        >\n            {\n            showRange\n            ?<MdClose className=\"sm-icon\" \n                style={{backgroundColor:\"rgba(255,255,255,0.5)\"}}\n                onClick={e=>{\n                    setShowRange(!showRange)\n                }}/>\n            \n            :<MdCheck className=\"sm-icon\" \n                style={{backgroundColor:\"rgba(255,255,255,0.5)\"}}\n                onClick={e=>{setShowRange(!showRange)}}/>\n            }\n        </div>\n        */\n        }\n    </div>\n\n</div>\n\n\n)\n}\n\nexport default renderWidthRangeBar\n","import axios from 'axios'\n\nconst genTree=(array)=>{\n    \n    let tempArray=[]\n\n    array.map((i,idx)=>{\n\n        const {_id,...remaining}=i\n        const currentGcode=i.gcode\n\n        let tempHaveChild=false\n\n        //let nextGcode=null\n\n        if(idx<(array.length-1)){\n\n            const nextGcode=array[idx+1].gcode\n            const nextLevel=array[idx+1].level\n\n            if(i.level+1==nextLevel){\n                const temp=new RegExp(\"^\"+currentGcode+\"\\/\",\"gi\").test(nextGcode)\n            \n                if(temp){\n                    tempHaveChild=true\n                }\n            }\n        }\n\n        const tempObj={...remaining,\n            open:i.level==1?true:false,\n            show:i.level==1||i.level==2?true:false,\n            haveChild:tempHaveChild\n        }\n        tempArray=[...tempArray,tempObj]\n    })\n\n    return tempArray\n}\n\nconst genTreeWithI=(array,i)=>{\n\n    let tempArray=[]\n\n    const clickGcode=i.gcode\n\n    array.map((j,idx)=>{\n\n        const {_id,...remaining}=j\n        const currentGcode=j.gcode\n\n        let tempHaveChild=false\n\n        //let nextGcode=null\n\n        if(idx<(array.length-1)){\n\n            const nextGcode=array[idx+1].gcode\n            const nextLevel=array[idx+1].level\n\n            if(j.level+1==nextLevel){\n                const temp=new RegExp(\"^\"+currentGcode+\"\\/\",\"gi\").test(nextGcode)\n            \n                if(temp){\n                    tempHaveChild=true\n                }\n            }\n        }\n\n\n        const isChildren=new RegExp(\"^\"+clickGcode+\"\\/\",\"gi\").test(j.gcode)\n\n        const tempObj={...remaining,\n            open:j.level==1||j.gcode==clickGcode||(isChildren&&tempHaveChild)?true:false,\n            show:j.level==1||j.level==2||isChildren?true:false,\n            haveChild:tempHaveChild\n        }\n        tempArray=[...tempArray,tempObj]\n    })\n\n    return tempArray\n\n}\n//--------------------------\n\n//--------------------------\nconst checkEditGroup=(groupSt)=>{\n    let value=false\n    if(groupSt){\n        if(groupSt.editGroup){\n            value=true\n        }\n    }\n    return value\n}\n//--------------------------\nconst checkEditGroupColor=(i,groupSt,newColor)=>{\n\n    let color={color:\"black\"}\n    if(groupSt){\n        if(groupSt.editGroup){\n            if(groupSt.editGroup.id==i.id){\n                color={color:newColor?newColor:\"red\"}\n            }\n        }\n    }\n    return color\n}\n//=========================\nconst closeFolder=(array,i)=>{\n    let tempArray=[]\n\n    array.map((j,idx)=>{\n        \n        if(j.gcode==i.gcode){\n            const tempObj={...j,open:false}\n            tempArray=[...tempArray,tempObj]\n        }\n        else{\n            const isChildren=new RegExp(\"^\"+i.gcode+\"\\/\",\"gi\").test(j.gcode)\n\n            if(isChildren){\n                const tempObj={...j,show:false}\n                tempArray=[...tempArray,tempObj]\n            }\n            else{\n                tempArray=[...tempArray,j]\n            }\n        }\n\n    })\n    return tempArray\n}\n//=========================\nconst openFolder=(array,i)=>{\n    let tempArray=[]\n    const clickGcode=i.gcode\n\n    array.map((j,idx)=>{\n        \n        if(j.gcode==i.gcode){\n            const tempObj={...j,open:true}\n            tempArray=[...tempArray,tempObj]\n        }\n        else{\n            const isChildren=new RegExp(\"^\"+i.gcode+\"\\/\",\"gi\").test(j.gcode)\n            if(isChildren&&j.level==i.level+1){\n                const tempObj={...j,show:true}\n                tempArray=[...tempArray,tempObj]\n            }\n            else{\n                tempArray=[...tempArray,j]                \n            }\n        }\n    })\n    return tempArray\n}\n//=========================\nconst loadMainGroup=(i,dataUrl,myheader)=>{\n\n    console.log('loadMainGroup')\n    //--------------------------------\n    return new Promise((resolve,reject)=>{\n        \n            const temp={\n                $or:[\n                    {\n                    [\"gcode\"]:{$regex:i.gcode,\n                            $options:'gi' }\n                    },\n                    {\n                    $or:[{level:1},{level:2},{level:3}]    \n                    }\n                ]\n            }\n            const qry={sort:{gcode:1},...temp}//$or:[{level:1},{level:2}]},\n\n            axios.post(`/${dataUrl}/getcustom`,qry,myheader)\n            .then(result=>{\n                //console.log('result.....')\n                //console.log(result.data.data)\n                resolve(result.data.data)\n            })\n            .catch(error=>{\n                //console.log('error')\n                //console.log(error)\n                reject(error)\n            })\n    \n    })\n}\n\n\n\nconst newGroupUtil={\n    genTree,\n    genTreeWithI,\n    checkEditGroup,\n    checkEditGroupColor,\n    closeFolder,\n    openFolder,\n    loadMainGroup\n}\n  \nexport default newGroupUtil\n  ","const blankData={\n    id:\"\",date:new Date().toISOString().substring(0,10),\n    remindDate:\"\",branch:\"\",\n    transactionName:\"\",transactionType:\"\",transactionCode:\"\",\n    transactionGroupType:\"\",transactionStatus:\"\",reference:\"\",\n    active:\"active\",\n    effectStock:\"unChange\", effectSpending:\"unChange\", effectCustomerPoint:\"unChange\",\n    photoUrl1:[\"\"],partnerId:\"\",partnerType:\"\",\n    title:\"\",name:\"\",phone:[\"\"], \n    address:{number:\"\",tambon:\"\",district:\"\",province:\"\",postcode:\"\"},       \n    remark:\"\",total:0,reduction:0,grandTotal:0,\n    tax:[],\n    detail:[\n        { id:\"\",barcode:\"\",productName:\"\",\n          groupId:\"\",groupName:\"\",\n          unit:\"\",price:0,\n          priceLevel:[{price:\"\",remark:\"\"}],\n          quantity:1,result:0,remark:\"\",isRawMat:true,\n          partnerId:\"\",name:\"\"\n        }\n    ],\n    editExistingBill:false\n}\n\n\n\nconst filterDataTemplate={\n    data0:null, \n    detail0:null,\n    count:0, \n    lastRecordId:null,\n    showRange:true, \n\n    widthLeft:25, \n    heightTop:70,\n    \n    pageNumber:1, \n    limitRow:10, \n    sort:{id:1},\n    qry:{}, \n    reloadData:true\n}\n\n\nconst basicData={\n\n    shopInfo:{\n        name:\"\",\n        nameActive:true,\n        address:\"123    \",\n        addressActive:true,\n        contact:\"1234 4567\",\n        contactActive:true,\n        branch:\"\",\n        branchActive:true,\n        other:\"\",\n        otherActive:false,\n        photoUrl1:[\"https://picsum.photos/id/7/300/200\"],\n        logoActive:true\n    },\n\n\n    id:1,\n\n    branch:[\"\",\"1\"],\n    customerType:[\"\",\"\"],\n\n    unit:[\"\",\"\",\"\"],\n    title:[\"\",\"\",\"\"],\n    billType:[\"\"],\n    \n    table:[\"T1\",\"T2\",\"T3\"],\n    tableStatus:[\"\",\"\",\"\"],\n    jobStatus:[\"\",\"\"],\n    billStatus:[\"\",\"\",\"\"],\n\n    paymentType:[\"\",\"\"],\n\n    tax:[{\n        taxName:\"vat\",\n        taxActive:true,\n        taxRate:7,\n    }],\n    \n    reduction:[\n        {\n        reductionName:\"\",\n        type:\"number\",\n        rate:\"200\",\n        remark:\"\"\n        },\n        {\n        reductionName:\"101\",\n        type:\"number\",\n        rate:\"200\",\n        remark:\"\"\n        },\n    ],\n    userLevel:[\"admin\",\"staff\",\"visitor\"]\n}\n\n\nconst data={basicData,filterDataTemplate,blankData}\n\nexport default data","import React from 'react';\nimport { BsTelephoneForward } from 'react-icons/bs';\nimport {FaFolderPlus,FaFolder,FaFolderOpen,FaCheck,FaBan,\n       FaCaretDown,FaCaretUp,FaLaptopHouse} from 'react-icons/fa';\nimport {MdSearch,MdRefresh,MdEdit} from 'react-icons/md';\n\nimport axios from 'axios';\nimport newGroupUtil  from './newGroupUtil';\n\nconst {\n    genTree,\n    genTreeWithI,\n    checkEditGroup,\n    checkEditGroupColor,\n    closeFolder,\n    openFolder,\n    loadMainGroup\n} = newGroupUtil\n\n\nfunction ModalEditTreeForm(props) {\n\nconst {\n      loadData,\n      submitFunc,\n      cancelFunc,      \n      pageData,\n      dataUrl,\n      myheader,\n} = props\n\n//========================\n\nlet [inputState,setInputState]=React.useState(loadData)\n\nconst [groupSt,setGroupSt]=React.useState({\n    tree:null,\n    reloadGroup:true,\n    editGroup:null,\n    lastRecordId:0,\n    qry:{   sort:{gcode:1},\n            $or:[{level:1},{level:2},{level:3}]\n        },\n})\n\nconst [showEditParent,setShowEditParent]=React.useState(false)\nconst [showEditGroupName,setShowEditGroupName]=React.useState(false)\nconst [showMdEdit,setShowMdEdit]=React.useState(true)\nconst [isReady,setIsReady]=React.useState(false)\n\nReact.useEffect(()=>{\n\n    if(groupSt.reloadGroup){\n        //axios.post(`/${dataUrl}/getcustom`,groupSt.qry,myheader)\n        axios.post(`/${dataUrl}/getcustom`,groupSt.qry,myheader)\n        .then(result=>{\n            //console.log('result')\n            //console.log(result.data)\n            setGroupSt({...groupSt,\n                tree:genTree(result.data.data),\n                reloadGroup:false,\n                lastRecordId:result.data.lastRecordId\n            })\n        })\n        .catch(error=>{\n            console.log('error')\n        })\n    }\n\n},[groupSt])\n\nReact.useEffect(()=>{\n    \n    console.log('editGroup')\n    console.log(groupSt.editGroup)\n\n    if(groupSt.editGroup){\n\n        const isChildren=new RegExp(\"^\"+loadData.gcode+\"*\",\"gi\").test(groupSt.editGroup.gcode)\n        \n        if(!isChildren){\n            const newParent=groupSt.editGroup.gcode   \n            const newGcode=newParent+\"/\"+loadData.groupName\n            const tempLevel=newGcode.split(\"/\").length   \n            //console.log(newGcode)\n            setInputState({...loadData,gcode:newGcode,level:tempLevel})\n            setIsReady(true)\n        }\n    }\n\n},[groupSt.editGroup])\n\nReact.useEffect(()=>{\n   //console.log('inputState')\n   //console.log(inputState)\n},[inputState])\n\n//========================\n\nconst renderTree=(array)=>{\n    return(\n        array.map((i,idx)=>{\n            const {id,show,gcode,level,groupName,\n                   open,haveChild}=i\n            return (\n            show\n            ?<div key={idx}\n                  style={{display:\"flex\",marginLeft:`${level}rem`}}>\n                    {open\n                    ?<FaFolderOpen className=\"sm-icon\"\n                        onClick={e=>{\n                            if(i.level>2){\n                                setGroupSt({\n                                    ...groupSt,\n                                    tree:closeFolder(groupSt.tree,i)\n                                })\n                            }\n                           \n                            if(i.level==2){\n                                //console.log('ssssss')\n                                //console.log(i)\n                                \n                                let tempArray=[]\n                                groupSt.tree.map(j=>{\n                                    const isChildren=new RegExp(\"^\"+i.gcode+\"*\",\"gi\").test(j.gcode)\n\n                                    if(isChildren){\n                                        let tempObj\n                                        if(j.level==2){\n                                            tempObj={...j,open:false}\n                                            tempArray=[...tempArray,tempObj]\n                                        }\n                                        else {\n                                            tempObj={...j,show:false}\n                                            tempArray=[...tempArray,tempObj]\n                                        }\n                                    }\n                                    else{\n                                        tempArray=[...tempArray,j]\n                                    }\n                                    \n                                })\n                                setGroupSt({\n                                    ...groupSt,\n                                    tree:tempArray\n                                })\n                            }\n                        }}\n                     />\n                     :haveChild\n                     ?<FaFolderPlus className=\"sm-icon\"\n                         onClick={e=>{   \n                            if(i.level>2){ \n                                setGroupSt({\n                                    ...groupSt,\n                                    tree:openFolder(groupSt.tree,i)\n                                })\n                            }\n                          \n                         }}\n                     />\n                     :<FaFolder className=\"sm-icon\"\n                         onClick={e=>{\n                             console.log('tttttt')\n                         }}\n                     />\n                    \n                    }\n                    <div style={{display:\"flex\"}}>\n                        <div style={checkEditGroupColor(i,groupSt,\"green\")}\n                            onClick={e=>{\n                            //if(canGroupChange){\n                                const isChildren=new RegExp(\"^\"+loadData.gcode+\"*\",\"gi\")\n                                                 .test(i.gcode)\n\n                                if(i.level==2&&i.haveChild){\n                                    \n                                    loadMainGroup(i,dataUrl,myheader)\n                                    .then(result=>{\n                                        //console.log('loadMainGroup')\n                                        //console.log(result)\n                                        setGroupSt({...groupSt,\n                                            editGroup:isChildren?null:i,\n                                            tree:genTreeWithI(result,i)\n                                        })\n\n                                    })\n                                    \n                                }\n                                else if(i.level>1){\n                                    setGroupSt({...groupSt,\n                                        editGroup:isChildren?null:i,\n                                    })\n                                }\n                            //}\n                            //else{\n                                \n                            //}\n                        }}>\n                            {`${id}.${groupName}`}\n                        </div>\n                        \n                    </div>\n             </div>\n            :null\n            )\n        })\n    )\n}\n\n//========================\nconst renderBody=()=>{\n    return (\n        <div className=\"w100 h-100\" style={{display:\"flex\"}}>\n           \n            <div className=\"\" \n                style={{width:\"50%\",height:\"100%\",padding:\"0.5rem\",\n                        overflowY:\"scroll\",overflowX:\"auto\"}}>\n                \n                {showEditParent&&\n                <h5>{pageData.treeTitle}</h5> \n                }\n                { groupSt.tree&&showEditParent&&\n                    renderTree(groupSt.tree)\n                }\n           </div>\n            \n  \n           <div className=\"\" style={{width:\"50%\",padding:\"0.5rem\"}}>\n  \n                 <div className=\"flex-center-center jc-start w-100\"\n                      style={{marginBottom:\"0.5rem\"}}\n                 >\n                     <div className=\"xc4\"> {pageData.id} </div>\n                     <div className=\"xc8\">\n                        {inputState.id}\n                     </div>\n                 </div>\n              \n                 <div className=\"flex-center-center jc-start w-100\"\n                      style={{marginBottom:\"0.5rem\"}}\n                 >\n                     <div className=\"xc4\" style={{display:\"flex\"}}> \n                        {pageData.gcode}\n                        {!showEditParent&&showMdEdit&&\n                        <MdEdit className=\"sm-icon\"\n                            onClick={e=>{\n                                setShowEditParent(true)\n                                setShowMdEdit(false)\n                            }}\n                        />\n                        } \n                     </div>\n                     <div className=\"xc8\">\n                        {showEditParent\n                         ?<input\n                             value={inputState.gcode}\n                             disabled={\"disaled\"}\n                         />\n                         :<div>\n                             {inputState.gcode}\n                         </div>\n                        }\n                     </div>\n                 </div>\n\n                 <div className=\"flex-center-center jc-start w-100\"\n                      style={{marginBottom:\"0.5rem\"}}\n                 >\n                     <div className=\"xc4\" style={{display:\"flex\"}}> \n                        {pageData.groupName} \n                        {!showEditGroupName&&showMdEdit&&\n                        <MdEdit className=\"sm-icon\"\n                            onClick={e=>{\n                                setShowEditGroupName(true)\n                                setShowMdEdit(false)\n                            }}\n                        />\n                        }\n                    </div>\n                     <div className=\"xc8\">\n                         {showEditGroupName\n                         ?<input\n                             value={inputState.groupName}\n                             onChange={e=>{\n                                 let tempArray=inputState.gcode.split(\"/\")\n                                 tempArray[tempArray.length-1]=e.target.value\n\n                                 setInputState({\n                                     ...inputState,\n                                     groupName:e.target.value,\n                                     gcode:tempArray.join(\"/\")\n                                 })\n                                 setIsReady(true)\n                             }}\n                         />\n                         :<div>\n                             {inputState.groupName}\n                          </div>\n                        }\n                     </div>\n                 </div>\n\n                 <div className=\"flex-center-center jc-start w-100\"\n                      style={{marginBottom:\"0.5rem\"}}\n                 >\n                     <div className=\"xc4\"> {pageData.level} </div>\n                     <div className=\"xc8\">\n                       {inputState.level}\n                     </div>\n                 </div>\n\n           </div>\n        </div>\n     )\n\n\n}\n//==========================\nreturn(\n    <div className=\"Modal-background\">\n       <div className=\"Modal-box\" \n            style={{width:\"90%\",height:\"90%\",overflow:\"hidden\"}}>\n    \n          <div className=\"Modal-header\" style={{width:\"100%\",height:\"5%\"}}>\n               <h4>{pageData.formHead}</h4>\n          </div>\n    \n          <div className=\"w-100 bd-pureWhite\" style={{width:\"100%\",height:\"80%\"}}>\n                   {\n                    renderBody()\n                   }\n          </div>\n          \n          <div className=\"Modal-footer\" style={{width:\"100%\",height:\"15%\"}}>\n            {isReady&&\n             <div>\n                   <button\n                      onClick={e=>{\n                        submitFunc(inputState)\n                      }}\n                   >\n                      <FaCheck/>\n                   </button>\n             </div>\n             }\n             <div>\n                   <button\n                      onClick={e=>{\n                         cancelFunc()\n                      }}\n                   >\n                      <FaBan/>\n                   </button>\n             </div>\n    \n          </div>\n        \n\n       </div>\n    </div>\n    )\n    \n    }\n    export default ModalEditTreeForm;","import React from 'react';\nimport { BsTelephoneForward } from 'react-icons/bs';\nimport {FaFolderPlus,FaFolder,FaFolderOpen,FaCheck,FaBan,\n       FaCaretDown,FaCaretUp,FaLaptopHouse} from 'react-icons/fa';\nimport {MdSearch,MdRefresh,MdEdit} from 'react-icons/md';\n\nimport axios from 'axios';\nimport newGroupUtil  from './newGroupUtil';\n\nconst {\n    genTree,\n    genTreeWithI,\n    checkEditGroup,\n    checkEditGroupColor,\n    closeFolder,\n    openFolder,\n    loadMainGroup\n} = newGroupUtil\n\n\nfunction ModalAddTreeForm(props) {\n\nconst {\n      loadData,\n      submitFunc,\n      cancelFunc,      \n      pageData,\n      dataUrl,\n      myheader,\n} = props\n\n//========================\n\nlet [inputState,setInputState]=React.useState(loadData)\n\nconst [groupSt,setGroupSt]=React.useState({\n    tree:null,\n    reloadGroup:true,\n    editGroup:null,\n    lastRecordId:0,\n    qry:{   sort:{gcode:1},\n            $or:[{level:1},{level:2},{level:3}]\n        },\n})\n\n//const [showEditParent,setShowEditParent]=React.useState(false)\n//const [showEditGroupName,setShowEditGroupName]=React.useState(false)\n//const [showMdEdit,setShowMdEdit]=React.useState(true)\n//const [isReady,setIsReady]=React.useState(false)\n\nReact.useEffect(()=>{\n\n    if(groupSt.reloadGroup){\n        //axios.post(`/${dataUrl}/getcustom`,groupSt.qry,myheader)\n        axios.post(`/${dataUrl}/getcustom`,groupSt.qry,myheader)\n        .then(result=>{\n            //console.log('result')\n            //console.log(result.data)\n            setGroupSt({...groupSt,\n                tree:genTree(result.data.data),\n                reloadGroup:false,\n                lastRecordId:result.data.lastRecordId\n            })\n        })\n        .catch(error=>{\n            console.log('error')\n        })\n    }\n\n},[groupSt])\n\nReact.useEffect(()=>{\n    \n    if(groupSt.editGroup){\n\n        const isChildren=new RegExp(\"^\"+loadData.gcode+\"*\",\"gi\").test(groupSt.editGroup.gcode)\n        \n        if(!isChildren){\n            const newParent=groupSt.editGroup.gcode   \n            const newGcode=newParent+\"/\"+loadData.groupName\n        \n            //console.log(newGcode)\n            setInputState({...loadData,gcode:newGcode})\n        }\n    }\n\n},[groupSt.editGroup])\n\nReact.useEffect(()=>{\n   //console.log('inputState')\n   //console.log(inputState)\n},[inputState])\n\n//========================\n\nconst renderTree=(array)=>{\n    return(\n        array.map((i,idx)=>{\n            const {id,show,gcode,level,groupName,\n                   open,haveChild}=i\n            return (\n            show\n            ?<div key={idx}\n                  style={{display:\"flex\",marginLeft:`${level}rem`}}>\n                    {open\n                    ?<FaFolderOpen className=\"sm-icon\"\n                        onClick={e=>{\n                            if(i.level>2){\n                                setGroupSt({\n                                    ...groupSt,\n                                    tree:closeFolder(groupSt.tree,i)\n                                })\n                            }\n                           \n                            if(i.level==2){\n                                //console.log('ssssss')\n                                //console.log(i)\n                                \n                                let tempArray=[]\n                                groupSt.tree.map(j=>{\n                                    const isChildren=new RegExp(\"^\"+i.gcode+\"*\",\"gi\").test(j.gcode)\n\n                                    if(isChildren){\n                                        let tempObj\n                                        if(j.level==2){\n                                            tempObj={...j,open:false}\n                                            tempArray=[...tempArray,tempObj]\n                                        }\n                                        else {\n                                            tempObj={...j,show:false}\n                                            tempArray=[...tempArray,tempObj]\n                                        }\n                                    }\n                                    else{\n                                        tempArray=[...tempArray,j]\n                                    }\n                                    \n                                })\n                                setGroupSt({\n                                    ...groupSt,\n                                    tree:tempArray\n                                })\n                            }\n                        }}\n                     />\n                     :haveChild\n                     ?<FaFolderPlus className=\"sm-icon\"\n                         onClick={e=>{   \n                            if(i.level>2){ \n                                setGroupSt({\n                                    ...groupSt,\n                                    tree:openFolder(groupSt.tree,i)\n                                })\n                            }\n                          \n                         }}\n                     />\n                     :<FaFolder className=\"sm-icon\"\n                         onClick={e=>{\n                             console.log('tttttt')\n                         }}\n                     />\n                    \n                    }\n                    <div style={{display:\"flex\"}}>\n                        <div style={checkEditGroupColor(i,groupSt,\"green\")}\n                            onClick={e=>{\n                            //if(canGroupChange){\n                                //const isChildren=new RegExp(\"^\"+loadData.gcode+\"*\",\"gi\").test(i.gcode)\n\n                                if(i.level==2){\n                                    \n                                    loadMainGroup(i,dataUrl,myheader)\n                                    .then(result=>{\n                                        //console.log('loadMainGroup')\n                                        //console.log(result)\n                                        setGroupSt({...groupSt,\n                                            editGroup:i,\n                                            tree:genTreeWithI(result,i)\n                                        })\n\n                                    })\n                                    \n                                }\n                                else if(i.level==1||i.level>2){\n                                    setGroupSt({...groupSt,\n                                        editGroup:i,\n                                    })\n                                }\n                              \n                            \n                        }}>\n                            {`${id}.${groupName}`}\n                        </div>\n                        \n                    </div>\n             </div>\n            :null\n            )\n        })\n    )\n}\n\n//========================\nconst renderBody=()=>{\n    return (\n        <div className=\"w100 h-100\" style={{display:\"flex\"}}>\n           \n            <div className=\"\" \n                style={{width:\"50%\",height:\"100%\",padding:\"0.5rem\",\n                        overflowY:\"scroll\",overflowX:\"auto\"}}>\n                \n                \n                <h5>{pageData.treeTitle}</h5> \n                \n                { groupSt.tree&&\n                    renderTree(groupSt.tree)\n                }\n           </div>\n            \n  \n           <div className=\"\" style={{width:\"50%\",padding:\"0.5rem\"}}>\n  \n                 <div className=\"flex-center-center jc-start w-100\"\n                      style={{marginBottom:\"0.5rem\"}}\n                 >\n                     <div className=\"xc4\"> {pageData.id} </div>\n                     <div className=\"xc8\">\n                        <input\n                             type=\"number\"\n                             value={inputState.id}\n                             onChange={e=>{\n                                 setInputState({...inputState,\n                                    id:e.target.value\n                                })\n                             }}\n                         />\n                     </div>\n                 </div>\n              \n                 <div className=\"flex-center-center jc-start w-100\"\n                      style={{marginBottom:\"0.5rem\"}}\n                 >\n                     <div className=\"xc4\" style={{display:\"flex\"}}> \n                        {pageData.gcode}\n                       \n                     </div>\n                     <div className=\"xc8\">\n                       <input\n                             value={inputState.gcode}\n                             disabled={\"disaled\"}\n                             onChange={e=>{\n\n                             }}\n                         />\n                         \n                     </div>\n                 </div>\n\n                 <div className=\"flex-center-center jc-start w-100\"\n                      style={{marginBottom:\"0.5rem\"}}\n                 >\n                     <div className=\"xc4\" style={{display:\"flex\"}}> \n                        {pageData.groupName} \n                      \n                    </div>\n                     <div className=\"xc8\">\n                         <input\n                             type=\"text\"\n                             value={inputState.groupName}\n                             onChange={e=>{\n                                if(inputState.gcode){\n                    \n                                    let tempArray=inputState.gcode.split(\"/\")\n                                    tempArray[tempArray.length-1]=e.target.value\n                                    const tempLevel=tempArray.length\n                                    setInputState({\n                                        ...inputState,\n                                        groupName:e.target.value,\n                                        gcode:tempArray.join(\"/\"),\n                                        level:tempLevel\n                                    })\n                                }\n                    \n                             }}\n                         />\n                     </div>\n                 </div>\n\n                 <div className=\"flex-center-center jc-start w-100\"\n                      style={{marginBottom:\"0.5rem\"}}\n                 >\n                     <div className=\"xc4\"> {pageData.level} </div>\n                     <div className=\"xc8\">\n                        <input\n                             value={inputState.level}\n                             disabled={\"disaled\"}\n                             onChange={e=>{\n                                 \n                             }}\n                         />\n                     </div>\n                 </div>\n\n           </div>\n        </div>\n     )\n\n\n}\n//==========================\nreturn(\n    <div className=\"Modal-background\">\n       <div className=\"Modal-box\" \n            style={{width:\"90%\",height:\"90%\",overflow:\"hidden\"}}>\n    \n          <div className=\"Modal-header\" style={{width:\"100%\",height:\"5%\"}}>\n               <h4>{pageData.formHead}</h4>\n          </div>\n    \n          <div className=\"w-100 bd-pureWhite\" style={{width:\"100%\",height:\"80%\"}}>\n                   {\n                    renderBody()\n                   }\n          </div>\n          <div className=\"Modal-footer\" style={{width:\"100%\",height:\"15%\"}}>\n             <div> {inputState.level&&\n                   <button\n                      onClick={e=>{\n                        if(inputState.level>0){\n                            submitFunc(inputState)\n                        }\n                      }}\n                   >\n                      <FaCheck/>\n\n                   </button>\n                  }\n             </div>\n             <div>\n                   <button\n                      onClick={e=>{\n                         cancelFunc()\n                      }}\n                   >\n                      <FaBan/>\n                   </button>\n             </div>\n    \n          </div>\n\n       </div>\n    </div>\n    )\n    \n    }\n    export default ModalAddTreeForm;","\nimport React from 'react';\nimport {MainContext} from '../../context/MainContext'\nimport {FaFolderPlus,FaFolder,FaFolderOpen, FaCaretDown,FaCaretUp,FaLaptopHouse} from 'react-icons/fa';\nimport {MdRefresh,MdEdit,MdAddCircle,MdDelete,MdFolderSpecial, MdZoomIn,MdSearch} from 'react-icons/md';\nimport {RiShareForwardLine} from 'react-icons/ri'\nimport ModalConfirm from '../../render/ModalConfirm';\nimport ModalEditGroupForm from './ModalEditGroupForm'\nimport ModalAddGroupForm from './ModalAddGroupForm'\nimport Ticon from '../../component/ticon/Ticon'\n\nimport axios from 'axios';\nimport newGroupUtil  from './newGroupUtil';\n\nconst {\n    genTree,\n    genTreeWithI,\n    checkEditGroup,\n    checkEditGroupColor,\n    closeFolder,\n    openFolder,\n    loadMainGroup\n} = newGroupUtil\n\nfunction NewGroup(props) {\n\nconst {myheader,dataUrl,filterByGroupId,captureEditGroup,canGroupChange,bgColor,pageData}=props\n\nconsole.log('NewGroup')\n\nconst {groupPage,editGroupForm,addGroupForm}=pageData\n\n/*\nconst groupPage={\n    formHead:\"\"\n}\n\nconst editGroupForm={\n    formHead:\"\",\n    treeTitle:\"\",\n    id:\"\",\n    gcode:\"\",\n    groupName:\"\",\n    level:\"\",\n}\n\nconst addGroupForm={\n    formHead:\"\",\n    treeTitle:\"\",\n    id:\"\",\n    gcode:\"\",\n    groupName:\"\",\n    level:\"\"\n}\n*/\n\nconst blankData={\n    id:null,\n    gcode:null,\n    level:null,\n    groupName:\"\"\n}\n\nconst [groupSt,setGroupSt]=React.useState({\n    tree:null,\n    reloadGroup:true,\n    editGroup:null,\n    qry:{   sort:{gcode:1},\n            $or:[{level:1},{level:2},{level:3}]\n        },\n    lastRecordId:0,\n    showAddForm:false,\n    showEditForm:false,\n    showConfirm:false,\n    showError:false\n})\nconst [showTree,setShowTree]=React.useState(true)\n\n//---------------------\nconst submitAddGroupFunc=(inputState)=>{\n    axios.post(`/${dataUrl}/addcustom`,inputState,myheader)\n    .then(result=>{\n        setGroupSt({...groupSt,\n            reloadGroup:true,\n            showAddForm:false,\n            //editGroup:null\n        })\n    })\n    .catch(error=>{\n        console.log('error')\n        console.log(error)\n    })\n\n}\n//---------------------\nconst submitUpdateGroupFunc=(inputState)=>{\n    console.log('submitUpdateGroupFunc')\n\n    let tempDeleteArray=[]\n    let tempArray=[]\n\n    groupSt.tree.map(i=>{\n     \n        if(i.id==inputState.id){\n            const newGcode=i.gcode.replace(groupSt.editGroup.gcode,inputState.gcode)\n            const newLevel=newGcode.split(\"/\").length\n            \n            tempArray=[...tempArray,\n                {...i,\n                    level:newLevel,\n                    gcode:newGcode,\n                    groupName:inputState.groupName}\n              ]\n            tempDeleteArray=[...tempDeleteArray,i.id]\n        }\n        else{\n            const newGcode=i.gcode.replace(groupSt.editGroup.gcode,inputState.gcode)\n            const newLevel=newGcode.split(\"/\").length\n\n            const isChildren=new RegExp(\"^\"+groupSt.editGroup.gcode+\"\\/\",\"gi\").test(i.gcode)\n            if(isChildren){\n                tempArray=[...tempArray,\n                    {...i,\n                        level:newLevel,\n                        gcode:newGcode}\n                  ]\n                tempDeleteArray=[...tempDeleteArray,i.id]\n            }\n        }\n    })\n    //console.log(tempArray)\n    //console.log(tempDeleteArray)\n    \n    if(tempDeleteArray.length>0){\n\n        const qry={\n            toDelete:{id:{$in:tempDeleteArray}},\n            toUpdate:tempArray\n        }\n\n        axios.post(`/${dataUrl}/updategroup`,qry,myheader)\n        .then(result=>{\n            setGroupSt({...groupSt,\n                reloadGroup:true,\n                showEditForm:false,\n                editGroup:null\n            })\n        })\n        .catch(error=>{\n            console.log('error')\n            console.log(error)\n        })\n    }\n    \n}\n//-------------------------\nconst submitDeleteGroupFunc=()=>{\n    console.log(groupSt.editGroup)\n    //const {id,parentId,allDeleteId}=req.body\n    //const isChildren=new RegExp(\"^\"+groupSt.editGroup.gcode+\"*\",\"gi\").test(i.gcode)\n    let tempArray=[groupSt.editGroup.id]\n\n    groupSt.tree.map(i=>{\n        if(i.level>groupSt.editGroup.level){\n            const isChildren=new RegExp(\"^\"+groupSt.editGroup.gcode+\"\\/\",\"gi\").test(i.gcode)\n            if(isChildren){\n                tempArray=[...tempArray,i.id]\n            }\n        }\n        \n    })\n\n    //console.log(tempArray)\n    const qry={allDeleteId:tempArray}\n    axios.post(`/${dataUrl}/deletegroup`,qry,myheader)\n    .then(result=>{\n        setGroupSt({...groupSt,\n            reloadGroup:true,\n            editGroup:null,\n            showConfirm:false\n        })\n    })\n    .catch(error=>{\n        console.log('error')\n    })\n    \n}\n\n\n//-------------------------\nReact.useEffect(()=>{\n\n    if(groupSt.reloadGroup){\n        //axios.post(`/${dataUrl}/getcustom`,groupSt.qry,myheader)\n        axios.post(`/${dataUrl}/getcustom`,groupSt.qry,myheader)\n        .then(result=>{\n            //console.log('result')\n            //console.log(result.data)\n            setGroupSt({...groupSt,\n                tree:genTree(result.data.data),\n                reloadGroup:false,\n                lastRecordId:result.data.lastRecordId\n            })\n        })\n        .catch(error=>{\n            console.log('error')\n        })\n    }\n\n},[groupSt])\n\n//------------------------------\n\nconst renderTree=(array)=>{\n    return(\n        array.map((i,idx)=>{\n            const {id,show,gcode,level,groupName,\n                   open,haveChild}=i\n            return (\n            show\n            ?<div key={idx}\n                  style={{display:\"flex\",marginLeft:`${level}rem`}}>\n                    {open\n                    ?<FaFolderOpen className=\"sm-icon\"\n                        onClick={e=>{\n                            if(i.level>2){\n                                setGroupSt({\n                                    ...groupSt,\n                                    tree:closeFolder(groupSt.tree,i)\n                                })\n                            }\n                           \n                            if(i.level==2){\n                                //console.log('ssssss')\n                                //console.log(i)\n                                \n                                let tempArray=[]\n                                groupSt.tree.map(j=>{\n                                    const isChildren=new RegExp(\"^\"+i.gcode+\"\\/\",\"gi\").test(j.gcode)\n\n                                    if(i.id==j.id){\n                                        const tempObj={...j,open:false}\n                                        tempArray=[...tempArray,tempObj]\n                                    }\n                                    else if(isChildren){\n                                        const tempObj={...j,show:false}\n                                        tempArray=[...tempArray,tempObj]\n                                    }\n                                    else{\n                                        tempArray=[...tempArray,j]\n                                    }\n                                    \n                                })\n                                setGroupSt({\n                                    ...groupSt,\n                                    tree:tempArray\n                                })\n                            }\n                        }}\n                     />\n                     :haveChild\n                     ?<FaFolderPlus className=\"sm-icon\"\n                         onClick={e=>{   \n                            if(i.level>2){ \n                                setGroupSt({\n                                    ...groupSt,\n                                    tree:openFolder(groupSt.tree,i)\n                                })\n                            }\n                          \n                         }}\n                     />\n                     :<FaFolder className=\"sm-icon\"\n                         onClick={e=>{\n                             console.log('tttttt')\n                         }}\n                     />\n                    \n                    }\n                    <div style={{display:\"flex\"}}>\n                        <div style={checkEditGroupColor(i,groupSt)}\n                            onClick={e=>{\n                            if(canGroupChange){\n                                if(i.level==2&&i.haveChild){\n                                    \n                                    loadMainGroup(i,dataUrl,myheader)\n                                    .then(result=>{\n                                        //console.log('loadMainGroup')\n                                        //console.log(result)\n                                        setGroupSt({...groupSt,\n                                            editGroup:i,\n                                            tree:genTreeWithI(result,i)\n                                        })\n                                    })\n                                    \n                                }\n                                if(i.level==2){\n                                    setGroupSt({...groupSt,\n                                        editGroup:i})\n                                }\n                                else if(i.level>2){\n                                    setGroupSt({...groupSt,\n                                        editGroup:i})\n                                }\n                            }\n                            else{\n                                \n                            }\n                        }}>\n                            {`${groupName}`}\n                        </div>\n                        <MdSearch className=\"sm-icon\" \n                            style={{marginLeft:\"1rem\"}}\n                            onClick={e=>{\n                                filterByGroupId(i)\n                            }}\n                        />\n                    </div>\n             </div>\n            :null\n            )\n        })\n    )\n}\n\n\nconst renderBadge=()=>{\n    return (\n    <div className=\"\"\n        style={{height:\"2rem\",width:\"100%\",\n                display:\"flex\",backgroundColor:bgColor\n        }}\n    >\n        <div className=\"iconbox\"\n             onClick={e=>{\n                setGroupSt({...groupSt,\n                    reloadGroup:true,\n                    editGroup:null\n                })\n            }}\n        >\n            <Ticon \n                iconName=\"MdRefresh\" \n                className=\"sm-icon\"\n                textStyle={{color:\"black\"}}\n               \n            />\n        </div>\n     \n        {canGroupChange&&\n        <div className=\"iconbox\"\n            onClick={e=>{\n                setGroupSt({\n                        ...groupSt,\n                        showAddForm:true\n                })\n            }}\n        >\n            <Ticon \n                iconName=\"MdAddCircle\" \n                className=\"sm-icon\"\n                textStyle={{color:\"black\"}}\n\n            />\n        </div>\n        }\n        {checkEditGroup(groupSt)&&canGroupChange&&\n        <div className=\"iconbox\"\n            onClick={e=>{\n                setGroupSt({\n                    ...groupSt,\n                    showEditForm:true\n                })\n            }}\n        >\n            <Ticon\n                iconName=\"MdEdit\" \n                className=\"sm-icon\"\n                textStyle={{color:\"black\"}}\n\n            />\n        </div>\n        }\n        {checkEditGroup(groupSt)&&canGroupChange&&\n        <div className=\"iconbox\"\n            onClick={e=>{\n                setGroupSt({\n                    ...groupSt,\n                    showConfirm:true\n                })\n            }}\n        >\n            <Ticon\n                iconName=\"MdDelete\" \n                className=\"sm-icon\"\n                textStyle={{color:\"black\"}}\n\n            />\n        </div>\n        }\n        {checkEditGroup(groupSt)&&canGroupChange&&\n        <div className=\"iconbox\"\n            onClick={e=>{\n                captureEditGroup(groupSt.editGroup)\n            }}\n        >\n            <   Ticon\n                iconName=\"RiShareForwardLine\" \n                className=\"sm-icon\"\n                textStyle={{color:\"black\"}}\n\n            />\n        </div>\n        }\n        \n    </div>\n    )\n}\n\n\n//=============================\nreturn(\n<div className=\"\"\n     style={{height:\"100%\",width:\"100%\"}}>\n\n    <div className=\"flex-center-center\"\n        style={{height:\"\",width:\"100%\"}}\n    >   \n        \n        <div className=\"flex-center-center\">\n            <h5>{groupPage.formHead}</h5>\n            {\n                showTree\n                ?<FaCaretDown className=\"sm-icon\"\n                    onClick={e=>setShowTree(!showTree)}\n                />\n                :<FaCaretUp className=\"sm-icon\"\n                    onClick={e=>setShowTree(!showTree)}\n                />\n            }\n        </div>\n        \n        {showTree&&groupSt.tree&&\n            renderBadge()\n        }\n\n        {showTree&&groupSt.tree&&\n        <div style={{height:\"95%\",width:\"100%\"}}\n        >\n            {\n             renderTree(groupSt.tree)\n            }\n        </div>\n        }\n        \n        {groupSt.showEditForm&&\n            <ModalEditGroupForm\n                loadData={groupSt.editGroup}\n                submitFunc={submitUpdateGroupFunc}\n                cancelFunc={()=>setGroupSt({...groupSt,showEditForm:false})}\n                //setTree={setTree}\n                myheader={myheader}\n                pageData={editGroupForm}\n                dataUrl={dataUrl}\n            />\n        }\n\n        {groupSt.showAddForm&&\n            <ModalAddGroupForm\n                loadData={{...blankData,id:parseInt(groupSt.lastRecordId)+1}}\n                submitFunc={submitAddGroupFunc}\n                cancelFunc={()=>setGroupSt({...groupSt,showAddForm:false})}\n                //setTree={setTree}\n                myheader={myheader}\n                pageData={addGroupForm}\n                dataUrl={dataUrl}\n            />\n        }\n\n        {groupSt.showConfirm&&\n            <ModalConfirm\n                setShow={(data)=>{setGroupSt({...groupSt,showConfirm:data})}}\n                submitFunction={submitDeleteGroupFunc}\n            />\n        }\n\n    </div>\n</div>\n\n\n)\n}\n\nNewGroup.defaultProps={\n    myheader:null,\n    dataUrl:\"\",\n    filterByGroupId:()=>{},\n    captureEditGroup:()=>{},\n    canGroupChange:true,\n    bgColor:\"#72a2d9\"\n}\n\n\nexport default NewGroup;\n\n\n\n","import React from 'react';\nimport NewGroupComponent from '../../render/renderTree/NewGroupComponent'\n//import NewTree from '../../component/newtree/NewTree'\nimport NewGroup from '../../component/newgroup/NewGroup';\nimport pageUtil from '../../component/pageComponent/pageUtil'\nimport filterDataTemplate from './filterDataTemplate'\nimport {MainContext} from '../../context/MainContext'\n\nconst {reloadAxiosAll,saveTableTemplate,updateFilterData,\n    submitFunctionEdit,submitFunctionAdd,filterAxios,\n    setUnSelectAll,submitFunctionDelete\n} = pageUtil\n//==================================\nfunction BillGroupComponent(props) {\n\nconst {captureProductOfGroup,pageData}=props\n\nconst {basicDataSt,\n        setReloadBasicData,\n        myheader,\n        setBasicData\n        //widthLeft,setWidthLeft\n}=React.useContext(MainContext)\n\nconsole.log('BillGroupComponent')\n\nlet [filterData,setFilterData]=React.useState({...filterDataTemplate.product})\n\nReact.useEffect(()=>{\n    //console.log('filterData BillGroupComponent')\n    //console.log(filterData)\n},[filterData])\n\n//==========================\nconst filterDataByGroup=(i)=>{\n    const {folders,...remaining}=i\n    const temp = {...filterData,pageNumber:1,qry:{groupId:i.id},selectGroup:remaining,reloadData:true}\n    setFilterData(temp)\n}\n\nconst reloadAxiosAllFunc=async()=>{\n    //console.log('reloadAxiosAllFunc..........')\n    const temp=await reloadAxiosAll(filterData,myheader)\n    //console.log(temp)\n    captureProductOfGroup(temp)\n    setFilterData(temp)\n}\n//====================\nReact.useEffect(()=>{\n    //console.log('filterData PageComponent')\n    //console.log(filterData)\n    if(filterData.reloadData){\n       reloadAxiosAllFunc()\n    }\n},[filterData])\n\n//\n//====================\nreturn(\n<div className=\"w-100\" style={{paddingBottom:\"0\"}} >\n            \n            <NewGroup\n                myheader={myheader}\n                dataUrl={\"p35group\"}\n                filterByGroupId={filterDataByGroup}\n                captureEditGroup={()=>{}}\n                bgColor={\"#d1adbf\"}\n                pageData={pageData}\n            />\n\n</div>\n\n)\n\n}\nexport default BillGroupComponent;\n//#e5d1db\n/*\n<NewGroupComponent\n    groupDataUrl={\"p35group\"}\n    selectData={null}\n    setSelectGroup={()=>{}}\n    filterDataByGroup={filterDataByGroup}\n    editData={null}\n    canGroupChange={false}\n/>\n*/\n\n\n\n","import React from 'react';\nimport pageUtil from '../../component/pageComponent/pageUtil'\nimport filterDataTemplate from './filterDataTemplate'\nimport {MainContext} from '../../context/MainContext'\nimport {MdRefresh} from 'react-icons/md';\nimport {FaPlusCircle,FaMinusCircle} from 'react-icons/fa'\n\nimport renderModalImage from '../../component/galleryone/renderModalImage';\n\nconst {reloadAxiosAll,saveTableTemplate,updateFilterData,\n    submitFunctionEdit,submitFunctionAdd,filterAxios,\n    setUnSelectAll,submitFunctionDelete\n} = pageUtil\n//==================================\nfunction BillProductGridComponent(props) {\n\nconst {selectProduct,setHideProductGridFunc,\n      captureProductListFromSelectProductInProductGrid,\n      resetProductList,setResetProductList,\n      refreshProductFunc\n}=props\n\nconst {basicDataSt,\n        setReloadBasicData,\n        myheader,\n        setBasicData\n        //widthLeft,setWidthLeft\n}=React.useContext(MainContext)\n\nconsole.log('BillProductGridComponent')\n\nlet [filterData,setFilterData]=React.useState({...filterDataTemplate.product})\nconst [productList,setProductList]=React.useState([])\n\nReact.useEffect(()=>{\n   //console.log('selectProduct')\n   //console.log(selectProduct)\n\n},[selectProduct])\n\n\n//==========================\nReact.useEffect(()=>{\n    //console.log('productList')\n    //console.log(productList)\n    captureProductListFromSelectProductInProductGrid(productList)\n},[productList])\n\nReact.useEffect(()=>{\n    if(resetProductList){\n        setProductList([])\n    }\n},[resetProductList])\n\n\nconst addToList=(i)=>{\n    let tempProductList=[]\n    let matchId=false\n\n    for (let j=0;j<productList.length;j++){\n        if(i.id==productList[j].id){\n            matchId=true\n            const tempExistingQuantity=parseInt(productList[j][\"quantity\"])\n            const tempObj={...productList[j],[\"quantity\"]:tempExistingQuantity+1}\n            tempProductList=[...tempProductList,tempObj]\n        }\n        else {\n            tempProductList=[...tempProductList,productList[j]]\n        }\n    }\n\n    if(!matchId){\n        tempProductList=[...tempProductList,\n                {...i,\n                    [\"quantity\"]:1,\n                    [\"detailTime\"]:new Date().toISOString()\n                }\n            ]\n    }\n    setResetProductList(false)\n    setProductList(tempProductList)\n} \n\nconst deleteFromList=(i)=>{\n    let tempProductList=[]\n    let matchId=false\n\n    for (let j=0;j<productList.length;j++){\n        if(i.id==productList[j].id){\n            matchId=true\n            const tempExistingQuantity=parseInt(productList[j][\"quantity\"])\n            if(tempExistingQuantity>0){\n                const tempObj={...productList[j],[\"quantity\"]:tempExistingQuantity-1}\n                tempProductList=[...tempProductList,tempObj]\n            }\n            else {\n                tempProductList=[...tempProductList,productList[j]]\n            }\n        }\n        else {\n            tempProductList=[...tempProductList,productList[j]]\n        }\n    }\n    setResetProductList(false)\n    setProductList(tempProductList)\n}\n\nconst findQuanityFromProductList=(i)=>{\n    let quantity=0\n\n    productList.map(j=>{\n        if(i.id==j.id){\n            quantity=j.quantity\n        }\n    })\n\n    return quantity\n}\n\n                //\"w-100 h-100 flex-center-center\"\n\n\n//==========================\nconst renderImage=()=>{\n    return(\n        <div className=\"grid-flex\"\n             style={{margin:\"0.2rem\"}}\n        >\n            <div className=\"grid-flextile\"\n                 style={{border:\"2px solid white\"}}\n            >\n                <div className='w-100 h-100 flex-center-center bd-blue'>\n                    <MdRefresh className=\"md-icon\"\n                        onClick={e=>refreshProductFunc({isRawMat:false})}\n                    />\n                </div>\n              \n            </div>\n            {\n                selectProduct.map((i,idx)=>{\n                    \n                            return(\n                                <div key={idx}\n                                    className=\"grid-flextile\"\n                                    style={{position:\"relative\",border:\"2px solid white\"}}\n                                >\n                                    <img \n                                        style={{width:\"100%\",height:\"100%\",borderRadius:\"0.5rem\"}}\n                                        src={i.photoUrl1}\n                                        alt={\"No Image\"}\n                                    />\n                                    <div style={{position:\"absolute\",bottom:\"0\",width:\"100%\",textAlign:\"center\",\n                                            color:\"red\",backgroundColor:\"white\",borderRadius:\"0 0 0.5rem 0.5rem\",\n                                            opacity:\"0.9\",height:\"20%\",overflow:\"hidden\"\n                                            }}\n                                    >\n                                        <p>{i.productName}</p>\n                                    </div>\n\n                                    <div style={{position:\"absolute\",top:\"0\",right:\"0\",textAlign:\"center\",\n                                                width:\"1.5rem\",height:\"1.5rem\",\n                                            color:\"white\",backgroundColor:\"red\",borderRadius:\"50%\",\n                                            opacity:\"0.9\"\n                                            }}\n                                    >\n                                        {findQuanityFromProductList(i)}\n                                    </div>\n\n\n                                    <div className=\"grid-price\" \n                                        style={{top:\"0\",display:\"flex\",justifyContent:\"center\",alignItems:\"center\",backgroundColor:\"rgba(0,0,0,0)\"}}>\n                                        <FaPlusCircle className=\"lg-icon\"\n                                            onClick={e=>addToList(i)}\n                                        />\n                                    </div>\n                                    <div className=\"grid-price\" \n                                        style={{bottom:\"0\",display:\"flex\",justifyContent:\"center\",alignItems:\"center\",backgroundColor:\"rgba(0,0,0,0)\"}}>\n                                        <FaMinusCircle className=\"lg-icon\"\n                                            onClick={e=>deleteFromList(i)}\n                                        />\n                                    </div>\n                                </div>\n                            )\n                    \n                })\n            }\n        </div>\n    )\n}\n\n//====================\nreturn(\n<div className=\"w-100\" style={{marginBottom:\"4rem\"}} >\n\n           {   selectProduct&&\n               renderImage()\n           }\n</div>\n\n)\n\n}\nexport default BillProductGridComponent;\n","import React from 'react';\nimport pageUtil from '../../component/pageComponent/pageUtil'\nimport filterDataTemplate from './filterDataTemplate'\nimport {MainContext} from '../../context/MainContext'\nimport {MdSwapHoriz} from 'react-icons/md';\nimport {FaPlusCircle,FaMinusCircle} from 'react-icons/fa'\nimport Ticon from '../../component/ticon/Ticon'\nimport { SiHandlebarsdotjs } from 'react-icons/si';\n\nconst {reloadAxiosAll,saveTableTemplate,updateFilterData,\n    submitFunctionEdit,submitFunctionAdd,filterAxios,\n    setUnSelectAll,submitFunctionDelete\n} = pageUtil\n//==================================\nfunction BillTableComponent(props) {\n\nconst {basicDataSt,transactionArray,captureBillFromTable,\n       updateAllTransaction,captureAllTransaction\n}=props\n\nconsole.log('BillTableComponent')\n\nconst {basicData}=basicDataSt\n\nconst [editTable,setEditTable]=React.useState(null)\nconst [tableIdArray,setTableIdArray]=React.useState([])\n\nReact.useEffect(()=>{\n    console.log('tableIdArray')\n    console.log(tableIdArray)\n},[tableIdArray])\n\nconst findOpenBill=(i)=>{\n    let tableCount=0\n\n    if(transactionArray){\n        transactionArray.map(j=>{\n            if(j.table==i.tableName){\n                tableCount=tableCount+1\n            }\n        })\n    }\n\n    if (tableCount==0){\n        return {tableCount:null,bgColor:\"white\"}\n    }else {\n        return {tableCount,bgColor:\"green\"}\n    }\n}\n\nconst findCustomerName=(i)=>{\n    let name=[]\n    if(transactionArray){\n        transactionArray.map(j=>{\n            if(j.table==i.tableName){\n                name=[...name,`${j.name}`]\n            }\n        })\n    }\n    return name\n}\n\nconst getBill=(i,k)=>{\n    let tempObj=null \n\n    if(transactionArray){\n        transactionArray.map(j=>{\n            if((j.table==i.tableName)&&(k==j.name)) {\n                tempObj=j\n            }\n        })\n    }\n    return tempObj\n}\n\nconst handleCheckbox=(e,j)=>{\n    //console.log('handleCheckbox')\n    //console.log(e.target.checked)\n    //console.log(j)\n    if(e.target.checked){\n        const temp1=[...tableIdArray,j.id]\n        const temp2=[...new Set(temp1)]\n        setTableIdArray(temp2)\n    }\n    else{\n        let tempArray=[]\n        tableIdArray.map(k=>{\n            if(k!=j.id){\n                tempArray=[...tempArray,k]\n            }\n        })\n        setTableIdArray(tempArray)\n    }\n}\n\n//==========================\nconst renderTable=()=>{\n    return(\n        <div className=\"grid-flex\"\n             style={{margin:\"0.2rem 0\"}}\n        >\n            {\n                basicData.table.map((i,idx)=>{\n                    \n                    let tempBillArray=[]\n                    transactionArray.map(j=>{ \n                        if(j.table==i.tableName){\n                            tempBillArray=[...tempBillArray,j]\n                        }\n                    })\n                    \n                    return(i.tableActive\n                        ?<div className=\"grid-flextile2\" key={idx}\n                        >\n                        \n                            <div \n                                style={{ minHeight:\"5rem\",minWidth:\"5rem\",\n                                    border:\"2px solid white\",\n                                    backgroundColor:\"rgba(255,255,255,0.3)\",\n                                    borderRadius:\"5px\",    \n                                }}\n                                \n                            >\n                                <div className='circle-p'\n                                    style={{\n                                            width:\"2rem\",height:\"2rem\",\n                                            //color:\"red\",backgroundColor:\"white\",\n                                            borderRadius:\"50%\",\n                                            opacity:\"0.7\",\n                                        }}\n                                    onClick={e=>{\n                                        if(transactionArray){\n                                            //console.log('transactionArray')\n                                            //console.log(transactionArray)\n                                            let foundTable=false\n                                            transactionArray.map(k=>{\n                                                if(k.table==i.tableName){\n                                                    foundTable=true\n                                                }\n                                            })\n                                            if(foundTable){\n                                                setTableIdArray([])\n                                                setEditTable(i.tableName)\n                                            }\n                                            else{\n                                                setEditTable(null)\n                                            }\n                                        }\n                                    }}\n                                >\n                                    <div className=\"w-100 h-100 flex-center-center\">\n                                        <div>\n                                        {i.tableName}   \n                                        </div>\n                                    </div>\n                                </div>   \n\n                                {tempBillArray.map((j,idx)=>{\n                                    return(\n                                    <div style={{display:\"flex\",alignItems:\"center\",\n                                                 justifyContent:\"space-between\"}}>\n                                        <div className=\"bill-p\"\n                                            style={{display:\"flex\",alignItems:\"center\",\n                                                    justifyContent:\"space-between\",\n                                                   padding:\"0 0.1rem\"}}\n                                            onClick={e=>{\n                                                captureBillFromTable(j)\n                                            }}\n                                        >\n                                            \n                                            <div\n                                                style={{marginRight:\"0.5rem\"}}\n                                            >{`${j.name}`}</div>\n                                            \n                                            <div \n                                                style={j.queueStatus==\"close\"\n                                                       ?{textDecoration:\"line-through\"}\n                                                       :null\n                                                       }\n                                            >{`Q-${j.queue}:`}\n                                            </div>\n                                         \n                                        </div>\n                                        {editTable==i.tableName&&\n                                            <div>\n                                                <input\n                                                    type=\"checkbox\"\n                                                    style={{width:\"1.2rem\",height:\"1.2rem\"}}\n                                                    onChange={e=>{handleCheckbox(e,j)}}\n                                                />\n                                            </div>\n                                            }\n                                    </div>\n                                    )\n                                })}\n                                {editTable==i.tableName\n                                ?<div style={{display:\"flex\"}}>\n                                    <select\n                                        onChange={e=>{updateAllTransaction(e,tableIdArray)}}\n                                    >\n                                        <option>...</option>\n                                        <option>close</option>\n                                    </select>\n\n                                    <div className='flex-center-center navLink' \n                                         onClick={e=>{\n                                             captureAllTransaction(tableIdArray)\n                                         }}\n                                    >\n                                        <Ticon\n                                            iconName=\"RiShareForwardLine\"\n                                            className=\"navIcon\"\n                                        />\n                                    </div>\n                                </div>\n                                :null  \n                                }\n                            </div>\n                        </div>\n                        :null\n                    )\n                })\n            }\n        </div>\n    )\n}\n\n//====================\nreturn(\n<div className=\"w-100\" style={{marginBottom:\"4rem\"}} >\n           {  basicData&&\n               renderTable()\n           }\n</div>\n\n)\n\n}\nexport default BillTableComponent;\n","import React from 'react';\nimport {MdRadioButtonChecked,MdRadioButtonUnchecked} from 'react-icons/md'\nimport {FaCheck,FaBan} from 'react-icons/fa'\n\nfunction ReductionTaxBox(props){\n\n   const {\n      submitFunc,\n      cancelFunc,\n      setShowReductionBox,\n      billFormDataState,\n      setBillFormDtaState,\n      basicData,\n      fieldName,\n      subFieldName,\n      inputType,\n      calDigit,\n      form,\n      secondForm\n   } = props\n\n   const {customerPointReduction,remainingPoint,totalPoint}=billFormDataState\n   \n   console.log('renderReductionBox.................')\n   \n   const genBoxState=(obj)=>{\n      let tempArray=[]\n\n         obj.map((k,idx)=>{\n            let tempAmount=0\n            if(k[`${fieldName}InPercentage`]){\n               tempAmount=k[`${fieldName}Rate`]*billFormDataState.total/100\n               tempAmount=parseInt(tempAmount*calDigit)/calDigit\n            }\n            else {\n               tempAmount=k[`${fieldName}Rate`]\n            }\n\n            const tempObj={...k,\n               [\"selection\"]:false,\n               [`${fieldName}Amount`]:tempAmount\n            }\n\n            tempArray=[...tempArray,tempObj]\n         })\n\n      console.log('tempArray genBoxState')\n      console.log(tempArray)\n      return tempArray\n   }\n\n\n   const [boxState,setBoxState]=React.useState(genBoxState(basicData[fieldName]))\n\n   let [point,setPoint]=React.useState({customerPointReduction,remainingPoint,totalPoint})\n\n   React.useEffect(()=>{\n      console.log('point')\n      console.log(point)\n   },[point])\n\n   const handleChangeRate=(e,j,index1)=>{\n\n      const tempValue=parseInt(e.target.value*calDigit)/calDigit\n      let tempArray=[]\n      boxState.map((k,idx)=>{\n         if(idx==index1){\n            let tempAmount=0\n            if(k[`${fieldName}InPercentage`]){\n               tempAmount=tempValue*billFormDataState.total/100\n               tempAmount=parseInt(tempAmount*calDigit)/calDigit\n            }\n            else {\n               tempAmount=tempValue\n            }\n\n            const tempObj={...k,\n               [j]:tempValue,\n               [`${fieldName}Amount`]:tempAmount\n            }\n            tempArray=[...tempArray,tempObj]\n         }\n         else {\n            tempArray=[...tempArray,k]\n         }\n      })\n            \n      setBoxState(tempArray)\n\n   }\n\n   const handleChange=(e,j,index1)=>{\n      let tempArray=[]\n      boxState.map((k,idx)=>{\n         if(idx==index1){\n            const tempObj={...k,[j]:e.target.value}\n            tempArray=[...tempArray,tempObj]\n         }\n         else {\n            tempArray=[...tempArray,k]\n         }\n      })\n      setBoxState(tempArray)\n   }\n\n   const handleChangeCheckbox=(e,j,index1)=>{\n      let tempArray=[]\n      boxState.map((k,idx)=>{\n         if(idx==index1){\n\n            let tempAmount=0\n            if(e.target.checked){\n               tempAmount=k[`${fieldName}Rate`]*billFormDataState.total/100\n               tempAmount=parseInt(tempAmount*calDigit)/calDigit\n            }\n            else {\n               tempAmount=k[`${fieldName}Rate`]\n            }\n\n            const tempObj={...k,\n               [j]:e.target.check,\n               [`${fieldName}Amount`]:tempAmount\n            }\n            tempArray=[...tempArray,tempObj]\n         }\n         else {\n            tempArray=[...tempArray,k]\n         }\n      })\n\n      setBoxState(tempArray)\n   }\n\n   const handleRadio=(value,index1)=>{\n      let tempArray=[]\n\n      boxState.map((k,idx)=>{\n         if(value){\n            if(idx==index1){\n               const tempObj={...k,selection:value}\n               tempArray=[...tempArray,tempObj]\n            }\n            else {\n               const tempObj={...k,selection:false}\n               tempArray=[...tempArray,tempObj]\n            }\n         }\n         else{\n            if(idx==index1){\n               const tempObj={...k,selection:value}\n               tempArray=[...tempArray,tempObj]\n            }\n            else {\n               tempArray=[...tempArray,k]\n            }\n         }\n      })\n      setBoxState(tempArray)\n   }\n\n   const handleReductionPoint=(value)=>{\n      const tempReductionPoint=parseInt(value*calDigit)/calDigit\n      const tempRemainingPoint=point.totalPoint-tempReductionPoint\n\n      setPoint({...point,\n         customerPointReduction:tempReductionPoint,\n         remainingPoint:tempRemainingPoint\n      })\n      \n   }\n\n   const renderTableHead=()=>{\n      return(\n         <div className=\"TableGrid-head\" \n               style={{display:\"grid\",\n                 gridTemplateColumns:\"5% 35% 20% 20% 20%\",\n                 gridAutoRows:\"minmax(1rem,auto)\",\n                 backgroundColor:\"green\",\n                 zIndex:\"10\"\n              }}\n         >\n            {\n               Object.keys(form).map((i,idx)=>{\n                  if(i!=\"formHead\")\n                  return(\n                     <div className=\"flex-center-center\">\n                        {form[i]}\n                     </div>\n                  )\n               })   \n            }\n         </div>\n      )\n   }\n\n   /*\n   const renderSecondForm=()=>{\n      \n      return [\"totalPoint\",\"customerPointReduction\",\"remainingPoint\"].map((i,idx)=>{\n         return(\n            <div key={idx} className=\"flex-center-center jc-start w-50\"\n            style={{padding:\"0.3rem\"}} >\n               <div className=\"xc6\">\n                  {\n                     secondForm[i]\n                  }\n               </div>\n               <div className=\"xc6\">\n                  {i==\"customerPointReduction\"\n                  ?<input\n                     type={\"number\"}\n                     value={point[i]}\n                     onChange={e=>{\n                        handleReductionPoint(e.target.value)\n                     }}\n                  />\n                  :<input\n                  type={\"number\"}\n                  value={point[i]}\n                  disabled={\"disabled\"}\n                  />\n                  }\n               </div>\n         </div>\n         )\n      })\n   }\n   */\n\n   const renderTableBody=()=>{\n      return(\n         <div className=\"TableGrid-head\" \n               style={{display:\"grid\",\n               gridTemplateColumns:\"5% 35% 20% 20% 20%\",\n               gridAutoRows:\"minmax(1rem,auto)\",\n               backgroundColor:\"white\",\n               zIndex:\"10\",\n               marginBottom:\"1rem\"\n            }}\n         >\n            {\n               boxState.map((i,index1)=>(\n                  subFieldName.map((j,index2)=>{\n                  return inputType[j]==\"radio\"\n                     ? i[j]\n                        ?<div className=\"flex-center-center\"\n                           onClick={e=>{handleRadio(false,index1)}}\n                        >\n                           <MdRadioButtonChecked/>\n                        </div>\n                        :<div className=\"flex-center-center\"\n                           onClick={e=>{handleRadio(true,index1)}}\n                        >\n                           <MdRadioButtonUnchecked/>\n                        </div>\n                     :<input\n                        key={`${index1}-${index2}`}\n                        type={inputType[j]}\n                        checked={i[j]}\n                        value={i[j]}\n                        onChange={e=>{\n                           if(inputType[j]==\"number\"){\n                              handleChangeRate(e,j,index1)\n                           }\n                           else if(inputType[j]==\"checkbox\"){\n                              handleChangeCheckbox(e,j,index1)\n                           }\n                           else {\n                              handleChange(e,j,index1)\n                           }\n                        }}\n                        disabled={j==`${fieldName}Amount`?\"disabled\":\"\"}\n                     />\n                  \n                  })\n               ))   \n            }\n         </div>\n      )\n   }\n\n\n   return(\n      <div className=\"Modal-background\">\n          <div className=\"Modal-box\" \n               style={{position:\"relative\"}}>\n              <div className=\"\">\n                  <h5>{form.formHead}</h5>\n                  {renderTableHead()}\n                  {renderTableBody()}\n                  {\n                  /*\n                  secondForm&&point&&\n                     renderSecondForm()\n                  */\n                  }\n              </div>\n\n              <div className=\"Modal-footer\">\n               <div>\n                   <button\n                       onClick={e=>{\n                           let isSelection=false\n                           let tempObj=null\n                           \n                           boxState.map(i=>{\n                              if(i.selection){\n                                 isSelection=true\n                                 tempObj=i\n                              }\n                           })\n\n                           \n                           if(isSelection){\n                              submitFunc(tempObj,point)\n                           }\n                           //submitFunction()\n                       }}\n                    \n                   >\n                      <FaCheck/>\n                   </button>\n               </div>\n               <div>\n                   <button\n                       onClick={e=>{\n                          cancelFunc()\n                       }}\n                   >\n                      <FaBan/>\n                   </button>\n               </div>\n\n               </div>\n            </div>\n      </div>\n   )\n}\n\n\nexport default ReductionTaxBox","import React from 'react';\nimport {MdEdit,MdRefresh} from 'react-icons/md'\nimport {FaPlusSquare,FaMinusSquare,FaCheck,FaBan} from 'react-icons/fa'; \nimport ReductionTaxBox from './ReductionTaxBox';\nimport Calendar from '../../component/calendar/Calendar';\nimport axiosUtil from '../../util/axiosUtil';\nimport axios from 'axios';\nimport { GiConsoleController } from 'react-icons/gi';\n\nconst {genId}=axiosUtil\n\nconst EditBillForm=({\n   //pageData\n   billFormData,\n   setBillFormData,\n   basicData,\n   submitFunc,\n   cancelFunc,\n   calDigit,\n   pageData,\n   myheader,\n   runIsGenId,\n})=>{\n   console.log('EditBillForm')\n   //const {transactionConfirmForm}=pageData\n   const {editBillForm,reductionForm,taxForm,customerPointForm}=pageData\n   //console.log(pageData)\n   /*\n   const editBillForm={\n       formHead:\"\",\n       id:\"ID\",\n       date:\"Date\",  \n       branch:\"Branch\",\n       transactionType:\"Transaction Type\",\n       transactionStatus:\"Transaction Status\",\n       active:\"Active\",\n\n       table:\"Table\",\n       tableStatus:\"Table Status\",\n\n       partnerId:\"Customer ID\",\n       title:\"Title\",\n       name:\"Name\",\n       phone:\"Phone\",\n       address:\"Address\",\n       partnerType:\"Partner Type\",\n\n       remark:\"Remark\",\n       paymentType:\"Payment Type\",\n       total:\"Total\",\n\n       tax:\"\",\n       totalTax:\"Total Tax\",\n       reduction:\"\",\n       totalReduction:\"Total Reduction\",\n       \n       grandTotal:\"Grand Total\"\n   }\n\n   const reductionForm={\n      formHead:\"\",\n      selection:\"\",\n      reductionName:\"\",\n      reductionRate:\"\",\n      reductionInPercentage:\"in %\",\n      reductionAmount:\"\"\n   }\n  \n   const taxForm={\n      formHead:\"\",\n      selection:\"\",\n      reductionName:\"\",\n      reductionRate:\"\",\n      reductionInPercentage:\"in %\",\n      reductionAmount:\"\"\n   }\n*/\n\n\n\n\n\n   const [billFormDataState,setBillFormDataState]=React.useState(\n                                                   {...billFormData,\n                                                      remainingCustomerPoint:0\n                                                   }\n                                                   )\n\n   const [reloadPartner,setReloadPartner]=React.useState(true)\n\n   React.useEffect(()=>{\n      console.log('billFormDataState............')\n      console.log(billFormDataState)\n   },[billFormDataState])\n\n   const [showTaxBox,setShowTaxBox]=React.useState(false)\n   const [showReductionBox,setShowReductionBox]=React.useState(false)\n\n   React.useEffect(()=>{\n      if(reloadPartner){\n         axios.post('/p35partner/getlimit',{id:billFormDataState.partnerId},myheader)\n         .then(result=>{\n            //console.log('/p35basicdata/getcustom')\n            //console.log(result.data.data[0])\n            if(result.data.data[0]){\n               const tempObj= {remainingCustomerPoint:result.data.data[0].remainingCustomerPoint}\n               setBillFormDataState({...billFormDataState,...tempObj})\n            }\n            setReloadPartner(false)\n            //setPoint({...point,totalPoint})\n         })\n      }\n   },[reloadPartner])\n\n\n   const findDateTime=(date)=>{\n      const date1=new Date(date).toISOString()\n      const date2=new Date(date1).toLocaleString('fr-ca')\n      const date3=new Date(date1).toLocaleString('en-GB')\n  \n        const tempDate= date2.substring(0,10)\n        const tempTime=date3.substring(12,17)\n        return {date:tempDate,time:tempTime}\n     }\n\n   const genArrayToString=(array)=>{\n      const genSeparator=(str)=>{\n         const tempArray=Array.from(str)\n         let tempString=''\n         tempArray.map((i,idx)=>{\n               if((idx==3)||(idx==6)){\n                  tempString=`${tempString} ${i}`\n               }\n               else {\n                  tempString=`${tempString}${i}`\n               }\n         })\n         return tempString\n      }\n\n      let temp=''\n      array.map((i,idx)=>{\n\n         if(idx==array.length-1){\n               temp=`${temp}${genSeparator(i)}`\n         }\n         else{\n               temp=`${temp}${genSeparator(i)},`\n         }\n      })\n      return temp\n   }\n\nconst handleChange=(e,i)=>{\n   setBillFormDataState({...billFormDataState,[i]:e.target.value})\n}\n\nconst deleteLine=(i,idx3)=>{\n   const {total,totalTax,totalReduction,grandTotal}=billFormDataState\n\n   console.log('deleteLine')\n\n   let tempArray=[]\n\n   billFormDataState[i].map((k,index)=>{\n      if(idx3!=index){\n         tempArray=[...tempArray,k]\n      }\n   })\n\n   let tempTotalTax=totalTax \n   let tempTotalReduction=totalReduction \n\n   if(i==\"tax\"){\n      let temp=0\n      tempArray.map(i=>{\n         temp=temp+i.taxAmount\n      })\n      tempTotalTax=temp\n   }\n   if(i==\"reduction\"){\n      let temp=0\n      tempArray.map(i=>{\n         temp=temp+i.reductionAmount\n      })\n      tempTotalReduction=temp\n   }\n\n   const tempGrandTotal=total-tempTotalReduction-tempTotalTax\n\n   setBillFormDataState({...billFormDataState,\n      [i]:tempArray,\n      totalTax:tempTotalTax,\n      totalReduction:tempTotalReduction,\n      grandTotal:tempGrandTotal\n   })\n\n}\n\n//\nconst appendReduction=(obj,point)=>{\n\n   console.log('appendReduction')\n   console.log(obj)\n   console.log(point)\n   console.log('==============')\n\n   const {customerPointReduction,remainingPoint,totalPoint}=point\n\n   const {total,totalReduction,totalTax,grandTotal}=billFormDataState\n\n   const tempArray=[...billFormDataState.reduction,obj]\n   const tempTotalReduction=totalReduction+obj.reductionAmount\n\n   const tempGrandTotal=total-totalTax-tempTotalReduction\n\n   const temp={\n      customerPointReduction:customerPointReduction,\n      totalPoint:totalPoint,\n      reduction:tempArray,\n      totalReduction:tempTotalReduction,\n      grandTotal:tempGrandTotal\n   }\n\n   console.log(temp)\n   setBillFormDataState({...billFormDataState,\n     ...temp\n   })\n   setShowReductionBox(false)\n}\n\nconst appendTax=(obj)=>{\n   console.log('appendTax')\n\n   const {total,totalReduction,totalTax,grandTotal}=billFormDataState\n\n   const tempArray=[...billFormDataState.tax,obj]\n\n   const tempTotalTax=totalTax+obj.taxAmount\n\n   const tempGrandTotal=total-tempTotalTax-totalReduction\n\n   const temp={\n      tax:tempArray,\n       totalTax:tempTotalTax,\n       grandTotal:tempGrandTotal\n   }\n\n   console.log(temp)\n\n   setBillFormDataState({...billFormDataState,\n       ...temp\n   })\n   setShowTaxBox(false)\n}\n\nconst findCustomerById=(e)=>{\n   if(e.key==\"Enter\"){\n      console.log('findCustomerById')\n      axios.post('/p35partner/getlimit',{id:e.target.value},myheader)\n      .then(result=>{\n         if(result.data.count>=1){\n            const tempCustomer=result.data.data[0]\n\n            const {id,name,title,phone,address,partnerType}=tempCustomer\n\n            const tempObj={\n               partnerId:id,title:title,name:name,phone:phone,\n               address:address[0],partnerType:partnerType\n            }\n            setBillFormDataState({...billFormDataState,\n               ...tempObj\n            })\n\n         }\n      })\n      .catch(error=>{\n         console.log('error')\n      })\n   }\n}\n\n//=====================================\n\nconst renderBody=()=>{\n   //console.log(Object.keys(editBillForm))\n\n   return(Object.keys(editBillForm).map((i,idx)=>{\n      if(i==\"formHead\"){\n         return null\n      }\n      else if(i==\"id\"){\n         return(\n         <div className={\"flex-center-center jc-start w-50\"}\n            key={idx} style={{padding:\"0.3rem\"}} >\n            <div className=\"xc4\" >\n               <div className=\"flex-center-center jc-start\" style={{color:\"#bb3016\"}}>\n                  {editBillForm[i]}\n                  <MdRefresh className=\"md-icon\"\n                     onClick={e=>{\n                        runIsGenId(true)\n                        const tempId=genId()\n                        setBillFormDataState({\n                           ...billFormDataState,\n                           id:tempId\n                        })\n                     }}\n                  />\n               </div>\n            </div>\n         \n            <div className=\"xc8\">\n               <input\n                  type={\"number\"}\n                  value={billFormDataState[i]}\n                  disabled=\"disabled\"\n                  onChange={e=>{\n                     setBillFormDataState({\n                        ...billFormDataState,\n                        [i]:e.target.value\n                     })\n                  }}\n               />\n            </div>\n         </div>\n         )\n      }\n      else if(i==\"date\"){ \n      //findDateTime\n      return(\n         <div className=\"flex-center-center jc-start w-50\" \n               key={idx} style={{padding:\"0.3rem\"}} >\n            <div className=\"xc4\" style={{color:\"blue\"}}>\n               {editBillForm[i]}\n            </div>\n            <div className=\"xc8\">\n            <Calendar\n                     style={{height:\"1.6rem\",fontSize:\"0.8rem\"}}\n                     onMyClick={\n                        (e)=>{\n                        console.log(e)\n                        setBillFormDataState({\n                           ...billFormDataState,\n                           date:e\n                        })\n                        }\n                     }\n                     value={billFormDataState[i]}\n            />\n            </div>\n         </div>\n      )\n      }\n      else if( \n               //(i==\"transactionType\")||\n               (i==\"transactionStatus\")||\n               //(i==\"table\")||\n               (i==\"tableStatus\")||\n               (i==\"partnerType\")||\n               (i==\"paymentType\")||\n               (i==\"queueStatus\")||\n               (i==\"title\")\n              ){\n         return(\n         <div className={i==\"paymentType\"\n            ?\"flex-center-center jc-start w-100\"\n            :\"flex-center-center jc-start w-50\"} \n            key={idx} style={{padding:\"0.3rem\"}} >\n            <div className=\"xc4\">\n               {editBillForm[i]}\n            </div>\n            <select className=\"xc8\"\n               onChange={e=>handleChange(e,i)}\n            >\n               <option>....</option>\n               {basicData[i].map((j,idx2)=>(\n                  <option key={idx2}\n                          selected={billFormDataState[i]==j?\"selected\":\"\"}\n                  >{j}</option>\n               ))}\n            </select>\n         </div>\n        )\n      }\n      else if(i==\"table\"){\n         return(\n         <div className=\"flex-center-center jc-start w-50\" \n            key={idx} style={{padding:\"0.3rem\"}} >\n            <div className=\"xc4\" style={{display:\"flex\",justifyContent:\"flex-start\"}}>\n               <div  className=\"xc12\" style={{color:\"green\"}}>\n                  {editBillForm[i]}\n               </div>\n            </div>\n            <select className=\"xc8\"\n                onChange={e=>{\n                  let tempObj=billFormDataState\n                  basicData[\"table\"].map(k=>{\n                     if(k.tableName==e.target.value){\n                           tempObj={...tempObj,\n                              table:k.tableName,\n                            \n                           }\n                     }\n                  })\n                 setBillFormDataState(tempObj)\n               }}\n            >\n               <option>....</option>\n               {\n                  basicData[i].map((j,idx2)=>(\n                  <option key={idx2}\n                     selected={billFormDataState[i]==j.tableName?\"selected\":\"\"}\n                  >{j.tableName}</option>\n                  ))\n               }\n            </select>\n         </div>\n         )\n      }\n      else if(i==\"active\"){\n         return(\n         <div className={\"flex-center-center jc-start w-100\"}\n            key={idx} style={{padding:\"0.3rem\"}} >\n            <div className=\"xc2\">\n               {editBillForm[i]}\n            </div>\n            <div className=\"xc10\">\n               <div style={{display:\"flex\",justifyContent:\"flex-start\"}}> \n                  \n                  <input className=\"xc1\"\n                        style={{textAlign:\"left\"}}\n                        type={\"checkbox\"}\n                        checked={billFormDataState[i]}\n                        onChange={e=>{\n                           setBillFormDataState({\n                              ...billFormDataState,\n                              [i]:e.target.checked\n                           })\n                        }}\n                     />     \n                  <div className=\"xc11\"/>\n\n               </div>\n            </div>\n         </div>\n         )\n      }\n      else if(i==\"transactionType\"){\n         \n         return(\n            <div className={\"flex-center-center jc-start w-50\"}\n               key={idx} style={{padding:\"0.3rem\"}} >\n                  <div className=\"xc4\">\n                     {editBillForm[i]}\n                  </div>\n                  <select className=\"xc8\"\n                     onChange={e=>{\n                        let tempObj=billFormDataState\n                        basicData[\"transaction\"].map(k=>{\n                           if(k.transactionType==e.target.value){\n                                 tempObj={...tempObj,\n                                    transactionType:k.transactionType,\n                                    effectStock:k.effectStock,\n                                    effectCustomerPoint:k.effectCustomerPoint,\n                                    effectSpending:k.effectSpending\n                                 }\n                           }\n                        })\n                       setBillFormDataState(tempObj)\n                     }}\n                  >\n                     <option>...</option>\n                     {\n                     basicData[\"transaction\"].map((j,idx2)=>(\n                     <option key={idx2}\n                        selected={billFormDataState[i]==j.transactionType?\"selected\":\"\"}\n                     >{j.transactionType}</option>\n                     ))\n                     }\n                  </select>\n            </div>\n         )\n      }\n      else if( (i==\"total\")||\n               (i==\"totalReduction\")||\n               (i==\"totalTax\")||\n               (i==\"grandTotal\")||\n               (i==\"reductCustomerPoint\")||\n               (i==\"totalPoint\")||\n               (i==\"remainingCustomerPoint\")\n      ){\n         const findBgColorLb=()=>{\n            if(i==\"totalPoint\"){\n               return \"#bbc9a5\"\n            }\n            if(i==\"reductCustomerPoint\"){\n               return \"#bcd890\"\n            }\n            if(i==\"remainingCustomerPoint\"){\n               return \"#96bf65\"\n            }\n            if(i==\"grandTotal\"){\n               return \"#a7c6eb\"\n            }\n            if(i==\"total\"){\n               return \"#8cc5bb\"\n            }\n            if(i==\"totalTax\"){\n               return \"#fced96\"\n            }\n            if(i==\"totalReduction\"){\n               return \"#fdf07a\"\n            }\n         }\n\n         return(\n            <div className=\"flex-center-center jc-start w-100\" \n               key={idx} style={{padding:\"0.3rem\"}} >\n               <div className=\"xc4\"\n                    style={{fontSize:i==\"grandTotal\"?\"1.4rem\":\"1.2rem\",\n                            backgroundColor:findBgColorLb(),\n                            borderRadius:\"5px\"\n                    }}\n               >\n                  {editBillForm[i]}\n               </div>\n               <div className=\"xc8\">\n                  <input\n                     style={{fontSize:i==\"grandTotal\"?\"1.4rem\":\"1.2rem\",\n                            color:i==\"reductCustomerPoint\"||i==\"totalReduction\"?\"red\":\"black\"\n                     }}\n                     type={\"number\"}\n                     value={billFormDataState[i]}\n                     onChange={e=>{\n                        setBillFormDataState({\n                           ...billFormDataState,\n                           [i]:e.target.value\n                        })\n                     }}\n                        //handleChangeNumber(e,i)\n                     \n                     disabled={i==\"reductCustomerPoint\"?null:\"disabled\"}\n                  />\n               </div>\n            </div>\n         )\n      }\n      else if(i==\"phone\"){\n         return(\n         <div className=\"flex-center-center jc-start w-50\"\n            \n            key={idx} style={{padding:\"0.3rem\"}} >\n            <div className=\"xc4\">\n               {editBillForm[i]}\n            </div>\n            <div className=\"xc8\">\n               <input\n                  type={\"text\"}\n                  value={genArrayToString(billFormDataState[i])}\n                  disabled=\"disabled\"\n               />\n            </div>\n         </div>\n         )\n      }\n      else if((i==\"reduction\")||(i==\"tax\")){\n         const genText=(j)=>{\n            \n            if(j.reductionInPercentage){\n               return `${j[`${i}Name`]} ${j[`${i}Rate`]}% =`\n            }\n            else{\n               return `${j[`${i}Name`]} ${j[`${i}Rate`]} = `\n            }\n         }\n\n         if(billFormDataState[i].length==0){\n            return(\n               <div className=\"flex-center-center jc-start w-0\"\n                    style={{padding:\"0.3rem\"}} >\n                     {editBillForm[i]}\n                     <FaPlusSquare className=\"md-icon\"\n                        onClick={e=>{\n                           if(i==\"reduction\"){\n                              setShowReductionBox(true)\n                           }\n                           else{\n                              setShowTaxBox(true)\n                           }\n                        }}\n                     />\n            \n               </div>\n            )\n         }\n         else {\n\n            return billFormDataState[i].map((j,idx3)=>(\n            <div className=\"flex-center-center jc-start w-0\"\n               key={idx3} style={{padding:\"0.3rem\"}} >\n               <div className=\"xc4\">\n                  {idx3==0?editBillForm[i]:null}\n                  {idx3==0\n                  ?<FaPlusSquare className=\"md-icon\"\n                     onClick={e=>{\n                        if(i==\"reduction\"){\n                           setShowReductionBox(true)\n                        }\n                        else{\n                           setShowTaxBox(true)\n                        }\n                     }}\n                   />\n                  :null\n                  }\n               </div>\n\n               <div className=\"xc8\" style={{display:\"flex\"}}>\n                    \n                     <FaMinusSquare className=\"md-icon\"\n                        onClick={e=>{\n                           deleteLine(i,idx3)\n                        }}\n                     />\n                     <div className=\"xc6\">\n                           {genText(j)}\n                     </div>\n                     <div className=\"xc6\">\n                           <input\n                              style={{color:\"red\"}}\n                              disabled=\"disabled\"\n                              value={j[`${i}Amount`]}\n                           />\n                     </div>\n               </div>\n            </div>\n            ))\n         }\n      }\n     \n      else {\n         //console.log(`i == ${i}`)\n         return(\n         <div className={((i==\"remark\"))\n            ?\"flex-center-center jc-start w-100\"\n            :\"flex-center-center jc-start w-50\"\n            }\n            key={idx} style={{padding:\"0.3rem\"}} >\n            <div className=\"xc4\"\n                 style={{color:i==\"queue\"?\"brown\":\"black\"}}\n            >\n               {editBillForm[i]}\n            </div>\n            <div className=\"xc8\">\n               <input\n                  type={i==\"queue\"?\"number\":\"text\"}\n                  value={billFormDataState[i]}\n                  onChange={e=>handleChange(e,i)}\n                  onKeyDown={e=>{\n                     if(i==\"partnerId\"){\n                        findCustomerById(e)\n                     }\n                  }}\n                  //disabled={(i==\"branchId\"||i==\"branchName\")?\"disabled\":null}\n               />\n            </div>\n         </div>\n         )\n      }\n   }))\n}\n\n  \n   return(\n   <div className=\"Modal-background\">\n       <div className=\"Modal-box\" style={{width:\"90%\",backgroundColor:\"white\"}}>\n            <div className=\"Modal-header\">\n                  <h3>{editBillForm.formHead}</h3>\n            </div>\n\n            <div className=\"flex-center-center w-100\">\n                  {renderBody()}\n            </div>\n            <div className=\"Modal-footer\">\n                  <div>\n                     <button\n                        onClick={e=>{\n                              submitFunc(billFormDataState)\n                        }}\n                     \n                     >\n                        <FaCheck/>\n                     </button>\n                  </div>\n                  <div>\n                     <button\n                        onClick={e=>{\n                           cancelFunc()\n                        }}\n                     >\n                        <FaBan/>\n                     </button>\n                  </div>\n\n            </div>\n\n      </div>\n        \n        {showReductionBox\n         ?<ReductionTaxBox\n            billFormDataState={billFormDataState}\n            basicData={basicData}\n            setBillFormDataState={setBillFormDataState}\n            fieldName={\"reduction\"}\n            subFieldName={[\"selection\",\"reductionName\",\"reductionRate\",\"reductionInPercentage\",\"reductionAmount\"]}\n            inputType={{selection:\"radio\",reductionName:\"text\",reductionRate:\"number\",reductionInPercentage:\"checkbox\",reductionAmount:\"number\"}}\n            submitFunc={appendReduction}\n            cancelFunc={()=>setShowReductionBox(false)}\n            calDigit={calDigit}\n            form={reductionForm}\n            secondForm={customerPointForm}\n         />\n         :null\n         }\n         {showTaxBox\n         ?<ReductionTaxBox\n            billFormDataState={billFormDataState}\n            basicData={basicData}\n            setBillFormDataState={setBillFormDataState}\n            fieldName={\"tax\"}\n            subFieldName={[\"selection\",\"taxName\",\"taxRate\",\"taxInPercentage\",\"taxAmount\"]}\n            inputType={{selection:\"radio\",taxName:\"text\",taxRate:\"number\",taxInPercentage:\"checkbox\",taxAmount:\"number\"}}\n            submitFunc={appendTax}\n            cancelFunc={()=>setShowTaxBox(false)}\n            calDigit={calDigit}\n            form={taxForm}\n         />\n         :null\n         }\n\n\n\n\n   </div>\n   )\n}\n\nexport default EditBillForm","import React from 'react';\nimport Table from '../../component/table/Table'\nimport tableUtil from '../../component/table/tableUtil';\nimport {FaBan} from 'react-icons/fa';\n\nimport uuid from 'react-uuid';\nimport EditBillForm from './EditBillForm';\nimport axiosUtil from '../../util/axiosUtil';\nimport axios from 'axios';\nimport Ticon from '../../component/ticon/Ticon';\n\nconst {numberWithCommas}=tableUtil\nconst {genId}=axiosUtil\n\nfunction BillForm(props) {\n\nconst {blankData,dataIdx,closeBillForm,\n       //data,\n       billFormData,setBillFormData,\n\n       selectOfSelectProduct,selectOfCustomer,\n       setResetProductList,calDigit,pageData,basicData,tableTemplate,\n       saveTableTemplateFunc,\n       submitFunctionAddFunc,\n       submitFunctionEditFunc,\n       submitFunctionDeleteFunc,\n       runIsGenId,\n       isGenIdOfBillForm,\n       updateData,\n       myheader,\n       setPrintDataFunc,\n       bgColor,\n       \n       test,setTest\n\n       }=props\n\nconst blankDetail={\n    _id:uuid(),\n    id:\"\",barcode:\"\",productName:\"\",\n    groupId:\"\",groupName:\"\",\n    unit:\"\",price:0,\n    priceLevel:[{price:0,remark:\"\"}],\n    quantity:0,result:0,remark:\"\",isRawMat:false,\n    point:0,\n    partnerId:\"\",name:\"\",jobStatus:\"open\",\n    detailTime:\"\"\n}\n\nconst {billForm}=pageData\n/*\nconst billForm={\n    formHead:\"\",\n    id:\"ID\",\n    date:\"Date\",\n    time:\"Time\",\n    table:\"Table\",\n    partnerId:\"Partner ID\",\n    phone:\"Phone\",\n    address:\"Address\",\n    total:\"Total\",\n    totalTax:\"Total Tax\",\n    totalReduction:\"Total Reduction\",\n    grandTotal:\"GrandTotal\"\n}\n*/\n\nReact.useEffect(()=>{\n    //console.log('selectOfSelectProduct')\n    //console.log(selectOfSelectProduct)\n    if(selectOfSelectProduct&&billFormData){\n        if(selectOfSelectProduct.dataIdx==dataIdx){\n            \n            const tempArray=[...billFormData.detail,...selectOfSelectProduct.selectProduct]\n            setBillFormData({...billFormData,\n                reCal:true,\n                detail:tempArray\n            })    \n        }\n    }\n},[selectOfSelectProduct])\n\nReact.useEffect(()=>{\n    \n    if(selectOfCustomer&&billFormData){\n        if(selectOfCustomer.dataIdx==dataIdx){\n            \n            //const tempArray=[...billFormData.detail,...selectOfSelectProduct.selectProduct]\n            setBillFormData({...billFormData,\n                ...selectOfCustomer.selectCustomer\n            })    \n        }\n    }\n},[selectOfCustomer])\n\n/*\nconst genBillFormData=(data)=>{\n    console.log('genBillFormData')\n    //console.log(data)\n    if(!data){return null}\n    //console.log(1)\n    if(!data.detail){return data}\n    //console.log(2)\n    if(!Array.isArray(data.detail)){return data}\n    //console.log(3)\n    if(data.detail.length==0){return data}\n\n    return data\n}\n*/\n\nconst [showEditBillForm,setShowEditBillForm]=React.useState(false)\n\n//const [billFormData,setBillFormData]=React.useState(genBillFormData(data))//({...data,reCal:true})\n\nconst [editData,setEditData]=React.useState(null)\n\nlet [formTableTemplate,setFormTableTemplate]=React.useState(tableTemplate)\n\nReact.useEffect(()=>{\n    console.log('editData')\n    console.log(editData)\n},[editData])\n\n\nReact.useEffect(()=>{\n    \n    if(billFormData){\n        //console.log(`billFormData..${billFormData.name}.....`)\n        //console.log(billFormData)\n\n        if(billFormData.reCal){\n\n            let tempTotal=0\n            let tempTotalPoint=0\n            let tempTotalTax=0\n            let tempTotalReduction=0\n            let tempGrandTotal=0\n            let tempReductCustomerPoint=0\n\n            const {tax,reduction,detail,reductCustomerPoint}=billFormData\n            \n            detail.map(i=>{\n                if(i.quantity&&i.price){\n                    const tempPrice=parseInt(i.price*calDigit)/calDigit\n                    const tempQuantity=parseInt(i.quantity*calDigit)/calDigit\n\n                    const temp=tempPrice*tempQuantity\n                    let tempResult=parseInt(temp*calDigit)/calDigit\n                    tempTotal=tempTotal+tempResult\n                }\n\n                if(i.point){\n                    const tempPoint=parseInt(i.point*calDigit)/calDigit\n                    const tempQuantity=parseInt(i.quantity*calDigit)/calDigit\n                    let temp=tempPoint*tempQuantity\n                    temp=parseInt(temp*calDigit)/calDigit\n                    tempTotalPoint=tempTotalPoint+temp\n                }\n\n            })\n        \n            let tempTaxArray=[]\n\n            tax.map(i=>{\n                if(i.taxActive){\n                    if(i.taxInPercentage){\n                        let temp=tempTotal*i.taxRate/100\n                        const tempTaxAmount=parseInt(temp*calDigit)/calDigit\n                        tempTotalTax=tempTotalTax+tempTaxAmount\n\n                        let tempObj={...i,taxAmount:tempTaxAmount}\n                        tempTaxArray=[...tempTaxArray,tempObj]\n                    }\n                    else{\n                        const tempTaxAmount=parseInt(i.taxAmount*calDigit)/calDigit\n                        tempTotalTax=tempTotalTax+tempTaxAmount\n\n                        let tempObj={...i,taxAmount:tempTaxAmount}\n                        tempTaxArray=[...tempTaxArray,tempObj]\n                    }\n                }\n            })\n\n            let tempReductionArray=[]\n            \n            reduction.map(i=>{\n                if(i.reductionActive){\n                    if(i.reductionInPercentage){\n                        let temp=tempTotal*i.reductionRate/100\n                        const tempReductionAmount=parseInt(temp*calDigit)/calDigit\n                        tempTotalReduction=tempTotalReduction+tempReductionAmount\n\n                        let tempObj={...i,taxAmount:tempReductionAmount}\n                        tempReductionArray=[...tempReductionArray,tempObj]\n                    }\n                    else{\n                        const tempReductionAmount=parseInt(i.reductionAmount*calDigit)/calDigit\n                        tempTotalReduction=tempTotalReduction+tempReductionAmount\n\n                        let tempObj={...i,taxAmount:tempReductionAmount}\n                        tempReductionArray=[...tempReductionArray,tempObj]\n                    }\n                }\n            })\n           \n            tempGrandTotal=tempTotal-tempTotalReduction+tempTotalTax\n            \n            if(reductCustomerPoint){\n                tempReductCustomerPoint=parseInt(reductCustomerPoint*calDigit)/calDigit\n            }\n\n            let temp={\n                reCal:false,\n                total:tempTotal,\n                totalTax:tempTotalTax,\n                totalReduction:tempTotalReduction,\n                grandTotal:tempGrandTotal,\n                totalPoint:tempTotalPoint,\n                reductCustomerPoint:tempReductCustomerPoint,\n                tax:tempTaxArray,\n                reduction:tempReductionArray\n            }\n            \n            //console.log('reCal')\n            //console.log(temp)\n\n            setBillFormData({...billFormData,...temp})\n        }\n    }\n},[billFormData])\n\nReact.useEffect(()=>{\n    //console.log('billFormData')\n    //console.log('formTableTemplate')\n   // console.log(formTableTemplate)\n},[formTableTemplate])\n\n\nconst runGenId=()=>{\n    setBillFormData({\n        ...billFormData,\n        isGenId:true\n    })\n}\n\nconst findDateTime=(date)=>{\n    const date1=new Date(date).toISOString()\n\n    const date3=new Date(date1).toLocaleString('en-GB')\n\n   const tempDate= date3.substring(0,10)\n   const tempTime=date3.substring(12,17)\n   return {date:tempDate,time:tempTime}\n}\n\nconst genArrayToString=(array)=>{\n    const genSeparator=(str)=>{\n        const tempArray=Array.from(str)\n        let tempString=''\n        tempArray.map((i,idx)=>{\n            if((idx==3)||(idx==6)){\n                tempString=`${tempString} ${i}`\n            }\n            else {\n                tempString=`${tempString}${i}`\n            }\n        })\n        return tempString\n    }\n\n    let temp=''\n    array.map((i,idx)=>{\n\n        if(idx==array.length-1){\n            temp=`${temp}${genSeparator(i)}`\n        }\n        else{\n            temp=`${temp}${genSeparator(i)},`\n        }\n    })\n    return temp\n}\n\nconst setTableTemplateFunc=(value)=>{\n    //console.log('setTableTemplateFunc')\n    setFormTableTemplate(value)\n}\n//id,date,branch,\n//transactionType,transactionStatus,active\n//table,tableStatus\n//partnerId,title,name,phone,address,\n\nconst setFilterDataFunc=(value)=>{\n    console.log('setFilterDataFunc')\n    //console.log(value)\n}\n\nconst setEditDataFunc=(value)=>{\n    console.log('setEditDataFunc')\n\n    billFormData.detail.map(i=>{\n        if(i._id==value._id){\n            setEditData(i)\n        }\n    })\n}\n\n\nconst moveUp=()=>{\n    if(editData){\n        \n        let tempArray=[]\n        let targetIdx=null\n\n        billFormData.detail.map((i,idx)=>{\n            if(i._id==editData._id){\n                targetIdx=idx\n            }\n        })\n\n        if((targetIdx!=null)&&(targetIdx>0)){\n            \n            billFormData.detail.map((i,idx)=>{\n               \n                if(idx==targetIdx-1){\n                    tempArray=[...tempArray,billFormData.detail[targetIdx]]\n                }\n                else if(idx==targetIdx){\n                    tempArray=[...tempArray,billFormData.detail[targetIdx-1]]\n                }\n                else {\n                    tempArray=[...tempArray,i]\n                }\n\n            })\n            setBillFormData({...billFormData,detail:tempArray})\n        }\n    \n    }\n}\n\nconst moveDown=()=>{\n    if(editData){\n        \n        let tempArray=[]\n        let targetIdx=null\n        const lastIndex=billFormData.detail.length-1\n\n        billFormData.detail.map((i,idx)=>{\n            if(i._id==editData._id){\n                targetIdx=idx\n            }\n        })\n\n        if((targetIdx!=null)&&(targetIdx<lastIndex)){\n            \n            billFormData.detail.map((i,idx)=>{\n               \n                if(idx==targetIdx){\n                    tempArray=[...tempArray,billFormData.detail[targetIdx+1]]\n                }\n                else if(idx==targetIdx+1){\n                    tempArray=[...tempArray,billFormData.detail[targetIdx]]\n                }\n                else {\n                    tempArray=[...tempArray,i]\n                }\n\n            })\n            setBillFormData({...billFormData,detail:tempArray})\n        }\n    \n    }\n}\n\nconst deleteLine=()=>{\n    if(editData){\n\n    let tempArray=[]\n\n        billFormData.detail.map((i,idx)=>{\n            if(i._id!=editData._id){\n                tempArray=[...tempArray,i]\n            }\n        })\n\n        setBillFormData({...billFormData,reCal:true,detail:tempArray})\n    }\n}\n\nconst insertLine=()=>{\n\n    if(editData){\n\n        let tempArray=[]\n\n        billFormData.detail.map((i,idx)=>{\n            if(i._id==editData._id){\n                const tempObj=blankDetail\n                tempArray=[...tempArray,\n                    {...tempObj,_id:uuid(),detailTime:new Date().toISOString()},\n                    i]\n            }\n            else{\n                tempArray=[...tempArray,i]\n            }\n        })\n        //console.log(tempArray)\n        setBillFormData({...billFormData,reCal:true,detail:tempArray})\n    }\n    \n}\n\nconst updateFilterData=(idx,value)=>{\n    console.log('updateFilterData,,,,,,,,,,,,')\n    //console.log(value)\n    let tempDetail=billFormData.detail\n    tempDetail[idx]=value\n\n    setBillFormData({...billFormData,\n        reCal:true,\n        detail:tempDetail\n    })\n}\n\nconst mergeUp=()=>{\n\n    let tempArray=[]\n\n    billFormData.detail.map(i=>{\n        tempArray=[...tempArray,i.id]\n    })\n\n    let uniqueArray = [...new Set(tempArray)];\n    uniqueArray=uniqueArray.sort()\n\n    let tempDetail=[]\n\n    uniqueArray.map(i=>{\n        let tempQuantity=0\n        let tempResult=0\n        let tempObj=null\n        billFormData.detail.map(j=>{\n            \n            if(j.id==i){\n                tempQuantity=tempQuantity+j.quantity\n                tempResult=tempResult+j.result\n                tempObj={...j,quantity:tempQuantity,result:tempResult}    \n            }\n        })\n        if(tempObj){\n            tempDetail=[...tempDetail,tempObj]\n        }\n    })\n\n    setBillFormData({...billFormData,reCal:true,detail:tempDetail})\n\n}\n//------------------------------------\nconst rawUp=()=>{\n    console.log('rawUp..........1.')\n\n    if(editData){\n        if(editData.hasDetailProduct){\n            console.log('rawUp..........2.')\n            axios.post(`/p35product/getlimit`,{id:editData.id},myheader)\n            .then(result=>{\n                //console.log('result')\n                const foundProduct=result.data.data[0]\n                //console.log(foundProduct)\n\n                if(foundProduct){\n                    if(foundProduct.detail){\n                        if(Array.isArray(foundProduct.detail)){\n\n                            let tempArray=[]\n\n                            foundProduct.detail.map(i=>{\n                                const tempQEditData=parseInt(editData.quantity*calDigit)/calDigit\n                                const tempQi=parseInt(i.quantity*calDigit)/calDigit\n                                const tempQ1=tempQEditData*tempQi\n                                const tempQ2=parseInt(tempQ1*calDigit)/calDigit\n\n                                const tempPrice=parseInt(i.price*calDigit)/calDigit\n                                const tempResult1=tempPrice*tempQ2\n                                const tempResult2=parseInt(tempResult1*calDigit)/calDigit\n\n                                const tempObj={...i,_id:uuid(),\n                                        selectedLine:false,\n                                        priceLevel:[{price:0,remark:\"\"}],\n                                        jobStatus:\"open\",\n                                        quantity:tempQ2,\n                                        result:tempResult2\n                                    }\n                                tempArray=[...tempArray,tempObj]\n                            })\n            \n                            let tempDetail=[]\n                            billFormData.detail.map(i=>{\n                                if(i._id==editData._id){\n                                    tempDetail=[...tempDetail,...tempArray]\n                                }\n                                else{\n                                    tempDetail=[...tempDetail,i]\n                                }\n                            })\n            \n                            setBillFormData({...billFormData,reCal:true,detail:tempDetail})\n                            setEditData(null)\n\n                        }\n                    }\n                }\n              \n            })\n            .catch(error=>{\n                console.log('error')\n                console.log(error)\n                /*\n                const tempError={...filterData,\n                    reloadData:false,\n                    message:catchErrorToMessage(error),\n                    showModalConfirm:false,\n                    showModalError:true,\n                }\n                console.log(tempError.message)\n                setFilterData(tempError)\n                */\n            })\n            \n        }\n    }\n}\n\n//------------------------------------\nconst findProductIdByKeyDown=(e,j,inputStateJ,idx)=>{\n    if(e.key==\"Enter\"){\n        axios.post('/p35product/getlimit',{id:e.target.value},myheader)\n        .then(result=>{\n            if(result.data.count>=1){\n                const {id,barcode,productName,\n                    groupId,groupName,unit,price,priceLevel,\n                    remark,isRawMat,\n                } = result.data.data[0]\n\n                const tempObj={\n                    _id:uuid(),\n                    id:id,barcode:barcode,productName:productName,\n                    groupId:groupId,groupName:groupName,unit:unit,\n                    price:price,priceLevel:priceLevel,\n                    remark:remark,isRawMat:isRawMat,\n                    quantity:0,result:0,\n                    partnerId:billFormData.partnerId,\n                    name:billFormData.name,\n                    jobStatus:\"open\"\n                }\n\n                let tempArray=[]\n\n                billFormData.detail.map((i,index)=>{\n                    if(index==idx){\n                        tempArray=[...tempArray,tempObj]\n                    }\n                    else {\n                        tempArray=[...tempArray,i]\n                    }\n                })\n                setBillFormData({...billFormData,\n                    detail:tempArray\n                })\n            }\n        })\n        .catch(error=>{\n            console.log('error')\n        })\n    }\n}\n\nconst findBarcodeByKeyDown=(e,j,inputStateJ,idx)=>{\n    if(e.key==\"Enter\"){\n        axios.post('/p35product/getlimit',{barcode:e.target.value},myheader)\n        .then(result=>{\n            if(result.data.count>=1){\n                const {id,barcode,productName,\n                    groupId,groupName,unit,price,priceLevel,\n                    remark,isRawMat,\n                } = result.data.data[0]\n\n                const tempObj={\n                    _id:uuid(),\n                    id:id,barcode:barcode,productName:productName,\n                    groupId:groupId,groupName:groupName,unit:unit,\n                    price:price,priceLevel:priceLevel,\n                    remark:remark,isRawMat:isRawMat,\n                    quantity:0,result:0,\n                    partnerId:billFormData.partnerId,\n                    name:billFormData.name,\n                    jobStatus:\"open\"\n                }\n\n                let tempArray=[]\n\n                billFormData.detail.map((i,index)=>{\n                    if(index==idx){\n                        tempArray=[...tempArray,tempObj]\n                    }\n                    else {\n                        tempArray=[...tempArray,i]\n                    }\n                })\n                setBillFormData({...billFormData,\n                    detail:tempArray\n                })\n            }\n        })\n        .catch(error=>{\n            console.log('error')\n        })\n    }\n}\n\nconst addSelectOfSelectProduct=()=>{\n    if(selectOfSelectProduct){\n        if(selectOfSelectProduct.length>0){\n\n            let tempSelectOfSelectProduct=[]\n            selectOfSelectProduct.map(i=>{\n                if(i.quantity>0){\n                    const tempPrice=parseInt(i.price*calDigit)/calDigit\n                    const tempQuantity=parseInt(i.quantity*calDigit)/calDigit\n\n                    const tempObj={\n                        ...i,\n                        _id:uuid(),\n                        price:tempPrice,\n                        quantity:tempQuantity,\n                        result:parseInt(tempPrice*tempQuantity*calDigit)/calDigit\n                    }\n                    tempSelectOfSelectProduct=[...tempSelectOfSelectProduct,tempObj]\n                }\n            })\n\n            let tempArray=[]\n            let targetIdx = null\n\n            billFormData.detail.map((i,idx)=>{\n                if(i._id==editData._id){\n                \n                    targetIdx=idx\n                }\n            })\n\n            if(targetIdx>=0){\n                billFormData.detail.map((i,idx)=>{\n                    if(idx<targetIdx){\n                        tempArray=[...tempArray,i]\n                    }\n                    else if(idx==targetIdx){\n                        tempArray=[...tempArray,i,...tempSelectOfSelectProduct]\n                    }\n                    else {\n                        tempArray=[...tempArray,i]\n                    }\n                })\n            }\n\n            setBillFormData({...billFormData,detail:tempArray})\n            setResetProductList(true)\n\n        }\n    }\n\n}\n\nconst editBillFormSubmitFunc=(data)=>{\n    updateData(data)\n    setBillFormData(data)\n    setShowEditBillForm(false)\n}\nconst editBillFormCancelFunc=()=>{\n    setShowEditBillForm(false)\n}\n\n//==================================\nconst renderButton=()=>{\n   \nreturn(\n\n    <div className=\"hide-on-print\"\n        style={{height:\"100%\",width:\"100%\",display:\"flex\",\n                justifyContent:\"flex-start\",alignItems:\"center\",\n                //backgroundColor:bgColor\n                //background: \"rgb(233,187,67)\",\n                //background: \"linear-gradient(90deg, rgba(233,187,67,1) 0%, rgba(172,124,66,1) 100%)\"\n                background:\"rgb(240,207,121)\",\n                background:\"linear-gradient(90deg, rgba(240,207,121,1) 0%, rgba(153,106,48,1) 100%)\"\n             }}\n    >\n\n\n        <button  style={{marginRight:\"1.2rem\"}}\n            onClick={e=>{\n                closeBillForm(billFormData)\n            }}\n        >{dataIdx==\"cancel\"\n         ?<FaBan/>\n         :dataIdx\n        }\n        </button>\n\n\n        <div className=\"iconbox\"\n            onClick={async(e)=>{\n                //console.log('Add......................')\n   \n            try{\n                console.log('plus....')\n                const result=await axios.post('/p35transaction/getlimit',\n                                    {limitRow:1,sort:{id:-1}},\n                                    myheader) \n                \n                //console.log('result........')\n                //console.log(result)\n                const result2=await axios.post('/p35partner/getlimit',\n                                    {id:basicData.defaultCustomerId},\n                                    myheader) \n                //console.log('customer...vvvvv...')\n                //console.log(result2)\n\n                let customer={\n                    partnerType:\"\",\n                    id:null,\n                    title:\"\",\n                    name:\"\",\n                    phone:[],\n                    address:\"\"\n                }  \n                \n                if(result2.data.data[0]){\n                    customer=result2.data.data[0]\n                    customer={...customer,address:customer.address[0]}\n                }\n\n                let nextQueue=1\n\n                let lastBill=null\n\n                if(result.data.data[0]){\n                    console.log('result.data.data[0]')\n                    lastBill=result.data.data[0]\n                    let toDate=new Date().toISOString()\n                    toDate=new Date(toDate).toLocaleString('en-GB').substring(0,10)\n                    \n                    let lastBillDate=new Date(lastBill.date).toISOString()\n                    lastBillDate=new Date(lastBillDate).toLocaleString('en-GB').substring(0,10)\n                         \n                    if(lastBillDate==toDate){\n                        nextQueue=lastBill.queue+1\n                    }\n                 \n                }\n\n                //=============================\n   \n                //console.log(result.data.data[0].queue)\n                let tempTaxArray=[]\n                basicData.tax.map(i=>{\n                    if(i.taxActive){\n                        const tempObj={...i,taxAmount:0}\n                        tempTaxArray=[...tempTaxArray,tempObj]\n                    }\n                })\n\n                let tempReductionArray=[]\n                basicData.reduction.map(i=>{\n                    if(i.reductionActive){\n                        const tempObj={...i,reductionAmount:0}\n                        tempReductionArray=[...tempReductionArray,tempObj]\n                    }\n                })\n\n                //============================\n                setBillFormData({...blankData,\n                    id:genId(),\n                    date:new Date().toISOString(),\n                    queue:nextQueue,\n                    queueStatus:\"open\",\n                    //branchId:basicData.branchId,\n                    //branchName:basicData.branchName,\n                   \n                    partnerId:customer.id,\n                    partnerType:customer.partnerType,\n                    title:customer.title,\n                    name:customer.name,\n                    phone:customer.phone,\n                    address:customer.address,\n\n                    transactionType:basicData.transaction[0].transactionType,\n                    effectSpending:basicData.transaction[0].effectSpending,\n                    effectCustomerPoint:basicData.transaction[0].effectCustomerPoint,\n                    effectStock:basicData.transaction[0].effectStock,\n                    tax:tempTaxArray,\n                    reduction:tempReductionArray,\n                    reCal:true\n                })\n                runIsGenId(true)\n\n                \n               \n            }\n            catch (error){\n                console.log('error......')\n                console.log(error)\n            }         \n            \n            }}\n        >\n            <Ticon\n                iconName=\"MdAddCircle\" \n                className=\"md-icon\" \n                textStyle={{color:\"black\"}}\n            />\n        </div>\n\n        {billFormData&&\n        <div className=\"iconbox\"\n            onClick={e=>{\n                setShowEditBillForm(true)\n            }}\n        >\n            <Ticon\n                iconName=\"MdEdit\" \n                className=\"md-icon\" \n                textStyle={{color:\"black\"}}\n            /> \n        </div>\n        }\n        {billFormData&&   \n        <div className=\"iconbox\"\n            onClick={e=>{\n                //console.log('isGenIdOfBillForm')\n                //console.log(isGenIdOfBillForm)\n                if(isGenIdOfBillForm){\n                    submitFunctionAddFunc(billFormData)\n                }\n                else {\n                    submitFunctionEditFunc(billFormData)\n                }\n            }}\n        >\n            <Ticon\n                iconName=\"MdSave\" \n                className=\"md-icon\"\n                textStyle={{color:\"black\"}}    \n            />\n        </div>\n        }\n\n        {billFormData&&\n        <div className=\"iconbox\"\n            onClick={e=>{\n                submitFunctionDeleteFunc(billFormData)\n            }}\n        >\n            <Ticon\n                iconName=\"MdDelete\" \n                className=\"md-icon\"\n                textStyle={{color:\"black\"}}\n            />\n        </div>\n        }\n        {billFormData&&\n        <div className=\"iconbox\"\n            onClick={e=>{\n                setPrintDataFunc(billFormData)\n            }}\n        >\n            <Ticon\n                iconName=\"MdPrint\" \n                className=\"md-icon\" \n                textStyle={{color:\"black\"}}\n            /> \n        </div>\n        }\n    </div>\n)\n\n}\n//=================================\n\n\n//-----------------------------------\nconst renderHeader=()=>{\n\n    const {id,date,remindDate,branch,transactionType,transactionStatus,active,\n           table,tableStatus,partnerId,title,name,phone,address,queue,queueStatus\n    }=billFormData\n\n\n    return(\n        <div className=\"h-100 w-100\" \n             style={{padding:\"0 0.5rem\",\n                     backgroundColor:\"#f5e7a1\"}}>\n            <div className=\"flex-center-center jc-space-between\">\n                <div style={{color:\"red\"}}>{`${transactionType} ${billForm.id}: ${id} (${transactionStatus})`}</div>\n                <div style={{color:\"blue\"}}>{`${billForm.date}: ${findDateTime(date).date} ${billForm.time}: ${findDateTime(date).time}`}</div>\n                <div style={{color:\"green\"}}>{`${billForm.table}: ${table}(${tableStatus})`}</div>\n                <div style={{color:\"brown\"}}>{`${billForm.queue}: ${queue}(${queueStatus})`}</div>\n            </div>\n            <div className=\"flex-center-center jc-space-between\">\n                <div>{`${billForm.partnerId}:${partnerId}`}</div>\n                <div>{`${title} ${name}`}</div>\n                <div>{`${billForm.phone}: ${genArrayToString(phone)}`}</div>\n                <div>{`${billForm.address}: ${address}`}</div>\n            </div>\n\n        </div>\n    )\n}\n\n//------------------------------\n//------------------------------\nconst renderTable=()=>{\n\n    return(\n    <div className='h-100 w-95'>\n        <Table\n            colorHead={\"#ac7c42\"}\n            tableTemplate={formTableTemplate}\n            setTableTemplate={setTableTemplateFunc}\n\n            filterData={billFormData.detail}\n            setFilterData={setFilterDataFunc}//{setFilterDataData0}\n            \n            editData={editData}\n            setEditData={setEditDataFunc}//{updateEditData}\n            saveTableTemplateFunc={saveTableTemplateFunc}\n            isSubTable={false}\n            useInput={true}\n            updateFilterData={updateFilterData}//{updateEditData}\n\n            basicData={basicData}\n\n            findProductIdByKeyDown={findProductIdByKeyDown}\n            findBarcodeByKeyDown={findBarcodeByKeyDown}\n            calDigit={calDigit}\n        />\n    </div>\n    )\n    \n}\nconst styleRight={\n  position:\"fixed\",\n  top:\"3rem\",right:\"0.5rem\",zIndex:\"100\",\n  width:\"\",backgroundColor:\"white\",\n  borderRadius:\"10px\",margin:\"\"\n}\nconst styleLeft={position:\"fixed\",\n  top:\"3rem\",Left:\"0.5rem\",zIndex:\"100\",\n  width:\"\",backgroundColor:\"white\",\n  borderRadius:\"10px\",margin:\"\"\n}\n\nconst mystyle={\n    width:\"5%\",\n    zIndex:\"100\",\n    backgroundColor:\"#dbac50\"//\"#f5e7a1\"\n    //background:\"rgb(250,226,165)\",\n    //background: \"linear-gradient(183deg, rgba(250,226,165,1) 0%, rgba(236,193,61,1) 100%)\"\n}\n\nconst [swapStyleRight,setSwapStyleRight]=React.useState(true)\n\nconst renderToolBox=()=>{\n    return(\n    <div //style={swapStyleRight?styleRight:styleLeft}\n             style={mystyle}\n    >   \n        {editData&&\n        <div className='w-100 h-100'>\n\n            <div className=\"iconbox2\"\n                 style={{height:\"2.5rem\"}}\n                 onClick={e=>{\n                    deleteLine()\n                }}\n            >\n                <Ticon\n                    iconName=\"MdDelete\" \n                    className=\"md-icon\"\n                    textStyle={{color:\"black\"}} \n                />\n            </div>\n            <div className=\"iconbox2\"\n                 style={{height:\"2.5rem\"}}\n                 onClick={e=>{\n                    insertLine()\n                }}\n            >\n                <Ticon\n                    iconName=\"MdAddCircle\" \n                    className=\"md-icon\"\n                    textStyle={{color:\"black\"}}\n                />\n            </div>\n            <div className=\"iconbox2\"\n                 style={{height:\"2.5rem\"}}\n                 onClick={e=>{\n                    moveUp()\n                }}\n            >\n                <Ticon\n                    iconName=\"FaRegArrowAltCircleUp\" \n                    className=\"md-icon\"\n                    textStyle={{color:\"black\"}}\n                />\n            </div>\n\n            <div className=\"iconbox2\"\n                 style={{height:\"2.5rem\"}}\n                onClick={e=>{\n                    moveDown()\n                }}\n            >\n                <Ticon\n                    iconName=\"FaRegArrowAltCircleDown\" \n                    className=\"md-icon\"\n                    textStyle={{color:\"black\"}}\n                />\n            </div>\n            {/*\n            <div className=\"iconbox2\"\n                 style={{height:\"2.5rem\"}}\n                onClick={e=>{\n                    setSwapStyleRight(!swapStyleRight)\n                }}\n            >\n                <Ticon\n                    iconName=\"MdSwapHoriz\" \n                    className=\"md-icon\"\n                    textStyle={{color:\"black\"}}\n                />\n            </div>\n            */}\n            <div className=\"iconbox2\"\n                 style={{height:\"2.5rem\"}}\n                 onClick={e=>{\n                    mergeUp()\n                    //setSwapStyleRight(!swapStyleRight)\n                 }}\n            >\n                <Ticon \n                    iconName=\"MdMergeType\" \n                    className=\"md-icon\"\n                    textStyle={{color:\"black\"}}\n                />\n            </div>\n\n            {editData.hasDetailProduct&&\n            <div className=\"iconbox2\"\n                 style={{height:\"2.5rem\"}}\n                 onClick={e=>{\n                    rawUp()\n                    //setSwapStyleRight(!swapStyleRight)\n                 }}\n            >\n                <Ticon\n                    iconName=\"MdRawOn\" \n                    className=\"md-icon\"\n                    textStyle={{color:\"black\"}} \n                />\n            </div>\n            }\n            \n            <div className=\"iconbox2\"\n                 style={{height:\"2.5rem\"}}\n                 onClick={e=>{\n                    setEditData(null)\n                    updateData(billFormData)\n                 }}\n            >    \n                <Ticon\n                    iconName=\"MdClose\"\n                    className=\"md-icon\"\n                    textStyle={{color:\"black\"}}\n                />\n            </div>\n        \n        </div>\n        }\n    </div>\n    )\n}\n\nconst renderFooter=()=>{\n\n    const {total,totalReduction,reduction,totalTax,tax,grandTotal,\n           paymentType\n    }=billFormData\n return(\n     <div className=\"h-100 w-100 flex-center-center\" \n          style={{padding:\"0 0.5rem\",backgroundColor:\"#f5e7a1\"}}>\n            <div className=\"xc6\" style={{textAlign:\"start\"}}>  \n                {\n                    tax.map((i,idx)=>{\n                        return (\n                            <div>\n                                {`${i.taxName} = ${numberWithCommas(i.taxAmount,calDigit,\"taxAmount\")}`}\n                            </div>\n                        )\n                    })\n                }\n                {\n                    reduction.map((i,idx)=>{\n                        return (\n                            <div>\n                                {`${i.reductionName} = ${numberWithCommas(i.reductionAmount,calDigit,\"reductionAmount\")}`}\n                            </div>\n                        )\n                    })\n                }\n            </div>\n         \n            <div  className=\"xc6\" style={{textAlign:\"end\"}}>\n                <div style={{display:\"flex\",justifyContent:\"flex-end\"}}>\n                    <div style={{padding:\"0 0.5rem\",backgroundColor:\"#8cc5bb\"}}>\n                    {`${billForm.total} = ${numberWithCommas(total,calDigit,\"total\")}`}\n                    </div>\n                </div>\n                <div style={{display:\"flex\",justifyContent:\"flex-end\"}}>\n                    <div style={{padding:\"0 0.5rem\",backgroundColor:\"\"}}>\n                    {`${billForm.totalTax} = ${numberWithCommas(totalTax,calDigit,\"totalTax\")}`}\n                    </div>\n                </div>\n                <div style={{display:\"flex\",justifyContent:\"flex-end\"}}>\n                    <div style={{padding:\"0 0.5rem\",backgroundColor:\"\"}}>\n                    {`${billForm.totalReduction} = ${numberWithCommas(totalReduction,calDigit,\"totalReduction\")}`}\n                    </div>    \n                </div>\n                <div style={{display:\"flex\",justifyContent:\"flex-end\"}}>\n                    <div style={{padding:\"0 0.5rem\",backgroundColor:\"#a7c6eb\",fontSize:\"1.4rem\"}}>\n                        {`${billForm.grandTotal} = ${numberWithCommas(grandTotal,calDigit,\"grandTotal\")}`}\n                    </div>\n                </div>\n            </div>\n\n     </div>\n )\n\n}\n\n//------------------------------\nconst renderForm=()=>{\n    return (\n        <div className=\"w-100 h-100\">\n            <div className=\"w-100 h-5\">\n                {\n                 renderButton()\n                }\n\n            </div>\n            <div className=\"w-100 h-10\"\n                 //style={{position:\"relative\"}}\n            >\n                {billFormData&&\n                renderHeader()\n                }\n\n            </div>\n            <div className=\"w-100 h-65\" \n                 style={{\n                     display:\"flex\"\n                     //position:\"relative\"\n                 }}\n            >\n                {billFormData&&formTableTemplate&&\n                 renderToolBox()   \n                }\n                {billFormData&&formTableTemplate&&\n                 renderTable()\n                }\n                \n            </div>\n            <div className=\"w-100 h-20\">\n                {billFormData&&\n                    renderFooter()\n                }\n            </div>\n        </div>\n    )\n}\n\n\nreturn(\n<div className=\"bgc-lightGray app-container h-100 w-100\" >\n\n    {\n     renderForm()\n    }\n    {\n     showEditBillForm&&basicData\n     ?<EditBillForm\n         billFormData={billFormData}\n         setBillFormData={setBillFormData}\n         basicData={basicData}\n         submitFunc={editBillFormSubmitFunc}\n         cancelFunc={editBillFormCancelFunc}\n         calDigit={calDigit}\n         pageData={pageData}\n         myheader={myheader}\n         runIsGenId={runIsGenId}\n      />\n     :null\n    }\n   \n</div>\n\n)\n\n}\n\nBillForm.defaultProps={\n    calDigit:100,\n    bgColor:null\n}\n  \n\nexport default BillForm;\n\n","import React from 'react'\n\nimport {MdRefresh,MdSwapHoriz,MdSettings,\n    MdSearch,MdEdit,MdAddCircle,MdDelete,MdPrint,\n    MdChevronLeft,MdChevronRight,MdLastPage,\n    MdRadioButtonChecked,MdClose,MdRedo\n} from 'react-icons/md';\n\nimport {RiShareForwardLine} from 'react-icons/ri'\n\nimport { FaBullseye, FaRegArrowAltCircleUp,FaRegArrowAltCircleLeft} from 'react-icons/fa';\n\nconst renderBadgeForBill = ({\n                filterData,\n                setPageNumber,\n                bgColor,\n                backToFilter,\n                editData,\n                captureEditData,\n                setReloadDataFunc\n})=>{\n    //console.log('renderBadgeForBill')\n    //console.log(filterData)\n\n    const {pageNumber,limitRow,count}=filterData\n\n    const calTotalPage =()=>{\n       return Math.ceil(count/limitRow)\n    }\n\n    \n    return (\n    <div className=\"badge-frame-xc12\"\n        style={{background:bgColor,height:\"2rem\"}}\n    > \n        \n        <div className=\"flex-center-center flex-no-wrap xc12 jc-start\"\n              style={{overflow:\"hidden\",justifyContent:\"flex-start\"}}>\n            \n            <FaRegArrowAltCircleLeft\n                className=\"sm-icon\"\n                onClick={e=>backToFilter()}\n            />\n\n            {true//pageNumberShow\n            ?<div>\n                <MdChevronLeft\n                    className=\"sm-icon\"\n                    style={{visibility:(calTotalPage()>1)&&(pageNumber>1)\n                            ?\"visible\":\"hidden\"}}\n                    onClick={e=>{\n                        const temp=parseInt(pageNumber)-1\n                        setPageNumber(temp)\n                        //setReloadData(true)\n                    }}\n                />\n            </div>\n            :null\n            }\n\n            {calTotalPage()>1//&&pageNumberShow\n             ?<input \n                type=\"number\"\n                style={{width:\"70px\"}}\n                value={pageNumber.toString()}\n                onChange={e=>{\n                    const temp=parseInt(e.target.value)\n                    if(temp<=calTotalPage()||!temp){ //04-06-2021\n                        setPageNumber(temp)\n                        //setReloadData(true)\n                    }\n                }}\n              />\n             :null\n            }        \n\n            {calTotalPage()>1//&&pageNumberShow\n            ?<div style={{paddingTop:\"1rem\"}}>\n                <p>{`/${calTotalPage()}`}</p>\n            </div>\n            :null\n            }\n\n            {(calTotalPage()>1)&&(pageNumber<calTotalPage())//&&pageNumberShow\n            ?<div>\n                <MdChevronRight\n                    className=\"sm-icon\"\n                    onClick={e=>{\n                      const temp=parseInt(pageNumber)+1\n                      setPageNumber(temp)\n                      //setReloadData(true)\n                    }}\n                />\n            </div>\n            :null\n            }\n               \n            {(calTotalPage()>1)&&(pageNumber<calTotalPage())//&&pageNumberShow\n             ?<div>\n                 <MdLastPage\n                    className=\"sm-icon\"\n                    onClick={e=>{\n                        const temp=parseInt(calTotalPage())\n                        setPageNumber(temp)\n                        //setReloadData(true)\n                    }}\n                 />\n              </div>   \n             :null   \n            }\n\n            <MdRefresh\n                className=\"sm-icon\"\n                onClick={e=>{\n                    setReloadDataFunc()\n                    //captureEditData(editData)\n                }}\n            />\n\n            {editData&&\n            <RiShareForwardLine\n                className=\"sm-icon\"\n                onClick={e=>{\n                    captureEditData(editData)\n                }}\n            />\n            }\n            \n        </div>\n        \n    </div>  \n    )\n}\n\nexport default renderBadgeForBill\n","import React from 'react';\nimport ModalFilterInput from '../../render/renderFilter/ModalFilterInput'\n\nimport FilterTemplate from '../../render/renderFilter/FilterTemplate'\nimport inputState from '../../component/table/inputState'\nimport pageUtil from '../../component/pageComponent/pageUtil'\nimport renderModalError from '../../render/renderModalError'\nimport Table from '../../component/table/Table'\nimport renderBadgeForBill from './renderBadgeForBill'\nimport axios from 'axios'\nimport axiosUtil from '../../util/axiosUtil'\n\nconst {filterAxios,reloadAxiosAll,saveTableTemplate} =pageUtil\nconst {genArrayForFilterAxios,genFD,addFileNameInPhotoUrl,catchErrorToMessage}=axiosUtil\n\nfunction PartnerForBill(props) {\n\nconst {basicDataSt,myheader,captureCustomer,partnerInputState,setPartnerInputState}=props\nconst {basicData}=basicDataSt\n\nconsole.log('PartnerForBill')\n\nconst [filterData,setFilterData]=React.useState({\n    counst:0,\n    data0:null,\n    dataUrl:\"p35partner\",\n    lastRecordId:null,\n    limitRow:basicData.limitRow,//3,\n    pageNumber:1,\n    initPageNumber:true,\n    qry:{},\n    reloadData:false,\n    sort:{id:-1},\n    message:null,\n    showModalError:false,\n   \n})\n\nReact.useEffect(()=>{\n    console.log('filterData')\n    console.log(filterData)\n},[filterData])\n\nReact.useEffect(()=>{\n    //console.log('pageNumber')\n    //console.log(filterData.pageNumber)\n    \n    setFilterData({...filterData,initPageNumber:false})\n\n    if((filterData.pageNumber>0)&&(!filterData.initPageNumber)){\n        const {dataUrl,pageNumber,limitRow,sort,qry}=filterData\n\n        axios.post(`/${dataUrl}/getlimit`,{pageNumber,limitRow,sort,...qry},myheader)\n        .then(result=>{\n            const tempResult= { ...filterData,\n                                data0:result.data.data,\n                                count:result.data.count,\n                                lastRecordId:result.data.lastRecordId,\n                                reloadData:false,\n                             }\n            setFilterData(tempResult)\n        })\n        .catch(error=>{\n            //catchErrorToMessage(error,setMessage)\n            //setMessage(error.response.data.message)\n            const tempError={...filterData,\n                                reloadData:false,\n                                message:catchErrorToMessage(error),\n                                showModalConfirm:false,\n                                showModalError:true,\n                            }\n            setFilterData(tempError)\n        })\n    }\n    \n},[filterData.pageNumber])\n\n\nlet tempPartnerTableTemplate=basicDataSt.tableTemplate.partnerTableTemplate\nlet tempSelectedLine=tempPartnerTableTemplate.selectedLine\ntempSelectedLine={...tempSelectedLine,showCol:false}\ntempPartnerTableTemplate={...tempPartnerTableTemplate,\n                            selectedLine:tempSelectedLine\n                         }\n\nconst [editData,setEditData]=React.useState(null)\n\nconst [filterInputState,setFilterInputState]=React.useState(partnerInputState)\n\nconst [tableTemplate,setTableTemplate]=React.useState(\n    tempPartnerTableTemplate\n)\n\n\nconst setReloadDataFunc=()=>{\n    console.log('setReloadDataFunc')\n    const {dataUrl,pageNumber,limitRow,sort,qry}=filterData\n    axios.post(`/${dataUrl}/getlimit`,{pageNumber,limitRow,sort,...qry},myheader)\n    .then(result=>{\n        const tempResult= { ...filterData,\n                            data0:result.data.data,\n                            count:result.data.count,\n                            lastRecordId:result.data.lastRecordId,\n                            reloadData:false,\n                         }\n        setFilterData(tempResult)\n    })\n    .catch(error=>{\n        //catchErrorToMessage(error,setMessage)\n        //setMessage(error.response.data.message)\n        const tempError={...filterData,\n                            reloadData:false,\n                            message:catchErrorToMessage(error),\n                            showModalConfirm:false,\n                            showModalError:true,\n                        }\n        setFilterData(tempError)\n    })\n}\n\n\nconst saveTableTemplateFunc=(tableTemplate)=>{\n    const {tableTemplateUrl}=filterData\n    saveTableTemplate(tableTemplate,'p35tabletemplate',\"partnerTableTemplate\",myheader)\n}\n\nconst filterAxiosFunc=(option,inputState)=>{\n\n    filterAxios(option,inputState,FilterTemplate.partnerFilter,filterData,myheader)\n    .then(result=>{\n        setFilterData(result)\n        setPartnerInputState(filterInputState)\n    })\n    .catch(error=>{\n        setFilterData(error)\n        setPartnerInputState(filterInputState)\n    })\n\n}\nconst setFilterDataData0Func=(data)=>{\n    console.log('setFilterDataData0Func')\n    console.log(data)\n    setFilterData({...filterData,data0:data})\n}\nconst backToFilter=()=>{setFilterData({...filterData,data0:null})}\nconst setSortFunc=(data)=>{setFilterData({...filterData,sort:data})}\nconst setLimitRowFunc=(data)=>{setFilterData({...filterData,limitRow:data})}\nconst setShowModalErrorFunc=(data)=>{setFilterData({...filterData,showModalError:data})}\nconst setPageNumberFunc=(data)=>{setFilterData({...filterData,pageNumber:data})}\nconst updateFilterData=(data)=>{\n    console.log('updateFilterData')\n    console.log(updateFilterData)\n}\n// qry:{},\n\nconst renderTableAndBadge=()=>{\n    return(\n        <div className=\"w-100 h-100\" style={{paddingTop:\"1rem\"}}>\n            <div className=\"w-100\">\n                { renderBadgeForBill({\n                    filterData,\n                    setPageNumber:setPageNumberFunc,\n                    bgColor:\"#74b979\",\n                    backToFilter:backToFilter,\n                    editData:editData,\n                    captureEditData:captureCustomer,\n                    setReloadDataFunc:setReloadDataFunc\n                }) }\n            </div>\n\n            <div className=\"w-100 h90\">\n                <Table\n                    colorHead={\"#4b6d62\"}\n                    //tableTemplate={basicDataSt.tableTemplate.partnerTableTemplate}\n                    tableTemplate={tableTemplate}\n                    setTableTemplate={setTableTemplate}//setTableTemplateFunc}\n\n                    filterData={filterData.data0}\n                    setFilterData={setFilterDataData0Func}//setFilterDataFunc}//{setFilterDataData0}\n                    \n                    editData={editData}\n                    setEditData={setEditData}//{updateEditData}\n                    saveTableTemplateFunc={saveTableTemplateFunc}\n                    isSubTable={false}\n                    useInput={false}\n                    updateFilterData={()=>{}}//{updateEditData}\n\n                    basicData={basicData}\n                />\n            </div>\n\n        </div>\n    )\n}\n\nreturn(\n<div className=\"w-100\" >\n\n        <ModalFilterInput\n            title={\"\"}//filterTitle}\n            show={false} \n            setShow={()=>{}}\n\n            //filterTemplate={FilterTemplate.partnerFilter}\n            filterTemplate={basicDataSt.pageFilter.partnerFilter}\n\n            inputState={filterInputState} \n            setInputState={setFilterInputState}\n            \n            limitRow={filterData.limitRow}//limitRow} \n            setLimitRow={setLimitRowFunc}//setLimitRow}\n\n            sort={filterData.sort}//sort} \n            setSort={setSortFunc}//setSort}\n            \n            filterAxios={filterAxiosFunc}//filterAxiosFunc}\n            basicData={basicData}\n\n            LB={basicDataSt.pageFilterForm.partnerFilterForm}\n            //LB={pageFilterForm}\n\n        />\n\n        {filterData.data0\n        ?renderTableAndBadge()\n        :null\n        }\n\n        {  \n        filterData.showModalError\n        ?renderModalError({\n            setShow:setShowModalErrorFunc,\n            message:filterData.message\n        })\n        :null\n        }\n</div>\n\n)\n\n}\nexport default PartnerForBill;\n\n","import React from 'react';\nimport ModalFilterInput from '../../render/renderFilter/ModalFilterInput'\n\nimport FilterTemplate from '../../render/renderFilter/FilterTemplate'\nimport inputState from '../../component/table/inputState'\nimport pageUtil from '../../component/pageComponent/pageUtil'\nimport renderModalError from '../../render/renderModalError'\nimport Table from '../../component/table/Table'\nimport renderBadgeForBill from './renderBadgeForBill'\nimport axios from 'axios'\nimport axiosUtil from '../../util/axiosUtil'\nimport filterDataTemplate from './filterDataTemplate';\n\nconst {filterAxios,reloadAxiosAll,saveTableTemplate} =pageUtil\nconst {genArrayForFilterAxios,genFD,addFileNameInPhotoUrl,catchErrorToMessage}=axiosUtil\n\nfunction TransactionForBill(props) {\n\nconst {basicDataSt,myheader,pageFilter,pageFilterForm,\n      captureTransaction,transactionInputState,setTransactionInputState\n}=props\nconst {basicData}=basicDataSt\n\nconsole.log('TransactionForBill')\n\nconst [filterData,setFilterData]=React.useState({\n    counst:0,\n    data0:null,\n    dataUrl:\"p35transaction\",\n    lastRecordId:null,\n    limitRow:basicData.limitRow,//3,\n    pageNumber:1,\n    initPageNumber:true,\n    qry:{},\n    reloadData:false,\n    sort:{id:-1},\n    message:null,\n    showModalError:false,\n  \n})\n\nReact.useEffect(()=>{\n    console.log('filterData')\n    console.log(filterData)\n},[filterData])\n\nReact.useEffect(()=>{\n    //console.log('pageNumber')\n    //console.log(filterData.pageNumber)\n    \n    setFilterData({...filterData,initPageNumber:false})\n\n    if((filterData.pageNumber>0)&&(!filterData.initPageNumber)){\n        const {dataUrl,pageNumber,limitRow,sort,qry}=filterData\n\n        axios.post(`/${dataUrl}/getlimit`,{pageNumber,limitRow,sort,...qry},myheader)\n        .then(result=>{\n            const tempResult= { ...filterData,\n                                data0:result.data.data,\n                                count:result.data.count,\n                                lastRecordId:result.data.lastRecordId,\n                                reloadData:false,\n                             }\n            setFilterData(tempResult)\n        })\n        .catch(error=>{\n            //catchErrorToMessage(error,setMessage)\n            //setMessage(error.response.data.message)\n            const tempError={...filterData,\n                                reloadData:false,\n                                message:catchErrorToMessage(error),\n                                showModalConfirm:false,\n                                showModalError:true,\n                            }\n            setFilterData(tempError)\n        })\n    }\n    \n},[filterData.pageNumber])\n\nconst [editData,setEditData]=React.useState(null)\n\nconst [filterInputState,setFilterInputState]=React.useState(transactionInputState)\n\n\nlet tempTransactionTableTemplate=basicDataSt.tableTemplate.transactionTableTemplate\nlet tempSelectedLine=tempTransactionTableTemplate.selectedLine\ntempSelectedLine={...tempSelectedLine,showCol:false}\ntempTransactionTableTemplate={...tempTransactionTableTemplate,\n                            selectedLine:tempSelectedLine\n                         }\n\nconst [tableTemplate,setTableTemplate]=React.useState(tempTransactionTableTemplate)\n\nconst setReloadDataFunc=()=>{\n    console.log('setReloadDataFunc')\n    const {dataUrl,pageNumber,limitRow,sort,qry}=filterData\n    axios.post(`/${dataUrl}/getlimit`,{pageNumber,limitRow,sort,...qry},myheader)\n    .then(result=>{\n        const tempResult= { ...filterData,\n                            data0:result.data.data,\n                            count:result.data.count,\n                            lastRecordId:result.data.lastRecordId,\n                            reloadData:false,\n                         }\n        setFilterData(tempResult)\n    })\n    .catch(error=>{\n        //catchErrorToMessage(error,setMessage)\n        //setMessage(error.response.data.message)\n        const tempError={...filterData,\n                            reloadData:false,\n                            message:catchErrorToMessage(error),\n                            showModalConfirm:false,\n                            showModalError:true,\n                        }\n        setFilterData(tempError)\n    })\n}\n\nconst saveTableTemplateFunc=(tableTemplate)=>{\n    const {tableTemplateUrl}=filterData\n    saveTableTemplate(tableTemplate,'p35tabletemplate',\"transactionTableTemplate\",myheader)\n}\n\nconst filterAxiosFunc=(option,inputState)=>{\n\n\n    filterAxios(option,inputState,FilterTemplate.transactionFilter,filterData,myheader)\n    .then(result=>{\n        setFilterData(result)\n        setTransactionInputState(filterInputState)\n    })\n    .catch(error=>{\n        setFilterData(error)\n        setTransactionInputState(filterInputState)\n    })\n\n    \n}\n\nconst backToFilter=()=>{\n    setFilterData({...filterData,data0:null})\n}\n\nconst setSortFunc=(data)=>{setFilterData({...filterData,sort:data})}\nconst setLimitRowFunc=(data)=>{setFilterData({...filterData,limitRow:data})}\nconst setShowModalErrorFunc=(data)=>{setFilterData({...filterData,showModalError:data})}\nconst setPageNumberFunc=(data)=>{setFilterData({...filterData,pageNumber:data})}\n\n// qry:{},\n\nconst renderTableAndBadge=()=>{\n    return(\n        <div className=\"w-100 h-100\">\n            <div className=\"w-100\">\n                { renderBadgeForBill({\n                    filterData,\n                    setPageNumber:setPageNumberFunc,\n                    bgColor:\"#72a2d9\",\n                    backToFilter:backToFilter,\n                    editData:editData,\n                    captureEditData:captureTransaction,\n                    setReloadDataFunc:setReloadDataFunc\n                }) }\n            </div>\n\n            <div className=\"w-100 h90\">\n                <Table\n                    colorHead={\"#4b6d62\"}\n                    //tableTemplate={basicDataSt.tableTemplate.transactionTableTemplate}   \n                    tableTemplate={tableTemplate}\n                    setTableTemplate={setTableTemplate}\n\n                    filterData={filterData.data0}\n                    setFilterData={()=>{}}//setFilterDataFunc}//{setFilterDataData0}\n                    \n                    editData={editData}\n                    setEditData={setEditData}//{updateEditData}\n                    saveTableTemplateFunc={saveTableTemplateFunc}\n                    isSubTable={false}\n                    useInput={false}\n                    updateFilterData={()=>{}}//{updateEditData}\n\n                    basicData={basicData}\n                />\n            </div>\n\n        </div>\n    )\n}\n\nreturn(\n<div className=\"w-100\" >\n        <ModalFilterInput\n            title={\"\"}//filterTitle}\n            show={false} \n            setShow={()=>{}}\n\n\n            filterTemplate={pageFilter.transactionFilter}\n\n            inputState={filterInputState} \n            setInputState={setFilterInputState}\n            \n            limitRow={filterData.limitRow}//limitRow} \n            setLimitRow={setLimitRowFunc}//setLimitRow}\n\n            sort={{id:-1}}//sort} \n            setSort={setSortFunc}//setSort}\n            \n            filterAxios={filterAxiosFunc}//filterAxiosFunc}\n            basicData={basicData}\n\n            LB={pageFilterForm.transactionFilterForm}\n        />\n\n        {filterData.data0\n        ?renderTableAndBadge()\n        :null\n        }\n\n        {  \n        filterData.showModalError\n        ?renderModalError({\n            setShow:setShowModalErrorFunc,\n            message:filterData.message\n        })\n        :null\n        }\n</div>\n\n)\n\n}\nexport default TransactionForBill;\n\n","import React from 'react';\nimport axios from 'axios';\n\nimport pageUtil from '../../component/pageComponent/pageUtil'\nimport filterDataTemplate from './filterDataTemplate'\n//import {MainContext} from '../../context/MainContext'\nimport {MdClose} from 'react-icons/md';\nimport {FaPlusCircle,FaMinusCircle,FaCheck,FaBan} from 'react-icons/fa'\nimport Table from '../../component/table/Table'\nimport { EditTwoTone } from '@material-ui/icons';\nimport axiosUtil from '../../util/axiosUtil';\nimport ModalFilterInput from '../../render/renderFilter/ModalFilterInput';\n//import renderTable from '../../component/table/renderTable';\nimport renderModalError from '../../render/renderModalError'\n\nconst {genArrayForFilterAxios,genFD,addFileNameInPhotoUrl,catchErrorToMessage}=axiosUtil\n\nconst {reloadAxiosAll,saveTableTemplate,updateFilterData,\n    submitFunctionEdit,submitFunctionAdd,filterAxios,\n    setUnSelectAll,submitFunctionDelete\n} = pageUtil\n//==================================\nfunction BillMenuComponent(props) {\n\nconst {pageData,basicDataSt,myheader,\n    billMenuFilter,\n    billMenuInputState,\n    billMenuSort,\n    billMenuLimitRow,\n    billMenuShowTransaction,\n    billMenuOption,\n    setFilterDataFunc,\n    //transactionArray,refreshTransactionFunc\n}=props\n\n\nconsole.log('BillMenuComponent')\n\n/*\nconst jobStatusForm={\n    formHead:\"Job Status\"\n}\n*/\n\nconst {basicData}=basicDataSt\nconst {jobStatusForm}=pageData\n//console.log(basicDataSt)\n\nReact.useEffect(()=>{\n    //console.log('billMenuInputState')\n    //console.log(billMenuInputState)\n},[billMenuInputState])\n\nconst saveTableTemplateFunc=(tableTemplate)=>{\n    saveTableTemplate(tableTemplate,\n        \"p35tabletemplate\",\n        \"billMenuTableTemplate\",\n        myheader)\n}\n\nconst genTransactionData=(data)=>{\n   //console.log('data')\n   //console.log(data[0])\n  \n\n   let tempArray=[]\n   data.map(i=>{\n      const {_id,detail,date,...remaining}=i\n\n      //const date1=new Date(date).toISOString()\n      //const date3=new Date(date1).toLocaleString('en-GB')\n      //const tempTime=date3.substring(12,17)\n\n      \n      detail.map(j=>{\n         const {id,barcode,...remaining2}=j\n\n         /*\n         let tempDetailTime=null\n         if(detailTime){\n            const detailDate1=new Date(detailTime).toISOString()\n            const detailDate3=new Date(detailDate1).toLocaleString('en-GB')\n            tempDetailTime=detailDate3.substring(12,17)\n         }\n         */\n\n         const tempObj={...remaining,\n               productId:id,\n               productBarcode:barcode,\n               date:date,\n               time:date,\n               //detailTime:tempDetailTime,\n               ...remaining2\n            }\n         tempArray=[...tempArray,tempObj]\n      })\n   })\n\n   return tempArray\n}\n\n\nconst [transactionData,setTransactionData]=React.useState(null)\nconst [tableTemplate,setTableTemplate]=React.useState(basicDataSt.tableTemplate.billMenuTableTemplate)\nconst [editData,setEditData]=React.useState(null)\nconst [showJobStatus,setShowJobStatus]=React.useState(false)\nconst [transactionArray,setTransactonArray]=React.useState(null)\nconst [iForJobStatus,setIForJobStatus]=React.useState(null)\nconst [newJobStatus,setNewJobStatus]=React.useState(null)\nconst [message,setMessage]=React.useState(null)\nconst [showModalError,setShowModalError]=React.useState(false)\n\nReact.useEffect(()=>{\n    //console.log('transactionData=========')\n    //console.log(transactionData)\n},[transactionData])\n\nReact.useEffect(()=>{\n    //console.log('transactionArray')\n    //console.log(transactionArray)\n},[transactionArray])\n\n\nconst filterAxiosFunc=(option,inputState)=>{\n\n    console.log('filterAxios')\n    //console.log(filterTemplate)\n    const filterTemplate=basicDataSt.pageFilter.billMenuFilter\n    const filterData={pageNumber:1,\n                     limitRow:billMenuLimitRow,\n                     sort:billMenuSort,\n                     dataUrl:'p35transaction'\n                    }\n    filterAxios(option,inputState,filterTemplate,filterData,myheader)\n    .then(result=>{\n        console.log(\"result.....\")\n        console.log(result.data0)\n        const temp=genTransactionData(result.data0)\n        //console.log(temp)\n        setTransactonArray(result.data0)\n        setTransactionData(temp)\n        setFilterDataFunc({\n            [\"billMenuShowTransaction\"]:true,\n            [\"billMenuOption\"]:option\n        })\n        \n    })\n    .catch(error=>{\n        console.log(error)\n    }\n    )\n}\n\n\nReact.useEffect(()=>{\n   if(basicDataSt.tableTemplate){\n      setTableTemplate(basicDataSt.tableTemplate.billMenuTableTemplate)\n    }    \n},[basicDataSt])\n\nReact.useEffect(()=>{\n    if(editData){\n        //setShowJobStatus(true)\n    }\n},[editData])\n\n//====================\nconst renderFilter=()=>{\nreturn(\n    <div className=\"\">\n        <ModalFilterInput\n        show={true} setShow={()=>{}}\n        \n        filterTemplate={basicDataSt.pageFilter.billMenuFilter}\n\n        inputState={billMenuInputState} \n        setInputState={(data)=>setFilterDataFunc({[\"billMenuInputState\"]:data})}\n        \n        limitRow={billMenuLimitRow} \n        setLimitRow={(data)=>setFilterDataFunc({[\"billMenuLimitRow\"]:data})}\n        \n        sort={billMenuSort} \n        setSort={(data)=>setFilterDataFunc({[\"billMenuSort\"]:data})}\n        \n        filterAxios={filterAxiosFunc}\n        basicData={basicData}\n\n        LB={basicDataSt.pageFilterForm.transactionFilterForm}\n        />\n    </div>\n)\n\n}\n//--------------------\nconst renderTable=()=>{\n  return(\n    <Table\n        colorHead={\"#4b2c17\"}\n        tableTemplate={tableTemplate}\n        setTableTemplate={setTableTemplate}\n\n        filterData={transactionData}\n        setFilterData={setTransactionData}\n        \n        editData={editData}\n        setEditData={setEditData}\n        saveTableTemplateFunc={saveTableTemplateFunc}\n        isSubTable={false}\n        updateFilterData={()=>{}}\n        useInput={false}\n        selectData={null}\n        editIconField={\"jobStatus\"}\n        editIconFieldFunc={(i)=>{\n            setShowJobStatus(true)\n            setIForJobStatus(i)\n        }}//setShowEditForm(true)}\n    />\n  )\n}\n//====================\nconst renderJobStatus=()=>{\nreturn (\n<div className=\"Modal-background\">\n    <div className=\"Modal-box\">\n        <div className=\"Modal-header\">\n            <h4>{jobStatusForm.formHead}</h4>\n        </div>\n\n        <div className=\"flex-center-center\" style={{marginBottom:\"02rem\"}}>\n            <div className=\"xc6\">\n                {jobStatusForm.jobStatus}\n            </div>\n            <div className=\"xc6\">\n                {\n                <select style={{width:\"100%\"}}\n                        className=\"xc8\"\n                        onChange={e=>{\n                            setNewJobStatus(e.target.value)\n                        }}\n                >\n                    <option>....</option>\n                    {basicData[\"jobStatus\"].map((j,idx2)=>(\n                        <option key={idx2}\n                                selected={iForJobStatus.jobStatus==j?\"selected\":\"\"}\n                        >{j}</option>\n                    ))}\n                </select>\n                }\n            </div>\n\n        </div>\n\n        <div className=\"Modal-footer\">\n               <div>\n                   <button\n                    onClick={e=>{\n                           //submitFunc()\n                           //submitFunction()\n\n                        if(newJobStatus==\"open\"||newJobStatus==\"close\"){\n                            let tempArray=[]\n                            let tempDetail=[]\n\n                            transactionData.map(k=>{\n                                const {_id,\n                                    productId,productBarcode,\n                                    productName,\n                                    groupId,groupName,\n                                    unit,price,priceLevel,quantity,result,remark,\n                                    isRawMat,point,jobStatus,\n                                    ...remaining}=k\n\n                                if(k.id==iForJobStatus.id){\n                                    let tempObj={\n                                        id:productId,\n                                        barcode:productBarcode,\n                                        productName,\n                                        groupId,groupName,\n                                        unit,price,priceLevel,\n                                        quantity,result,remark,isRawMat,point,\n                                        jobStatus\n                                    }\n\n                                    if(k.productId==iForJobStatus.productId){\n                                        tempArray=[...tempArray,\n                                            {...k,jobStatus:newJobStatus}\n                                        ]\n                                        tempDetail=[...tempDetail,\n                                            {...tempObj,jobStatus:newJobStatus}\n                                        ]\n                                    }\n                                    else{\n                                        tempArray=[...tempArray,k]\n                                        tempDetail=[...tempDetail,tempObj]\n                                    }\n                                }\n                                else{\n                                    tempArray=[...tempArray,k]\n                                }\n\n                            })\n\n                            const tempObj={id:iForJobStatus.id,detail:tempDetail}   \n\n                            axios.post('/p35transaction/updatecustom',tempObj,myheader)\n                            .then(result=>{\n                                setTransactionData(tempArray)\n                                setShowJobStatus(false)\n                            })\n                            .catch(error=>{\n                                setShowModalError(true)\n                                setMessage(catchErrorToMessage(error))\n                            })\n                            \n                           \n                        }\n                           \n                    }}\n                   >\n                       <FaCheck/>\n                   </button>\n               </div>\n               <div>\n                   <button\n                       onClick={e=>{\n                            setShowJobStatus(false)\n                            //cancelFunc()\n                       }}\n                   >\n                       <FaBan/>\n                   </button>\n               </div>\n\n           </div>\n\n    </div>\n</div>\n)\n}\n\n//=====================\n\n//====================\nreturn(\n<div className=\" w-100\" \n     style={{marginBottom:\"4rem\",position:\"relative\"}} >\n      \n      {\n        renderFilter()\n      }\n\n      {\n       showJobStatus&&basicDataSt&&\n       renderJobStatus() \n      }    \n\n\n      { billMenuShowTransaction&&transactionData\n        ?renderTable()\n        :null//renderFilter()\n      }\n        \n      {  \n        showModalError\n        ?renderModalError({\n            setShow:setShowModalError,\n            message:message\n        })\n        :null\n      }\n\n</div>\n\n)\n\n}\nexport default BillMenuComponent;\n","import React from 'react';\nimport {FaCheckCircle} from 'react-icons/fa'\n\nimport pageUtil from '../../component/pageComponent/pageUtil'\nimport axios from 'axios';\nimport uuid from 'react-uuid';\nimport tableUtil from '../../component/table/tableUtil'\n\nconst {reloadAxiosAll,saveTableTemplate,updateFilterData,\n    submitFunctionEdit,submitFunctionAdd,filterAxios,\n    setUnSelectAll,submitFunctionDelete\n} = pageUtil\n\nconst {sortColumn,numberWithCommas} = tableUtil\n\n//==================================\nfunction BillBarcode(props) {\n\nconst {\n    basicDataSt,\n    myheader,\n    pageData,\n    showBillForm1,\n    showBillForm2,\n    \n    billFormData1,\n    billFormData2,\n\n    setData1,\n    setData2,\n\n    setDetail1,\n    setDetail2,\n    calDigit,\n    submitConfirm\n}=props\n\n\nconsole.log('BillBarcode')\nconst {billBarcodeForm}=pageData\n\n//--------------\n/*\nconst billBarcodeForm={\n    productId:\"Product ID\",\n    barcode:\"Barcode\",\n    partnerId:\"Partner ID\",\n    phone:\"Phone\",\n    table:\"Table\",\n    queue:\"Queue\",\n    paymentType:\"Payment Type\",\n    cash:\"\", \n    grandTotal:\"\",\n    change:\"\",\n}\n*/\n//----------------\nconst blankInputState={\n    productId:\"\", //number\n    barcode:\"\", //string\n    partnerId:\"\", //number\n    phone:\"\", //string\n    table:\"\", //select\n    queue:\"\", //number\n    paymentType:basicDataSt.basicData.paymentType[0],\n    cash:0,\n    grandTotal:0,\n    change:0,\n}\n\nconst [showCash,setShowCash]=React.useState(false)\nconst [showError,setShowError]=React.useState(false)\n\nconst [inputState,setInputState]=React.useState({...blankInputState})\n\nlet [filterData,setFilterData]=React.useState(null)\n//{...filterDataTemplate.product}\n    \n\nReact.useEffect(()=>{\n    //console.log('inputState..........')\n    //console.log(inputState)\n   \n    if(inputState.paymentType==basicDataSt.basicData.paymentType[0]){\n        setShowCash(true)\n    }\n    else {\n        setShowCash(false)\n    }\n    \n},[inputState])\n\nReact.useEffect(()=>{\n    \n    if(showBillForm1){\n        if(billFormData1){\n            console.log(billFormData1.grandTotal)\n            setInputState({...inputState,\n                productId:\"\",\n                barcode:\"\",\n                partnerId:\"\",\n                phone:\"\",\n                grandTotal:billFormData1.grandTotal})\n        }\n    }\n    if(showBillForm2){\n        if(billFormData2){\n            console.log(billFormData2.grandTotal)\n            setInputState({...inputState,\n                productId:\"\",\n                barcode:\"\",\n                partnerId:\"\",\n                phone:\"\",\n                grandTotal:billFormData2.grandTotal})\n        }\n    }\n    \n},[billFormData1,billFormData2])\n\nconst genInputType=(i)=>{\n    if(i==\"productId\"||i==\"partnerId\"||i==\"queue\"||i==\"cash\"){\n        return \"number\"\n    }\n    else if(i==\"barcode\"||i==\"phone\"){\n        return \"string\"\n    }\n}\n\nconst findProductByBarcode=(e)=>{\n    if(e.key==\"Enter\"){\n        console.log('findProductById')\n        axios.post('/p35product/getlimit',{barcode:e.target.value},myheader)\n        .then(result=>{\n            console.log('result')\n            console.log(result.data)\n\n            if(result.data.data[0]){                \n                const tempProduct=result.data.data[0]\n                const {\n                    id,barcode,productName,\n                    groupId,groupName,\n                    unit,price,priceLevel,\n                    point,isRawMat,\n                    remark,active\n                }=tempProduct\n                \n                const tempObj={\n                    id,barcode,productName,\n                    groupId,groupName,\n                    unit,price,priceLevel,\n                    point,isRawMat,\n                    remark,\n                    _id:uuid(),\n                    selectedLine:false,\n                    quantity:1,\n                    result:price,\n                    jobStatus:\"open\",\n                    detailTime:new Date().toISOString(),\n                }\n\n                if(showBillForm1==true){\n                    console.log('showBillForm1')\n                    setDetail1(tempObj)\n                }\n                if(showBillForm2==true){\n                    console.log('showBillForm2')\n                    setDetail2(tempObj)\n                }\n                setInputState({\n                    ...inputState,\n                    barcode:\"\"\n                })\n            }\n            else{\n                setInputState({\n                    ...inputState,\n                    barcode:\"\"\n                }) \n            }\n        })\n        .catch(error=>{\n           console.log('error')\n        })\n     }\n}\n\nconst findProductById=(e)=>{\n    if(e.key==\"Enter\"){\n        console.log('findProductById')\n        axios.post('/p35product/getlimit',{id:e.target.value},myheader)\n        .then(result=>{\n            console.log('result')\n            console.log(result.data)\n\n            if(result.data.data[0]){                \n                const tempProduct=result.data.data[0]\n                const {\n                    id,barcode,productName,\n                    groupId,groupName,\n                    unit,price,priceLevel,\n                    point,isRawMat,\n                    remark,active\n                }=tempProduct\n                \n                const tempObj={\n                    id,barcode,productName,\n                    groupId,groupName,\n                    unit,price,priceLevel,\n                    point,isRawMat,\n                    remark,\n                    _id:uuid(),\n                    selectedLine:false,\n                    quantity:1,\n                    result:price,\n                    jobStatus:\"open\",\n                    detailTime:new Date().toISOString(),\n                }\n\n                if(showBillForm1==true){\n                    console.log('showBillForm1')\n                    setDetail1(tempObj)\n                }\n                if(showBillForm2==true){\n                    console.log('showBillForm2')\n                    setDetail2(tempObj)\n                }\n                setInputState({\n                    ...inputState,\n                    productId:\"\"\n                })\n            }\n            else{\n                setInputState({\n                    ...inputState,\n                    productId:\"\"\n                })\n            }\n\n        })\n        .catch(error=>{\n           console.log('error')\n        })\n     }\n}\n\nconst findCustomerById=(e)=>{\n    if(e.key==\"Enter\"){\n       console.log('findCustomerById')\n       axios.post('/p35partner/getlimit',{id:e.target.value},myheader)\n       .then(result=>{\n            //console.log('result')\n            //console.log(result.data)\n\n            if(result.data.data[0]){                \n                const tempCustomer=result.data.data[0]\n                const {id,name,title,phone,address,partnerType}=tempCustomer\n                const tempObj={\n                    partnerId:id,title:title,name:name,phone:phone,\n                    address:address[0],partnerType:partnerType\n                 }\n\n                if(showBillForm1==true){\n                    console.log('showBillForm1')\n                    setData1(tempObj)\n                }\n                if(showBillForm2==true){\n                    console.log('showBillForm2')\n                    setData2(tempObj)\n                }\n                setInputState({\n                    ...inputState,\n                    partnerId:\"\"\n                })\n            }\n            else{\n                setInputState({\n                    ...inputState,\n                    partnerId:\"\"\n                })\n            }\n       })\n       .catch(error=>{\n          console.log('error')\n       })\n    }\n}\n\n\nconst findCustomerByPhone=(e)=>{\n    if(e.key==\"Enter\"){\n        console.log('findCustomerByPhone')\n        const temp ={[\"phone\"]:{$elemMatch:{$eq:e.target.value}}}\n        //{$regex:e.target.value.trim().replace(/\\s/,\"|\"),$options:'gi' }\n        //const temp ={[\"phone\"]:{$elemMatch:{$regex:\"222\",$options:'gi'}}}\n       axios.post('/p35partner/getlimit',temp,myheader)\n       .then(result=>{\n            //console.log('result')\n            //console.log(result.data)\n\n            if(result.data.data[0]){\n                \n                const tempCustomer=result.data.data[0]\n                //console.log(tempCustomer)\n                const {id,name,title,phone,address,partnerType}=tempCustomer\n\n                const tempObj={\n                    partnerId:id,title:title,name:name,phone:phone,\n                    address:address[0],partnerType:partnerType\n                 }\n\n                if(showBillForm1==true){\n                    setData1(tempObj)\n                }\n                if(showBillForm2==true){\n                    setData2(tempObj)\n                }\n                setInputState({\n                    ...inputState,\n                    phone:\"\"\n                })\n\n            }\n            else{\n                setInputState({\n                    ...inputState,\n                    phone:\"\"\n                })\n            }\n       })\n       .catch(error=>{\n          console.log('error')\n       })\n    }\n}\n\n\nconst setQueue=(e)=>{\n    if(e.key==\"Enter\"){\n        const tempObj={\n            queue:e.target.value,\n            queueStatus:\"open\"\n        }\n\n        if(showBillForm1==true){\n            setData1(tempObj)\n        }\n        if(showBillForm2==true){\n            setData2(tempObj)\n        }\n        setInputState(blankInputState)\n    }\n}\n\nconst setTable=(e)=>{\n\n    const tempObj={\n        table:e.target.value,\n        tableStatus:\"open\"\n    }\n    \n    if(showBillForm1==true){\n        setData1(tempObj)\n    }\n    if(showBillForm2==true){\n        setData2(tempObj)\n    }\n    setInputState(blankInputState)    \n}\n\nconst keyDownFunc=(i,e)=>{\n    if(i==\"partnerId\"){\n        findCustomerById(e)\n    }\n    else if(i==\"phone\"){\n        findCustomerByPhone(e)\n    }\n    else if(i==\"queue\"){\n        setQueue(e)\n    }\n    else if(i==\"productId\"){\n        findProductById(e)\n    }\n    else if(i==\"barcode\"){\n        findProductByBarcode(e)\n    }\n}\n\nconst renderInput=(i)=>{\n        if(i==\"table\"){\n            return (\n                <select className=\"\"\n                    onChange={e=>setTable(e)}\n                >\n                    <option>....</option>\n                    {\n                    basicDataSt.basicData[i].map((j,idx2)=>j.tableActive\n                    ?<option key={idx2}\n                   \n                    >{j.tableName}</option>\n                    :null\n                    )\n                    }\n                </select>\n            )\n        }\n        else if(i==\"paymentType\"){\n            return (\n                <select className=\"\"\n                    onChange={e=> setInputState({\n                        ...inputState,\n                        paymentType:e.target.value\n                    })}\n                >\n                    <option>....</option>\n                    {\n                    basicDataSt.basicData[i].map((j,idx2)=>(\n                    <option key={idx2}\n                    selected={\n                        (inputState[\"paymentType\"]==j)\n                        ?\"selected\"\n                        :\"\"\n                     }\n                    >{j}\n                    </option>\n                    ))\n                    }\n                </select>\n            )\n        }\n        else if(i==\"cash\"){\n            if(showCash){\n                return (\n                    <input\n                    type={\"number\"}\n                    value={ inputState[i]}\n                    style={{fontSize:\"1.2\",\n                            color:inputState[i]<inputState.grandTotal?\"red\":\"black\",\n                            fontSize:\"1.5rem\",backgroundColor:\"#fdf07a\"\n                           }}\n                    onKeyDown={e=>{\n                        if(e.key==\"Enter\"){\n                            const tempChange=e.target.value-inputState.grandTotal\n                            setInputState({\n                                ...inputState,\n                                change:tempChange\n                            })\n                        }\n                    }}\n                    onChange={e=>{\n                        setInputState({...inputState,\n                            [i]:e.target.value\n                        })\n                    }}\n                    />\n                )\n            }\n        }\n        else if(i==\"grandTotal\"){\n            return(\n            <div style={{backgroundColor:\"#a7c6eb\",fontSize:\"1.4rem\"\n                         }}>\n                  {numberWithCommas(inputState.grandTotal,calDigit,\"grandTotal\")}\n            </div>\n            )\n        }\n        else if(i==\"change\"){\n            if(showCash){\n                return(\n                    <div style={{backgroundColor:\"#fdf07a\",fontSize:\"1.4rem\"}}>\n                    {numberWithCommas(inputState.change,calDigit,\"change\")}\n                    </div>\n                )\n            }\n        }\n        else {\n            return <input\n                    type={genInputType(i)}\n                    value={inputState[i]}\n                    onKeyDown={e=>{\n                        keyDownFunc(i,e)\n                    }}\n                    onChange={e=>{\n                        setInputState({...inputState,[i]:e.target.value})\n                    }}\n               />\n        }\n}\n//==========================\nconst renderBody=()=>{\n    const objKeys=Object.keys(billBarcodeForm)\n\n    return objKeys.map((i,idx)=>(\n        <div key={idx} \n            className=\"flex-center-center jc-start\" \n            style={{padding:\"0.2rem\",width:\"100%\",maxWidth:\"50vw\"}}>\n            \n            {i==\"cash\"||i==\"change\"||i==\"grandTotal\"\n            ?<div style={{width:\"30%\",fontSize:\"1.2rem\",color:i==\"grandTotal\"?\"black\":\"brown\"}}\n            >{billBarcodeForm[i]}</div>\n            :<div style={{width:\"30%\",color:\"black\"}}\n            >{billBarcodeForm[i]}</div>\n            }\n            <div style={{width:\"70%\"}}\n            >\n            {\n                renderInput(i)\n            }\n            </div>\n            \n        </div>\n    ))\n}\n//====================\n\n\n//====================\nreturn(\n<div className=\"bgc-lightGray h-100 w-100\" \n     style={{paddingTop:\"0.5rem\"}} >     \n    {billFormData1||billFormData2\n        ?renderBody()\n        :null\n    }\n    {billFormData1||billFormData2\n    ?<div className='w-100 flex-center-center' style={{margin:\"1.5rem 0\"}}>\n        <button\n            style={{width:\"40%\"}}\n            onClick={e=>{\n                submitConfirm()\n            }}\n        >\n            <FaCheckCircle style={{fontSize:\"4rem\"}}/>\n        </button>\n    </div>\n    :null\n    }\n</div>\n\n)\n\n}\nexport default BillBarcode;\n","import React from 'react';\nimport pageUtil from '../../component/pageComponent/pageUtil'\nimport filterDataTemplate from './filterDataTemplate'\nimport {MainContext} from '../../context/MainContext'\nimport {MdSwapHoriz} from 'react-icons/md';\nimport {FaPlusCircle,FaMinusCircle} from 'react-icons/fa'\n\nconst {reloadAxiosAll,saveTableTemplate,updateFilterData,\n    submitFunctionEdit,submitFunctionAdd,filterAxios,\n    setUnSelectAll,submitFunctionDelete\n} = pageUtil\n//==================================\nfunction BillQueue(props) {\n\nconst {basicDataSt,queueArray,captureBillFromTable,updateQueue}=props\n\nconsole.log('BillQueue')\n\nconst {basicData}=basicDataSt\n\nconst [editQueue,setEditQueue]=React.useState(null)\n\n//==========================\nconst renderTable=()=>{\n    return(\n        <div className=\"grid-flex bd=green\"\n             style={{margin:\"0.2rem\"}}\n        >\n            {\n                queueArray.map((i,idx)=>{\n\n                    return i.queueStatus==\"open\"\n                        ?<div className=\"grid-flextile2\"\n                              key={idx}\n                        >\n                        \n                            <div key={idx}\n                                \n                                style={{ minHeight:\"5rem\",minWidth:\"5rem\",\n                                    border:\"2px solid rgb(0,153,0)\",\n                                    backgroundColor:\"rgba(153,255,153,0.1)\",\n                                    borderRadius:\"5px\",marginBottom:\"0.2rem\"    \n                                }}\n\n                                \n                            >\n                                <div className=\"circle-p\"\n                                    style={{\n                                            width:\"2rem\",height:\"2rem\",\n                                            borderRadius:\"50%\",\n                                            opacity:\"0.7\",\n                                        }}\n                                    onClick={e=>setEditQueue(i.queue)}    \n                                >\n                                    <div className=\"w-100 h-100 flex-center-center\">\n                                        <div className='bill-p'>\n                                        {i.queue}   \n                                        </div>\n                                    </div>\n                                </div>   \n                                <div className='bill-p' \n                                     style={{display:\"flex\",alignItems:\"center\",\n                                             justifyContent:\"space-between\"}}>\n                                    <div \n                                        onClick={e=>captureBillFromTable(i)}\n                                    >\n                                    {`${i.table}-${i.name}`}\n                                    </div>\n                                    {editQueue==i.queue\n                                        ?<div style={{marginLeft:\"1rem\"}}>\n                                            <select\n                                                onChange={e=>{\n                                                    updateQueue(e,i)\n                                                }}\n                                            >\n                                                <option>...</option>\n                                                <option>close</option>\n                                            </select>\n                                        </div>\n                                        :null\n                                    }\n                                </div>\n\n\n                                {/*\n                                tempBillArray.map((j,idx)=>{\n                                    return(\n                                        <div className=\"bill-p\"\n                                            style={{display:\"flex\",justifyContent:\"space-between\",\n                                                   padding:\"0 0.1rem\"}}\n                                            onClick={e=>{\n                                                captureBillFromTable(j)\n                                            }}\n                                        >\n                                            <div>{`${j.name}`}</div>\n                                            <div \n                                                style={j.queueStatus==\"close\"\n                                                       ?{textDecoration:\"line-through\",color:\"#676f76\"}\n                                                       :null\n                                                       }\n                                            >{`Q-${j.queue}:`}\n                                            </div>\n                                        </div>\n                                    )\n                                })\n                                */}\n                            </div>\n                        </div>\n                        :null\n                    \n                })\n            }\n        </div>\n    )\n}\n\n//====================\nreturn(\n<div className=\"w-100\" style={{marginBottom:\"4rem\"}} >\n           {  basicData&&\n               renderTable()\n           }\n</div>\n\n)\n\n}\nexport default BillQueue;\n","import React from 'react';\nimport axios from 'axios'\nimport uuid from 'react-uuid'\nimport axiosUtil from '../../util/axiosUtil'\nimport pageUtil from '../../component/pageComponent/pageUtil'\nimport {MainContext} from '../../context/MainContext'\nimport NewGroupComponent from '../../render/renderTree/NewGroupComponent'\nimport renderCustomerConfirm from './renderCustomerConfirm';\nimport renderTransactionConfirm from './renderTransactionConfirm';\nimport {RiLoginCircleLine,RiLoginBoxLine} from 'react-icons/ri'\nimport {FaHome} from 'react-icons/fa';\nimport {MdRefresh} from 'react-icons/md';\nimport LogOutTool from '../login/LogOutTool';\nimport {Link} from 'react-router-dom';\n\nimport ModalConfirm from '../../render/ModalConfirm';\n\nimport inputState from '../../component/table/inputState'\n\n\nimport filterDataTemplate from './filterDataTemplate'\nimport PageComponent from '../../component/pageComponent/SparePageComponent'\nimport ctUtil from '../../util/ctUtil'\n\nimport renderWidthRangeBar from '../../component/table/renderWidthRangeBar'\n\nimport data from './data'\nimport BillGroupComponent from './BillGroupComponent';\nimport BillProductGridComponent from './BillProductGridComponent';\nimport BillTableComponent from './BillTableComponent';\nimport BillForm from './BillForm'\nimport PartnerForBill from './PartnerForBill'\nimport TransactionForBill from './TransactionForBill';\nimport BillMenuComponent from './BillMenuComponent';\nimport BillBarcode from './BillBarcode'\nimport BillQueue from './BillQueue'\nimport PrintOut from '../../render/renderForm/PrintOut'\nimport renderModalError from '../../render/renderModalError';\nimport {FaChair,FaRegFolderOpen,FaRegMoneyBillAlt,\n        FaRegArrowAltCircleRight,FaMoneyBill} from 'react-icons/fa'\nimport {MdFastfood,MdPeople,MdPerson,MdClose} from 'react-icons/md'\nimport {GiCook}  from 'react-icons/gi'\nimport Ticon from '../../component/ticon/Ticon'\n\nconst {reloadAxiosAll,saveTableTemplate,updateFilterData,\n    submitFunctionEdit,submitFunctionAdd,filterAxios,\n    setUnSelectAll,submitFunctionDelete\n} = pageUtil\n\nconst {sleep,catchErrorToMessage}=axiosUtil\n\n\nfunction Bill() {\n\nconsole.log('Bill')\n\nconst {basicDataSt,\n        setReloadBasicData,\n        myheader,\n        setBasicData,\n        tokenSt,\n        setReloadCheckToken\n        //widthLeft,setWidthLeft\n}=React.useContext(MainContext)\n\n\nconst getIconStyle=()=>{\n     \n    const toDate=new Date()\n    \n    let temp1=localStorage.getItem(\"expirationDate\")\n    const expirationDate=new Date(temp1)\n    \n    if(!temp1){\n       return null\n    }\n\n    const temp3=new Date(expirationDate.toISOString())\n    temp3.setDate(temp3.getDate()-3)\n    const threeDayBeforeExpirationDate=new Date(temp3)\n    //const temp2=expirationDate.getDate()-3\n    //const temp3=expirationDate.toISOString()\n   \n     const a=toDate.getTime()-expirationDate.getTime()\n     //console.log('a....')\n     //console.log(a)\n\n     //console.log('toDate')\n     //console.log(toDate)\n\n     //console.log('exp')\n     //console.log(expirationDate)\n\n     //console.log('3 d before')\n     //console.log(threeDayBeforeExpirationDate)\n\n     if(toDate>expirationDate){\n        return {color:\"red\"}\n     }\n     else if(toDate>threeDayBeforeExpirationDate){\n        return {color:\"yellow\"}\n     }\n     else{\n        return {color:\"green\"}\n     }\n\n }\n\n\n\nconst refHome=React.createRef()\n\nconst calDigit=100\n\nconst {basicData,pageData,tableTemplate,pageFilter,pageFilterForm,user}=basicDataSt\n\nconst genFilterData=()=>{\n    //console.log('00000000000000000')\n    //console.log(basicDataSt)\n    let temp={\n        ...filterDataTemplate.bill,\n        /*\n        data1:{...filterDataTemplate.blankData,\n                branchId:basicData.branchId,\n                branchName:basicData.branchName\n            },\n        data2:{...filterDataTemplate.blankData,\n                branchId:basicData.branchId,\n                branchName:basicData.branchName\n        }\n        */\n    }\n\n    if(basicData){\n        temp={...temp,\n              widthLeft:basicData.widthLeft,\n              limitRow:basicData.limitRow,\n              billMenuLimitRow:basicData.limitRow\n            }\n    }\n\n    return temp\n}\n\nlet [filterData,setFilterData]=React.useState(genFilterData())\n\nconst [selectProductToBillForm,setSelectProductToBillForm]=React.useState(null) \n\nconst [selectCustomerToBillForm,setSelectCustomerToBillForm]=React.useState(null) \n\nconst [resetProductList,setResetProductList]=React.useState(false)\n\nconst [billTableTemplate,setBillTableTemplate]=React.useState(null)\n\nconst [partnerInputState,setPartnerInputState]=React.useState(inputState.partnerInputState)\nconst [transactionInputState,setTransactionInputState]=React.useState(inputState.transactionInputState)\n\nconst [printData,setPrintData]=React.useState(null)\n\n\n//----------------\n//----test\nconst genBillFormData=(data)=>{\n    console.log('genBillFormData')\n    //console.log(data)\n    if(!data){return null}\n    //console.log(1)\n    if(!data.detail){return data}\n    //console.log(2)\n    if(!Array.isArray(data.detail)){return data}\n    //console.log(3)\n    if(data.detail.length==0){return data}\n\n    return data\n}\n\n\nconst [billFormData1,setBillFormData1]=React.useState(filterData.data2)\nconst [billFormData2,setBillFormData2]=React.useState(filterData.data2)\n\nconst setData1=(data)=>{\n    //console.log('data1')\n    //console.log(data)\n    if(billFormData1){\n        setBillFormData1({...billFormData1,...data})\n    }\n}\n\nconst setData2=(data)=>{\n    //console.log('data2')\n    //console.log(data)\n    if(billFormData2){\n        setBillFormData2({...billFormData2,...data})\n    }\n}\n\nconst setDetail1=(detailData)=>{\n    if(billFormData1){\n        const tempDetail=[...billFormData1.detail,detailData]\n        setBillFormData1({...billFormData1,detail:tempDetail,reCal:true})\n    }\n}\n\nconst setDetail2=(detailData)=>{\n    if(billFormData2){\n        const tempDetail=[...billFormData2.detail,detailData]\n        setBillFormData2({...billFormData2,detail:tempDetail,reCal:true})\n    }\n}\n\n\n//----------------\n\nReact.useEffect(()=>{\n    if(printData){\n        if(basicData.printPageSetting)\n        //console.log(data)\n        //console.log(basicData.printPage)\n        window.print()\n        setPrintData(null)\n    }\n},[printData])\n\nReact.useEffect(()=>{\n    //console.log('basicDataSt....Effect')\n    //console.log(basicDataSt)\n    if(basicDataSt.tableTemplate){    \n        setBillTableTemplate(tableTemplate.productDetailTableTemplateForForm)\n    }\n  \n    if(basicDataSt.basicData){\n        //console.log('have basicData===========')\n        //console.log(basicDataSt.basicData)\n        setFilterData({\n            ...filterData,\n            widthLeft:basicDataSt.basicData.widthLeft,\n            limitRow:basicDataSt.basicData.limitRow,\n            billMenuLimitRow:basicDataSt.basicData.limitRow\n        })\n    }\n\n},[basicDataSt])\n\nconst setShowRange=(data)=>{setFilterData({...filterData,showRange:data})}\nconst setWidthLeft=(data)=>{setFilterData({...filterData,widthLeft:data})}\nconst setHeightTop=(data)=>{setFilterData({...filterData,heightTop:data})}\n\nReact.useEffect(()=>{\n\n    //console.log('filterData.........Bill')\n    //console.log(filterData)\n\n    if(filterData.reloadData){\n            let tempArray=[]\n           \n            /*\n            basicData.table.map(i=>{\n                if(i.tableActive){\n                    tempArray=[...tempArray,{table:i.tableName,tableStatus:\"open\"}]\n                }\n            })\n            */\n            tempArray=[{tableStatus:\"open\"},{queueStatus:\"open\"}]\n            //console.log('tempArray')\n            //console.log(tempArray)\n            //const promise1=axios.post('/p35product/getlimit',{},myheader)\n            axios.post('/p35transaction/getlimit',{limitRow:100,$or:tempArray},myheader)   \n            .then(result=>{\n                console.log('result.....reloadData')\n                //console.log(result.data)\n\n                const temp=genFilterDataWithIndex(result.data.data)\n                //console.log(temp)\n\n                const tempTransaction=temp.tableOpen\n                //console.log('result tempTransation')\n                //console.log(tempTransaction)\n\n                setFilterData({...filterData,\n                    reloadData:false,\n                    count:result.data.count,\n                    lastRecordId:result.data.lastRecordId,\n                    transactionArray:tempTransaction,\n                    queueArray:temp.queueOpen\n                })\n            })\n            .catch(error=>{\n                console.log('error')\n                \n                //console.log(error)\n                const tempError={...filterData,\n                    reloadData:false,\n                    message:catchErrorToMessage(error),\n                    showModalConfirm:false,\n                    showModalError:true,\n                }\n                setFilterData(tempError)\n            })\n    }\n\n    if(filterData.reloadSelectProduct){\n        //console.log('filterData.qryProduct')\n        //console.log(filterData.qryProduct)\n    \n        axios.post('/p35product/getlimit',\n                {limitRow:100,sort:{id:1},...filterData.qryProduct},myheader)   \n        .then(result=>{\n\n            setFilterData({...filterData,\n                selectProduct:result.data.data,\n                reloadSelectProduct:false\n            })\n        })\n        .catch(error=>{\n            //console.log('error')\n            //console.log(error)\n            const tempError={...filterData,\n                reloadSelectProduct:false,\n                message:catchErrorToMessage(error),\n                showModalConfirm:false,\n                showModalError:true,\n            }\n            setFilterData(tempError)\n        })\n\n    }\n\n},[filterData])\n\nReact.useEffect(()=>{\n    console.log('filterData.data1')\n    if(filterData.data1){\n        setBillFormData1(filterData.data1)\n    }\n   \n},[filterData.data1])\n\nReact.useEffect(()=>{\n    console.log('filterData.data2')\n    if(filterData.data2){\n        setBillFormData2(filterData.data2)\n    }\n},[filterData.data2])\n\n\nconst genFilterDataWithIndex=(filterData)=>{\n\n    let tempArray=[]\n    let tempTableArray=[]\n    let tempQueueArray=[]\n\n\n    basicData.table.map(i=>{\n        if(i.tableActive){\n            tempArray=[...tempArray,i.tableName]\n        }\n    })\n\n    filterData.map((i,idx)=>{         \n        const temp={...i,_id:uuid()}\n\n        tempArray.map(j=>{\n            if(j==i.table&&i.tableStatus==\"open\"){\n                tempTableArray=[...tempTableArray,temp]\n            }\n        })\n\n        if(i.queueStatus==\"open\"){\n            tempQueueArray=[...tempQueueArray,temp]\n        }\n        //const temp={...i,tempIndex:idx,selectedLine:false}\n    })\n\n    return {tableOpen:tempTableArray,queueOpen:tempQueueArray}\n}\n\nconst runIsGenIdOfBillForm1=(value)=>{\n    setFilterData({...filterData,\n        isGenIdOfBillForm1:value,\n    })\n}\n\nconst runIsGenIdOfBillForm2=(value)=>{\n    setFilterData({...filterData,\n        isGenIdOfBillForm2:value,\n    })\n}\n\nconst captureBillFromTable=(data)=>{\n    //console.log('captureBillFromTable')\n    //console.log(data)\n\n    if(filterData.showBillForm1){\n        setFilterData({...filterData,\n            data1:data,\n            showBillForm1:false,\n            reloadBillForm1:true,\n            isGenIdOfBillForm1:false,\n            //showModalFromTable:true\n        })\n    }\n    if(filterData.showBillForm2){\n        setFilterData({...filterData,\n            data2:data,\n            showBillForm2:false,\n            reloadBillForm2:true,\n            isGenIdOfBillForm2:false,\n            //showModalFromTable:true\n        })\n    }\n    \n    //setEditData(data)\n}\n\nconst captureProductOfGroup=(value)=>{\n\n    //console.log('value.data0')\n    //console.log(value.data0)\n    setFilterData({...filterData,\n        selectProduct:value.data0,\n\n        showParter:false,\n        showGroup:false,\n        showProductGrid:true,\n        showTable:false,\n        showTransaction:false,\n        showBillMenu:false,\n        showBarcode:false,\n        showQueue:false,\n\n    })\n    \n}\n\nconst setShowGroupFunc=()=>{\n    setFilterData({...filterData,\n\n        showParter:false,\n        showGroup:true,\n        showProductGrid:false,\n        showTable:false,\n        showTransaction:false,\n        showBillMenu:false,\n        showBarcode:false,\n        showQueue:false,\n    })\n}\n\nconst setShowProductGridFunc=()=>{\n    setFilterData({...filterData,\n\n        showParter:false,\n        showGroup:false,\n        showProductGrid:true,\n        showTable:false,\n        showTransaction:false,\n        showBillMenu:false,\n        showBarcode:false,\n        showQueue:false,\n\n    })\n}\n\nconst setShowTableFunc=()=>{\n    setFilterData({...filterData,\n\n        showParter:false,\n        showGroup:false,\n        showProductGrid:false,\n        showTable:true,\n        showTransaction:false,\n        showBillMenu:false,\n        showBarcode:false,\n        showQueue:false,\n        \n\n    })\n}\n\nconst setShowPartnerFunc=()=>{\n    setFilterData({...filterData,\n\n        showParter:true,\n        showGroup:false,\n        showProductGrid:false,\n        showTable:false,\n        showTransaction:false,\n        showBillMenu:false,\n        showBarcode:false,\n        showQueue:false,\n\n    })\n}\n\nconst setShowTransactionFunc=()=>{\n    setFilterData({...filterData,\n\n        showParter:false,\n        showGroup:false,\n        showProductGrid:false,\n        showTable:false,\n        showTransaction:true,\n        showBillMenu:false,\n        showBarcode:false,\n        showQueue:false,\n\n    })\n}\n\n\nconst setShowBarcodeFunc=()=>{\n    setFilterData({...filterData,\n\n        showParter:false,\n        showGroup:false,\n        showProductGrid:false,\n        showTable:false,\n        showTransaction:false,\n        showBillMenu:false,\n        showBarcode:true,\n        showQueue:false,\n\n    })\n}\n\nconst setShowQueueFunc=()=>{\n    setFilterData({...filterData,\n\n        showParter:false,\n        showGroup:false,\n        showProductGrid:false,\n        showTable:false,\n        showTransaction:false,\n        showBillMenu:false,\n        showBarcode:false,\n        showQueue:true,\n\n    })\n}\n\n\nconst setShowBillMenuFunc=()=>{\n    ///console.log('setShowBillMenuFunc')\n    setFilterData({...filterData,\n\n        showParter:false,\n        showGroup:false,\n        showProductGrid:false,\n        showTable:false,\n        showTransaction:false,\n        showBillMenu:true,\n        showBarcode:false,\n        showQueue:false,\n    \n    })\n}\n\n\nconst setFilterDataFunc=(obj)=>{\n    setFilterData({\n        ...filterData,\n        ...obj\n    })\n}\n\n\nconst captureCustomerFunc=(data)=>{\n    const {id,title,name,partnerType,phone,address}=data\n    \n    setFilterData({...filterData,\n        showCustomerConfirm:true,\n        customerConfirm:{\n            partnerId:id,\n            title:title,\n            name:name,\n            partnerType:partnerType,\n            phone:phone,\n            address:address\n        }\n    })\n\n}\n\nconst captureTransactionFunc=(editData)=>{\n    //console.log('captureTransactionFunc editData')\n    //console.log(editData)\n     if(filterData.showBillForm1){\n        setFilterData({\n            ...filterData,\n            editTransaction:editData,\n            showTransactionConfirm:true,\n            isGenIdOfBillForm1:false    \n        })\n    }\n    if(filterData.showBillForm2){\n        setFilterData({\n            ...filterData,\n            editTransaction:editData,\n            showTransactionConfirm:true,\n            isGenIdOfBillForm2:false    \n        })\n    }\n\n}\n\n/*\nconst renderModalFromTable=()=>{\n    return(\n        <div className=\"Modal-background\">\n            <div className=\"Modal-box\" \n             style={{paddingBottom:\"1rem\",minWidth:\"50%\",minHeight:\"100px\",margin:\"0\",\n                    display:\"flex\",alignItems:\"center\",justifyContent:\"center\"\n             }}\n             \n             >\n                 <div className=\"flex-center-center jc-space-around\">\n                      <button>1kkkkkkkkkkkk</button>\n                      <button>2</button>\n                      <button\n                        onClick={e=>{setFilterData({...filterData,showModalFromTable:false})}}\n                      >X</button>\n                 </div>\n            </div>\n        </div>\n    )\n}\n*/\n\nconst captureProductListFromSelectProductInProductGrid=(data)=>{\n\n    if(data){\n        let tempArray=[]\n        data.map(i=>{\n            if(i.quantity>0){\n                const tempResult=parseInt(i.quantity*i.price*calDigit)/calDigit\n                const tempObj={...i,\n                            result:tempResult,\n                            _id:uuid(),\n                            selectedLine:false,\n                            jobStatus:\"open\"\n                        }\n                tempArray=[...tempArray,tempObj]\n            }\n        })\n        \n        setSelectProductToBillForm(null)\n\n        setFilterData({...filterData,\n            selectOfSelectProduct:tempArray\n        })\n        //setSelectOfSelectProduct(tempArray)\n    }    \n}\n\nconst customerConfirmSubmitFunc=()=>{\n\n    //console.log('filterData......................ssssssss')\n    //console.log(filterData)\n    if(filterData.showBillForm1||filterData.showBillForm2){\n        \n        let dataIdx=null\n        if(filterData.showBillForm1){\n            dataIdx=1\n        }\n        if(filterData.showBillForm2){\n            dataIdx=2\n        }\n\n        const {partnerId,title,name,partnerType,phone,address,selectedAddress}=filterData.customerConfirm\n\n        const tempObj={\n            partnerId:partnerId,\n            title:title,\n            name:name,\n            partnerType:partnerType,\n            phone:phone,\n            address:selectedAddress\n                    ?selectedAddress\n                    :address[0]\n        }\n        \n        const tempCustomer={\n            dataIdx:dataIdx,\n            selectCustomer:tempObj\n        }\n           \n        setSelectCustomerToBillForm(tempCustomer)     \n\n        setFilterData({...filterData,\n            showCustomerConfirm:false,\n        })\n    }\n    \n    /*\n    if(filterData.showBillForm1){\n\n        setFilterData({...filterData,\n            data1:{...filterData.data1,...tempObj},\n            showCustomerConfirm:false,\n            showBillForm1:false,\n            reloadBillForm1:true\n        })\n    }\n    if(filterData.showBillForm2){\n\n        setFilterData({...filterData,\n            data2:{...filterData.data2,...tempObj},\n            showCustomerConfirm:false,\n            showBillForm2:false,\n            reloadBillForm2:true\n        })\n    }\n    */\n    //setFilterData({...filterData,})\n}\n\nconst setPrintDataFunc=(data)=>{\n    console.log('setPrintDataFunc')\n    setPrintData(data)\n}\n\nconst customerConfirmCancelFunc=()=>{\n    setFilterData({...filterData,\n        showCustomerConfirm:false\n    })\n}\nReact.useEffect(()=>{\n    if(filterData.reloadBillForm1){\n        setFilterData({\n            ...filterData,\n            showBillForm1:true,\n            reloadBillForm1:false\n        })\n    }\n},[filterData.reloadBillForm1])\n\nReact.useEffect(()=>{\n    if(filterData.reloadBillForm2){\n        setFilterData({\n            ...filterData,\n            showBillForm2:true,\n            reloadBillForm2:false\n        })\n    }\n},[filterData.reloadBillForm2])\n\nconst transactionConfirmSubmitFunc=()=>{\n    let tempEditData=filterData.editTransaction\n\n    if(filterData.showBillForm1){\n        if(!filterData.includeTransactionHead){\n            tempEditData={...filterData.data1,\n                detail:[...filterData.data1.detail,\n                        ...filterData.editTransaction.detail\n                       ]\n            }\n        }\n\n        setFilterData({...filterData,\n            data1:tempEditData,\n            showTransactionConfirm:false,\n            showBillForm1:false,\n            reloadBillForm1:true\n        })\n    }\n    else{\n        if(!filterData.includeTransactionHead){\n            tempEditData={...filterData.data2,\n                detail:[...filterData.data2.detail,\n                        ...filterData.editTransaction.detail\n                       ]\n            }\n        }\n\n        setFilterData({...filterData,\n            data2:tempEditData,\n            showTransactionConfirm:false,\n            showBillForm2:false,\n            reloadBillForm2:true\n        })\n    }\n}\n\n\nconst transactionConfirmCancelFunc=()=>{\n    setFilterData({...filterData,\n        showTransactionConfirm:false\n    })\n}\n\n\nconst closeBillForm1=(data)=>{\n\n    setFilterData({...filterData,\n        showBillForm1:false,\n        data1:data,\n        reloadBillForm2:true\n    })\n}\n\nconst closeBillForm2=(data)=>{\n\n    setFilterData({...filterData,\n        showBillForm2:false,\n        data2:data,\n        reloadBillForm1:true\n    })\n}\n\n\nconst saveTableTemplateFunc=(tableTemplate)=>{\n    let tempObj={}\n    Object.keys(tableTemplate).map(i=>{\n       const temp={...tableTemplate[i],showColHead:true}\n        tempObj={...tempObj,[i]:temp}\n    })\n    //console.log(tableTemplate)\n    //console.log(tempObj)\n    setBillTableTemplate(tempObj)\n    saveTableTemplate(tableTemplate,'p35tabletemplate','productDetailTableTemplateForForm',myheader)\n}\n\nconst submitFunctionDeleteFunc=(data)=>{\n    setFilterData({...filterData,\n        showModalConfirm:true,\n        dataToDelete:data\n    })\n}\n\nconst setShowModalConfirmFunc=(data)=>{\n    setFilterData({...filterData,\n        showModalConfirm:data,\n        dataToDelete:null\n    })\n}\n\nconst submitConfirmToDelete=()=>{\n    const {dataToDelete}=filterData\n    //console.log('delete.......')\n    //const temp = await submitFunctionDelete(data,myheader)\n    //setFilterData(temp)\n    axios.post(`/p35transaction/deletetransaction`,dataToDelete,myheader)\n    .then(result=>{\n        console.log('done delete.............')\n        \n        if(filterData.showBillForm1){\n            const temp={...filterData,\n                reloadData:true,\n                showBillForm1:false,\n                showModalConfirm:false,\n                dataToDelete:false,\n                data1:filterDataTemplate.blankData,\n                reloadBillForm1:true\n            }\n            setFilterData(temp)\n        }\n        if(filterData.showBillForm2){\n            const temp={...filterData,\n                reloadData:true,\n                showBillForm2:false,\n                showModalConfirm:false,\n                dataToDelete:false,\n                data2:filterDataTemplate.blankData,\n                reloadBillForm2:true\n            }\n            setFilterData(temp)\n        }\n        \n        \n    })\n    .catch(error=>{\n        console.log('error')\n        console.log(error)\n        const tempError={...filterData,\n            //reloadData:false,\n            message:catchErrorToMessage(error),\n            //showModalConfirm:false,\n            showModalError:true,\n        }\n        console.log(tempError.message)\n        setFilterData(tempError)\n    })\n}\n\nconst submitFunctionEditFunc=async (data)=>{\n    //console.log(`edit.......xxxxxxxxxxxxx`)\n    //console.log(data)\n\n    const {_id,detail,...remaining}=data\n    let tempArray=[]\n    detail.map(i=>{\n        const {_id,...remaining2}=i\n        tempArray=[...tempArray,remaining2]\n    })\n\n    const tempObj={...remaining,detail:tempArray}\n\n    //console.log('tempObj')\n    //console.log(tempObj)\n\n    //const temp = await submitFunctionEdit(formInputState,filterData,stateTemplate,myheader)\n    //setFilterData(temp)\n    axios.post(`/p35transaction/updatetransaction`,tempObj,myheader)\n    .then(result=>{\n        console.log('done edit.............')\n        if(filterData.showBillForm1){\n            const temp={...filterData,\n                reloadData:true,\n                data1:filterDataTemplate.blankData,\n                reloadBillForm1:true,\n                showBillForm1:false\n            }\n            setFilterData(temp)\n        }\n\n        if(filterData.showBillForm2){\n            const temp={...filterData,\n                reloadData:true,\n                data2:filterDataTemplate.blankData,\n                reloadBillForm2:true,\n                showBillForm2:false\n            }\n            setFilterData(temp)\n        }\n\n    })\n    .catch(error=>{\n        console.log('error')\n        console.log(error)\n        const tempError={...filterData,\n            //reloadData:false,\n            message:catchErrorToMessage(error),\n            //showModalConfirm:false,\n            showModalError:true,\n        }\n        console.log(tempError.message)\n        setFilterData(tempError)\n\n    })\n}\n\nconst submitFunctionAddFunc=async (data)=>{\n    //console.log(`add.......`)\n    //console.log(data)\n    //const temp = await submitFunctionAdd(formInputState,filterData,stateTemplate,myheader)\n    //setFilterData(temp)\n    \n    const {_id,detail,...remaining}=data\n    let tempArray=[]\n    detail.map(i=>{\n        const {_id,...remaining2}=i\n        tempArray=[...tempArray,remaining2]\n    })\n\n    const tempObj={...remaining,detail:tempArray}\n    \n    //console.log('tempObj')\n    //console.log(tempObj)\n\n    axios.post(`/p35transaction/addtransaction`,tempObj,myheader)\n    .then(result=>{\n        console.log('done add............')\n        \n        if(filterData.showBillForm1){\n            const temp={...filterData,\n                reloadData:true,\n                data1:filterDataTemplate.blankData,\n                reloadBillForm1:true,\n                showBillForm1:false,\n                isGenIdOfBillForm1:false,\n            }\n            setFilterData(temp)\n        }\n\n        if(filterData.showBillForm2){\n            const temp={...filterData,\n                reloadData:true,\n                data2:filterDataTemplate.blankData,\n                reloadBillForm2:true,\n                showBillForm2:false,\n                isGenIdOfBillForm2:false,\n\n            }\n            setFilterData(temp)\n        }\n\n    })\n    .catch(error=>{\n        console.log('error')\n        console.log(error)\n        const tempError={...filterData,\n            //reloadData:true,\n            message:catchErrorToMessage(error),\n            //showModalConfirm:false,\n            showModalError:true,\n        }\n        console.log(tempError.message)\n        setFilterData(tempError)\n\n    })\n}\n\nconst submitSaveCloseBillFunc=()=>{\n    if(filterData.isGenIdOfBillForm){\n        if(filterData.showBillForm1){\n            if(billFormData1){\n                const tempObj={...billFormData1,\n                    tableStatus:\"close\",\n                    queueStatus:\"close\"\n                }\n                submitFunctionAddFunc(tempObj)\n            }\n        }\n        if(filterData.showBillForm2){\n            if(billFormData2){\n                const tempObj={...billFormData2,\n                    tableStatus:\"close\",\n                    queueStatus:\"close\"\n                }\n                submitFunctionAddFunc(tempObj)\n            }\n        }\n    }\n    else {\n        if(filterData.showBillForm1){\n            if(billFormData1){\n                const tempObj={...billFormData1,\n                    tableStatus:\"close\",\n                    queueStatus:\"close\"\n                }\n                submitFunctionEditFunc(tempObj)\n            }\n        }\n        if(filterData.showBillForm2){\n            if(billFormData2){\n                const tempObj={...billFormData2,\n                    tableStatus:\"close\",\n                    queueStatus:\"close\"\n                }\n                submitFunctionEditFunc(tempObj)\n            }\n        }\n    }\n}\n//======================================\nconst updateQueueFunc=(e,data)=>{\n    \n    if(e.target.value==\"close\"){\n        const {_id,...remaining}=data\n\n        let tempObj={...remaining,\n                        queueStatus:\"close\"\n                    }\n        //const {tax,reduction,detail}=tempObj\n        /*        \n        let taxArray=[]\n        tax.map(i=>{\n            const {_id,...remaining2}=i\n            taxArray=[...taxArray,remaining2]\n        })\n        let reductionArray=[]\n        reduction.map(i=>{\n            const {_id,...remaining2}=i\n            reductionArray=[...reductionArray,remaining2]\n        })\n\n        let detailArray=[]\n        detail.map(i=>{\n            const {_id,...remaining2}=i\n            detailArray=[...detailArray,remaining2]\n        })\n\n        console.log('tempObj')\n        tempObj={...tempObj,\n            tax:taxArray,\n            reduction:reductionArray,\n            detail:detailArray\n        }          \n        */\n        //console.log(tempObj)\n\n        axios.post(`/p35transaction/updatetransaction`,tempObj,myheader)\n        .then(result=>{\n            console.log('done edit.............')\n            if(filterData.showBillForm1){\n                const temp={...filterData,\n                    reloadData:true,\n                    data1:filterDataTemplate.blankData,\n                    reloadBillForm1:true,\n                    showBillForm1:false\n                }\n                setFilterData(temp)\n            }\n\n            if(filterData.showBillForm2){\n                const temp={...filterData,\n                    reloadData:true,\n                    data2:filterDataTemplate.blankData,\n                    reloadBillForm2:true,\n                    showBillForm2:false\n                }\n                setFilterData(temp)\n            }\n\n        })\n        .catch(error=>{\n            console.log('error')\n            console.log(error)\n            const tempError={...filterData,\n                //reloadData:false,\n                message:catchErrorToMessage(error),\n                //showModalConfirm:false,\n                showModalError:true,\n            }\n            console.log(tempError.message)\n            setFilterData(tempError)\n\n        })\n    }\n}\n//=======================================\nconst updateAllTransaction=(e,tableIdArray)=>{\n    if(e.target.value==\"close\"){\n        if(filterData.transactionArray.length>0){\n            let allPromise=[]\n\n            filterData.transactionArray.map(i=>{\n                //if(tableName==i.table){\n                tableIdArray.map(k=>{\n                    if(k==i.id){\n                        const {_id,...remaining}=i\n                        let tempObj={...remaining,\n                                tableStatus:\"close\"\n                        }\n                        allPromise=[...allPromise,\n                            axios.post(`/p35transaction/updatetransaction`,tempObj,myheader)\n                        ]\n                    }\n                })    \n                //}\n            })\n\n            console.log('allPromise.length')\n            console.log(allPromise.length)\n            Promise.all(allPromise)\n            .then(result=>{\n                console.log('done edit.............')\n                if(filterData.showBillForm1){\n                    const temp={...filterData,\n                        reloadData:true,\n                        data1:filterDataTemplate.blankData,\n                        reloadBillForm1:true,\n                        showBillForm1:false\n                    }\n                    setFilterData(temp)\n                }\n    \n                if(filterData.showBillForm2){\n                    const temp={...filterData,\n                        reloadData:true,\n                        data2:filterDataTemplate.blankData,\n                        reloadBillForm2:true,\n                        showBillForm2:false\n                    }\n                    setFilterData(temp)\n                }\n    \n            })\n            .catch(error=>{\n                console.log('error')\n                console.log(error)\n                const tempError={...filterData,\n                    //reloadData:false,\n                    message:catchErrorToMessage(error),\n                    //showModalConfirm:false,\n                    showModalError:true,\n                }\n                console.log(tempError.message)\n                setFilterData(tempError)\n    \n            })\n       }\n    }\n}\n\nconst captureAllTransaction=(tableIdArray)=>{\n    if(filterData.transactionArray.length>0){\n        let allDetailArray=[]\n        filterData.transactionArray.map(i=>{\n            tableIdArray.map(k=>{\n                if(k==i.id){\n                    allDetailArray=[...allDetailArray,...i.detail]\n                }\n            })\n            //if(tableName==i.table){\n            //}\n        })     \n        //console.log('allDetailArray')  \n        //console.log(allDetailArray)\n        if(filterData.showBillForm1){\n            if(billFormData1){\n                const tempObj={\n                    ...billFormData1,\n                    detail:[...billFormData1.detail,...allDetailArray],\n                    reCal:true\n                }\n                setBillFormData1(tempObj)\n            }\n        }\n\n        if(filterData.showBillForm2){\n            if(billFormData2){\n                const tempObj={\n                    ...billFormData2,\n                    detail:[...billFormData2.detail,...allDetailArray],\n                    reCal:true\n                }\n                setBillFormData2(tempObj)\n            }\n        }\n    }\n}\n//=======================================\nconst updateData=(data)=>{\n    console.log('updateData....')\n\n    if(filterData.showBillForm1){\n        const temp={...filterData,\n            data1:data,\n            reloadBillForm1:true,\n            showBillForm1:false,\n        }\n        setFilterData(temp)\n    }\n    if(filterData.showBillForm2){\n        const temp={...filterData,\n            data2:data,\n            reloadBillForm2:true,\n            showBillForm2:false,\n        }\n        setFilterData(temp)\n    }\n\n}\n\n//=======================================\nconst addSelectProductToBillForm=()=>{\n\n    //console.log('addSelectProductToBillForm')\n    //console.log(filterData.selectOfSelectProduct)\n    let dataIdx=null\n    if(filterData.showBillForm1){\n        dataIdx=1\n    }\n    if(filterData.showBillForm2){\n        dataIdx=2\n    }\n\n    const tempObj={\n        dataIdx:dataIdx,\n        selectProduct:filterData.selectOfSelectProduct\n    }\n\n    setSelectProductToBillForm(tempObj)\n    setResetProductList(true)\n          \n}\n\n//-----------------------\nconst refreshProductFunc=(data)=>{\n    setFilterData({...filterData,\n        reloadSelectProduct:true,\n        qryProduct:data\n    })\n}\n//------------------------\nconst refreshTransactionFunc=()=>{\n    setFilterData({...filterData,\n        reloadData:true\n    })\n}\n\nconst changeIncludeTransactionHead=(value)=>{\n    setFilterData({...filterData,\n        includeTransactionHead:value\n    })\n}\n//=======================================\nconst renderBody=()=>{\n    return(\n        filterData&&\n        <div className=\"\"\n             style={{display:\"flex\",height:\"94vh\"}}\n        >\n            <div className=\"bd-darkGray hide-on-print\" \n                 style={{height:\"\",width:`${filterData.widthLeft}%`,\n                         overflowY:\"scroll\",overflowX:\"hidden\"}}>\n               \n                <div    className=\"\"\n                        style={{height:\"\",width:\"100%\",\n                            display:\"flex\",\n                            flexWrap:\"wrap\",\n                            //overflowX:\"scroll\",\n                            //overflowY:\"hidden\",\n                            //backgroundColor:\"#8cc5bb\",\n                            marginBottom:\"0rem\",\n                            background:\"rgb(140,197,187)\",\n                            background:\"linear-gradient(0deg, rgba(131,195,184,1) 43%, rgba(219,255,249,1) 100%)\"            \n                }}>\n                    \n                    <div className=\"iconbox\"\n                         onClick={e=>refHome.current.click()}\n                    >\n                        <Ticon\n                            iconName=\"FaHome\" \n                            className={filterData.showPartner?\"md-icon ft-brown\":\"md-icon\"}\n                            //className=\"md-icon\" \n                            textStyle={{color:\"black\"}}\n                            iconStyle={getIconStyle()}\n                        />\n                    </div>\n                    \n                    <div className=\"iconbox\"\n                         onClick={e=>setFilterData({...filterData,reloadData:true})}\n                    >\n                        <Ticon\n                            iconName=\"MdRefresh\" \n                            className={\"md-icon\"}\n                            //className=\"md-icon\" \n                            textStyle={{color:\"black\"}}\n                        />\n                    </div>\n\n                    <div style={{display:\"none\"}}>\n                        <div>\n                            <Link ref={refHome} to=\"/pos/home\"/>\n                        </div>\n                    </div>\n\n                    <div className=\"iconbox\"\n                         onClick={e=>setShowPartnerFunc()}\n                    >\n                        <Ticon\n                            iconName=\"MdPerson\" \n                            className={filterData.showPartner?\"md-icon ft-brown\":\"md-icon\"}\n                            //className=\"md-icon\" \n                            textStyle={{color:\"black\"}}\n                        />\n                    </div>\n\n                    <div className=\"iconbox\"\n                         onClick={e=>setShowGroupFunc()} \n                    >\n                        <Ticon \n                            iconName=\"FaRegFolderOpen\" \n                            className={filterData.showGroup?\"md-icon ft-brown\":\"md-icon\"}\n                            //className=\"md-icon\" \n                            textStyle={{color:\"black\"}}\n                        //style={{marginRight:\"1.2rem\",\n                        //color:filterData.showGroup?\"#634739\":\"black\"\n                        //}}   \n                        />\n                    </div>\n\n                    <div\n                        className=\"iconbox\"\n                        onClick={e=>setShowProductGridFunc()}\n                    >\n                        <Ticon\n                            iconName=\"MdFastfood\" \n                            className={filterData.showProductGrid?\"md-icon ft-brown\":\"md-icon\"}\n                            //className=\"md-icon\" \n\n                            //style={{marginRight:\"1.2rem\",\n                            //color:filterData.showProductGrid?\"#634739\":\"black\"\n                            //}}\n                            textStyle={{color:\"black\"}}\n                        />\n                    </div>\n\n                    {filterData.selectOfSelectProduct\n                    ?filterData.selectOfSelectProduct.length>0\n                      ? <div className='iconbox'\n                            onClick={e=>{\n                                addSelectProductToBillForm()\n                            }}\n                        >\n                          <Ticon\n                            iconName=\"FaRegArrowAltCircleRight\" \n                            className={\n                                false//filterData.showBillMenu\n                                ?\"md-icon ft-brown\"\n                                :\"md-icon\"}\n                            textStyle={{color:\"black\"}}\n                            />\n                        </div>\n                      :null\n                    :null\n                    }\n\n                    <div className=\"iconbox\"\n                        onClick={e=>setShowTransactionFunc()}\n                    >\n                        <Ticon\n                            iconName=\"SiBookstack\"\n                            className={filterData.showTransaction?\"md-icon ft-brown\":\"md-icon\"}\n                            //className=\"md-icon\" \n                            textStyle={{color:\"black\"}}\n                            //style={{marginRight:\"1.2rem\",\n                            //color:filterData.showTransaction?\"#634739\":\"black\"\n                            //}}\n                    />\n                    </div>\n\n                    <div className='iconbox'\n                        onClick={e=>{\n                            setShowBarcodeFunc()\n                        }}\n                    >\n                        <Ticon\n                            iconName=\"RiHandCoinFill\" \n                            className={\n                                false//filterData.showBillMenu\n                                ?\"md-icon ft-brown\"\n                                :\"md-icon\"}\n                            textStyle={{color:\"black\"}}\n                          \n                        />\n                    </div>\n\n                    <div\n                        className=\"iconbox\"\n                        onClick={e=>setShowTableFunc()}\n                    >\n                        <Ticon\n                            iconName=\"SiAirtable\" \n                            className={filterData.showTable?\"md-icon ft-brown\":\"md-icon\"}\n                            //className=\"md-icon\" \n                            textStyle={{color:\"black\"}}\n                            //style={{marginRight:\"1.2rem\",\n                            //color:filterData.showTable?\"#634739\":\"black\"\n                            //}}\n                        />\n                    </div>\n\n                    <div className='iconbox'\n                        onClick={e=>{\n                            setShowQueueFunc()\n                        }}\n                    >\n                        <Ticon\n                            iconName=\"TiSortNumericallyOutline\" \n                            className={\n                                false//filterData.showBillMenu\n                                ?\"md-icon ft-brown\"\n                                :\"md-icon\"}\n                            textStyle={{color:\"black\"}}\n                          \n                        />\n                    </div>\n\n                    <div className='iconbox'\n                        onClick={e=>setShowBillMenuFunc()}\n                    >\n                        <Ticon\n                            iconName=\"GiCook\" \n                            className={filterData.showBillMenu?\"md-icon ft-brown\":\"md-icon\"}\n                            textStyle={{color:\"black\"}}\n                          \n                        />\n                    </div>\n                </div>\n                \n               <div style={{height:\"\"}}>\n\n               {filterData.showGroup&&pageData&&\n               <BillGroupComponent\n                    captureProductOfGroup={captureProductOfGroup}\n                    pageData={pageData}\n               />}\n\n               {filterData.showProductGrid&&\n                   <BillProductGridComponent\n                        selectProduct={filterData.selectProduct}\n                        captureProductListFromSelectProductInProductGrid={captureProductListFromSelectProductInProductGrid}\n                        resetProductList={resetProductList}\n                        setResetProductList={setResetProductList}\n                        refreshProductFunc={refreshProductFunc}\n                   />\n               }\n\n               {filterData.showTable&&\n                   <BillTableComponent\n                        transactionArray={filterData.transactionArray}\n                        captureBillFromTable={captureBillFromTable}\n                        basicDataSt={basicDataSt}\n                        updateAllTransaction={updateAllTransaction}\n                        captureAllTransaction={captureAllTransaction}\n                   />\n               }\n               {filterData.showParter&&basicDataSt&&myheader&&\n                    <PartnerForBill\n                        basicDataSt={basicDataSt}\n                        myheader={myheader}\n                        captureCustomer={captureCustomerFunc}\n                        partnerInputState={partnerInputState}\n                        setPartnerInputState={setPartnerInputState}\n                    />\n               }\n               {filterData.showTransaction&&\n                    <TransactionForBill\n                        basicDataSt={basicDataSt}\n                        myheader={myheader}\n                        pageFilter={pageFilter}\n                        pageFilterForm={pageFilterForm}\n                        captureTransaction={captureTransactionFunc}\n                        transactionInputState={transactionInputState}\n                        setTransactionInputState={setTransactionInputState}\n                    />\n               }\n               {\n                //filterData.showModalFromTable&&\n                //renderModalFromTable()\n                   \n               }\n               {filterData.showBillMenu&&pageData&&\n                   <BillMenuComponent\n                        //transactionArray={filterData.transactionArray}\n                        //refreshTransactionFunc={refreshTransactionFunc}\n                        pageData={pageData}\n                        basicDataSt={basicDataSt}\n                        myheader={myheader}\n                        billMenuFilter={filterData.billMenuFilter}\n                        \n                        billMenuInputState={filterData.billMenuInputState}\n                        billMenuSort={filterData.billMenuSort}\n                        billMenuLimitRow={filterData.billMenuLimitRow}\n                        billMenuShowTransaction={filterData.billMenuShowTransaction}\n                        billMenuOption={filterData.billMenuOption}\n                        setFilterDataFunc={setFilterDataFunc}\n                        \n                   />\n               }\n\n               {\n                   filterData.showBarcode&&\n                    <BillBarcode\n                        pageData={pageData}\n                        basicDataSt={basicDataSt}\n                        myheader={myheader}\n\n                        showBillForm1={filterData.showBillForm1}\n                        showBillForm2={filterData.showBillForm2}\n                        \n                        setData1={setData1}\n                        setData2={setData2}\n\n                        setDetail1={setDetail1}\n                        setDetail2={setDetail2}\n\n                        billFormData1={billFormData1}\n                        billFormData2={billFormData2}\n\n                        calDigit={calDigit}\n\n                        submitConfirm={submitSaveCloseBillFunc}\n                    />\n               }\n\n               {\n                   filterData.showQueue&&\n                    <BillQueue\n                        queueArray={filterData.queueArray}\n                        basicDataSt={basicDataSt}\n                        captureBillFromTable={captureBillFromTable}\n                        updateQueue={updateQueueFunc}\n                    />\n               }\n\n               </div>\n            </div>\n\n\n            <div className=\"bd-darkGray hide-on-print\" \n                    style={{height:\"100%\",width:`${100-filterData.widthLeft}%`}}>\n\n                            {filterData.showBillForm1&&pageData&&basicData&&billTableTemplate\n                            ?<BillForm\n                               blankData={{...filterDataTemplate.blankData,\n                                           //branchId:basicData.branchId,\n                                           //branchName:basicData.branchName\n                                         }}\n                               dataIdx={\"1\"}\n                               closeBillForm={closeBillForm1}\n                               \n                              \n                               selectOfSelectProduct={selectProductToBillForm}\n                               selectOfCustomer={selectCustomerToBillForm}\n                               setResetProductList={setResetProductList}\n                               pageData={pageData} \n                               basicData={basicData}\n                               tableTemplate={billTableTemplate}\n                               saveTableTemplateFunc={saveTableTemplateFunc}\n                               submitFunctionAddFunc={submitFunctionAddFunc}\n                               submitFunctionEditFunc={submitFunctionEditFunc}\n                               submitFunctionDeleteFunc={submitFunctionDeleteFunc}\n                               isGenIdOfBillForm={filterData.isGenIdOfBillForm1}\n                               runIsGenId={runIsGenIdOfBillForm1}\n                               updateData={updateData}\n                               myheader={myheader}\n                               calDigit={calDigit}\n                               setPrintDataFunc={setPrintDataFunc}\n                               bgColor={\"#e9bb43\"}\n                               \n                               //data={filterData.data1}\n                               billFormData={billFormData1}\n                               setBillFormData={setBillFormData1}\n                               />\n                             :null\n                            }\n                            {filterData.showBillForm2&&pageData&&basicData&&billTableTemplate\n                            ?<BillForm\n                                blankData={{...filterDataTemplate.blankData,\n                                            branchId:basicData.branchId,\n                                            branchName:basicData.branchName\n                                            }}\n                                dataIdx={\"2\"}\n                                closeBillForm={closeBillForm2}\n                                \n                                selectOfSelectProduct={selectProductToBillForm}\n                                selectOfCustomer={selectCustomerToBillForm}\n                                setResetProductList={setResetProductList}\n                                pageData={pageData}\n                                basicData={basicData}\n                                filterData={filterData}\n                                tableTemplate={billTableTemplate}\n                                saveTableTemplateFunc={saveTableTemplateFunc}\n                                submitFunctionAddFunc={submitFunctionAddFunc}\n                                submitFunctionEditFunc={submitFunctionEditFunc}\n                                submitFunctionDeleteFunc={submitFunctionDeleteFunc}\n                                isGenIdOfBillForm={filterData.isGenIdOfBillForm2}\n                                runIsGenId={runIsGenIdOfBillForm2}\n                                updateData={updateData}\n                                myheader={myheader}\n                                calDigit={calDigit}\n                                setPrintDataFunc={setPrintDataFunc}\n                                bgColor={\"#e9bb43\"}\n\n                                //data={filterData.data2}\n                                billFormData={billFormData2}\n                                setBillFormData={setBillFormData2}\n                                />\n                            :null\n                            }\n\n                          \n            </div>\n    \n        </div>\n    )\n}\n\n//========================================\n\nreturn(\n<div className=\"\" style={{padding:\"0 0rem\",overflowY:\"hidden\"}}>\n    \n    <div className=\"hide-on-print\">\n        <div className=\"hide-logouttool\">\n            <LogOutTool\n                tokenSt={tokenSt}\n                setReloadCheckToken={setReloadCheckToken}\n                user={user}\n                useHomeIcon={false}\n                useShopLogOut={false}\n            />\n        </div>\n    </div>\n   \n    <div>\n        <Link ref={refHome} to=\"/home\"/>\n    </div>\n    \n    {   \n        renderBody()    \n    }\n\n\n    {printData&&\n    <div className=\"hide-on-screen\">\n        <PrintOut\n            printPage={basicData.printPage}\n            printPageSetting={basicData.printPageSetting}\n            calDigit={calDigit}\n            transaction={printData}\n        />\n    </div>\n    }\n\n    <div className=\"hide-on-print\" \n        style={{width:\"100%\",display:\"flex\",position:\"relative\"}}>\n            {\n            renderWidthRangeBar({    showRange:filterData.showRange,\n                                setShowRange:setShowRange,\n                                widthLeft:filterData.widthLeft,\n                                setWidthLeft:setWidthLeft,\n                                //heightTop:filterData.heightTop,\n                                //setHeightTop:setHeightTop\n                            })\n            }\n   \n    </div>\n    \n    {filterData.showCustomerConfirm&&\n      renderCustomerConfirm({\n          filterData,\n          setFilterData,\n          basicData,\n          customerConfirmForm:pageData.customerConfirmForm,\n          submitFunc:customerConfirmSubmitFunc,\n          cancelFunc:customerConfirmCancelFunc\n        })\n    }\n    \n    {filterData.showTransactionConfirm&&\n      renderTransactionConfirm({\n          editTransaction:filterData.editTransaction,\n          submitFunc:transactionConfirmSubmitFunc,\n          cancelFunc:transactionConfirmCancelFunc,\n          pageData:pageData,\n          changeIncludeTransactionHead:changeIncludeTransactionHead,\n          includeTransactionHead:filterData.includeTransactionHead\n        })\n    }\n    \n    {\n    filterData.showModalConfirm\n    ?<ModalConfirm\n        setShow={setShowModalConfirmFunc}\n        submitFunction={submitConfirmToDelete}\n    />\n    :null\n    }\n\n    {  \n    filterData.showModalError\n    ?renderModalError({\n        setShow:(data)=>{setFilterData({...filterData,showModalError:data})},\n        message:filterData.message\n    })\n    :null\n    }\n\n</div>\n)\n\n}\nexport default Bill;\n\n","import React from 'react';\nimport {Route,Switch,Redirect} from 'react-router-dom';\nimport axios from 'axios'\nimport uuid from 'react-uuid'\nimport {MdRefresh,MdSwapHoriz,MdSettings,\n   MdSearch,MdEdit,MdAddCircle,MdDelete,MdPrint,\n   MdChevronLeft,MdChevronRight,MdLastPage,\n   MdRadioButtonChecked,MdClose,\n} from 'react-icons/md';\nimport {FaCheck,FaBan\n } from 'react-icons/fa';\nimport download from 'js-file-download'\n\nimport axiosUtil from '../../util/axiosUtil'\nimport ModalFilterInput from '../../render/renderFilter/ModalFilterInput';\nimport pageUtil from './pageUtil'\n\nconst {genArrayForFilterAxios,genFD,addFileNameInPhotoUrl,catchErrorToMessage}=axiosUtil\nconst {filterAxios} = pageUtil\n\nfunction ModalCsv(props) {\n\nconst {\n   filterDataTemplate,\n   inputState,\n   filterTemplate,\n   myheader,\n   pageFilterForm,\n   basicData,\n   cancelFunc\n} = props\n\nconst [filterData,setFilterData]=React.useState(filterDataTemplate)\n\n\nReact.useEffect(()=>{\n   console.log('filterData PageComponent')\n   console.log(filterData)\n\n   if(filterData.reloadData){\n       const {dataUrl,pageNumber,limitRow,sort,qry}=filterData\n   \n       axios.post(`/${dataUrl}/getlimit`,{pageNumber,limitRow,sort,...qry},myheader)\n       .then(result=>{\n           //console.log(result)\n           const temp2= genFilterDataWithIndex(result.data.data,filterData.selectProduct)\n           //console.log('temp2.....')\n           //console.log(temp2)\n           const tempResult={...filterData,\n               data0:temp2,\n               count:result.data.count,\n               lastRecordId:result.data.lastRecordId,\n               reloadData:false\n           }\n           setFilterData(tempResult)\n       })\n       .catch(error=>{\n           const tempError={...filterData,\n               reloadData:false,\n               message:catchErrorToMessage(error),\n               showModalConfirm:false,\n               showModalError:true,\n           }\n           console.log(tempError.message)\n           setFilterData(tempError)\n       })\n   }\n},[filterData])\n\n\nconst genFilterDataWithIndex=(filterData,selectProduct)=>{\n\n   if(filterData){\n       if(filterData.detail){\n           if(filterData.detail.length()>0){\n               let tempArray=[]\n\n               filterData.detail.map(i=>{\n\n               })\n           }\n       }\n   }\n\n   let tempSelectProduct\n   if(selectProduct){tempSelectProduct=selectProduct}\n   else {tempSelectProduct=[]}\n\n   let tempArray=[]\n\n   filterData.map((i,idx)=>{\n        \n       const temp={...i,selectedLine:false,_id:uuid()}\n       tempArray=[...tempArray,temp]\n       //const temp={...i,tempIndex:idx,selectedLine:false}\n   })\n\n   let tempArray2=[]\n\n   tempArray.map(i=>{\n       let tempObj=i\n       tempSelectProduct.map(j=>{\n           if(i.id==j.id){\n               //console.log('j.id==i.id')\n               tempObj={...tempObj,selectedLine:j.selectedLine}\n               //tempArray2=[...tempArray2,]\n           }\n       })\n       tempArray2=[...tempArray2,tempObj]\n   })\n\n   return tempArray2\n}\n\nconst calTotalPage =()=>{\n   const {count,limitRow}=filterData\n   return Math.ceil(count/limitRow)\n}\n\nconst setPageNumber=(value)=>{\n   setFilterData({...filterData,pageNumber:value})\n}\n\nconst genCsv=()=>{\n   if(filterData.data0){\n\n         const columnDelimiter = \",\"\n         const lineDelimiter = \"\\n\"\n         \n         const keys = Object.keys(filterData.data0[0])\n\n         let result = \"\"\n         result += keys.join(columnDelimiter)\n         result += lineDelimiter\n\n         filterData.data0.map((item,indexItem)=>{\n\n            keys.map((key,indexKey)=>{\n               if(indexKey>0){\n                     result+=columnDelimiter\n               }\n               result += typeof item[key] === \"string\"&& \n                           item[key].includes(columnDelimiter) \n                           ? `\"${item[key]}\"` \n                           : item[key]\n\n            })\n\n            result += lineDelimiter\n         })\n\n         download(result,`${pageFilterForm.formHead}${filterData.pageNumber}.csv`)\n   }\n}\n\n\nconst filterAxiosFunc=(option,inputState)=>{\n   console.log('filterAxios2..........')\n   //console.log(filterTemplate)\n   filterAxios(option,inputState,filterTemplate,filterData,myheader)\n   .then(result=>{\n         //console.log(\"result.....\")\n         //console.log(result)\n         const temp2= genFilterDataWithIndex(result.data0,filterData.selectProduct)\n         //console.log('temp2......')\n         //console.log(temp2)\n         setFilterData({...result,data0:temp2})\n      })\n   .catch(error=>setFilterData(error))\n}\n\n\nconst renderBadge=()=>{\n   const {pageNumber}=filterData\n\n   return(calTotalPage()>0\n      ?<div className=\"\" style={{display:\"flex\",width:\"100%\",padding:\"0.5rem\"}}>\n            <div>\n                <MdChevronLeft\n                    className=\"sm-icon\"\n                    style={{visibility:(calTotalPage()>1)&&(pageNumber>1)\n                            ?\"visible\":\"hidden\"}}\n                    onClick={e=>{\n                        const temp=parseInt(pageNumber)-1\n                        setPageNumber(temp)\n                        //setReloadData(true)\n                    }}\n                />\n            </div>\n        \n           <input \n                type=\"number\"\n                style={{width:\"70px\"}}\n                value={pageNumber.toString()}\n                onChange={e=>{\n                    const temp=parseInt(e.target.value)\n                    if(temp<=calTotalPage()||!temp){ //04-06-2021\n                        setPageNumber(temp)\n                        //setReloadData(true)\n                    }\n                }}\n            />\n             \n\n           <div style={{display:\"flex\",justifyContent:\"center\",\n                alignItems:\"center\"}}>\n              <div>\n                {`/${calTotalPage()}`}\n              </div>\n            </div>\n        \n\n            {pageNumber<calTotalPage()//&&pageNumberShow\n            ?<div>\n                <MdChevronRight\n                    className=\"sm-icon\"\n                    onClick={e=>{\n                      const temp=parseInt(pageNumber)+1\n                      setPageNumber(temp)\n                      //setReloadData(true)\n                    }}\n                />\n            </div>\n            :null\n            }\n               \n            {pageNumber<calTotalPage()//&&pageNumberShow\n             ?<div>\n                 <MdLastPage\n                    className=\"sm-icon\"\n                    onClick={e=>{\n                        const temp=parseInt(calTotalPage())\n                        setPageNumber(temp)\n                        //setReloadData(true)\n                    }}\n                 />\n              </div>   \n             :null   \n            }\n      </div>\n      :null\n   )\n}\n\n\nreturn(\n      <div className=\"Modal-background\">\n          <div className=\"Modal-box\" style={{width:\"60%\"}}>\n              <ModalFilterInput\n                  show={true} setShow={()=>{}}\n                  \n                  filterTemplate={filterTemplate}\n      \n                  inputState={inputState} \n                  setInputState={()=>{}}\n                  \n                  limitRow={filterData.limitRow} \n                  setLimitRow={(value)=>setFilterData({...filterData,limitRow:value})}\n                  \n                  sort={filterData.sort} \n                  setSort={(value)=>setFilterData({...filterData,sort:value})}\n                  \n                  filterAxios={filterAxiosFunc}\n                  basicData={basicData}\n                  \n                  LB={pageFilterForm}\n              />\n\n              {\n                 renderBadge()\n              }\n              \n\n              <div className=\"w-100 flex-center-center jc-end\" >\n                  <div>\n                      <button\n                          onClick={e=>{\n                              //submitFunc()\n                              genCsv()\n                          }}\n                      >\n                          <FaCheck/>\n                      </button>\n                  </div>\n                  <div>\n                      <button\n                          onClick={e=>{\n                              cancelFunc()\n                          }}\n                      >\n                        <FaBan/>\n                      </button>\n                  </div>\n\n              </div>\n\n          </div>             \n      </div>\n)\n\n\n}\nexport default ModalCsv;\n","import React from 'react';\nimport axios from 'axios'\n//import {MainContext} from '../../context/MainContext'\nimport uuid from 'react-uuid'\nimport ModalFilterInput from '../../render/renderFilter/ModalFilterInput'\nimport pageUtil from './pageUtil'\n//import NewGroupComponent from '../../render/renderTree/NewGroupComponent'\nimport axiosUtil from '../../util/axiosUtil'\nimport Table from '../../component/table/Table'\nimport renderWidthRangeBar from '../../component/table/renderWidthRangeBar'\nimport renderBadge from '../../render/renderBadge/renderBadge'\nimport renderModalError from '../../render/renderModalError'\nimport ModalConfirm from '../../render/ModalConfirm'\n//import ModalForm from '../../render/renderForm/ModalForm'\n//import NewTree from '../../component/newtree/NewTree'\nimport NewGroup from '../../component/newgroup/NewGroup'\n\nimport PageForm from '../../render/renderForm/PageForm'\nimport ModalCsv from './ModalCsv'\nimport BillForm from '../../page/bill/BillForm'\nimport renderTransactionConfirm from '../../page/bill/renderTransactionConfirm';\nimport {FaCheck,FaBan,FaFolder} from 'react-icons/fa';\n\nconst {genArrayForFilterAxios,genFD,addFileNameInPhotoUrl,catchErrorToMessage}=axiosUtil\n\nconst {reloadAxiosAll,saveTableTemplate,updateFilterData,\n    submitFunctionEdit,submitFunctionAdd,filterAxios,\n    setUnSelectAll,submitFunctionDelete\n} = pageUtil\n\nfunction PageComponent(props) {\n\nconsole.log('PageComponent')\n//const {basicDataSt,tokenSt,setReloadCheckToken,myheader}=React.useContext(MainContext)\n\nconst {filterDataTemplate,filterDataTemplate2,filterDataTemplate3,\n      pageFilter,pageFilterForm,...remaining}=props\n\n\n\nconst {filterTitle,inputState,filterTemplate,myheader,basicDataSt,\n      formTemplate,editFormTemplate,stateTemplate,\n      groupFormTemplate,groupEditFormTemplate,\n      pageDataModalForm,\n      addFormTitle,\n      editFormTitle,\n      groupAddFormTitle,\n      groupEditFormTitle,\n      bgColor,\n      calDigit,\n      setReloadBasicData\n\n}=props\n\nconst {basicData,pageData,tableTemplate,reloadBasicData}=basicDataSt\n//console.log('tableTemplate............dddddddddd')\n//console.log(tableTemplate)\n\nconst [billTableTemplate,setBillTableTemplate]=React.useState(null)\n\nReact.useEffect(()=>{\n    if(tableTemplate){    \n        setBillTableTemplate(tableTemplate.productDetailTableTemplateForForm)\n    }\n},[basicDataSt])\n\nlet [filterData,setFilterData]=React.useState({\n    ...filterDataTemplate,...remaining,\n    tableTemplate:\n    filterDataTemplate.tableTemplateName\n    ?tableTemplate[filterDataTemplate.tableTemplateName]\n    :null,\n    detailTableTemplate:\n    filterDataTemplate.detailTableTemplateName\n    ?tableTemplate[filterDataTemplate.detailTableTemplateName]\n    :null,\n    detailTableTemplateForForm:\n    filterDataTemplate.detailTableTemplateForFormName?\n    tableTemplate[filterDataTemplate.detailTableTemplateForFormName]\n    :null,\n    widthLeft:basicData.widthLeft,\n    limitRow:basicData.limitRow\n})\n\n\nReact.useEffect(()=>{\n    //console.log('filterData PageComponent')\n    //console.log(filterData)\n\n    if(filterData.reloadData){\n        const {dataUrl,pageNumber,limitRow,sort,qry}=filterData\n    \n        axios.post(`/${dataUrl}/getlimit`,{pageNumber,limitRow,sort,...qry},myheader)\n        .then(result=>{\n            //console.log(result)\n            const temp2= genFilterDataWithIndex(result.data.data,filterData.selectProduct)\n            //console.log('temp2.....')\n            //console.log(temp2)\n            const tempResult={...filterData,\n                data0:temp2,\n                count:result.data.count,\n                lastRecordId:result.data.lastRecordId,\n                reloadData:false\n            }\n            setFilterData(tempResult)\n        })\n        .catch(error=>{\n            const tempError={...filterData,\n                reloadData:false,\n                message:catchErrorToMessage(error),\n                showModalConfirm:false,\n                showModalError:true,\n            }\n            console.log(tempError.message)\n            setFilterData(tempError)\n        })\n    }\n\n},[filterData])\n\n\n\nconst setShowRange=(data)=>{setFilterData({...filterData,showRange:data})}\nconst setHeightTop=(data)=>{setFilterData({...filterData,heightTop:data})}\nconst setWidthLeft=(data)=>{setFilterData({...filterData,widthLeft:data})}\nconst setShowModalError=(data)=>{setFilterData({...filterData,showModalError:data})}\nconst setShowModalConfirm=(data)=>{setFilterData({...filterData,showModalConfirm:data})}\nconst setPageNumber=(data)=>{setFilterData({...filterData,pageNumber:data,reloadData:true})}\n\nconst setShowAdd=(data)=>{\n    console.log('setShowAdd')\n    console.log(data)\n    setFilterData({\n        ...filterData,\n        showAdd:data\n        \n    })\n}\n\nconst setShowEdit=(data)=>{\n    console.log('setShowEdit')\n    console.log(data)\n    setFilterData({\n        ...filterData,\n        showEdit:data\n    })\n}\n\nconst setShowModalCsv=()=>{\n    setFilterData({\n        ...filterData,\n        showModalCsv:true\n    })\n}\n\nconst setTableTemplate=(data)=>{setFilterData({...filterData,tableTemplate:data})}\nconst setDetailTableTemplate=(data)=>{setFilterData({...filterData,detailTableTemplate:data})}\n\n\n\nconst setEditData=(data)=>{\n    let tempData=data\n    //console.log('data..........')\n    //console.log(data)\n\n    /*\n    if(data){\n        if(data.detail){\n            let tempArray=[]\n\n            data.detail.map(i=>{\n                let tempObj={...i,selectedLine:false,_id:uuid()}\n                tempArray=[...tempArray,tempObj]\n            })\n\n            tempData={...data,detail:tempArray}\n        }\n    }\n    */\n    setFilterData({...filterData,editData:tempData})\n    //captureEditData(data)\n}\n//to save filterData when sort Up and down each column\nconst setFilterDataData0=(data)=>{setFilterData({...filterData, data0:data})}\nconst setSort=(data)=>{setFilterData({...filterData,sort:data})}\nconst setLimitRow=(data)=>{setFilterData({...filterData,limitRow:data})}\n\nconst setSelectGroupFunc=(data)=>{\n    console.log('selectGroupFunc....')\n    //console.log(data)\n    setFilterData({...filterData,selectGroup:data})\n}\n\nconst setUnSelectAllFunc=()=>{\n    setFilterData(setUnSelectAll(filterData))\n}\n\nconst genFilterDataWithIndex=(filterData,selectProduct)=>{\n\n    if(filterData){\n        if(filterData.detail){\n            if(filterData.detail.length()>0){\n                let tempArray=[]\n\n                filterData.detail.map(i=>{\n\n                })\n\n            }\n        }\n    }\n\n    let tempSelectProduct\n    if(selectProduct){tempSelectProduct=selectProduct}\n    else {tempSelectProduct=[]}\n\n    let tempArray=[]\n\n    filterData.map((i,idx)=>{\n         \n        const temp={...i,selectedLine:false,_id:uuid()}\n        tempArray=[...tempArray,temp]\n        //const temp={...i,tempIndex:idx,selectedLine:false}\n    })\n\n    let tempArray2=[]\n\n    tempArray.map(i=>{\n        let tempObj=i\n        tempSelectProduct.map(j=>{\n            if(i.id==j.id){\n                //console.log('j.id==i.id')\n                tempObj={...tempObj,selectedLine:j.selectedLine}\n                //tempArray2=[...tempArray2,]\n            }\n        })\n        tempArray2=[...tempArray2,tempObj]\n    })\n \n    return tempArray2\n}\n\n\n\nconst refreshPage=()=>{\n    //console.log('refreshPage')\n    const {limitRow,sort}=filterData\n    const temp = {...filterData, limitRow,sort,selectProduct:[],\n                editData:null,qry:{},reloadData:true\n            }\n    setFilterData(temp)\n    setReloadBasicData(true)\n}\n\nconst submitFunctionDeleteFunc=async(data)=>{\n    submitFunctionDelete(filterData,myheader)\n    .then(result=>setFilterData(result))\n    .catch(error=>setFilterData(error))\n}\n\nconst submitFunctionEditFunc=async (formInputState)=>{\n    submitFunctionEdit(formInputState,filterData,stateTemplate,myheader)\n    .then(result=>{\n        \n        setFilterData(result)\n    })\n    .catch(error=>setFilterData(error))\n}\n\nconst submitFunctionAddFunc=async (formInputState)=>{\n    \n    submitFunctionAdd(formInputState,filterData,stateTemplate,myheader)\n    .then(result=>setFilterData(result))\n    .catch(error=>setFilterData(error))\n}\n\n//{pageNumber,limitRow,sort,dataUrl} = filterData\nconst filterAxiosFunc=(option,inputState)=>{\n    console.log('filterAxios')\n    //console.log(filterTemplate)\n    filterAxios(option,inputState,filterTemplate,filterData,myheader)\n    .then(result=>{\n        console.log(\"result.....\")\n        //console.log(result)\n        const temp2= genFilterDataWithIndex(result.data0,filterData.selectProduct)\n        //console.log('result......')\n        //console.log(result)\n        setFilterData({...result,data0:temp2})\n    })\n    .catch(error=>setFilterData(error))\n}\n\n\n\nconst filterDataByGroup=(i)=>{\n    console.log('filterDataByGroup.........')\n    //console.log(i)\n    //const {folders,...remaining}=i\n    const temp = {...filterData,\n        pageNumber:1,\n        qry:{groupId:i.id},\n        //selectGroup:remaining,\n        reloadData:true}\n    setFilterData(temp)\n}\n\n\n\nconst saveTableTemplateFunc=(tableTemplate)=>{\n    const {tableTemplateUrl}=filterData\n    saveTableTemplate(tableTemplate,tableTemplateUrl,filterData.tableTemplateName,myheader)\n}\n\n\nconst updateFilterDataFunc=(index,i)=>{\n\n    const temp=updateFilterData(index,i,filterData)\n    console.log('temp')\n    console.log(temp)\n    setFilterData({...filterData,...temp})\n}\n\nconst closeBillForm=()=>{\n    setFilterData({...filterData,\n        showAdd:false,showEdit:false\n    })\n}\n//----------------------------\nconst transactionConfirmSubmitFunc=()=>{\n    let tempEditData=filterData.editData\n\n    if(!filterData.includeTransactionHead){\n        tempEditData={...filterData.editData,\n            detail:[...filterData.editData.detail,\n                    ...filterData.editData.detail\n                    ]\n        }\n    }\n\n    setFilterData({...filterData,\n        data1:tempEditData,\n        showTransactionConfirm:false,\n        showBillForm1:false,\n        reloadBillForm1:true\n    })\n  \n}\n\n\nconst transactionConfirmCancelFunc=()=>{\n    setFilterData({...filterData,\n        showTransactionConfirm:false\n    })\n}\n//=============================\n\n//-----------------------------\nconst renderTable=()=>{\n\n    //console.log('renderTable')\n    //console.log(filterData)\n\n    return (\n            filterData.data0\n            ?<Table\n                colorHead={\"#4b6d62\"}\n                tableTemplate={filterData.tableTemplate}\n                setTableTemplate={setTableTemplate}\n\n                filterData={filterData.data0}\n                setFilterData={setFilterDataData0}\n                \n                editData={filterData.editData}\n                setEditData={setEditData}\n                saveTableTemplateFunc={saveTableTemplateFunc}\n                isSubTable={false}\n                updateFilterData={updateFilterDataFunc}\n                useInput={false}\n                \n            />\n            :null\n    )\n}\n\n//-----------------------------\nconst renderFilter=()=>{\n    const {limitRow,sort}=filterData\n    return (\n        <div className=\"\" style={{marginBottom:\"1rem\"}}>\n            <ModalFilterInput\n            show={true} setShow={()=>{}}\n            \n            filterTemplate={filterTemplate}\n\n            inputState={inputState} \n            setInputState={()=>{}}\n            \n            limitRow={limitRow} \n            setLimitRow={setLimitRow}\n            \n            sort={sort} \n            setSort={setSort}\n            \n            filterAxios={filterAxiosFunc}\n            basicData={basicData}\n            \n            LB={pageFilterForm}\n            />\n        </div>\n    )\n}\n//-----------------------------\n\n\n//-----------------------------\nconst renderGroup=()=>{\n\n    return (\n    <div className=\"w-100\" \n         style={{ooverflowX:\"hidden\",\n                 paddingBottom:\"5rem\"}}>\n        {\n            renderFilter()\n        }\n       \n        {\n        filterData.groupDataUrl&&pageData\n        ?<div className=\"\" style={{margin:\"1rem 0\"}}>\n            <NewGroup\n                myheader={myheader}\n                dataUrl={filterData.groupDataUrl}\n                filterByGroupId={filterDataByGroup}\n                captureEditGroup={setSelectGroupFunc}\n                bgColor={bgColor}\n                pageData={pageData}\n            />\n        </div>\n        :null\n        }\n\n        {\n         filterData.showAdd||filterData.showEdit\n         ?renderRight({...filterData,\n                    badgeState:{...filterData.badgeState,\n                        addShow:false,\n                        editShow:false,\n                        delShow:false,\n                        printerShow:false,\n                        csvShow:false,\n                        forwardShow:false\n                    }})\n         :null   \n        }\n    </div>\n    )\n}\n//------------------------\n//-----------------------------\nconst renderRight=(filterData)=>{\n    //console.log('renderRight')\n    //console.log(renderRight)\n\n    return(\n    <div className=\"w-100 h-100\">\n        <div className=\"hide-on-print\"\n        style={{height:filterData.showAdd||filterData.showEdit?\"2rem\":\"5%\",width:\"100%\"}}\n        >\n            {\n                    renderBadge({\n                        filterData,\n                        setPageNumber:setPageNumber,\n                        \n                        totalSwapPage:1, \n                        setSwapState:()=>{},\n                        \n                        setReloadData:refreshPage,\n                        setShowFilter:()=>{},\n                        setShowAdd:setShowAdd,\n                        setShowEdit:setShowEdit,\n                        setShowModalConfirm:setShowModalConfirm,\n                        setShowModalCsv:setShowModalCsv,\n                        setUnSelectAll:setUnSelectAllFunc,\n                        setShowForwardConfirm:(value)=>{setFilterData({...filterData,showTransactionConfirm:value})},\n                        setClose:()=>{},\n                        bgColor:bgColor,\n                        captureSelect:()=>{}//captureSelect\n                    })        \n            }\n\n        </div>\n\n        <div className=\"\"\n                style={!filterData.showEdit&&!filterData.showAdd\n                        ?{width:\"100%\",height:\"95%\"}\n                        :{width:\"100%\"}\n                    }//height:\"95%\"\n        >\n            <div style={!filterData.showEdit&&!filterData.showAdd\n                    ?{width:\"100%\",height:\"100%\"}\n                    :{width:\"100%\"}\n                }//height:\"100%\"\n                className=\"show-on-print\"\n            >\n                {\n                    renderTable()\n                }\n            </div>\n            \n        </div>\n    </div>\n    )\n}\n//=============================\n\n\n\n//-----------------------------\nconst renderBillForm=(loadData)=>{\n    return(\n    <BillForm\n        blankData={filterDataTemplate3.blankData}\n        dataIdx={\"cancel\"}\n        closeBillForm={closeBillForm}\n        data={loadData}\n        selectOfSelectProduct={()=>{}}//{selectProductToBillForm}\n        setResetProductList={()=>{}}//{setResetProductList}\n        pageData={pageData} \n        basicData={basicData}\n        tableTemplate={billTableTemplate}\n        saveTableTemplateFunc={()=>{}}//{saveTableTemplateFunc}\n        submitFunctionAddFunc={()=>{}}//{submitFunctionAddFunc}\n        submitFunctionEditFunc={()=>{}}//{submitFunctionEditFunc}\n        submitFunctionDeleteFunc={()=>{}}//{submitFunctionDeleteFunc}\n        isGenIdOfBillForm={false}//{filterData.isGenIdOfBillForm1}\n        runIsGenId={()=>{}}//{runIsGenIdOfBillForm1}\n        updateData={()=>{}}//{updateData}\n        bgColor={\"#72a2d9\"}\n    />\n    )\n}\n\n\n\n//==============================\nconst renderBody=()=>{\nreturn(\n    filterData&&\n    <div className=\"\"\n             style={{display:\"flex\",height:\"95%\",width:\"100%\"}}\n    >\n            \n            <div className=\"hide-on-print\" \n                 style={{height:\"100%\",\n                         width:`${filterData.widthLeft}%`,\n                         overflowY:\"scroll\",\n                         overflowX:\"hidden\"\n                         }}>\n                     {\n                       renderGroup()\n                     }\n            </div>\n        \n            <div className=\"\" \n                style={{height:\"100%\",width:`${100-filterData.widthLeft}%`}}>\n                 {\n                    filterData.showAdd\n                    ?renderPageFormAdd()\n                    :filterData.showEdit\n                      ?renderPageFormEdit()\n                      :renderRight(filterData) \n                 }\n            </div>\n    </div>\n)\n}\n//===============================\n//===============================\nconst renderPageFormAdd=()=>{\n\n    return(\n        <PageForm\n        isAddForm={true}\n        lb={addFormTitle}\n        formTemplate={formTemplate}\n        stateTemplate={stateTemplate}\n        selectData={{basicData:basicData}}\n    \n        iconAction={[()=>{}]}\n        iconActionData={null}\n        iconActionDataDetail={null}\n        loadData={{id:parseInt(filterData.lastRecordId)+1}}\n        keyName={filterData.keyName}\n        setShow={setShowAdd}\n    \n        calculation={null}\n        submitFunction={submitFunctionAddFunc}\n        selectGroup={filterData.selectGroup}\n        setSelectGroup={setSelectGroupFunc}\n        selectProduct={filterData.selectProduct}\n        pageDataModalForm={pageDataModalForm}\n        dataUrl={filterData.dataUrl}\n        myheader={myheader}\n        tableTemplateUrl={filterData.tableTemplateUrl}\n        tableTemplateName={filterData.detailTableTemplateForFormName}\n        detailTableTemplate={filterData.detailTableTemplateForForm}\n        calDigit={calDigit}\n    />\n    )\n\n}\n\n\n//==================================\nconst renderPageFormEdit=()=>{\n\n        return(\n            <PageForm\n                lb={editFormTitle}\n                formTemplate={editFormTemplate}\n                stateTemplate={stateTemplate}\n                selectData={{basicData:basicData}}\n            \n                iconAction={[()=>{}]}\n                iconActionData={null}\n                iconActionDataDetail={null}\n                loadData={filterData.editData}\n                keyName={filterData.keyName}\n                setShow={setShowEdit}\n            \n                calculation={null}\n                submitFunction={submitFunctionEditFunc}\n                selectGroup={filterData.selectGroup}\n                setSelectGroup={setSelectGroupFunc}\n                selectProduct={filterData.selectProduct}\n                pageDataModalForm={pageDataModalForm}\n                dataUrl={filterData.dataUrl}\n                myheader={myheader}\n\n                tableTemplateUrl={filterData.tableTemplateUrl}\n                tableTemplateName={filterData.detailTableTemplateForFormName}\n                detailTableTemplate={filterData.detailTableTemplateForForm}\n            />  \n        )\n    \n}\n\n//================================\n//=================================\n/*\nconst renderModalCsv=()=>{\n    const {limitRow,sort}=filterData\n\n    return(\n        <div className=\"Modal-background\">\n            <div className=\"Modal-box\" style={{width:\"60%\"}}>\n                <ModalFilterInput\n                    title={filterTitle}\n                    show={true} setShow={()=>{}}\n                    \n                    filterTemplate={filterTemplate}\n        \n                    inputState={inputState} \n                    setInputState={()=>{}}\n                    \n                    limitRow={limitRow} \n                    setLimitRow={setLimitRow}\n                    \n                    sort={sort} \n                    setSort={setSort}\n                    \n                    filterAxios={filterAxiosFunc2}\n                    basicData={basicData}\n                    \n                    LB={pageFilterForm}\n                />\n\n                <div className=\"w-100 flex-center-center jc-end\" >\n             \n                    <div>\n                        <button\n                            onClick={e=>{\n                                setFilterData({\n                                    ...filterData,\n                                    showModalCsv:false\n                                })\n                            }}\n                        >Cancel</button>\n                    </div>\n\n                </div>\n\n            </div>             \n        </div>\n    )\n}\n*/\n\n//=================================\nreturn(\n<div className=\"w-100 h-100\">\n    {   \n      renderBody()    \n    }\n   \n    <div className=\"hide-on-print\" \n        style={{width:\"100%\",display:\"flex\",position:\"relative\"}}>\n            {\n            renderWidthRangeBar({showRange:filterData.showRange,\n                                setShowRange:setShowRange,\n                                widthLeft:filterData.widthLeft,\n                                setWidthLeft:setWidthLeft,\n                                //heightTop:filterData.heightTop,\n                                //setHeightTop:setHeightTop\n                            })\n            }\n   \n    </div>\n\n    {filterData.showModalCsv\n    ?<ModalCsv\n        filterDataTemplate={filterDataTemplate}\n        inputState={inputState}\n        filterTemplate={filterTemplate}\n        myheader={myheader}\n        pageFilterForm={pageFilterForm}\n        basicData={basicData}\n        cancelFunc={e=>{setFilterData({...filterData,showModalCsv:false})}}\n    />//renderModalCsv()\n    :null\n    }\n\n    {filterData.showTransactionConfirm&&\n      renderTransactionConfirm({\n          editTransaction:filterData.editData,\n          submitFunc:transactionConfirmSubmitFunc,\n          cancelFunc:transactionConfirmCancelFunc,\n          pageData:pageData,\n          changeIncludeTransactionHead:()=>{},//changeIncludeTransactionHead,\n          includeTransactionHead:filterData.includeTransactionHead\n        })\n    }\n    \n    {\n    filterData.showModalConfirm\n    ?<ModalConfirm\n        setShow={setShowModalConfirm}\n        submitFunction={submitFunctionDeleteFunc}\n    />\n    :null\n    }\n\n    {  \n    filterData.showModalError\n    ?renderModalError({\n        setShow:setShowModalError,\n        message:filterData.message\n    })\n    :null\n    }\n</div>\n)\n\n}\n\n\n\n\nexport default PageComponent ;","const partner={\n    data0:null,\n    dataCsv:null,\n    count:0,\n    lastRecordId:null,\n    showRange:true,\n    \n    widthLeft:30,\n    heightTop:30,\n\n    pageNumber:1,\n    limitRow:3,\n    sort:{id:-1},\n    qry:{},\n    tableTemplateUrl:\"p35tabletemplate\",\n    dataUrl:\"p35partner\",\n    selectGroup:null,\n\n    tableTemplate:null,\n    detailTableTemplate:null,\n    detailTableTemplateForForm:null,\n\n    tableTemplateName:\"partnerTableTemplate\",\n    detailTableTemplateName:null,\n    detailTableTemplateForFormName:null,\n\n    reloadData:false,\n    message:null,\n    showModalError:false,\n    editData:null,\n    badgeState:{\n        swapShow:false,swapFunc:()=>{},\n        reloadShow:true,reloadFunc:()=>{},\n        filterShow:false,filterFunc:()=>{},\n        addShow:true,addFunc:()=>{},\n        editShow:true,editFunc:()=>{},\n        delShow:true,delFunc:()=>{},\n        printerShow:true,printerFunc:()=>{},\n        csvShow:true,csvFunc:()=>{},\n        forwardShow:false,forwardFunc:()=>{},\n        bullEyeShow:true,\n        unSelectShow:true\n    },\n    selectProduct:[],\n    showAdd:false,\n    showModalConfirm:false,\n    showModalError:false,\n    showModalCsv:false,\n    message:null,\n    iconActionData:null,\n    iconActionDataDetail:null,\n    keyName:null\n}\n\nconst filterDataTemplate=partner\n\nexport default filterDataTemplate","\nimport React from 'react';\nimport {MainContext} from '../../context/MainContext'\nimport axios from 'axios';\nimport download from 'js-file-download'\nimport PageComponent  from '../../component/pageComponent/PageComponent';\n//import FilterTemplate from '../../render/renderFilter/FilterTemplate'\nimport inputState from '../../component/table/inputState'\nimport filterDataTemplate from './filterDataTemplate';\n//import FormTemplate from '../../render/renderForm/FormTemplate'\nimport StateTemplate from '../../model/StateTemplate'\nimport Navbar from '../../component/navbar/Navbar';\nimport testTemplate from '../../render/renderTree/testTemplate';\n\n\nfunction Partner() {\n\nconsole.log('Partner')\n\nconst {basicDataSt,tokenSt,setReloadCheckToken,myheader,setReloadBasicData}=React.useContext(MainContext)\n\nreturn(\n<div style={{height:\"100vh\",width:\"100vw\",overflow:\"hidden\"}}>\n    <div className=\"h-5 w-100 hide-on-print\">\n        <Navbar/>\n    </div>\n   \n    <div className=\"h-95 w-100\">\n        {basicDataSt.basicData&&myheader&&\n        <PageComponent\n            setReloadBasicData={setReloadBasicData}\n            filterDataTemplate={filterDataTemplate}\n            filterTemplate={basicDataSt.pageFilter.partnerFilter}\n            inputState={inputState.partnerInputState}\n            basicDataSt={basicDataSt}\n            myheader={myheader}\n            \n            formTemplate={basicDataSt.modalFormTemplate.partnerForm}\n            editFormTemplate={basicDataSt.modalFormTemplate.partnerEditForm}\n            \n            stateTemplate={StateTemplate.partnerState}\n            pageFilterForm={basicDataSt.pageFilterForm.partnerFilterForm}\n\n            modalFormTemplate={basicDataSt.pageData.ModalForm}\n            addFormTitle={basicDataSt.pageData.ModalForm.partnerAddForm}\n            editFormTitle={basicDataSt.pageData.ModalForm.partnerEditForm}\n            bgColor={\"#74b979\"}\n            calDigit={100}\n        />\n        }\n    </div>\n</div>\n\n\n)\n}\nexport default Partner;\n\n\n\n\n/*\n\n\n\nimport React from 'react';\nimport {MainContext} from '../../context/MainContext'\nimport axios from 'axios';\nimport download from 'js-file-download'\nimport PageComponent  from '../../component/pageComponent/PageComponent';\n//import FilterTemplate from '../../render/renderFilter/FilterTemplate'\nimport inputState from '../../component/table/inputState'\nimport filterDataTemplate from './filterDataTemplate';\n//import FormTemplate from '../../render/renderForm/FormTemplate'\nimport StateTemplate from '../../model/StateTemplate'\nimport Navbar from '../../component/navbar/Navbar';\nimport testTemplate from '../../render/renderTree/testTemplate';\n\n\nfunction Partner() {\n\nconsole.log('Partner')\n\nconst {basicDataSt,tokenSt,setReloadCheckToken,myheader}=React.useContext(MainContext)\n\nreturn(\n<div style={{height:\"100vh\",width:\"100vw\",overflow:\"hidden\"}}>\n    <div className=\"h-5 w-100 hide-on-print\">\n        <Navbar/>\n       \n    </div>\n    <button\n        onClick={e=>{\n            axios.post('/p35partner/mytest',{},myheader)\n            .then(res=>{\n                //download(result.data,\"tree.jpg\")\n                const columnDelimiter = \",\"\n                const lineDelimiter = \"\\n\"\n                \n                //console.log('result')\n                //console.log(result.data)\n                const keys = Object.keys(res.data[0])\n\n                let result = \"\"\n                result += keys.join(columnDelimiter)\n                result += lineDelimiter\n\n                res.data.map((item,indexItem)=>{\n\n                    keys.map((key,indexKey)=>{\n                        if(indexKey>0){\n                            result+=columnDelimiter\n                        }\n                        result += typeof item[key] === \"string\"&& \n                                    item[key].includes(columnDelimiter) \n                                    ? `\"${item[key]}\"` \n                                    : item[key]\n\n                    })\n\n                    result += lineDelimiter\n                })\n\n                console.log('result')\n                //console.log(result)\n                download(result,\"partner3.csv\")\n            })\n            .catch(error=>{\n                console.log('error')\n            })\n        }}\n    >aaaaaa</button>\n    <div className=\"h-95 w-100\">\n        {basicDataSt.basicData&&myheader&&\n        <PageComponent\n            filterDataTemplate={filterDataTemplate}\n            filterTemplate={basicDataSt.pageFilter.partnerFilter}\n            inputState={inputState.partnerInputState}\n            basicDataSt={basicDataSt}\n            myheader={myheader}\n            formTemplate={basicDataSt.modalFormTemplate.partnerForm}\n            editFormTemplate={basicDataSt.modalFormTemplate.partnerEditForm}\n            stateTemplate={StateTemplate.partnerState}\n            pageFilterForm={basicDataSt.pageFilterForm.partnerFilterForm}\n\n            modalFormTemplate={basicDataSt.pageData.ModalForm}\n            addFormTitle={basicDataSt.pageData.ModalForm.partnerAddForm}\n            editFormTitle={basicDataSt.pageData.ModalForm.partnerEditForm}\n            dataUrl={'p35partner'}\n        />\n        }\n    </div>\n</div>\n\n\n)\n}\nexport default Partner;\n\n\n\n\n\n\n\n\n\n*/","const product={\n    data0:null,\n    \n    dataCsv:null,\n    count:0,\n    lastRecordId:null,\n    showRange:true,\n    \n    widthLeft:30,\n    heightTop:30,\n\n    pageNumber:1,\n    limitRow:3,\n    sort:{id:-1},\n    qry:{},\n    \n    tableTemplateUrl:\"p35tabletemplate\",\n    dataUrl:\"p35product\",\n    selectGroup:null,\n    groupDataUrl:\"p35group\",\n    \n\n    tableTemplate:null,\n    detailTableTemplate:null,\n    detailTableTemplateForForm:null,\n\n    tableTemplateName:\"productTableTemplate\",\n    detailTableTemplateName:\"\",//\"productDetailTableTemplate\",\n    detailTableTemplateForFormName:\"productDetailTableTemplateForForm\",//\"productDetailTableTemplateForForm\",\n    \n    reloadData:false,\n    message:null,\n    showModalError:false,\n    editData:null,\n    badgeState:{\n        swapShow:false,swapFunc:()=>{},\n        reloadShow:true,reloadFunc:()=>{},\n        filterShow:false,filterFunc:()=>{},\n        addShow:true,addFunc:()=>{},\n        editShow:true,editFunc:()=>{},\n        delShow:true,delFunc:()=>{},\n        printerShow:true,printerFunc:()=>{},\n        csvShow:true,csvFunc:()=>{},\n        forwardShow:false,forwardFunc:()=>{},\n        bullEyeShow:true,\n        unSelectShow:true,\n    },\n\n\n    selectProduct:[],\n    \n    showAdd:false,\n    showModalConfirm:false,\n    showModalError:false,\n    showModalCsv:false,\n\n    message:null,\n    iconActionData:null,\n    iconActionDataDetail:null,\n    keyName:[\"photoUrl1\"]\n}\n\n\n\n\nconst filterDataTemplate=product\n\nexport default filterDataTemplate","import React from 'react';\nimport {MainContext} from '../../context/MainContext'\n\nimport PageComponent  from '../../component/pageComponent/PageComponent';\n//import FilterTemplate from '../../render/renderFilter/FilterTemplate'\nimport inputState from '../../component/table/inputState'\nimport filterDataTemplate from './filterDataTemplate';\n//import filterDataTemplate2 from './filterDataTemplate2';\n\n//import FormTemplate from '../../render/renderForm/FormTemplate'\nimport StateTemplate from '../../model/StateTemplate'\nimport Navbar from '../../component/navbar/Navbar';\n\n\nfunction Product() {\n\nconsole.log('Product')\n\nconst {basicDataSt,tokenSt,setReloadCheckToken,myheader,setReloadBasicData}=React.useContext(MainContext)\n\n\n\nreturn(\n<div style={{height:\"100vh\",width:\"100vw\",overflow:\"hidden\"}}>\n    <div className=\"h-5 w-100 hide-on-print\">\n        <Navbar/>\n    </div>\n    \n    <div className=\"h-95 w-100\">\n     {basicDataSt.basicData&&myheader&&\n        <PageComponent\n            setReloadBasicData={setReloadBasicData}\n            filterDataTemplate={filterDataTemplate}\n\n            filterTemplate={basicDataSt.pageFilter.productFilter}\n            inputState={inputState.productInputState}\n            basicDataSt={basicDataSt}\n            myheader={myheader}\n            \n            formTemplate={basicDataSt.modalFormTemplate.productForm}\n            editFormTemplate={basicDataSt.modalFormTemplate.productEditForm}\n         \n            stateTemplate={StateTemplate.productState}\n            pageFilterForm={basicDataSt.pageFilterForm.productFilterForm}\n            \n            pageDataModalForm={basicDataSt.pageData.ModalForm}\n            \n            addFormTitle={basicDataSt.pageData.ModalForm.productAddForm}\n            editFormTitle={basicDataSt.pageData.ModalForm.productEditForm}\n            \n            groupAddFormTitle={basicDataSt.pageData.ModalForm.groupAddForm}\n            groupEditFormTitle={basicDataSt.pageData.ModalForm.groupEditForm}\n            \n            groupFormTemplate={basicDataSt.modalFormTemplate.groupForm}\n            groupEditFormTemplate={basicDataSt.modalFormTemplate.groupEditForm}\n            bgColor={\"#d1adbf\"}\n\n        />\n     }\n     </div>\n\n</div>\n)\n}\nexport default Product;\n\n//#e5d1db\n\n/*\n\nreturn(\n<div style={{height:\"100vh\",width:\"100vw\",overflow:\"hidden\"}}>\n    <div className=\"h-5 w-100 hide-on-print\">\n        <Navbar/>\n    </div>\n    \n    <div className=\"h-95 w-100\">\n     {basicDataSt.basicData&&myheader&&\n        <PageComponent\n            filterDataTemplate={filterDataTemplate}\n            filterDataTemplate2={filterDataTemplate2}\n\n            filterTemplate={basicDataSt.pageFilter.productFilter}\n            inputState={inputState.productInputState}\n            basicDataSt={basicDataSt}\n            myheader={myheader}\n            \n            formTemplate={basicDataSt.modalFormTemplate.productForm}\n            editFormTemplate={basicDataSt.modalFormTemplate.productEditForm}\n         \n            stateTemplate={StateTemplate.productState}\n            pageFilterForm={basicDataSt.pageFilterForm.productFilterForm}\n            \n            pageDataModalForm={basicDataSt.pageData.ModalForm}\n            \n            addFormTitle={basicDataSt.pageData.ModalForm.productAddForm}\n            editFormTitle={basicDataSt.pageData.ModalForm.productEditForm}\n            \n            groupAddFormTitle={basicDataSt.pageData.ModalForm.groupAddForm}\n            groupEditFormTitle={basicDataSt.pageData.ModalForm.groupEditForm}\n            \n            groupFormTemplate={basicDataSt.modalFormTemplate.groupForm}\n            groupEditFormTemplate={basicDataSt.modalFormTemplate.groupEditForm}\n            \n\n            useRawMat={true}\n            rawMatFilterTemplate={basicDataSt.pageFilter.rawMatFilter}\n            rawMatInputState={inputState.rawMatInputState}\n            rawMatPageFilterForm={basicDataSt.pageFilterForm.rawMatFilterForm}\n\n\n        />\n     }\n     </div>\n\n</div>\n)\n\n\n\n\n\n\n\n\n*/","import React from 'react';\n\nimport {RiLogoutBoxRLine,RiLogoutCircleRLine} from 'react-icons/ri'\nimport {FaWrench,FaMoneyBill,FaMoneyBillWave,FaRegMoneyBillAlt} from 'react-icons/fa';\nimport {MdVpnKey,MdTune,MdWrench,MdClose,MdFastfood,MdPerson,MdSettingsApplications} from 'react-icons/md';\nimport {BsShop} from 'react-icons/bs'\nimport {SiBookstack,SiAirtable} from 'react-icons/si'\nimport {Link} from 'react-router-dom';\n\nimport './Home.css'\n\nfunction Home() {\n\nconst refSetting=React.createRef()\nconst refPartner=React.createRef()\nconst refProduct=React.createRef()\nconst refLogIn=React.createRef()\n//const refTransaction=React.createRef()\nconst refBill=React.createRef()\nconst refBranch=React.createRef()\n\n\nconst boxStyle={fontSize:\"5rem\"}\nconst bigDivStyle={gridRow:\"1/3\",gridColumn:\"1/2\"}\nconst mdDivStyle={gridRow:\"1/2\",gridColumn:\"3/5\"}\n\nconst boxArray=[\n{bgColor:\"#FAE03C\",//\"rgb(255,102,0)\",\n ref:refBill,\n icon:<BsShop style={{...boxStyle,fontSize:\"8rem\",color:\"#444\"}}/>\n},\n{bgColor:\"#B76BA3\",//\"rgb(214,0,147)\",\n ref:refProduct,\n icon:<MdFastfood style={{...boxStyle,color:\"white\"}}/>\n},\n{bgColor:\"rgb(0,204,0)\",//\"rgb(255,192,0)\", \n ref:refPartner,\n icon:<MdPerson style={{...boxStyle,color:\"#444\"}}/>\n},\n/*\n{bgColor:\"#300e9f\",//\"rgb(0, 155, 119)\", \n ref:refTransaction,\n icon:<SiBookstack style={{...boxStyle,color:\"white\"}}/>\n},\n*/\n{bgColor:\"#B18F6A\", \n ref:refBranch,\n icon:<MdTune style={{...boxStyle,color:\"#444\"}}/>\n},\n{bgColor:\"rgb(192,0,0)\", \n ref:refSetting,\n icon:<MdSettingsApplications style={{...boxStyle,color:\"white\"}}/>\n},\n{bgColor:\"#ff9933\", \n ref:refLogIn,\n icon:<MdVpnKey style={boxStyle}/>\n},\n//{bgColor:\"rgb(0,204,0)\",icon:<MdSettingsApplications style={boxStyle}/>},\n\n//{bgColor:\"rgb(46,117,182)\",icon:<MdVpnKey style={boxStyle}/>},\n//{bgColor:\"rgb(166,166,166)\",icon:<MdClose style={boxStyle}/>},\n//{bgColor:\"#87CEEB\",icon:<MdClose style={boxStyle}/>},\n//255,153,255\n//\n]\nreturn (\n    <div className=\"home-hero\">\n        <div className=\"home-bg-screen\">\n            <div className=\"home-box\">\n           \n                    <div \n                        className=\"home-grid\"\n                    >\n                      \n                        {\n                            boxArray.map((i,idx)=>{\n                            return idx==0\n                                ?<div className=\"home-tile\" \n                                    key={idx} \n                                    style={{...bigDivStyle,\n                                            backgroundColor:`${i.bgColor}`,\n                                            display:\"flex\",\n                                            justifyContent:\"center\",\n                                            alignItems:\"center\",\n                                            borderRadius:\"5%\",\n                                            position:\"relative\"\n                                            }}\n                                    onClick={e=>{i.ref.current.click()}}\n                                    >   \n                                        {i.icon}\n                                    </div>\n                                :<div className=\"home-tile\" \n                                     key={idx} \n                                     style={{\n                                             backgroundColor:`${i.bgColor}`,\n                                             display:\"flex\",\n                                             justifyContent:\"center\",\n                                             alignItems:\"center\",\n                                             borderRadius:\"5%\",\n                                             position:\"relative\"\n                                            }}\n                                    onClick={e=>{i.ref.current.click()}}\n                                >   \n                                    {\n                                    i.icon\n                                    }\n                                </div>\n                            })\n                        }\n        \n                    </div>\n   \n            </div>\n        </div>\n       \n        <div className=\"d-none\">\n            <Link ref={refSetting} to=\"/pos/basicdata\"/>\n            <Link ref={refPartner} to=\"/pos/partner\"/>\n            <Link ref={refProduct} to=\"/pos/product\"/>\n            <Link ref={refLogIn} to=\"/pos/login\"/>\n            <Link ref={refBill} to=\"/pos/bill\"/>\n            <Link ref={refBranch} to=\"/pos/branch\"/>\n\n         \n        </div>\n        \n    </div>\n)\n}\n\nexport default Home;\n/*\n\n<Link ref={refTransaction} to=\"/pos/bill\"/>\n\n\n<div className=\"home-link\"\nonClick={e=>{refProduct.current.click()}}>\n<div>\n   <FaWarehouse className=\"home-icon\"/>\n</div>\n<div>\n   <h3></h3>\n</div>\n</div>\n*/\n\n\n\n/*\n\n\n             <div className=\"home-link\" \n                     onClick={e=>{refUser.current.click()}}>\n                    <div >\n                        <FaUserEdit className=\"home-icon\"/>\n                    </div>\n                    <div>\n                        <h3></h3>\n                    </div>\n                </div>\n                \n                <div className=\"home-link\"\n                     onClick={e=>{refSetting.current.click()}}>\n                    <div>\n                        <MdSettingsApplications className=\"home-icon\"/>\n                    </div>\n                    <div>\n                        <h3></h3>\n                    </div>\n                </div>\n\n                <div className=\"home-link\"\n                     onClick={e=>{refPartner.current.click()}}>\n                    <div>\n                        <FaUsers className=\"home-icon\"/>\n                    </div>\n                    <div>\n                        <h3></h3>\n                    </div>\n                </div>\n\n                <div className=\"home-link\"\n                     onClick={e=>{refProduct.current.click()}}>\n                    <div>\n                        <FaWarehouse className=\"home-icon\"/>\n                    </div>\n                    <div>\n                        <h3></h3>\n                    </div>\n                </div>\n\n                <div className=\"home-link\"\n                     onClick={e=>{refTransaction.current.click()}}>\n                    <div>\n                        <MdShoppingCart className=\"home-icon\"/>\n                    </div>\n                    <div>\n                        <h4></h4>\n                    </div>\n                </div>\n\n                <div className=\"home-link\"\n                     onClick={e=>{refTransactionLog.current.click()}}>\n                    <div>\n                        <FaChartLine className=\"home-icon\"/>\n                    </div>\n                    <div>\n                        <h4></h4>\n                    </div>\n                </div>\n\n\n\n\n\n\n*/","import React from 'react';\nimport axios from 'axios'\nimport ReCAPTCHA from 'react-google-recaptcha'\nimport {MainContext} from '../../context/MainContext'\nimport {MdVisibility,MdVisibilityOff,MdAddCircle,MdVpnKey} from 'react-icons/md';\nimport {FaUserCircle,FaCheck,FaBan,FaMoneyBillWave,\n        FaArrowCircleRight,FaArrowCircleLeft\n} from 'react-icons/fa'\nimport {BsShop} from 'react-icons/bs'\n\nimport photoUtil from '../../component/galleryone_add/photoUtil'\n\nimport LogOutTool  from './LogOutTool';\nimport renderModalError from '../../render/renderModalError'\nimport axiosUtil from '../../util/axiosUtil'\nimport {Link} from 'react-router-dom';\n\nconst {catchErrorToMessage}=axiosUtil\n\nfunction LogIn() {\n  \n  const {basicDataSt,myheader,tokenSt,setReloadCheckToken}=React.useContext(MainContext)\n  const {reloadCheckToken,haveShopToken,haveUserToken,userName}=tokenSt\n   console.log('LogIn......')\n   //console.log(tokenSt)\n   //console.log(basicDataSt)\n   const {pageData,user}=basicDataSt\n\n   const refHome=React.createRef()\n\n   const refSubmit=React.createRef()\n   const refCancel=React.createRef()\n\n\n  const shopLogInForm={\n     formHead:\"Shop Log In\",\n     shopName:\"Shop Name\",\n     password:\"Password\"\n  }\n\n  const userLogInForm={\n     formHead:\"User Log In\",\n     username:\"User Name\",\n     password:\"Password\",\n     createNewUser:\"Create Default User\"\n  }\n\n  const userChangePasswordForm={\n     formHead:\"User Change Password\",\n     username:\"User Name\",\n     password:\"Password\",\n     newPassword1:\"New Password\",\n     newPassword2:\"Confirm New Password\"\n  }\n\n  const shopSignUpForm={\n      formHead:\"Shop Sign Up\",\n      shopName:\"Shop Name\",\n      password:\"Password\",\n      confirmPassword:\"Confirm Password\",\n      ownerName:\"Owner Name\",\n      ownerEmail:\"Ower Email\"\n  }\n\n  const shopForgetPasswordForm={\n     formHead:\"Set New Shop Password \",\n     formHead1:\"Recovery Password will be sent to your Email, use it to create new shop password\",\n     recoveryPassword:\"Recovery password\",\n     shopName:\"Shop Name\",\n     password:\"Shop Password\",\n     confirmPassword:\"confirm Shop Password\"\n  }\n\n\n   const allRef={\n      shopName:React.createRef(),\n      username:React.createRef(),\n      password:React.createRef(),\n      confirmPassword:React.createRef(),\n      newPassword1:React.createRef(),\n      newPassword2:React.createRef(),\n      ownerName:React.createRef(),\n      ownerEmail:React.createRef(),\n   }\n\n   \n   const userLogInNextRef={\n      username:()=>allRef.password.current.focus(),\n      password:()=>refSubmit.current.focus()\n   }\n\n   const shopLogInNextRef={\n      shopName:()=>allRef.password.current.focus(),\n      password:()=>refSubmit.current.focus()\n   }\n\n   const userChangePasswordNextRef={\n      username:()=>allRef.password.current.focus(),\n      password:()=>allRef.newPassword1.current.focus(),\n      newPassword1:()=>allRef.newPassword2.current.focus(),\n      newPassword2:()=>refSubmit.current.focus()\n   }\n\n   const shopSignUpNextRef={\n      shopName:()=>allRef.password.current.focus(),\n      password:()=>allRef.confirmPassword.current.focus(),\n      confirmPassword:()=>allRef.ownerName.current.focus(),\n      ownerName:()=>allRef.ownerEmail.current.focus(),\n      ownerEmail:()=>refSubmit.current.focus(),\n   }\n\n   const shopForgetPasswordNextRef={\n      recoveryPassword:()=>allRef.shopName.current.focus(),\n      shopName:()=>allRef.password.current.focus(),\n      password:()=>allRef.confirmPassword.current.focus(),\n      confirmPassword:()=>refSubmit.current.focus(),\n   }\n\n\n   const [userChangePasswordState,setUserChangePasswordState]=React.useState({\n      username:\"\",\n      password:\"\",\n      newPassword1:\"\",\n      newPassword2:\"\"\n   })\n\n   const [shopState,setShopState]=React.useState({\n      shopName:\"\",\n      password:\"\"\n   })\n\n   const [userState,setUserState]=React.useState({\n      username:\"\",\n      password:\"\"\n   })\n\n   const [shopSignUpState,setShopSignUpState]=React.useState({\n      shopName:\"\",\n      password:\"\",\n      confirmPassword:\"\",\n      ownerName:\"\",\n      ownerEmail:\"\",\n   })\n\n   const [shopForgetPasswordState,setShopForgetPasswordState]=React.useState({\n      recoveryPassword:\"\",\n      shopName:\"\",\n      password:\"\",\n      confirmPassword:\"\"\n   })\n\n   const refReCaptcha=React.useRef()\n\n   const [hidePassword,setHidePassword]=React.useState(true)\n\n  //====================================\n  const [showModalError,setShowModalError]=React.useState(false)\n  \n  const [message,setMessage]=React.useState(null)\n  //------------------------------------\n\n  const [showChangePassword,setShowChangePassword]=React.useState(false)\n  const [showShopSignUp,setShowShopSignUp]=React.useState(false)\n  const [showShopForgetPassword,setShowShopForgetPassword]=React.useState(false)\n  const [showReCaptcha,setShowReCaptcha]=React.useState(true)\n  const [showResetRequest,setShowResetRequest]=React.useState(true)\n\n  //====================================\n\n  const submitShopLogIn=(inputState,setInputState)=>{\n    const tempKey=Object.keys(inputState)\n\n    axios.post(`/p35shop/shoplogin`,inputState)\n    .then(result=>{\n        //console.log(`/shop/shoplogin`)\n        //console.log(result)\n        \n        localStorage.setItem('shopauthorization',\n        `b ${result.data.shopToken}`)\n        localStorage.setItem('expirationDate',\n        `${result.data.expirationDate}`)\n\n        setReloadCheckToken(true)\n        \n        setShopState({\n           shopName:\"\",password:\"\"\n        })\n        \n        setUserState({\n           username:\"\",password:\"\"\n        })\n\n        window.location.reload();\n\n    })\n    .catch(error=>{\n        setMessage(catchErrorToMessage(error))\n        setShowModalError(true)\n    })\n  }\n  //-------------------------------\n  \n  //-------------------------------\n  \n  const submitUserLogIn=(inputState,setInputState)=>{\n\n   const tempKey=Object.keys(inputState)\n\n   axios.post(`/p35user/login`,inputState,myheader)\n   .then(result=>{\n      console.log('result')\n     localStorage.setItem('userauthorization',\n       `b ${result.data.userToken}`)\n     localStorage.setItem(\"username\",\n       result.data.username)\n       setReloadCheckToken(true)\n        \n       setShopState({\n         shopName:\"\",password:\"\"\n      })\n      \n      setUserState({\n         username:\"\",password:\"\"\n      })\n      window.location.reload();\n\n   })\n   .catch(error=>{\n       setMessage(catchErrorToMessage(error))\n       setShowModalError(true)\n   })\n }\n//============================\nconst submitUserChangePassword=(inputState,setInputState)=>{\n\n   axios.post(`/p35user/changepassword`,inputState,myheader)\n   .then(result=>{\n      console.log('result')\n      localStorage.removeItem('userauthorization');\n      localStorage.removeItem('username');\n      \n      setUserChangePasswordState({\n         username:\"\",\n         password:\"\",\n         newPassword1:\"\",\n         newPassword2:\"\"\n       })\n      \n      setShowChangePassword(false)\n      \n      setReloadCheckToken(true)  \n      window.location.reload();\n\n   })\n   .catch(error=>{\n       setMessage(catchErrorToMessage(error))\n       setShowModalError(true)\n   })\n\n}\n\n//-----------------------------\nconst submitCancelChangePassword=()=>{\n   setShowChangePassword(false)\n   setUserChangePasswordState({\n      username:\"\",\n      password:\"\",\n      newPassword1:\"\",\n      newPassword2:\"\"\n   })\n}\n//-----------------------------\nconst submitShopSignUp=(inputState)=>{\n   const {password,confirmPassword}=inputState\n   if(password!=confirmPassword){\n      setShopSignUpState({\n         ...shopSignUpState,\n         password:\"\",\n         confirmPassword:\"\"\n      })\n      setMessage(catchErrorToMessage(\"Invalid Password\"))\n      setShowModalError(true)\n   }\n   else{\n         axios.post(`/p35shop/shopsignup`,inputState,myheader)\n         .then(result=>{\n            //console.log('result')      \n            setShopSignUpState({\n               shopName:\"\",\n               password:\"\",\n               confirmPassword:\"\",\n               ownerName:\"\",\n               ownerEmail:\"\"\n            })\n            \n            setShowShopSignUp(false)\n            //setReloadCheckToken(true)  \n            //window.location.reload();\n         })\n         .catch(error=>{\n            setMessage(catchErrorToMessage(error))\n            setShowModalError(true)\n         })\n   }\n \n}\n//------------------------------\n\nconst submitCreateShopPassword=(inputState)=>{\n\n   if(inputState.confirmPassword!==inputState.password){\n         setShopForgetPasswordState({\n            ...shopForgetPasswordState,\n            password:\"\",\n            confirmPassword:\"\"\n         })\n\n         setMessage(\"recheck your password and confirm password\")\n         setShowModalError(true)\n   }\n   else{\n\n         axios.post(`/p35shop/createshoppassword`,inputState)\n         .then(result=>{\n            //console.log('result.......resetshoppassword')\n            //console.log(result)\n            //refReCaptcha.current.reset()\n            //setShowReCaptcha(true)\n            setShopForgetPasswordState({\n               ...shopForgetPasswordState,\n               shopName:\"\",\n               password:\"\",\n               recoveryPassword:\"\",\n               confirmPassword:\"\"\n            })\n            setHidePassword(true)\n            setShowResetRequest(true)\n            setShowShopForgetPassword(false)\n         \n         })\n         .catch(error=>{\n            setMessage(catchErrorToMessage(error))\n            setShowModalError(true)\n         })\n   }\n}\n//----------------------------\nconst requestRecoveryPassword=(inputState)=>{\n\n   axios.post(`/p35shop/resetshoppassword`,inputState)\n   .then(result=>{\n       //console.log('result.......resetshoppassword')\n       //console.log(result)\n\n       setShopForgetPasswordState({\n         ...shopForgetPasswordState,\n         shopName:\"\",\n         password:\"\",\n         recoveryPassword:\"\",\n         confirmPassword:\"\"\n      })\n\n       refReCaptcha.current.reset()\n       setShowReCaptcha(true)\n       setShowResetRequest(false)\n   })\n   .catch(error=>{\n       setMessage(catchErrorToMessage(error))\n       setShowModalError(true)\n   })\n}\n//-----------------------------\nconst renderLogin=({pageForm,setInputState,inputState,submitFunc,submitCancel,nextRef})=>{\n   const pageFormKey=Object.keys(pageForm)\n   const inputStateKey=Object.keys(inputState)\n\n     \n   const renderInput=(i,idx)=>{\n      if(i==\"password\"||i==\"newPassword1\"||i==\"newPassword2\"||i==\"confirmPassword\"){\n         return (\n         <div key={idx} \n            className=\"flex-center-center jc-start w-100\"\n            style={{marginBottom:\"1rem\"}}\n        >\n            <div className=\"xc4\">\n                 {pageForm[i]}\n            </div>\n            <div className=\"xc8\"\n                 style={{position:\"relative\"}}\n            >\n                <input\n                   type={hidePassword?\"password\":\"text\"}\n                   value={inputState[i]}\n                   ref={allRef[i]}\n                   onChange={e=>{setInputState({\n                      ...inputState,\n                      [i]:e.target.value\n                   })}}\n                   onKeyDown={e=>{\n                      if(e.key==\"Enter\"){\n                        //console.log(nextRef[i]) \n                        nextRef[i]()\n                      }\n                   }}\n                   autoComplete='one-time-code'\n                />\n                    {\n                    hidePassword\n                    ?<MdVisibilityOff \n                       className=\"sm-icon\" \n                       style={{position:'absolute',top:\"0.2rem\",right:'0.3rem'}}\n                       onClick={e=>{\n                       setHidePassword(!hidePassword)\n                       }}\n                    />\n                    :<MdVisibility \n                       className=\"sm-icon\" \n                       style={{position:'absolute',top:\"0.2rem\",right:'0.3rem'}}\n                       onClick={e=>{\n                       setHidePassword(!hidePassword)\n                       }}\n                    />\n                    }\n  \n            </div>\n         </div>\n         )\n      }\n      \n      else{\n         return(\n            \n            <div key={idx}\n               className=\"flex-center-center jc-start w-100\"\n               style={{marginBottom:\"1rem\"}}\n            >\n               \n               <div className=\"xc4\">\n                  {pageForm[i]}\n               </div>\n               <div className=\"xc8\">\n                  <input\n                        ref={allRef[i]}\n                        type={(i==\"id\"//||\n                              //i==\"branchId\"\n                              )\n                              ?\"number\":\"text\"}\n                        value={inputState[i]}\n                        onChange={e=>{setInputState({\n                           ...inputState,\n                           [i]:e.target.value\n                        })}}\n                        \n                        onKeyDown={e=>{\n                           if(e.key==\"Enter\"){\n                              //console.log(nextRef[i])\n                              nextRef[i]()\n                           }\n                        }}\n\n                        disabled={ (\n                                    //i==\"branchId\"||\n                                    i==\"userLevel\")\n                                   ?\"disabled\"\n                                   :\"\"\n                                 }\n\n                  />\n               </div>\n               \n            </div>\n         )\n      }\n   }\n\n   return (\n   <div className=\"w-100 bd-pureWhite\" style={{padding:\"1rem\"}}>\n         <div className=\"flex-center-center w-100\"\n            style={{marginBottom:\"1rem\"}}\n         >\n            <h3>{pageForm[pageFormKey[0]]}</h3>\n         </div>\n\n         {\n            inputStateKey.map((i,idx)=>{\n               return renderInput(i,idx)\n            })\n         }\n\n\n         <div className=\"flex-center-center jc-end jc-start w-100\"\n         >\n               <button\n                  ref={refSubmit}\n                  onClick={e=>submitFunc(inputState,setInputState)}\n               >\n                  <FaCheck/>\n               </button>\n            {submitCancel&&\n               <button\n                  ref={refCancel}\n                  onClick={e=>submitCancel()}\n               >\n                  <FaBan/>\n               </button>  \n            }\n         </div>\n   </div>\n   )\n   \n}\n\nconst renderAvatar=()=>{\n   return user\n      ?<div className=\"\">\n            <div className=\"w-100 flex-center-center\">\n               <FaUserCircle\n                  style={{fontSize:\"4.5rem\",margin:\"auto\"}}\n               />\n            </div>\n            <div \n               style={{textAlign:\"center\",fontSize:\"1.5rem\"}}>\n                  {`${user.username}`}\n            </div>\n            <div className=\"divlink\"\n               onClick={e=>{\n                  setShowChangePassword(true)\n            }}>\n                  Change User Password\n            </div>\n      </div>\n      :null\n   \n}\n//==========================\nconst renderShopMonthlyFee=()=>{\n  \n   \n}\n//-------------------------\nconst renderShopLogIn=()=>{\n   if(showShopSignUp){\n      return(\n         <div className='w-100 h-100'>\n            {\n                  renderLogin({\n                        pageForm:shopSignUpForm,\n                        setInputState:setShopSignUpState,\n                        inputState:shopSignUpState,\n                        submitFunc:submitShopSignUp,\n                        nextRef:shopSignUpNextRef,\n                        submitCancel:()=>{\n                           setShopSignUpState({\n                              shopName:\"\",\n                              password:\"\",\n                              confirmPassword:\"\",\n                              ownerName:\"\",\n                              ownerEmail:\"\",\n                           })\n                           setShowShopSignUp(false)\n                        }\n                  })\n               }\n         </div>\n      )\n   }\n   else if(showShopForgetPassword){\n      console.log('showShopForgetPass')\n\n      return showResetRequest\n         ?<div className=\"w-100 bd-pureWhite\" style={{padding:\"1rem\"}}>\n               <div className=\"flex-center-center w-100\"\n                  style={{marginBottom:\"1rem\"}}\n               >\n                  <h3>{\"Request For Recovery Password\"}</h3>\n               </div>\n            \n               <ReCAPTCHA\n                     style={{visibility:showReCaptcha?\"visible\":\"hidden\"}}\n                     ref={refReCaptcha}\n                     sitekey={process.env.REACT_APP_SITE_KEY}//'6LcCvsQdAAAAAAqWKtgK3Tb6l3LYBjtCVrlaIog0'\n                     onChange={value=>{\n                        console.log(value)\n                        setShowReCaptcha(false)\n                     }}\n               />\n                 \n               <div className='w-100'\n                     style={{visibility:showReCaptcha?\"hidden\":\"visible\"}}\n               >\n\n                     <div\n                        className=\"flex-center-center jc-start w-100\"\n                        style={{marginBottom:\"1rem\"}}\n                     >\n                        \n                        <div className=\"xc4\">\n                           {shopForgetPasswordForm.shopName}\n                        </div>\n                        <div className=\"xc8\">\n                           <input\n                              value={shopForgetPasswordState.shopName}\n                              style={{width:\"100%\"}}\n                              onChange={e=>{\n                                 setShopForgetPasswordState({\n                                    ...shopForgetPasswordState,\n                                    shopName:e.target.value\n                                 })\n                              }}\n                           />\n                        </div>\n                     </div>\n\n                     <div\n                        style={{marginBottom:\"1rem\"}}\n                     >{`${shopForgetPasswordForm.formHead1}`}</div>\n\n               </div>\n                     \n\n               <div className=\"flex-center-center jc-end jc-start w-100\"\n               >\n\n                  <button\n                     ref={refCancel}\n                     onClick={e=>{\n                        const tempToken=refReCaptcha.current.getValue()\n                        console.log(tempToken)\n                        refReCaptcha.current.reset()\n                        requestRecoveryPassword({\n                              shopName:shopForgetPasswordState.shopName,\n                              token:tempToken})\n                     }}\n                  >\n                     <FaCheck/>\n                  </button>  \n                  <button\n                     //ref={refSubmit}\n                     onClick={e=>{\n                        refReCaptcha.current.reset()\n                        setShopForgetPasswordState({\n                           ...shopForgetPasswordState,\n                           shopName:e.target.value\n                        })\n                        setShowShopForgetPassword(false)\n                        \n                     }}\n                  >\n                     <FaBan/>\n                  </button>\n           \n               </div>               \n\n\n         </div>\n    \n         :<div className='w-100 h-100'>\n            {\n               renderLogin({\n                     pageForm:shopForgetPasswordForm,\n                     setInputState:setShopForgetPasswordState,\n                     inputState:shopForgetPasswordState,\n                     submitFunc:submitCreateShopPassword,\n                     nextRef:shopForgetPasswordNextRef,\n                     submitCancel:()=>{\n                        setShopForgetPasswordState({\n                           recoveryPassword:\"\",\n                           shopName:\"\",\n                           password:\"\",\n                           confirmPassword:\"\"\n                        })\n                        setShowShopForgetPassword(false)\n                     },\n               })\n            }\n         </div>\n      \n   }\n\n   \n   \n   \n   else{\n         return (\n            <div className='w-100 h-100'>\n                  {\n                  renderLogin({\n                        pageForm:shopLogInForm,\n                        setInputState:setShopState,\n                        inputState:shopState,\n                        submitFunc:submitShopLogIn,\n                        nextRef:shopLogInNextRef\n                  })\n                  }\n\n                  <div className=\"bill-p\"\n                     style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"baseline\",\n                              margin:\"1rem 0\"}}\n                     onClick={e=>{\n                        setShowShopSignUp(true)\n                     }}\n                  >\n                        <MdAddCircle style={{marginLeft:\"-1rem\"}}/>\n                        <BsShop style={{fontSize:\"2rem\"}}/>\n\n                        <div style={{marginLeft:\"1rem\"}}>\n                           Create a new shop account\n\n                        </div>\n                  </div>\n\n\n                  <div className=\"bill-p\"\n                     \n                     style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"baseline\",\n                              margin:\"1rem 0\"}}\n\n                     onClick={e=>{\n                        setShowShopForgetPassword(true)\n                        setShowReCaptcha(true)\n                        setShowResetRequest(true)\n                     }}\n                  >\n                     <MdVpnKey style={{marginLeft:\"-1rem\"}}/>\n                     <BsShop   style={{fontSize:\"2rem\"}}/>\n\n                     <div style={{marginLeft:\"1rem\"}}>\n                        Forget shop password\n                     </div>\n                  </div>\n\n                \n            </div>\n         )\n   }\n}\n\n\n//=========================\nconst renderBody=()=>{\n   return tokenSt.haveShopToken\n      ?tokenSt.haveUserToken\n         ?renderAvatar()\n         :<div className=\"xc4 lc6 mc8 sc10\" style={{padding:\"0rem\"}}>\n            {\n            renderLogin({\n                  pageForm:userLogInForm,\n                  setInputState:setUserState,\n                  inputState:userState,\n                  submitFunc:submitUserLogIn,\n                  nextRef:userLogInNextRef\n            })\n            }\n             \n         </div>\n      :<div className=\"xc4 lc6 mc8 sc10\" style={{padding:\"0rem\"}}>\n        {\n           renderShopLogIn()\n        }\n         \n      </div>\n}\n\nconst renderChangePasswordModal=()=>{\nreturn(\n   <div className=\"xc4 lc6 mc8 sc10\" style={{padding:\"0rem\"}}>\n         {\n         renderLogin({\n               pageForm:userChangePasswordForm,\n               setInputState:setUserChangePasswordState,\n               inputState:userChangePasswordState,\n               submitFunc:submitUserChangePassword,\n               submitCancel:submitCancelChangePassword,\n               nextRef:userChangePasswordNextRef\n         })\n         }\n   </div>\n)\n}\n\n//=======================\nreturn (\n   <div style={{height:\"100vh\",width:\"100vw\",position:\"relative\"}}\n        className=\"flex-center-center\"\n   >\n         <div style={{position:\"fixed\",\n            width:\"200vw\",height:\"20vh\",\n            top:\"-2rem\",left:\"-5rem\",\n            transform: \"rotate(15deg)\",\n            backgroundColor:\"#ff9933\"}}\n         >\n            \n         </div>\n\n         {showChangePassword\n            ?renderChangePasswordModal()\n            :tokenSt&&renderBody()\n         }\n\n         <LogOutTool\n            tokenSt={tokenSt}\n            setReloadCheckToken={setReloadCheckToken}\n            user={user}\n            myheader={myheader}\n            useBillWaveIcon={true}\n         />\n\n         {\n            showModalError\n            ?renderModalError({show:showModalError,\n                              setShow:setShowModalError,\n                              message,setMessage\n                           })\n            :null\n         }\n\n         <div style={{display:\"none\"}}>\n            <div>\n               <Link ref={refHome} to=\"/home\"/>\n            </div>\n         </div>\n\n\n\n   </div>\n\n)}\n\nexport default LogIn;\n\n\n\n/*\n <img alt='robots' src={`https://robohash.org/${3}&200x200`} />\n\n\n\n\n            <button\n                  onClick={async(e)=>{\n                       const temp=refA.current.getValue()\n                        console.log(temp)\n                        refA.current.reset()\n                  }}\n            >\n                  button\n            </button>\n\n            <ReCAPTCHA\n                  ref={refA}\n                  sitekey='6LcCvsQdAAAAAAqWKtgK3Tb6l3LYBjtCVrlaIog0'\n                  onChange={value=>{\n                        console.log(value)\n                  }}\n            />\n\n\n*/","import React from 'react';\nimport axios from 'axios'\n//import {MainContext} from '../../context/MainContext'\nimport uuid from 'react-uuid'\nimport ModalFilterInput from '../../render/renderFilter/ModalFilterInput'\nimport pageUtil from './pageUtil'\n//import NewGroupComponent from '../../render/renderTree/NewGroupComponent'\nimport axiosUtil from '../../util/axiosUtil'\nimport Table from '../../component/table/Table'\nimport renderWidthRangeBar from '../../component/table/renderWidthRangeBar'\nimport renderBadge from '../../render/renderBadge/renderBadge'\nimport renderModalError from '../../render/renderModalError'\nimport ModalConfirm from '../../render/ModalConfirm'\n//import ModalForm from '../../render/renderForm/ModalForm'\n//import NewTree from '../../component/newtree/NewTree'\nimport NewGroup from '../newgroup/NewGroup';\nimport PageForm from '../../render/renderForm/PageForm'\nimport ModalCsv from './ModalCsv'\nimport BillForm from '../../page/bill/BillForm'\nimport renderTransactionConfirm from '../../page/bill/renderTransactionConfirm';\nimport {FaChair,FaRegFolderOpen,FaRegMoneyBillAlt,FaRegArrowAltCircleRight,FaMoneyBill} from 'react-icons/fa'\nimport {MdFastfood,MdPeople,MdPerson,MdClose} from 'react-icons/md'\nimport renderCustomerConfirm from '../../page/bill/renderCustomerConfirm';\nimport data from '../../page/bill/data';\nimport Ticon from '../../component/ticon/Ticon'\n\nconst {genArrayForFilterAxios,genFD,addFileNameInPhotoUrl,catchErrorToMessage}=axiosUtil\n\nconst {reloadAxiosAll,saveTableTemplate,updateFilterData,\n    submitFunctionEdit,submitFunctionAdd,filterAxios,\n    setUnSelectAll,submitFunctionDelete\n} = pageUtil\n\nfunction PageComponentTransaction(props) {\n\nconsole.log('PageComponentTransaction')\n//const {basicDataSt,tokenSt,setReloadCheckToken,myheader}=React.useContext(MainContext)\n\nconst {filterDataTemplate,filterDataTemplate2,filterDataTemplate3,filterDataTemplate4,\n      pageFilter,pageFilterForm,...remaining}=props\n\nconst {filterTitle,inputState,filterTemplate,myheader,basicDataSt,\n      formTemplate,editFormTemplate,stateTemplate,\n      groupFormTemplate,groupEditFormTemplate,\n      pageDataModalForm,\n      addFormTitle,\n      editFormTitle,\n      groupAddFormTitle,\n      groupEditFormTitle,\n\n      rawMatFilterTemplate,\n      rawMatInputState,\n      rawMatPageFilterForm,\n\n      partnerFilterTemplate,\n      partnerInputState,\n      partnerFilterForm,\n\n      calDigit,\n      setReloadBasicData\n}=props\n\nconst {basicData,pageData,tableTemplate,reloadBasicData}=basicDataSt\n\nconst [billTableTemplate,setBillTableTemplate]=React.useState(null)\n\nReact.useEffect(()=>{\n    if(tableTemplate){    \n        setBillTableTemplate(tableTemplate.productDetailTableTemplateForForm)\n    }\n},[basicDataSt])\n\n\nlet [filterData,setFilterData]=React.useState({\n    ...filterDataTemplate,...remaining,\n    tableTemplate:\n    filterDataTemplate.tableTemplateName\n    ?tableTemplate[filterDataTemplate.tableTemplateName]\n    :null,\n    detailTableTemplate:filterDataTemplate.detailTableTemplateName?tableTemplate[filterDataTemplate.detailTableTemplateName]:null,\n    detailTableTemplateForForm:filterDataTemplate.detailTableTemplateForFormName?tableTemplate[filterDataTemplate.detailTableTemplateForFormName]:null,\n    widthLeft:basicData.widthLeft,\n    limitRow:basicData.limitRow,\n    badgeColor:\"#72a2d9\"\n})\n\nconst genFilterData2=()=>{\n        return {\n            ...filterDataTemplate2,\n            \n            tableTemplate:\n            filterDataTemplate2.tableTemplateName\n            ?tableTemplate[filterDataTemplate2.tableTemplateName]\n            :null,\n        }\n    \n}\n\nlet [filterData2,setFilterData2]=React.useState(genFilterData2())\n\nconst genFilterData4=()=>{\n    console.log('genFilterData4')\n\n    let tempSelectedLine=tableTemplate[filterDataTemplate4.tableTemplateName].selectedLine\n    tempSelectedLine={...tempSelectedLine,showCol:false}\n\n    const tempTableTemplate={...tableTemplate[filterDataTemplate4.tableTemplateName],\n                                selectedLine:tempSelectedLine\n                            }\n\n\n    return {\n        ...filterDataTemplate4,\n        tableTemplate:tempTableTemplate   \n    }\n}\n\nlet [filterData4,setFilterData4]=React.useState(genFilterData4())\n\n\nReact.useEffect(()=>{\n     //console.log('filterData PageComponent')\n     //console.log(filterData)\n    if(filterData.reloadData){\n        const {dataUrl,pageNumber,limitRow,sort,qry}=filterData\n    \n        axios.post(`/${dataUrl}/getlimit`,{pageNumber,limitRow,sort,...qry},myheader)\n        .then(result=>{\n            //console.log(`result...${dataUrl}/getlimit`)\n            //console.log(result)\n            const temp2= genFilterDataWithIndex(result.data.data,filterData.selectProduct)\n            //console.log('temp2.....')\n            //console.log(temp2)\n            const tempResult={...filterData,\n                data0:temp2,\n                count:result.data.count,\n                lastRecordId:result.data.lastRecordId,\n                reloadData:false\n            }\n            setFilterData(tempResult)\n        })\n        .catch(error=>{\n            const tempError={...filterData,\n                reloadData:false,\n                message:catchErrorToMessage(error),\n                showModalConfirm:false,\n                showModalError:true,\n            }\n            console.log(tempError.message)\n            setFilterData(tempError)\n        })\n    }\n\n},[filterData])\n\nReact.useEffect(()=>{\n   // console.log('filterData2 PageComponent........')\n   // console.log(filterData2)\n\n    if(filterData2.reloadData){\n        const {dataUrl,pageNumber,limitRow,sort,qry}=filterData2\n    \n        axios.post(`/${dataUrl}/getlimit`,{pageNumber,limitRow,sort,...qry},myheader)\n        .then(result=>{\n            //console.log(result)\n            const temp2= genFilterDataWithIndex(result.data.data,filterData.selectProduct)\n            //console.log('temp2.....')\n           // console.log(temp2)\n            const tempResult={...filterData2,\n                data0:temp2,\n                count:result.data.count,\n                lastRecordId:result.data.lastRecordId,\n                reloadData:false\n            }\n            setFilterData2(tempResult)\n        })\n        .catch(error=>{\n            const tempError={...filterData2,\n                reloadData:false,\n                message:catchErrorToMessage(error),\n                showModalConfirm:false,\n                showModalError:true,\n            }\n            console.log(tempError.message)\n            setFilterData2(tempError)\n        })\n    }\n\n},[filterData2])\n\n\n\nlet [filterData3,setFilterData3]=React.useState(filterDataTemplate3)\nReact.useEffect(()=>{\n    //console.log('filterData3')\n    //console.log(filterData3)\n    if(filterData3.reloadBillForm){\n        setFilterData3({\n            ...filterData3,\n            showBillForm:true,\n            reloadBillForm:false\n        })\n    }\n},[filterData3])\n\n\nReact.useEffect(()=>{\n    // console.log('filterData2 PageComponent........')\n    // console.log(filterData2)\n     if(filterData4.reloadData){\n         const {dataUrl,pageNumber,limitRow,sort,qry}=filterData4\n     \n         axios.post(`/${dataUrl}/getlimit`,{pageNumber,limitRow,sort,...qry},myheader)\n         .then(result=>{\n             //console.log(result)\n             const temp2= genFilterDataWithIndex(result.data.data,filterData4.selectProduct)\n             //console.log('temp2.....')\n            // console.log(temp2)\n             const tempResult={...filterData4,\n                 data0:temp2,\n                 count:result.data.count,\n                 lastRecordId:result.data.lastRecordId,\n                 reloadData:false\n             }\n             setFilterData4(tempResult)\n         })\n         .catch(error=>{\n             const tempError={...filterData4,\n                 reloadData:false,\n                 message:catchErrorToMessage(error),\n                 showModalConfirm:false,\n                 showModalError:true,\n             }\n             console.log(tempError.message)\n             setFilterData4(tempError)\n         })\n     }\n \n },[filterData4])\n\nReact.useEffect(()=>{\n    if(filterData4.editData){\n        setFilterData4({\n            ...filterData4,\n            customerConfirm:{\n                ...filterData4.editData,\n                partnerId:filterData4.editData.id\n            }\n        })\n    }\n},[filterData4.editData])\n\n\nconst setShowRange=(data)=>{setFilterData({...filterData,showRange:data})}\nconst setHeightTop=(data)=>{setFilterData({...filterData,heightTop:data})}\nconst setWidthLeft=(data)=>{setFilterData({...filterData,widthLeft:data})}\nconst setShowModalError=(data)=>{setFilterData({...filterData,showModalError:data})}\nconst setShowModalConfirm=(data)=>{setFilterData({...filterData,showModalConfirm:data})}\nconst setPageNumber=(data)=>{setFilterData({...filterData,pageNumber:data,reloadData:true})}\nconst setRawMatPageNumber=(data)=>{\n    setFilterData2({...filterData2,pageNumber:data,reloadData:true})\n}\nconst setPartnerPageNumber=(data)=>{\n    setFilterData4({...filterData4,pageNumber:data,reloadData:true})\n}\n\nconst billFormSetShowModalConfirm=(data)=>{\n    setFilterData3({\n        ...filterData3,\n        showModalConfirm:data\n    })\n}\n\nconst setShowAdd=(data)=>{\n    //console.log('setShowAdd')\n    if(data){\n        setFilterData3({\n            ...filterData3,\n            showBillForm:data,\n            data0:{...filterDataTemplate3.blankData,\n                   //branchId:basicData.branchId,\n                   //branchName:basicData.branchName \n                   }\n        })\n    }\n    else{\n        setFilterData({\n            ...filterData,\n            showBillForm:data,\n            data0:null\n        })\n    }\n}\n\nconst setShowEdit=(data)=>{\n    //console.log('setShowEdit')\n    if(data){\n        setFilterData3({\n            ...filterData3,\n            showBillForm:data,\n            data0:filterData.editData\n        })\n    }\n    else{\n        setFilterData3({\n            ...filterData3,\n            showBillForm:data,\n            data0:null\n        })\n    }\n}\n\nconst setShowModalCsv=()=>{\n    setFilterData({\n        ...filterData,\n        showModalCsv:true\n    })\n}\n\nconst setTableTemplate=(data)=>{setFilterData({...filterData,tableTemplate:data})}\nconst setDetailTableTemplate=(data)=>{setFilterData({...filterData,detailTableTemplate:data})}\n\nconst rawMatSetTableTemplate=(data)=>{setFilterData2({...filterData2,tableTemplate:data})}\nconst partnerSetTableTemplate=(data)=>{setFilterData4({...filterData4,tableTemplate:data})}\n\n\nconst setRawMatEditData=(data)=>{\n    setFilterData2({...filterData2,editData:data})\n}\nconst setPartnerEditData=(data)=>{\n    setFilterData4({...filterData4,editData:data})\n}\n\nconst setEditData=(data)=>{\n    let tempData=data\n    //console.log('data..........')\n    //console.log(data)\n\n    /*\n    if(data){\n        if(data.detail){\n            let tempArray=[]\n\n            data.detail.map(i=>{\n                let tempObj={...i,selectedLine:false,_id:uuid()}\n                tempArray=[...tempArray,tempObj]\n            })\n\n            tempData={...data,detail:tempArray}\n        }\n    }\n    */\n    setFilterData({...filterData,editData:tempData})\n    //captureEditData(data)\n}\n//to save filterData when sort Up and down each column\nconst setFilterDataData0=(data)=>{setFilterData({...filterData, data0:data})}\nconst setSort=(data)=>{setFilterData({...filterData,sort:data})}\nconst setLimitRow=(data)=>{setFilterData({...filterData,limitRow:data})}\n\nconst rawMatSetLimitRow=(data)=>{setFilterData2({...filterData2,limitRow:data})}\nconst rawMatSetSort=(data)=>{setFilterData2({...filterData2,sort:data})}\n\nconst partnerSetLimitRow=(data)=>{setFilterData4({...filterData4,limitRow:data})}\nconst partnerSetSort=(data)=>{setFilterData4({...filterData4,sort:data})}\n\n\nconst setUnSelectAllFunc=()=>{\n\n    if(filterData.showRenderTransaction){\n        setFilterData(setUnSelectAll(filterData))\n    }\n    else if(filterData.showRenderProduct){\n        setFilterData2(setUnSelectAll(filterData2))\n    }\n    else if(filterData.showRenderCustomer){\n        setFilterData4(setUnSelectAll(filterData4))\n    }\n    else{\n        setFilterData(setUnSelectAll(filterData))\n    }\n\n}\n\n\n\n\n\nconst genFilterDataWithIndex=(filterData,selectProduct)=>{\n\n    if(filterData){\n        if(filterData.detail){\n            if(filterData.detail.length()>0){\n                let tempArray=[]\n\n                filterData.detail.map(i=>{\n\n                })\n\n            }\n        }\n    }\n\n    let tempSelectProduct\n    if(selectProduct){tempSelectProduct=selectProduct}\n    else {tempSelectProduct=[]}\n\n    let tempArray=[]\n\n    filterData.map((i,idx)=>{\n         \n        const temp={...i,selectedLine:false,_id:uuid()}\n        tempArray=[...tempArray,temp]\n        //const temp={...i,tempIndex:idx,selectedLine:false}\n    })\n\n    let tempArray2=[]\n\n    tempArray.map(i=>{\n        let tempObj=i\n        tempSelectProduct.map(j=>{\n            if(i.id==j.id){\n                //console.log('j.id==i.id')\n                tempObj={...tempObj,selectedLine:j.selectedLine}\n                //tempArray2=[...tempArray2,]\n            }\n        })\n        tempArray2=[...tempArray2,tempObj]\n    })\n \n    return tempArray2\n}\n\n\nconst rawMatRefreshPage=()=>{\n    const {limitRow,sort}=filterData2\n    const temp = {...filterData2,selectProduct:[],\n                editData:null,qry:null,reloadData:true\n            }\n    setFilterData2(temp)\n}\n\nconst partnerRefreshPage=()=>{\n    const {limitRow,sort}=filterData4\n    const temp = {...filterData4,selectProduct:[],\n                editData:null,qry:null,reloadData:true\n            }\n    setFilterData4(temp)\n}\n\n\nconst refreshPage=()=>{\n    //console.log('refreshPage')\n    const {limitRow,sort}=filterData\n    const temp = {...filterData, limitRow,sort,selectProduct:[],\n                editData:null,qry:null,reloadData:true\n            }\n    setFilterData(temp)\n    setReloadBasicData(true)\n}\n\nconst submitFunctionDeleteFunc=async(data)=>{\n    console.log('submitFunctionDeleteFunc filterData')\n    console.log(filterData)\n    const temp = await submitFunctionDelete(filterData,myheader)\n    setFilterData(temp)\n}\n\n\n//============================\n//============================\n//============================\n\nconst billFormSaveTableTemplateFunc=(tableTemplate)=>{\n    let tempObj={}\n    Object.keys(tableTemplate).map(i=>{\n       const temp={...tableTemplate[i],showColHead:true}\n        tempObj={...tempObj,[i]:temp}\n    })\n    //console.log(tableTemplate)\n    //console.log(tempObj)\n    setBillTableTemplate(tempObj)\n    saveTableTemplate(tableTemplate,'p35tabletemplate',\n                    'productDetailTableTemplateForForm',myheader)\n}\n\n\nconst setShowModalConfirmFunc=(data)=>{\n    setFilterData({...filterData,\n        showModalConfirm:data,\n        dataToDelete:null\n    })\n}\n\nconst billFormSetShowModalConfirmFunc=(data)=>{\n    setFilterData3({...filterData3,\n        showModalConfirm:data\n    })\n}\n\nconst billFormSubmitFunctionDeleteFunc=()=>{\n   // const {dataToDelete}=filterData3\n    console.log('delete.......')\n    //const temp = await submitFunctionDelete(data,myheader)\n    //setFilterData(temp)\n    axios.post(`/p35transaction/deletetransaction`,{id:filterData3.data0.id},myheader)\n    .then(result=>{\n        console.log('done delete.............')\n        const temp={...filterData,\n            reloadData:true,\n        }\n        setFilterData(temp)\n        setFilterData3({...filterData3,\n            showBillForm:false,\n            data0:null,\n            isGenIdOfBillForm:false,\n            showModalConfirm:false\n        })\n    })\n    .catch(error=>{\n        console.log('error')\n        console.log(error)\n        const tempError={...filterData,\n            //reloadData:false,\n            message:catchErrorToMessage(error),\n            //showModalConfirm:false,\n            showModalError:true,\n        }\n        console.log(tempError.message)\n        setFilterData(tempError)\n    })\n    \n}\n\nconst billFormSubmitFunctionEditFunc=async (data)=>{\n    console.log(`edit.......`)\n\n    const {_id,detail,...remaining}=data\n    let tempArray=[]\n    detail.map(i=>{\n        const {_id,...remaining2}=i\n        tempArray=[...tempArray,remaining2]\n    })\n\n    const tempObj={...remaining,detail:tempArray}\n\n    //console.log('tempObj')\n    //console.log(tempObj)\n\n    //const temp = await submitFunctionEdit(formInputState,filterData,stateTemplate,myheader)\n    //setFilterData(temp)\n    axios.post(`/p35transaction/updatetransaction`,tempObj,myheader)\n    .then(result=>{\n        console.log('done edit.............')\n            const temp={...filterData,\n                reloadData:true,\n            }\n            setFilterData(temp)\n            setFilterData3({...filterData3,\n                showBillForm:false,\n                data0:null,\n                isGenIdOfBillForm:false,\n            })\n\n    })\n    .catch(error=>{\n        console.log('error')\n        console.log(error)\n        const tempError={...filterData,\n            //reloadData:false,\n            message:catchErrorToMessage(error),\n            //showModalConfirm:false,\n            showModalError:true,\n        }\n        console.log(tempError.message)\n        setFilterData(tempError)\n\n    })\n}\n\nconst billFormSubmitFunctionAddFunc=async (data)=>{\n    console.log(`add.......`)\n    console.log(data)\n    //const temp = await submitFunctionAdd(formInputState,filterData,stateTemplate,myheader)\n    //setFilterData(temp)\n    \n    const {_id,detail,...remaining}=data\n    let tempArray=[]\n    detail.map(i=>{\n        const {_id,...remaining2}=i\n        tempArray=[...tempArray,remaining2]\n    })\n\n    const tempObj={...remaining,detail:tempArray}\n    \n    //console.log('tempObj')\n    //console.log(tempObj)\n\n    axios.post(`/p35transaction/addtransaction`,tempObj,myheader)\n    .then(result=>{\n        console.log('done add............')\n        \n        const temp={...filterData,\n            reloadData:true,\n        }\n        setFilterData(temp)\n        setFilterData3({...filterData3,\n            showBillForm:false,\n            data0:null,\n            isGenIdOfBillForm:false,\n        })\n    })\n    .catch(error=>{\n        console.log('error')\n        console.log(error)\n        const tempError={...filterData,\n            //reloadData:true,\n            message:catchErrorToMessage(error),\n            //showModalConfirm:false,\n            showModalError:true,\n        }\n        console.log(tempError.message)\n        setFilterData(tempError)\n\n    })\n}\n\n//===================================\n//===================================\n//===================================\n\n\n//{pageNumber,limitRow,sort,dataUrl} = filterData\nconst filterAxiosFunc=(option,inputState)=>{\n    //console.log('filterAxios')\n    //console.log(filterTemplate)\n    filterAxios(option,inputState,filterTemplate,filterData,myheader)\n    .then(result=>{\n        console.log(\"result.....\")\n        console.log(result)\n        const temp2= genFilterDataWithIndex(result.data0,filterData.selectProduct)\n        //console.log('result......')\n        //console.log(result)\n        setFilterData({...result,data0:temp2})\n    })\n    .catch(error=>setFilterData(error))\n}\n\n\n//{pageNumber,limitRow,sort,dataUrl} = filterData\nconst rawMatFilterAxiosFunc=(option,inputState)=>{\n    //console.log('rawMatFilterAxiosFunc.......')\n    const {pageNumber,limitRow,sort,dataUrl} = filterData2\n\n    //console.log(filterTemplate)\n    filterAxios(option,inputState,rawMatFilterTemplate,filterData2,myheader)\n    .then(result=>{\n        //console.log(\"result.....\")\n        //console.log(result)\n        const temp2= genFilterDataWithIndex(result.data0,filterData2.selectProduct)\n        //console.log(result)\n        //console.log(temp2)\n        setFilterData2({...result,data0:temp2})\n    })\n}\n\n//{pageNumber,limitRow,sort,dataUrl} = filterData\nconst partnerFilterAxiosFunc=(option,inputState)=>{\n    console.log('partnerFilterAxiosFunc.......')\n    const {pageNumber,limitRow,sort,dataUrl} = filterData4\n\n    //console.log(filterTemplate)\n    filterAxios(option,inputState,partnerFilterTemplate,filterData4,myheader)\n    .then(result=>{\n        //console.log(\"result.....\")\n        //console.log(result)\n        const temp2= genFilterDataWithIndex(result.data0,filterData4.selectProduct)\n        //console.log(result)\n        //console.log(temp2)\n        setFilterData4({...result,data0:temp2})\n    })\n}\n\n\n\nconst filterDataByGroup=(i)=>{\n    const {folders,...remaining}=i\n    const temp = {...filterData,\n        pageNumber:1,\n        qry:{groupId:i.id},\n        selectGroup:remaining,\n        reloadData:true}\n    setFilterData(temp)\n}\n\nconst rawMatFilterDataByGroup=(i)=>{\n    \n    //console.log('rawMatFilterDataByGroup')\n    const {folders,...remaining}=i\n    const temp = {...filterData2,\n        pageNumber:1,\n        qry:{groupId:i.id},\n        selectGroup:remaining,\n        reloadData:true}\n    setFilterData2(temp)\n    \n}\n\n\nconst saveTableTemplateFunc=(tableTemplate)=>{\n    const {tableTemplateUrl}=filterData\n    saveTableTemplate(tableTemplate,tableTemplateUrl,filterData.tableTemplateName,myheader)\n}\n\nconst rawMatSaveTableTemplateFunc=(tableTemplate)=>{\n    const {tableTemplateUrl}=filterData2\n    saveTableTemplate(tableTemplate,tableTemplateUrl,filterData2.tableTemplateName,myheader)\n}\n\nconst partnerSaveTableTemplateFunc=(tableTemplate)=>{\n    const {tableTemplateUrl}=filterData4\n    saveTableTemplate(tableTemplate,tableTemplateUrl,filterData4.tableTemplateName,myheader)\n}\n\n\nconst updateFilterDataFunc=(index,i)=>{\n    const temp=updateFilterData(index,i,filterData)\n    //console.log('temp')\n    //console.log(temp)\n    setFilterData({...filterData,...temp})\n}\n\nconst rawMatUpdateFilterDataFunc=(index,i)=>{\n    const temp=updateFilterData(index,i,filterData2)\n    //console.log('temp')\n    //console.log(temp)\n    setFilterData2({...filterData2,...temp})\n}\n\nconst partnerUpdateFilterDataFunc=(index,i)=>{\n    const temp=updateFilterData(index,i,filterData4)\n    //console.log('temp')\n    //console.log(temp)\n    setFilterData4({...filterData4,...temp})\n}\n\n\nconst closeBillForm=()=>{\n    setFilterData3({...filterData3,\n        showBillForm:false,\n        data0:null\n    })\n}\n//----------------------------\nconst customerConfirmSubmitFunc=()=>{\n\n    const {id,title,name,partnerType,phone,selectAddress}=filterData4.customerConfirm\n    const tempCustomer={\n        partnerId:id,\n        title:title,\n        name:name,\n        partnerType:partnerType,\n        phone:phone,\n        address:selectAddress\n    }   \n\n    setFilterData3({...filterData3,\n        data0:{\n            ...filterData3.data0,\n            ...tempCustomer\n        },\n        showCustomerConfirm:false,\n        showBillForm:false,\n        reloadBillForm:true\n    })\n\n}\n//----------------------------\nconst transactionConfirmSubmitFunc=()=>{\n    let tempEditData=filterData.editData\n\n    if(!filterData3.includeTransactionHead){\n        tempEditData={...filterData3.data0,\n            detail:[...filterData3.data0.detail,\n                    ...filterData.editData.detail\n                    ]\n        }\n    }\n\n    setFilterData3({...filterData3,\n        data0:tempEditData,\n        showTransactionConfirm:false,\n        showBillForm:false,\n        reloadBillForm:true\n    })\n  \n}\n\n\nconst transactionConfirmCancelFunc=()=>{\n    setFilterData3({...filterData3,\n        showTransactionConfirm:false\n    })\n}\n\nconst changeIncludeTransactionHead=()=>{\n    setFilterData3({...filterData3,\n        includeTransactionHead:!filterData3.includeTransactionHead\n    })\n}\n\nconst captureSelectProductToBillForm=()=>{\n    //console.log('filterData2.selectProduct')\n    //console.log(filterData2.selectProduct)\n    let tempArray=[]\n\n    filterData2.selectProduct.map(i=>{\n        const {detail,...remaining}=i\n\n        if(i.selectedLine){\n            tempArray=[...tempArray,{...remaining,_id:uuid(),quantity:0,result:0}]\n        }\n    })\n\n    const tempDetail=[...filterData3.data0.detail,...tempArray]\n\n    const tempData0={...filterData3.data0,detail:tempDetail}\n\n    setFilterData3({...filterData3,\n        data0:tempData0,\n        showBillForm:false,\n        reloadBillForm:true\n    })\n\n}\n\n//-----------------------------\n\n//-----------------------------\n\n//==============================\nconst renderFilter=({filterData,filterTemplate,inputState,\n                     setLimitRow,\n                     setSort,\n                     filterAxiosFunc,pageFilterForm\n                    })=>{\n    const {limitRow,sort}=filterData\n\n    return (\n        <div className=\"\" style={{marginBottom:\"1rem\"}}>\n            <ModalFilterInput\n            show={true} setShow={()=>{}}\n            \n            filterTemplate={filterTemplate}\n\n            inputState={inputState} \n            setInputState={()=>{}}\n            \n            limitRow={limitRow} \n            setLimitRow={setLimitRow}\n            \n            sort={sort} \n            setSort={setSort}\n            \n            filterAxios={filterAxiosFunc}\n            basicData={basicData}\n            \n            LB={pageFilterForm}\n            />\n        </div>\n    )\n}\n//-----------------------------\n//-----------------------------\n//-----------------------------\n\n//-----------------------------\nconst renderTransaction=()=>{\n    //tableTemplate[filterDataTemplate.tableTemplateName]\n    \n    let tempTransactionTableTemplate=tableTemplate[filterDataTemplate.tableTemplateName]\n    let tempSelectedLine=tempTransactionTableTemplate.selectedLine\n    tempSelectedLine={...tempSelectedLine,showCol:false}\n\n    tempTransactionTableTemplate={...tempTransactionTableTemplate,selectedLine:tempSelectedLine}\n   \n    /*\n    tableTemplate:\n    filterDataTemplate.tableTemplateName\n    ?tableTemplate[filterDataTemplate.tableTemplateName]\n    :null,\n    */\n    return(\n        <div className=\"w-100\">\n        {\n            renderFilter({\n                filterData:filterData,\n                filterTemplate:filterTemplate,\n                inputState:inputState,\n                setLimitRow:setLimitRow,\n                setSort:setSort,\n                filterAxiosFunc:filterAxiosFunc,\n                pageFilterForm:pageFilterForm\n               })\n        }\n        \n        {\n         filterData3.showBillForm\n         ?renderRight({...filterData,\n\n                    tableTemplate:tempTransactionTableTemplate,\n                    //================\n                    badgeState:{...filterData.badgeState,\n                        reloadShow:true,\n                        addShow:false,\n                        editShow:false,\n                        \n                        delShow:false,\n                        printerShow:false,\n                        csvShow:false,\n                        forwardShow:filterData.editData?true:false,\n                    }})\n         :null   \n        }\n\n        </div>\n\n    )\n}\n//-----------------------------\nconst renderCustomer=()=>{\n    console.log('renderCustoer')\n    return(\n        <div className=\"w-100 h-100\">\n          {\n            renderFilter({\n                filterData:filterData4,\n                filterTemplate:partnerFilterTemplate,\n                inputState:partnerInputState,\n                setLimitRow:partnerSetLimitRow,\n                setSort:partnerSetSort,\n                filterAxiosFunc:partnerFilterAxiosFunc,\n                pageFilterForm:partnerFilterForm\n            })\n        }\n\n        {\n            renderRawMatRight({\n                filterData:{...filterData4,\n                                badgeState:{...filterData4.badgeState,\n                                    addShow:false,\n                                    editShow:false,\n                                    delShow:false,\n                                    printerShow:false,\n                                    csvShow:false,\n                                    forwardShow:filterData4.editData?true:false,\n                                    bullEyeShow:false\n                                }},\n                setPageNumber:setPartnerPageNumber,\n                setReloadData:partnerRefreshPage,\n                setShowForwardConfirm:()=>{\n                   // console.log('setShowForwardConfrim')\n                    setFilterData3({...filterData3,showCustomerConfirm:true})\n                },//captureSelectProductToBillForm,\n                setTableTemplate:partnerSetTableTemplate,\n                setFilterData:setFilterData4,\n                setEditData:setPartnerEditData,\n                saveTableTemplateFunc:partnerSaveTableTemplateFunc,\n                updateFilterData:partnerUpdateFilterDataFunc,\n                bgColor:\"#74b979\"\n            })\n        }\n\n\n\n        </div>\n    )\n}\n\n//-----------------------------\nconst renderProduct=()=>{\n    console.log('renderProduct')\n    console.log(filterData2)\n\n\n    return(\n        <div className=\"w-100\">\n        {\n        renderFilter({\n            filterData:filterData2,\n            filterTemplate:rawMatFilterTemplate,\n            inputState:rawMatInputState,\n            setLimitRow:rawMatSetLimitRow,\n            setSort:rawMatSetSort,\n            filterAxiosFunc:rawMatFilterAxiosFunc,\n            pageFilterForm:rawMatPageFilterForm\n           })\n        }\n\n        {\n        filterData2.groupDataUrl&&pageData&&\n        <div className=\"\" style={{marginBottom:\"4rem\"}}>\n            <NewGroup\n                myheader={myheader}\n                dataUrl={filterData2.groupDataUrl}\n                filterByGroupId={rawMatFilterDataByGroup}\n                captureEditGroup={()=>{}}\n                bgColor={\"#e5d1db\"}\n                pageData={pageData}\n            />\n        </div>\n        }\n\n        {\n        renderRawMatRight({\n            filterData:{...filterData2,\n                            badgeState:{...filterData2.badgeState,\n                                addShow:false,\n                                editShow:false,\n                                delShow:false,\n                                printerShow:false,\n                                csvShow:false,\n                                forwardShow:filterData2.selectProduct.length>0?true:false,\n                                unSelectShow:true\n                            }},\n            setPageNumber:setRawMatPageNumber,\n            setReloadData:rawMatRefreshPage,\n            setShowForwardConfirm:captureSelectProductToBillForm,\n            setTableTemplate:rawMatSetTableTemplate,\n            setFilterData:setFilterData2,\n            setEditData:setRawMatEditData,\n            saveTableTemplateFunc:rawMatSaveTableTemplateFunc,\n            updateFilterData:rawMatUpdateFilterDataFunc,\n            bgColor:\"#e5d1db\"\n        })\n        }\n        </div>\n    )\n}\n//-----------------------------\n//-----------------------------\nconst renderGroup=()=>{\n\n    return (\n    <div className=\"w-100\"\n         style={{overflowX:\"hidden\",\n                 paddingBottom:\"5rem\"}}>\n        \n        <div className=\"w-100\" \n             style={{display:\"flex\",alignItems:\"center\",height:\"2rem\",\n             backgroundColor:filterData.badgeColor}}\n             >\n            {\n            //filterData3.showBillForm&&\n            <div className=\"iconbox\" \n                onClick={e=>{setFilterData({...filterData,\n                    showRenderTransaction:false,\n                    showRenderProduct:false,\n                    showRenderCustomer:true,\n                    badgeColor:\"#74b979\"\n                    })\n                }}\n            >\n                  <Ticon \n                      iconName=\"MdPerson\"\n                      className={filterData.showRenderCustomer?\"md-icon ft-brown\":\"md-icon\"} \n                      textStyle={{color:\"black\"}}\n                      //style={{marginRight:\"1.2rem\",\n                      //        color:filterData.showRenderCustomer?\"#8b4131\":\"black\" \n                      // }}\n               \n                    />\n            </div>\n          \n            }\n\n            {\n            //filterData3.showBillForm&&\n\n            <div className=\"iconbox\"\n                onClick={e=>{setFilterData({...filterData,\n                    showRenderTransaction:false,\n                    showRenderProduct:true,\n                    showRenderCustomer:false,\n                    badgeColor:\"#e5d1db\"\n                    })\n                }}\n            >\n                <Ticon\n                    iconName=\"MdFastfood\" \n                    className={filterData.showRenderProduct?\"md-icon ft-brown\":\"md-icon\"}\n                    textStyle={{color:\"black\"}}\n                    //style={{marginRight:\"1.2rem\",\n                    //          color:filterData.showRenderProduct?\"#8b4131\":\"black\"\n                    //}}\n                />\n            </div>\n           \n            }\n\n            \n            <div className=\"iconbox\"\n                 onClick={e=>{setFilterData({...filterData,\n                    showRenderTransaction:true,\n                    showRenderProduct:false,\n                    showRenderCustomer:false,\n                    badgeColor:\"#72a2d9\"\n                    })\n                }}\n\n            >\n                 <Ticon\n                     iconName=\"FaRegMoneyBillAlt\" \n                     className={filterData.showRenderTransaction?\"md-icon ft-brown\":\"md-icon\"}\n                     textStyle={{color:\"black\"}}\n                    //style={{marginRight:\"1.2rem\",\n                    // color:filterData.showRenderTransaction?\"#8b4131\":\"black\"\n                    //}}\n                \n                />\n            </div>\n           \n        </div>\n\n        <div className=\"w-100\">\n            {\n             filterData.showRenderTransaction&&\n                renderTransaction()\n            }\n            {\n             filterData.showRenderProduct&&\n                renderProduct()   \n            }\n            { \n             filterData.showRenderCustomer&&\n                renderCustomer()  \n            }\n\n\n        </div>\n\n    </div>\n    )\n}\n//------------------------\n//-----------------------------\nconst renderRight=(filterData)=>{\n    //console.log('filterData')\n    //console.log(filterData)\n    return(\n    <div className=\"w-100 h-100\">\n        <div className=\"hide-on-print\"\n        style={{height:filterData3.showBillForm?\"2rem\":\"5%\",\n                width:\"100%\",\n        }}\n        >\n            {\n                renderBadge({\n                    filterData,\n                    //badgeState:{...filterData.badgeState,\n                    //    addFunc:\n                    //},\n                    setPageNumber:setPageNumber,\n                    \n                    totalSwapPage:1, \n                    setSwapState:()=>{},\n                    \n                    setReloadData:refreshPage,\n                    setShowFilter:()=>{},\n                    setShowAdd:setShowAdd,\n                    setShowEdit:setShowEdit,\n                    setShowModalConfirm:setShowModalConfirm,\n                    setShowModalCsv:setShowModalCsv,\n                    setUnSelectAll:setUnSelectAllFunc,\n                    setShowForwardConfirm:(value)=>{setFilterData3({...filterData3,showTransactionConfirm:value})},\n                    setClose:()=>{},\n                    bgColor:\"#72a2d9\",\n                    captureSelect:()=>{}//captureSelect\n                })        \n            }\n\n        </div>\n\n        <div className=\"\"\n                style={{height:\"95%\",width:\"100%\"}}\n        >\n            <div style={{height:\"100%\",width:\"100%\"}}\n                className=\"show-on-print\"\n            >\n                {\n                    filterData.data0\n                    ?<Table\n                        colorHead={\"#4b6d62\"}\n                        tableTemplate={filterData.tableTemplate}\n                        setTableTemplate={setTableTemplate}\n        \n                        filterData={filterData.data0}\n                        setFilterData={setFilterDataData0}\n                        \n                        editData={filterData.editData}\n                        setEditData={setEditData}\n                        saveTableTemplateFunc={saveTableTemplateFunc}\n                        isSubTable={false}\n                        updateFilterData={updateFilterDataFunc}\n                        useInput={false}\n                        \n                    />\n                    :null\n                }\n            </div>\n            \n        </div>\n    </div>\n    )\n}\n//=============================\n\n//============================\n\n\n//-----------------------------\n\n//\nconst renderRawMatRight=({\n                            filterData,setPageNumber,\n                            setReloadData,setShowForwardConfirm,\n                            setTableTemplate,setFilterData,\n                            setEditData,saveTableTemplateFunc,\n                            updateFilterData,bgColor\n                        })=>{\n\n    console.log('renderRawMatRight')\n    console.log(filterData)\n\n    return(\n    <div className=\"w-100\">\n        <div className=\"hide-on-print\"\n        style={{height:\"2rem\",width:\"100%\"}}\n        >\n            {filterData.data0&&\n                    renderBadge({\n                        filterData,\n                        setPageNumber,//setRawMatPageNumber,\n                        \n                        totalSwapPage:1, \n                        setSwapState:()=>{},\n                        \n                        setReloadData,//rawMatRefreshPage,\n                        setShowFilter:()=>{},\n                        setShowAdd:()=>{},\n                        setShowEdit:()=>{},\n                        setShowModalConfirm:()=>{},\n                        setShowModalCsv:()=>{},\n                        setUnSelectAll:setUnSelectAllFunc,\n                        setClose:()=>{},\n                        setShowForwardConfirm,//captureSelectProductToBillForm,\n                        bgColor:bgColor,\n                        captureSelect:()=>{}//captureSelect\n                    })        \n                }\n\n        </div>\n\n        <div className=\"\"\n                style={{height:\"95%\",width:\"100%\"}}\n        >\n            <div style={{height:\"100%\",width:\"100%\"}}\n                className=\"show-on-print\"\n            >\n                {\n                filterData.data0\n                ?<Table\n                    colorHead={\"#4b6d62\"}\n                    tableTemplate={filterData.tableTemplate}\n                    setTableTemplate={setTableTemplate}//{rawMatSetTableTemplate}\n\n                    filterData={filterData.data0}\n                    setFilterData={setFilterData}//{setFilterData2}\n                    \n                    editData={filterData.editData}\n                    setEditData={setEditData}//{setRawMatEditData}\n                    saveTableTemplateFunc={saveTableTemplateFunc}//{rawMatSaveTableTemplateFunc}\n                    isSubTable={false}\n                    updateFilterData={updateFilterData}//{rawMatUpdateFilterDataFunc}\n                    useInput={false}\n                    \n                />\n                :null\n                }\n            </div>\n            \n        </div>\n    </div>\n    )\n}\n\n\n//-----------------------------\nconst renderBillForm=()=>{\n    return(\n    <BillForm\n        blankData={filterDataTemplate3.blankData}\n        dataIdx={\"cancel\"}\n        closeBillForm={closeBillForm}\n        data={filterData3.data0}\n        selectOfSelectProduct={()=>{}}//{selectProductToBillForm}\n        setResetProductList={()=>{}}//{setResetProductList}\n        pageData={pageData} \n        basicData={basicData}\n        tableTemplate={billTableTemplate}\n        saveTableTemplateFunc={billFormSaveTableTemplateFunc}\n        submitFunctionAddFunc={billFormSubmitFunctionAddFunc}\n        submitFunctionEditFunc={billFormSubmitFunctionEditFunc}\n        submitFunctionDeleteFunc={billFormSetShowModalConfirmFunc}\n        isGenIdOfBillForm={filterData3.isGenIdOfBillForm}\n        runIsGenId={(value)=>{\n            //console.log('runGenIdOfBillForm')\n            //console.log(value)\n            setFilterData3({...filterData3,\n            isGenIdOfBillForm:value\n        })\n        }}\n        \n        updateData={(data)=>{\n            //console.log('data')\n            //console.log(data)\n\n            setFilterData3({...filterData3,\n                data0:data,\n                ///reloadData:true,\n                //showBillForm:false\n            })\n        }}\n        myheader={myheader}\n        calDigit={calDigit}\n    />\n    )\n}\n\n\n\n//==============================\nconst renderBody=()=>{\nreturn(\n    filterData&&\n    <div className=\"\"\n             style={{display:\"flex\",height:\"95%\",width:\"100%\"}}\n    >\n            \n            <div className=\"hide-on-print\" \n                 style={{height:\"100%\",\n                         width:`${filterData.widthLeft}%`,\n                         overflowY:\"scroll\"\n                         }}>\n                     {\n                       renderGroup()\n                     }\n            </div>\n        \n            <div className=\"\" \n                style={{height:\"100%\",width:`${100-filterData.widthLeft}%`}}>\n                 {\n                    !filterData3.data0&&!filterData3.showBillForm\n                    ?renderRight({...filterData,\n                        badgeState:{...filterData.badgeState,\n                            reloadShow:true,\n                            editShow:filterData.editData?true:false,\n                            addShow:true,\n                            delShow:true,\n                            csvShow:true,\n                            printerShow:true,\n                            bullEyeShow:true,\n                            unSelectShow:true\n                        }\n                    }) \n                    :!filterData3.showBillForm\n                     ?null\n                     :renderBillForm()\n                   \n                 }\n            </div>\n    </div>\n)\n}\n//================================\n//=================================\n/*\nconst renderModalCsv=()=>{\n    const {limitRow,sort}=filterData\n\n    return(\n        <div className=\"Modal-background\">\n            <div className=\"Modal-box\" style={{width:\"60%\"}}>\n                <ModalFilterInput\n                    title={filterTitle}\n                    show={true} setShow={()=>{}}\n                    \n                    filterTemplate={filterTemplate}\n        \n                    inputState={inputState} \n                    setInputState={()=>{}}\n                    \n                    limitRow={limitRow} \n                    setLimitRow={setLimitRow}\n                    \n                    sort={sort} \n                    setSort={setSort}\n                    \n                    filterAxios={filterAxiosFunc2}\n                    basicData={basicData}\n                    \n                    LB={pageFilterForm}\n                />\n\n                <div className=\"w-100 flex-center-center jc-end\" >\n             \n                    <div>\n                        <button\n                            onClick={e=>{\n                                setFilterData({\n                                    ...filterData,\n                                    showModalCsv:false\n                                })\n                            }}\n                        >Cancel</button>\n                    </div>\n\n                </div>\n\n            </div>             \n        </div>\n    )\n}\n*/\n\n//=================================\nreturn(\n<div className=\"w-100 h-100\">\n    {   \n      renderBody()    \n    }\n   \n    <div className=\"hide-on-print\" \n        style={{width:\"100%\",display:\"flex\",position:\"relative\"}}>\n            {\n            renderWidthRangeBar({showRange:filterData.showRange,\n                                setShowRange:setShowRange,\n                                widthLeft:filterData.widthLeft,\n                                setWidthLeft:setWidthLeft,\n                                //heightTop:filterData.heightTop,\n                                //setHeightTop:setHeightTop\n                            })\n            }\n   \n    </div>\n\n    {filterData.showModalCsv\n    ?<ModalCsv\n        filterDataTemplate={filterDataTemplate}\n        inputState={inputState}\n        filterTemplate={filterTemplate}\n        myheader={myheader}\n        pageFilterForm={pageFilterForm}\n        basicData={basicData}\n        cancelFunc={e=>{setFilterData({...filterData,showModalCsv:false})}}\n    />//renderModalCsv()\n    :null\n    }\n\n    {filterData3.showTransactionConfirm&&\n      renderTransactionConfirm({\n          editTransaction:filterData.editData,\n          submitFunc:transactionConfirmSubmitFunc,\n          cancelFunc:transactionConfirmCancelFunc,\n          pageData:pageData,\n          changeIncludeTransactionHead:changeIncludeTransactionHead,\n          includeTransactionHead:filterData3.includeTransactionHead\n        })\n    }\n    \n    {\n    filterData3.showCustomerConfirm&&\n      renderCustomerConfirm({\n            filterData:filterData4,\n            setFilterData:setFilterData4,\n            basicData:basicData,\n            customerConfirmForm:pageData.customerConfirmForm,\n            submitFunc:customerConfirmSubmitFunc,\n            cancelFunc:()=>{\n                setFilterData3({...filterData3,showCustomerConfirm:false})\n            }\n        })\n    }\n\n\n\n\n    {\n    filterData.showModalConfirm\n    ?<ModalConfirm\n        setShow={setShowModalConfirm}\n        submitFunction={submitFunctionDeleteFunc}\n    />\n    :null\n    }\n\n    {\n    filterData3.showModalConfirm\n    ?<ModalConfirm\n        setShow={billFormSetShowModalConfirm}\n        submitFunction={billFormSubmitFunctionDeleteFunc}\n    />\n    :null\n    }\n\n    {  \n    filterData.showModalError\n    ?renderModalError({\n        setShow:setShowModalError,\n        message:filterData.message\n    })\n    :null\n    }\n</div>\n)\n\n}\n\n\n\n\nexport default PageComponentTransaction ;","const transaction={\n    data0:null, \n\n    dataCsv:null,\n    count:0, \n    lastRecordId:null,\n    showRange:true, \n\n    widthLeft:30, \n    heightTop:30,\n\n    pageNumber:1, \n    limitRow:10, \n    sort:{id:1},\n    qry:{}, \n\n    tableTemplateUrl:\"p35tabletemplate\",\n    dataUrl:\"p35transaction\",\n    selectGroup:null,\n    groupDataUrl:null,\n\n\n    tableTemplate:null,\n    detailTableTemplate:null,\n    detailTableTemplateForForm:null,\n    \n    tableTemplateName:\"transactionTableTemplate\",\n    detailTableTemplateName:\"productDetailTableTemplate\",\n    detailTableTemplateForFormName:\"productDetailTableTemplateForForm\",\n\n    reloadData:false,\n    message:null,\n    showModalError:false,\n    editData:null,\n    badgeState:{\n            swapShow:false,swapFunc:()=>{},\n            reloadShow:false,reloadFunc:()=>{},\n            filterShow:false,filterFunc:()=>{},\n            addShow:false,addFunc:()=>{},\n            editShow:false,editFunc:()=>{},\n\n            delShow:false,delFunc:()=>{},\n            printerShow:false,printerFunc:()=>{},\n            csvShow:false,csvFunc:()=>{},\n            closeShow:false,\n\n            forwardShow:false,forwardFunc:()=>{},\n            bullEyeShow:false,\n            unSelectShow:false,\n    },\n    selectProduct:[],\n\n    \n    showBillForm:false,\n    showModalConfirm:false,\n    showModalError:false,\n    showModalCsv:false,\n\n    message:null,\n    iconActionData:null,\n    iconActionDataDetail:null,\n    keyName:null,\n\n    showRenderTransaction:true,\n    showRenderProduct:false,\n    showRenderCustomer:false,\n    //includeTransactionHead:true,\n    //showTransactionConfirm:false,\n    //showProductConfirm:false\n}\n\nconst filterDataTemplate=transaction\n\nexport default filterDataTemplate","const product={\n   data0:null,\n   \n   dataCsv:null,\n   count:0,\n   lastRecordId:null,\n   showRange:true,\n   \n   widthLeft:30,\n   heightTop:30,\n\n   pageNumber:1,\n   limitRow:2,\n   sort:{id:-1},\n   qry:{},\n   \n   tableTemplateUrl:\"p35tabletemplate\",\n   dataUrl:\"p35product\",\n   selectGroup:null,\n   groupDataUrl:\"p35group\",\n   \n\n   tableTemplate:null,\n   detailTableTemplate:null,\n   detailTableTemplateForForm:null,\n\n   tableTemplateName:\"productTableTemplate\",\n   detailTableTemplateName:\"\",//\"productDetailTableTemplate\",\n   detailTableTemplateForFormName:\"productDetailTableTemplateForForm\",//\"productDetailTableTemplateForForm\",\n   \n   reloadData:false,\n   message:null,\n   showModalError:false,\n   editData:null,\n   badgeState:{\n       swapShow:false,swapFunc:()=>{},\n       reloadShow:true,reloadFunc:()=>{},\n       filterShow:false,filterFunc:()=>{},\n       addShow:true,addFunc:()=>{},\n       editShow:true,editFunc:()=>{},\n       delShow:true,delFunc:()=>{},\n       printerShow:true,printerFunc:()=>{},\n       csvShow:true,csvFunc:()=>{},\n       forwardShow:true,forwardFunc:()=>{},\n       bullEyeShow:true\n   },\n\n\n   selectProduct:[],\n   \n   showAdd:false,\n   showModalConfirm:false,\n   showModalError:false,\n   showModalCsv:false,\n\n   message:null,\n   iconActionData:null,\n   iconActionDataDetail:null,\n   keyName:[\"photoUrl1\"]\n}\n\n\n\n\nconst filterDataTemplate2=product\n\nexport default filterDataTemplate2","import uuid from 'react-uuid';\n\n\nconst blankData={\n    id:\"\",date:new Date().toISOString(),\n    remindDate:\"\",\n    //branchId:\"\",\n    //branchName:\"\",\n    transactionType:\"\",transactionStatus:\"open\",active:true,\n    table:\"\",tableStatus:\"open\",\n    paymentType:\"\",\n\n    effectStock:\"0\",effectSpending:\"0\",effectCustomerPoint:\"0\",\n    \n    partnerId:\"\",partnerType:\"\",\n    title:\"\",name:\"\",phone:[\"\"], \n    address:\"\",       \n    \n    remark:\"\",\n    total:0,\n\n    totalReduction:0,\n    reduction:[{\n        reductionName:\"\",\n        reductionActive:true,\n        reductionRate:0,\n        reductionAmount:0\n    }],\n\n    grandTotal:0,\n    totalTax:0,\n    tax:[{\n        taxName:\"\",\n        taxActive:true,\n        taxRate:0,\n        taxAmount:0\n    }],\n\n    detail:[\n        { _id:uuid(),\n          id:\"\",barcode:\"\",productName:\"\",\n          groupId:\"\",groupName:\"\",\n          unit:\"\",price:0,\n          priceLevel:[{price:0,remark:\"\"}],\n          quantity:1,result:0,remark:\"\",isRawMat:false,\n          partnerId:\"\",name:\"\",jobStatus:\"open\"\n        }\n    ],\n    editExistingBill:false\n}\n\n\n\n\nconst bill={\n    showBillForm:false,///======1\n\n    blankData:blankData,\n\n    showTransactionConfirm:false,\n\n    transactionArray:null,\n    colorHead:\"#7da097\",\n    dataIdx:\"cancel\",\n    //dataIdx:\"data1\",\n    //dataIdx:\"data0\",\n    //data0:null,\n    //data0:blankData,\n    data0:null,\n    //data1:{...blankData},\n    //data2:{...blankData},\n    //data3:blankData,\n    //data4:blankData,\n    //data5:blankData,\n    count:0,\n    lastRecordId:null,\n    showRange:true,\n    \n    widthLeft:30,\n    heightTop:60,\n\n    pageNumber:1,\n    limitRow:10,\n    sort:{id:-1},\n    qry:{},\n\n    tableTemplateUrl:\"p35tabletemplate\",\n    dataUrl:\"p35transaction\",\n    selectGroup:null,\n    tableTemplate:null,\n\n    detailTableTemplate:null,\n    detailTableTemplateForForm:null,\n\n    reloadData:false,\n    message:null,\n    showModalError:false,\n    editData:null,\n\n    badgeState:{\n        swapShow:false,swapFunc:()=>{},\n        reloadShow:true,reloadFunc:()=>{},////////////////refreshPage\n        filterShow:false,filterFunc:()=>{},\n        addShow:true,addFunc:()=>{},\n        editShow:true,editFunc:()=>{},\n        delShow:true,delFunc:()=>{},\n        printerShow:true,printerFunc:()=>{}\n    },\n    includeTransactionHead:true,\n    showTransactionConfirm:false,\n    showProductConfirm:false,\n\n    isGenIdOfBillForm:false,\n    showModalConfirm:false,\n\n    /*\n    customerConfirm:null,\n\n    showGroup:false,\n    showProductGrid:false,\n    showTable:true,\n    showTransaction:false,\n    showModalFromTable:false,\n    \n\n    showBillForm2:false,\n    \n    reloadBillForm1:false,\n    reloadBillForm2:false,\n\n    showParter:false,\n    showCustomerConfirm:false,\n    showTransactionConfirm:false,\n    dataToDelete:null,\n    showBillMenu:false,\n\n    reloadSelectProduct:true,\n    selectProduct:[],\n    selectOfSelectProduct:null,\n    showAdd:false,\n    showModalConfirm:false,\n    showModalError:false,\n    message:null,\n    iconActionData:null,\n    iconActionDataDetail:null,\n\n    editTransaction:null,\n    editProduct:null,\n    editPartner:null,\n\n    showImageBill:true,\n\n    isGenIdOfBillForm1:false,\n    isGenIdOfBillForm2:false,\n\n    billMenuFilter:billMenuFilter,\n    billMenuInputState:billMenuInputState,\n    billMenuSort:{date:1},\n    billMenuLimitRow:30,\n    billMenuShowTransaction:false,\n    billMenuOption:\"and\",\n    */\n}\n\nconst filterDataTemplate3=bill\n\nexport default filterDataTemplate3","const partner={\n   data0:null,\n   \n   dataCsv:null,\n   count:0,\n   lastRecordId:null,\n   showRange:true,\n   \n   widthLeft:30,\n   heightTop:30,\n\n   pageNumber:1,\n   limitRow:2,\n   sort:{id:-1},\n   qry:{},\n   \n   tableTemplateUrl:\"p35tabletemplate\",\n   dataUrl:\"p35partner\",\n   selectGroup:null,\n   groupDataUrl:null,\n   \n\n   tableTemplate:null,\n   detailTableTemplate:null,\n   detailTableTemplateForForm:null,\n\n   tableTemplateName:\"partnerTableTemplate\",\n   detailTableTemplateName:\"\",//\"productDetailTableTemplate\",\n   detailTableTemplateForFormName:\"\",//\"productDetailTableTemplateForForm\",//\"productDetailTableTemplateForForm\",\n   \n   reloadData:false,\n   message:null,\n   showModalError:false,\n   editData:null,\n   badgeState:{\n       swapShow:false,swapFunc:()=>{},\n       reloadShow:true,reloadFunc:()=>{},\n       filterShow:false,filterFunc:()=>{},\n       addShow:true,addFunc:()=>{},\n       editShow:true,editFunc:()=>{},\n       delShow:true,delFunc:()=>{},\n       printerShow:true,printerFunc:()=>{},\n       csvShow:true,csvFunc:()=>{},\n       forwardShow:true,forwardFunc:()=>{},\n       bullEyeShow:false\n   },\n\n\n   selectProduct:[],\n   \n   showAdd:false,\n   showModalConfirm:false,\n   showModalError:false,\n   showModalCsv:false,\n\n   message:null,\n   iconActionData:null,\n   iconActionDataDetail:null,\n   keyName:null\n}\n\n\n\n\nconst filterDataTemplate4=partner\n\nexport default filterDataTemplate4","\n\nimport React from 'react';\nimport {Route,Switch,Redirect} from 'react-router-dom';\n\nimport BasicData from './page/basicdata/BasicData'\nimport Branch from './page/branch/Branch'\n\nimport Bill from './page/bill/Bill'\nimport Partner from './page/partner/Partner'\nimport Product from './page/product/Product'\nimport Home from './page/home/Home'\nimport LogIn from './page/login/LogIn'\nimport Transaction from './page/transaction/Transaction'\nimport {MainContext} from './context/MainContext'\n\nimport './App2.css'\n\nfunction App() {\nconsole.log('App')\nconst {basicDataSt}=React.useContext(MainContext)\n\nreturn basicDataSt.basicData&&basicDataSt.pageData&&basicDataSt.tableTemplate\n?<div className=\"bgc-lightGray\">\n      <Route exact path=\"/\" render={()=>(<Redirect to=\"/pos/home\"/>)}/>\n      <Route exact path=\"/pos\" render={()=>(<Redirect to=\"/pos/home\"/>)}/>\n\n      <Route exact path=\"/pos/login\" component={LogIn}/>\n      <Route exact path=\"/pos/home\" component={Home}/> \n      <Route exact path=\"/pos/bill\" component={Bill}/> \n      <Route exact path=\"/pos/basicdata\" component={BasicData}/> \n      <Route exact path=\"/pos/branch\" component={Branch}/> \n\n      <Route exact path=\"/pos/partner\" component={Partner}/> \n      <Route exact path=\"/pos/product\" component={Product}/> \n\n</div>\n:<div className=\"bgc-lightGray\" style={{width:\"100w\",height:\"100vh\"}}>\n      <LogIn/>\n</div>\n\n\n\n}\nexport default App;\n\n\n\n\n\n/*\n\n\n\n\n\n\nimport React from 'react';\nimport {Route,Switch,Redirect} from 'react-router-dom';\n\nimport BasicData from './page/basicdata/BasicData'\nimport Branch from './page/branch/Branch'\n\nimport Bill from './page/bill/Bill'\nimport Partner from './page/partner/Partner'\nimport Product from './page/product/Product'\nimport Home from './page/home/Home'\nimport LogIn from './page/login/LogIn'\nimport Transaction from './page/transaction/Transaction'\nimport {MainContext} from './context/MainContext'\n\nimport './App2.css'\n\nfunction App() {\nconsole.log('App')\nconst {basicDataSt}=React.useContext(MainContext)\n\nreturn basicDataSt.basicData&&basicDataSt.pageData&&basicDataSt.tableTemplate\n?<div className=\"bgc-lightGray\">\n      <Route exact path=\"/\" render={()=>(<Redirect to=\"/pos/home\"/>)}/>\n      <Route exact path=\"/pos\" render={()=>(<Redirect to=\"/pos/home\"/>)}/>\n\n      <Route exact path=\"/pos/login\" component={LogIn}/>\n      <Route exact path=\"/pos/home\" component={Home}/> \n      <Route exact path=\"/pos/bill\" component={Bill}/> \n      <Route exact path=\"/pos/basicdata\" component={BasicData}/> \n      <Route exact path=\"/pos/branch\" component={Branch}/> \n\n      <Route exact path=\"/pos/partner\" component={Partner}/> \n      <Route exact path=\"/pos/product\" component={Product}/> \n\n</div>\n:<div className=\"bgc-lightGray\" style={{width:\"100w\",height:\"100vh\"}}>\n      <LogIn/>\n</div>\n\n\n\n}\nexport default App;\n\n\n\n\n\n//=================================\n//=================================\n//=================================\n\n//=================================\n//=================================\n//=================================\n\nimport React from 'react';\n\nimport './App2.css'\n\nfunction App() {\nconsole.log('App')\n\nconst [inputState,setInState]=React.useState({\n      username:\"\",\n      password:\"\"\n})\n\n\nconst submitFunc=()=>{\n\n}\n\nreturn (\n\n      <div className=\"w-100 h-100\">\n            <div style={{display:\"flex\"}}>\n                  <div>user name</div>\n                  <input type=\"text\"\n                        value={inputState.username}\n                        onChange={e=>{\n                              setInState({...inputState,\n                                    username:e.target.value\n                              })\n                        }}\n                  />\n            </div>\n                        \n\n            <div style={{display:\"flex\"}}>\n                        <div>\n                              password\n                        </div>\n\n                  <input\n                        autoComplete=\"one-time-code\"\n                        type=\"password\"\n                        value={inputState.password}\n                        onChange={e=>{\n                              setInState({...inputState,\n                              password:e.target.value\n                        })\n                        }}\n                  />  \n            </div>\n\n            <button onClick={e=>{\n                  submitFunc()\n                  window.location.reload()\n            }\n            }>\n                  Submit\n            </button>\n      </div>\n)\n\n\n\n}\nexport default App;\n\n\n\n*/","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {BrowserRouter} from 'react-router-dom'\nimport MainContextProvider from './context/MainContext';\n\nimport WebFont from 'webfontloader';\n\nWebFont.load({\n    google: {\n      families: ['Tomorrow','Titillium Web:300,400,700','sans-serif','Tomorrow','kanit','Rubik']\n    }\n});\n\nReactDOM.render(\n  <MainContextProvider>\n      <BrowserRouter>\n        <App/>\n      </BrowserRouter>\n  </MainContextProvider>\n, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\n\n/*\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport {BrowserRouter} from 'react-router-dom'\nimport MainContextProvider from './context/MainContext';\n\nimport WebFont from 'webfontloader';\n\nWebFont.load({\n    google: {\n      families: ['Tomorrow','Titillium Web:300,400,700','sans-serif','Tomorrow','kanit','Rubik']\n    }\n});\n\nReactDOM.render(\n       <MainContextProvider>\n          <BrowserRouter>\n            <App/>\n          </BrowserRouter>\n      </MainContextProvider>\n\n, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\n\n\n\n*/","const FormTemplate=[\n   \n    //===========================\n    {   formName:\"shopInfo\",\n        formHead:\"Shop Infomation\",\n        /* formLanguage:\"English\",\n        id: \"English-shopInfo\",\n        shopId:\"shopa\", */\n        template:[\n        {key:\"logoActive\",lb:\"Logo\"},\n        ]\n    },\n    //=========================\n    {   formName:\"setting\",\n        formHead:\"System Setting\",\n        /* formLanguage:\"English\",\n        id: \"English-setting\",\n        shopId:\"shopa\", */\n        template:[\n            {key:\"changePassword\",lb:\"Change Shop Password\"},\n            {key:\"addNewUser\",lb:\"Add User\"},\n            {key:\"routeAuth\",lb:\"User Level\"},\n            {key:\"language\",lb:\"Language Setting\"},\n            {key:\"printPage\",lb:\"Print Page\"},\n            {key:\"widthLeft\",lb:\"Width Left\"}\n        ]\n    },\n    //=======================\n    {formName:\"basicValue\",\n    formHead:\"Basic Setting\",\n    /* formLanguage:\"English\",\n    id: \"English-basicValue\",\n    shopId:\"shopa\", */\n    template:[\n        {key:\"language\",lb:\"Language\"},\n        {key:\"branch\",lb:\"Branch\"},\n        {key:\"partnerType\",lb:\"Customer Type\"},\n        {key:\"unit\",lb:\"Unit\"},\n        {key:\"title\",lb:\"Title\"},\n        {key:\"transaction\",lb:\"Bill\"},\n        {key:\"transactionStatus\",lb:\"Bill Status\"},\n        {key:\"table\",lb:\"Table\"},\n        {key:\"tableStatus\",lb:\"Table Status\"},\n        {key:\"queueStatus\",lb:\"Queue Status\"},\n        {key:\"jobStatus\",lb:\"Job Status\"},\n        {key:\"tax\",lb:\"Tax\"},\n        {key:\"reduction\",lb:\"Reduction\"},\n        {key:\"userLevel\",lb:\"User Level\"},\n        {key:\"paymentType\",lb:\"Payment Type\"},\n    ]\n    },\n        //=============================\n    {   formName:\"shopChangePassword\",\n        formHead:\"\",\n        /* formLanguage:\"English\",\n        id: \"English-shopChangePassword\",\n        shopId:\"shopa\", */\n        template:[\n            {key:\"shopName\",lb:\"Shop Name\"},\n            {key:\"password\",lb:\"Password\"},\n            {key:\"newPassword1\",lb:\"New Password\"},\n            {key:\"newPassword2\",lb:\"Confirm New Password\"},\n        ]\n    },\n\n    {   \n        formName:\"user\",\n        formHead:\"user\",\n        /* formLanguage:\"English\",\n        id: \"English-addUser\",\n        shopId:\"shopa\", */\n        template:[\n        ]\n    },\n\n    {   \n        formName:\"addUser\",\n        formHead:\"Add User\",\n        /* formLanguage:\"English\",\n        id: \"English-addUser\",\n        shopId:\"shopa\", */\n        template:[\n            {key:\"id\",lb:\"ID\"},\n            {key:\"username\",lb:\"Username\"},\n            {key:\"password\",lb:\"password\"},\n            {key:\"userLevel\",lb:\"User Level\"},\n            {key:\"name\",lb:\"Name\"},\n            {key:\"surname\",lb:\"Surname\"},\n            {key:\"branch\",lb:\"Branch\"},\n            //{key:\"branchId\",lb:\"Branch ID\"},\n            //{key:\"branchName\",lb:\"Branch Name\"},\n        ]\n    },\n \n    {   \n        formName:\"editUser\",\n        formHead:\"Edit User\",\n        /* formLanguage:\"English\",\n        id: \"English-addUser\",\n        shopId:\"shopa\", */\n        template:[\n            {key:\"id\",lb:\"ID\"},\n            {key:\"username\",lb:\"Username\"},\n            {key:\"userLevel\",lb:\"User Level\"},\n            {key:\"name\",lb:\"Name\"},\n            {key:\"surname\",lb:\"Surname\"},\n            {key:\"branch\",lb:\"Branch\"},\n            //{key:\"branchId\",lb:\"Branch ID\"},\n            //{key:\"branchName\",lb:\"Branch Name\"},\n        ]\n    },\n \n    {   \n        formName:\"changeUserPassword\",\n        formHead:\"Change User Password\",\n        /* formLanguage:\"English\",\n        id: \"English-addUser\",\n        shopId:\"shopa\", */\n        template:[\n            {key:\"id\",lb:\"ID\"},\n            {key:\"newPassword1\",lb:\"New Password\"},\n        ]\n    },\n \n    {   \n        formName:\"widthLeftForm\",\n        formHead:\"Set Width\",\n        /* formLanguage:\"English\",\n        id: \"English-addUser\",\n        shopId:\"shopa\", */\n        template:[\n            {key:\"widthLeft\",lb:\"Width\"},\n        ]\n    },\n//=======================\n    {   \n        formName:\"basicDataTableTemplate\",\n        formHead:\"Route Auth Table\",\n        /* formLanguage:\"English\",\n        id: \"English-basicDataTableTemplate\",\n        shopId:\"shopa\", */\n        template:[\n            {key:\"id\",lb:\"ID\"},\n            {key:\"routeAddress\",lb:\"url\"},\n            {key:\"routeName\",lb:\"Route Name\"},\n            {key:\"userLevel\",lb:\"User Level\"}\n        ]\n    },\n    //================================\n    {   \n        formName:\"partnerTableTemplate\",\n        formHead:\"Partner Table\",\n        /* formLanguage:\"English\",\n        id: \"English-partnerTableTemplate\",\n        shopId:\"shopa\", */\n        template:[\n            {key:\"selectedLine\",lb:\"_\"},\n            {key:\"id\",lb:\"ID\"},\n            {key:\"title\",lb:\"title\"},\n            {key:\"name\",lb:\"name\"},\n            {key:\"phone\",lb:\"phone\"},\n            {key:\"partnerType\",lb:\"type\"},\n            {key:\"address\",lb:\"address\"},\n            {key:\"remark\",lb:\"remark\"},\n        ]\n    },\n    //============================\n    {   \n        formName:\"productTableTemplate\",\n        formHead:\"Product Table\",\n        /* formLanguage:\"English\",\n        id: \"English-productTableTemplate\",\n        shopId:\"shopa\", */\n        template:[\n            {key:\"selectedLine\",lb:\"_\"},\n            {key:\"id\",lb:\"ID\"},\n            {key:\"barcode\",lb:\"barcode\"},\n            {key:\"productName\",lb:\"Product Name\"},\n            {key:\"groupId\",lb:\"Group Id\"},\n            {key:\"groupName\",lb:\"Group Name\"},\n            {key:\"unit\",lb:\"Unit\"},\n            {key:\"price\",lb:\"Price\"},\n            {key:\"isRawMat\",lb:\"isRawMat\"},\n            {key:\"stock\",lb:\"Stock\"},\n            //{key:\"order\",lb:\"Order\"},\n            //{key:\"plan\",lb:\"Plan\"},\n            {key:\"remark\",lb:\"Remark\"},\n        ]\n    },\n    //============================\n    {   \n        formName:\"transactionTableTemplate\",\n        formHead:\"Bill Table\",\n        /* formLanguage:\"English\",\n        id: \"English-transactionTableTemplate\",\n        shopId:\"shopa\", */\n        template:[\n            {key:\"selectedLine\",lb:\"_\"},\n            {key:\"id\",lb:\"ID\"},\n            {key:\"date\",lb:\"Date\"},\n            {key:\"remindDate\",lb:\"Remind Date\"},\n            //{key:\"branchId\",lb:\"Branch ID\"},\n            //{key:\"branchName\",lb:\"Branch Name\"},\n            {key:\"transactionType\",lb:\"Bill Type\"},\n            {key:\"transactionStatus\",lb:\"Bill Status\"},\n            {key:\"active\",lb:\"Active\"},\n            {key:\"table\",lb:\"Table\"},\n            {key:\"tableStatus\",lb:\"Table Status\"},\n            {key:\"effectStock\",lb:\"Effect Stock\"},\n            {key:\"effectCustomerPoint\",lb:\"Effect Customer Point\"},\n            {key:\"effectSpending\",lb:\"Effect Spending\"},\n            {key:\"partnerId\",lb:\"Customer ID\"},\n            {key:\"partnerType\",lb:\"Customer Type\"},\n            {key:\"title\",lb:\"Title\"},\n            {key:\"name\",lb:\"Name\"},\n            {key:\"phone\",lb:\"Phone\"},\n            {key:\"address\",lb:\"Address\"},\n            {key:\"paymentType\",lb:\"Payment Type\"},\n            {key:\"total\",lb:\"Total\"},\n            {key:\"reduction\",lb:\"Reduction\"},\n            {key:\"tax\",lb:\"Tax\"},\n            {key:\"grandTotal\",lb:\"Grand Total\"},\n            {key:\"remark\",lb:\"Remark\"},\n        ]\n    },\n    //=========================\n    {   \n        formName:\"ProductDetailTableTemplate\",\n        formHead:\"Product Detail Table\",\n        /* formLanguage:\"English\",\n        id: \"English-ProductDetailTableTemplate\",\n        shopId:\"shopa\", */\n        template:[\n            {key:\"selectedLine\",lb:\"_\"},\n            {key:\"id\",lb:\"ID\"},\n            {key:\"barcode\",lb:\"Barcode\"},\n            {key:\"productName\",lb:\"Product Name\"},\n            {key:\"groupId\",lb:\"Group ID\"},\n            {key:\"groupName\",lb:\"Group Name\"},\n            {key:\"quantity\",lb:\"Quantity\"},\n            {key:\"unit\",lb:\"Unit\"},\n            {key:\"price\",lb:\"Price\"},\n            {key:\"result\",lb:\"Result\"},\n            {key:\"isRawMat\",lb:\"isRawMat\"},\n            {key:\"remark\",lb:\"Remark\"},\n        ]\n    },\n    \n//===============================\n    {   \n        formName:\"ProductDetailTableTemplateForForm\",\n        formHead:\"Product Detail Table2\",\n        /* formLanguage:\"English\",\n        id: \"English-ProductDetailTableTemplateForForm\",\n        shopId:\"shopa\", */\n        template:[\n            {key:\"selectedLine\",lb:\"_\"},\n            {key:\"id\",lb:\"ID\"},\n            {key:\"barcode\",lb:\"Barcode\"},\n            {key:\"productName\",lb:\"Product Name\"},\n            {key:\"groupId\",lb:\"Group ID\"},\n            {key:\"groupName\",lb:\"Group Name\"},\n            {key:\"quantity\",lb:\"Quantity\"},\n            {key:\"unit\",lb:\"Unit\"},\n            {key:\"price\",lb:\"Price\"},\n            {key:\"result\",lb:\"Result\"},\n            {key:\"isRawMat\",lb:\"isRawMat\"},\n            {key:\"remark\",lb:\"Remark\"},\n\n            {key:\"partnerId\",lb:\"Partner ID\"},\n            {key:\"name\",lb:\"Name\"},\n            {key:\"jobStatus\",lb:\"Job Status\"},\n        ]\n    },\n    {\n        formName:\"partnerFilter\",\n        formHead:\"\",\n        /* formLanguage:\"English\",\n        id: \"English-partnerFilter\",\n        shopId:\"shopa\", */\n        template:[\n            {key:\"id\",lb:\"ID\"},\n            {key:\"title\",lb:\"Title\"},\n            {key:\"name\",lb:\"Name\"},\n            {key:\"phone\",lb:\"Phone\"},\n            {key:\"remainingCustomerPoint\",lb:\"Remaining Customer Point\"},\n            {key:\"totalSpending\",lb:\"Total Spending\"},\n            {key:\"remark\",lb:\"Remark\"},\n        ]\n    },\n  //========================================\n    {\n        formName:\"productFilter\",\n        formHead:\"\",\n        /* formLanguage:\"English\",\n        id: \"English-productFilter\",\n        shopId:\"shopa\", */\n        template:[\n            {key:\"id\",lb:\"ID\"},\n            {key:\"barcode\",lb:\"Barcode\"},\n            {key:\"productName\",lb:\"Product Name\"},\n            {key:\"groupId\",lb:\"Group ID\"},\n            {key:\"groupName\",lb:\"Group Name\"},\n            {key:\"unit\",lb:\"Unit\"},\n            {key:\"price\",lb:\"Price\"},\n            {key:\"stock\",lb:\"Stock\"},\n            {key:\"isRawMat\",lb:\"IsRawMat\"},\n            {key:\"remark\",lb:\"Remark\"},\n        ]\n    },\n\n    {\n        formName:\"rawMatFilter\",\n        formHead:\"\",\n        /* formLanguage:\"English\",\n        id: \"English-productFilter\",\n        shopId:\"shopa\", */\n        template:[\n            {key:\"id\",lb:\"ID\"},\n            {key:\"barcode\",lb:\"Barcode\"},\n            {key:\"rawMatName\",lb:\"Raw Mat Name\"},\n            {key:\"rawMatGroupId\",lb:\"Raw Mat Group ID\"},\n            {key:\"rawMatGroupName\",lb:\"Raw Mat Group Name\"},\n            {key:\"unit\",lb:\"Unit\"},\n            {key:\"price\",lb:\"Price\"},\n            {key:\"remark\",lb:\"Remark\"},\n        ]\n    },\n\n\n\n    {\n        formName:\"transactionFilter\",\n        formHead:\"\",\n        /* formLanguage:\"English\",\n        id: \"English-transactionFilter\",\n        shopId:\"shopa\", */\n        template:[\n            {key:\"id\",lb:\"ID\"},\n            {key:\"date\",lb:\"Date\"},\n            //{key:\"branchId\",lb:\"Branch ID\"},\n            {key:\"transactionType\",lb:\"Transaction Type\"},\n            {key:\"transactionStatus\",lb:\"Transaction Status\"},\n            {key:\"partnerId\",lb:\"Partner ID\"},\n            {key:\"name\",lb:\"Name\"},\n            {key:\"phone\",lb:\"Phone\"},\n        ]\n    },\n   \n    {\n        formName:\"partnerFilterForm\",\n        formHead:\"Search Customer\",\n        /* formLanguage:\"English\",\n        id: \"English-partnerFilterForm\",\n        shopId:\"shopa\", */\n        template:[\n            {key:\"formHead\",lb:\"Search Customer\"},\n            {key:\"subject\",lb:\"Subject\"},\n            {key:\"allTrue\",lb:\"All True\"},\n            {key:\"someTrue\",lb:\"Some True\"},\n            {key:\"sortBySubject\",lb:\"Sort By Subject\"},\n            {key:\"recordLimit\",lb:\"Record Limit\"},\n            {key:\"recordPerPage\",lb:\"Record Per Page\"},\n        ]\n    },\n\n    {\n        formName:\"productFilterForm\",\n        formHead:\"Search Product\",\n        /* formLanguage:\"English\",\n        id: \"English-productFilterForm\",\n        shopId:\"shopa\", */\n        template:[\n            {key:\"groupHead\",lb:\"Product Group\"},\n            {key:\"formHead\",lb:\"Search Product\"},\n            {key:\"subject\",lb:\"Subject\"},\n            {key:\"allTrue\",lb:\"All True\"},\n            {key:\"someTrue\",lb:\"Some True\"},\n            {key:\"sortBySubject\",lb:\"Sort By Subject\"},\n            {key:\"recordLimit\",lb:\"Record Limit\"},\n            {key:\"recordPerPage\",lb:\"Record Per Page\"},\n        ]\n    },\n   \n    {\n        formName:\"transactionFilterForm\",\n        formHead:\"Search Bill\",\n        /* formLanguage:\"English\",\n        id: \"English-transactionFilterForm\",\n        shopId:\"shopa\", */\n        template:[\n            {key:\"formHead\",lb:\"Search Bill\"},\n            {key:\"subject\",lb:\"Subject\"},\n            {key:\"allTrue\",lb:\"All True\"},\n            {key:\"someTrue\",lb:\"Some True\"},\n            {key:\"sortBySubject\",lb:\"Sort By Subject\"},\n            {key:\"recordLimit\",lb:\"Record Limit\"},\n            {key:\"recordPerPage\",lb:\"Record Per Page\"},\n        ]\n    },\n\n    {\n        formName:\"billMenuFilterForm\",\n        formHead:\"Search Bill\",\n        /* formLanguage:\"English\",\n        id: \"English-transactionFilterForm\",\n        shopId:\"shopa\", */\n        template:[\n            {key:\"formHead\",lb:\"Search Bill\"},\n            {key:\"subject\",lb:\"Subject\"},\n            {key:\"allTrue\",lb:\"All True\"},\n            {key:\"someTrue\",lb:\"Some True\"},\n            {key:\"sortBySubject\",lb:\"Sort By Subject\"},\n            {key:\"recordLimit\",lb:\"Record Limit\"},\n            {key:\"recordPerPage\",lb:\"Record Per Page\"},\n        ]\n    },\n\n\n    {\n        formName:\"ModalForm\",\n        formHead:\"\",\n        /* formLanguage:\"English\",\n        id: \"English-partnerFilterForm\",\n        shopId:\"shopa\", */\n        template:[\n            {key:\"insertUp\",lb:\"Insert Up\"},\n            {key:\"insertDown\",lb:\"Insert Down\"},\n            {key:\"selectAll\",lb:\"Select All\"},\n            {key:\"unSelectAll\",lb:\"Unselect All\"},\n            {key:\"moveUp\",lb:\"Move Up\"},\n            {key:\"moveDown\",lb:\"Move Down\"},\n            {key:\"delete\",lb:\"Delete\"},\n            {key:\"import\",lb:\"Import\"},\n            {key:\"selectImage\",lb:\"Select Image\"},\n            {key:\"productAddForm\",lb:\"Product Add Form\"},\n            {key:\"productEditForm\",lb:\"Product Edit Form\"},\n            {key:\"groupAddForm\",lb:\"Product Group Add Form\"},\n            {key:\"groupEditForm\",lb:\"Product Group Edit Form\"},\n            {key:\"partnerAddForm\",lb:\"Partner Add Form\"},\n            {key:\"partnerEditForm\",lb:\"Partner Edit Form\"},\n\n        ]\n    },\n  \n    {\n        formName:\"customerConfirmForm\",\n        formHead:\"Please Confirm Customer\",\n        template:[\n            {key:\"partnerId\",lb:\"Partner ID\"},\n            {key:\"title\",lb:\"Title\"},\n            {key:\"name\",lb:\"Name\"},\n            {key:\"partnerType\",lb:\"Customer Type\"},\n            {key:\"phone\",lb:\"Phone\"},\n            {key:\"address\",lb:\"Address\"}\n        ]\n    },\n    {\n        formName:\"transactionConfirmForm\",\n        formHead:\"Please Confirm Transaction\",\n        template:[\n            {key:\"id\",lb:\"ID\"},\n            {key:\"branch\",lb:\"Branch\"},\n            {key:\"date\",lb:\"Date\"},  \n            {key:\"table\",lb:\"Table\"},\n            {key:\"partnerId\",lb:\"Customer ID\"},\n            {key:\"phone\",lb:\"Phone\"},\n            {key:\"address\",lb:\"Address....\"},\n            {key:\"includeTransactionHead\",lb:\"Include Transaction Head\"}\n        ]\n    },\n    {\n        formName:\"billForm\",\n        formHead:\"\",\n        template:[\n            {key:\"id\",lb:\"ID\"},\n            {key:\"date\",lb:\"Date\"},  \n            {key:\"time\",lb:\"\"},\n            {key:\"table\",lb:\"Table\"},\n            {key:\"queue\",lb:\"Queue\"},\n            {key:\"partnerId\",lb:\"Customer ID\"},\n            {key:\"phone\",lb:\"Phone\"},\n            {key:\"address\",lb:\"Address\"},\n            {key:\"total\",lb:\"Total\"},\n            {key:\"totalTax\",lb:\"Total Tax\"},\n            {key:\"totalReduction\",lb:\"Total Reduction\"},\n            {key:\"grandTotal\",lb:\"Grand Total\"}\n        ]\n    },\n    {\n        formName:\"editBillForm\",\n        formHead:\"Bill Info\",\n        template:[\n            {key:\"id\",lb:\"ID\"},\n            \n            {key:\"date\",lb:\"Date\"},  \n            //{key:\"branchId\",lb:\"Branch ID\"},\n            //{key:\"branchName\",lb:\"Branch Name\"}, \n            {key:\"transactionType\",lb:\"Transaction Type\"},\n            {key:\"transactionStatus\",lb:\"Transaction Status\"},\n            {key:\"active\",lb:\"Active\"},\n\n            {key:\"table\",lb:\"Table\"},\n            {key:\"tableStatus\",lb:\"Table Status\"},\n            {key:\"queue\",lb:\"Queue\"},\n            {key:\"queueStatus\",lb:\"Queue Status\"},\n\n            {key:\"partnerId\",lb:\"Customer ID\"},\n            {key:\"title\",lb:\"Title\"},\n            {key:\"name\",lb:\"Name\"},\n            {key:\"phone\",lb:\"Phone\"},\n            {key:\"address\",lb:\"Address\"},\n            {key:\"partnerType\",lb:\"Partner Type\"},\n\n            {key:\"remark\",lb:\"Remark\"},\n\n            {key:\"totalPoint\",lb:\"Total Point\"},\n            {key:\"remainingCustomerPoint\",lb:\"Remaining Customer Point\"},\n\n            {key:\"reductCustomerPoint\",lb:\"Reduct Customer Point\"},\n            \n            {key:\"paymentType\",lb:\"Payment Type\"},\n            {key:\"total\",lb:\"Total\"},\n\n            {key:\"tax\",lb:\"\"},\n            {key:\"totalTax\",lb:\"Total Tax\"},\n            {key:\"reduction\",lb:\"\"},\n            {key:\"totalReduction\",lb:\"Total Reduction\"},\n            \n            {key:\"grandTotal\",lb:\"Grand Total\"}\n            \n        ]\n    },\n    {\n        formName:\"reductionForm\",\n        formHead:\"Reduction Table\",\n        template:[\n            {key:\"selection\",lb:\"#\"},\n            {key:\"reductionName\",lb:\"Reduction Name\"},\n            {key:\"reductionRate\",lb:\"Reduction Rate\"},\n            {key:\"reductionInPercentage\",lb:\"in %\"},\n            {key:\"reductionAmount\",lb:\"Total\"},\n        ]\n    },\n    {\n        formName:\"customerPointForm\",\n        formHead:\"Customer Point\",\n        template:[\n            {key:\"remainingCustomerPoint\",lb:\"Remaining Customer Point\"},\n            {key:\"reductCustomerPoint\",lb:\"Reduct Customer Point\"},\n            {key:\"remainingPoint\",lb:\"Remaining Point\"}\n        ]\n    },\n    {\n        formName:\"taxForm\",\n        formHead:\"Tax Table\",\n        template:[\n           {key:\"selection\",lb:\"#\"},\n           {key:\"taxName\",lb:\"Tax Name\"},\n           {key:\"taxRate\",lb:\"Tax Rate\"},\n           {key:\"taxInPercentage\",lb:\"in %\"},\n           {key:\"taxAmount\",lb:\"Tax Amount\"}\n        ]\n    },\n    {\n        formName:\"transactionForm\",\n        formHead:\"Transaction Table\",\n        template:[\n            {key:\"id\",lb:\"ID\"},\n        ]\n    },\n    {\n        formName:\"printForm\",\n        formHead:\"Print Form\",\n        template:[\n            {key:'widthUnit',lb:'Width Unit'},\n            {key:'fontUnit',lb:'Font Unit'},\n            {key:'totalWidth',lb:'Total Width'},\n            {key:'showTableHead',lb:'Show Table Head'},\n            {key:'header1',lb:'Header 1'},\n            {key:'header2',lb:'Header 2'},\n            {key:'table1',lb:'Table'},\n            {key:'footer1',lb:'Footer 1'},\n            {key:'footer2',lb:'Footer 2'},\n            {key:'printLb',lb:'Label'},\n            {key:'printValue',lb:'Constant'},\n            {key:'printFieldName',lb:'Variable'},\n            {key:'printFontSize',lb:'Font Size'},\n            {key:'printWidth',lb:'Width'},\n            {key:'printPosition',lb:'Position'},\n\n        \n        ]\n    },\n    {\n        formName:\"branchSettingPage\",\n        formHead:\"Branch Setting\",\n        template:[\n            {key:'languageSetting',lb:'Language Setting'},\n            {key:'printPageSetting',lb:'Print Page Setting'},\n            {key:'widthLeft',lb:'Width Left'},\n            {key:'branch',lb:'Branch'},\n            //{key:'branchId',lb:'Branch ID'},\n            //{key:'branchName',lb:'Branch Name'},\n     \n            {key:'table',lb:'Table'},\n            {key:'tableName',lb:'Table Name'},\n            {key:'tableActive',lb:'Table Active'}\n\n        ]\n    },\n    {\n        formName:\"tableSettingModal\",\n        formHead:\"Table Setting\",\n        template:[\n            {key:'subject',lb:'Subject'},\n            {key:'show',lb:'Show'}\n        ]\n    },\n    {\n        formName:\"shopLogInForm\",\n        formHead:\"Shop Log In Form\",\n        template:[\n            {key:'shopName',lb:'Shop Name'},\n            {key:'password',lb:'Password'}\n        ]\n    },\n    {\n        formName:\"userLogInForm\",\n        formHead:\"User Log In Form\",\n        template:[\n            {key:'username',lb:'User Name'},\n            {key:'password',lb:'Password'},\n            {key:'createNewUser',lb:'Create New User'}\n        ]\n    },\n\n    {\n        formName:\"groupPage\",\n        formHead:\"Group Page\",\n        template:[\n        ]\n    },\n\n    {\n        formName:\"addGroupForm\",\n        formHead:\"Add Group Form\",\n        template:[\n            {key:\"treeTitle\",lb:\"\"},\n            {key:\"id\",lb:\"\"},\n            {key:\"gcode\",lb:\"\"},\n            {key:\"groupName\",lb:\"\"},\n            {key:\"level\",lb:\"\"}\n        ]\n    }\n    ,\n    {\n        formName:\"editGroupForm\",\n        formHead:\"Edit Group Form\",\n        template:[\n            {key:\"treeTitle\",lb:\"\"},\n            {key:\"id\",lb:\"\"},\n            {key:\"gcode\",lb:\"\"},\n            {key:\"groupName\",lb:\"\"},\n            {key:\"level\",lb:\"\"}\n        ]\n    },\n\n    {\n        formName:\"jobStatusForm\",\n        formHead:\"Job Status Form\",\n        template:[\n            {key:\"jobStatus\",lb:\"\"}\n        ]\n    },\n    {\n        formName:\"billBarcodeForm\",\n        formHead:\"\",\n        template:[\n            {key:\"productId\",lb:\"\"},\n            {key:\"barcode\",lb:\"\"},\n\n\n            {key:\"partnerId\",lb:\"\"},\n            {key:\"phone\",lb:\"\"},\n            {key:\"table\",lb:\"Table\"},\n\n            {key:\"queue\",lb:\"\"},\n            {key:\"paymentType\",lb:\"\"},\n            {key:\"cash\",lb:\"Table\"},\n\n            {key:\"grandTotal\",lb:\"Table\"},\n\n            {key:\"change\",lb:\"Table\"},\n\n        ]\n\n\n    },\n    /*\n    key:'formHead-shopLogInForm',lb:'Shop Log In',\n    key:'formHead-userLogInForm',lb:'User Log In',\n    key:'createNewUser',lb:'Create New User'\n    */\n /*\n    key:'formHead-shopLogInForm',lb:'',\n    key:'formHead-userLogInForm',lb:'',\n    key:'createNewUser',lb:''\n    */\n\n\n]\n\n\nmodule.exports = FormTemplate","module.exports = __webpack_public_path__ + \"static/media/RenderModalError.b0ec9a73.bak\";"],"sourceRoot":""}