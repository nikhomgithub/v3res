(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{101:function(e,t,a){e.exports=a(197)},106:function(e,t,a){},124:function(e,t,a){},127:function(e,t,a){},132:function(e,t,a){},133:function(e,t,a){},195:function(e,t,a){},196:function(e,t,a){},197:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),c=a(47),o=a.n(c),r=(a(106),a(35)),i=a(5),s=a(15),m=a(4),u=a(12),d=a(3),p=a(2),b=a(9),f=a.n(b),h={tableResize:function(e){var t=e.tableTemplate;if(t){var a=0,n="";return Object.keys(t).map((function(e){t[e].showCol&&(a+=parseInt(t[e].width),n="".concat(n," ").concat(t[e].width,"px"))})),{width:a,gridCol:n}}return console.log("tableTemplate null"),null},sortColumn:function(e,t,a,n){if("number"==a||"date"==a||"string"==a||"time"==a||"price"==a){var l=[],c=[];e.map((function(e){"number"==a&&(l=[].concat(Object(d.a)(l),[parseInt(e[t])])),"string"!=a&&"date"!=a||(l=[].concat(Object(d.a)(l),[e[t]]));var n=Object(p.a)({},e,Object(m.a)({},"<checked/>",!1));c=[].concat(Object(d.a)(c),[n])})),"number"==a&&("a-b"==n&&l.sort((function(e,t){return e-t})),"b-a"==n&&l.sort((function(e,t){return t-e}))),"string"!=a&&"date"!=a||("a-b"==n&&l.sort(),"b-a"==n&&(l.sort(),l.reverse()));var o=[];return l.map((function(a){for(var n=0;n<c.length;n++)if(!c[n]["<checked/>"]&&a==c[n][t]){o=[].concat(Object(d.a)(o),[e[n]]),c[n]["<checked/>"]=!0;break}})),o}},numberWithCommas:function(e,t,a){var n=2;try{if(e>0&&!isNaN(e)){1==t?n=0:10==t?n=1:100==t?n=2:1e3==t?n=3:1e4==t&&(n=4);var l=e.toFixed(n).toString().split("."),c=l[0].toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return l.length>1?"".concat(c,".").concat(l[1]):c}return"0.00"}catch(o){console.log(typeof e),console.log(e),console.log(o)}}},g=function(e){if(!e)return null;var t=Object.keys(e),a=[];return t.map((function(t){var n=e[t],l=n.lb,c=n.type,o=n.width,r=n.showCol,i=n.colOrder,s={colName:t,lb:l,type:c,width:o,showCol:r,showColHead:n.showColHead,showSum:n.showSum,colOrder:i};a=[].concat(Object(d.a)(a),[s])})),a},y=function(e){if(!e)return console.log("null"),null;if(Array.isArray(e)&&0==e.length)return console.log("Array length = 0"),null;var t={};return e.map((function(e){var a=e.colName,n=(e._id,Object(u.a)(e,["colName","_id"])),l=Object(m.a)({},a,n);t=Object(p.a)({},t,{},l)})),t},v=function(e){var t={};return e.map((function(e){var a=Object(m.a)({},"formHead",e.formHead);e.template.map((function(e){a[e.key]=e.lb})),t[e.formName]=a})),t},w={createTableTemplate:function(e){var t=e.tableTemplate,a=e.userId,n=e.shopId;if(console.log(a),console.log(n),!t||!a||!n)return null;var l=[];return Object.keys(t).map((function(e){var c={tableName:e,id:a,shopId:n,template:g(t[e])};l=[].concat(Object(d.a)(l),[c])})),l},createTableTemplateForPage:function(e){if(!e)return console.log("null"),null;if(Array.isArray(e)&&0==e.length)return console.log("Array length = 0"),null;var t={};return e.map((function(e){var a=e.tableName,n=(e.id,e.shopId,e.template),l=Object(m.a)({},a,y(n));t=Object(p.a)({},t,{},l)})),t},converTableTemplateArrayToObj:y,convertTableTemplateObjToArray:g,convertFormTemplateArrayToObj:v,changeLanguageTableTemplate:function(e,t){var a=Object(p.a)({},t),n=Object(p.a)({},e);return Object.keys(a).map((function(e){a[e]&&n[e]&&Object.keys(a[e]).map((function(t){a[e][t]&&n[e][t]&&(a[e][t].lb=n[e][t])}))})),a},genLanguageObjFromFormTemplate:function(e){var t=[];e.map((function(e){e.formLanguage&&(t=[].concat(Object(d.a)(t),[e.formLanguage]))}));var a=Object(d.a)(new Set(t)),n={};return a.map((function(t){var a=[];e.map((function(e){e.formLanguage==t&&(a=[].concat(Object(d.a)(a),[e]))})),n[t]=v(a)})),n}},E=function(){return[1,2,3].map((function(e){return l.a.createRef()}))},N=["xc1 h-100","xc3 h-100","xc8 h-100"],j=N,O={partnerFilter:[{templateType:"boolean",lb:"active",cName:"xc12 h-100",subCName:j,keyName:"active",refInput:E(),inputType:"checkbox",filterCommand:["active"]},{templateType:"number",lb:"id",cName:"xc12 h-100",subCName:N,keyName:"id",refInput:E(),inputType:"number",filterCommand:["id"]},{templateType:"selectObj",lb:"\u0e04\u0e33\u0e19\u0e33\u0e2b\u0e19\u0e49\u0e32",cName:"xc12 h-100",subCName:j,keyName:"title",refInput:E(),inputType:"text",filterCommand:["title"],selectObj:"title"},{templateType:"string",lb:"\u0e0a\u0e37\u0e48\u0e2d",cName:"xc12 h-100",subCName:j,keyName:"name",refInput:E(),inputType:"text",filterCommand:["name"]},{templateType:"arrayString",lb:"\u0e42\u0e17\u0e23\u0e28\u0e31\u0e1e\u0e17\u0e4c",cName:"xc12 h-100",subCName:j,keyName:"phone",refInput:E(),inputType:"text",filterCommand:["phone"]},{templateType:"string",lb:"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15\u0e38",cName:"xc12 h-100",subCName:j,keyName:"remark",refInput:E(),inputType:"text",filterCommand:["remark"]},{templateType:"number",lb:"\u0e41\u0e15\u0e49\u0e21",cName:"xc12 h-100",subCName:N,keyName:"remainingCustomerPoint",refInput:E(),inputType:"number",filterCommand:["remainingCustomerPoint"]},{templateType:"number",lb:"\u0e22\u0e2d\u0e14\u0e43\u0e0a\u0e49\u0e08\u0e48\u0e32\u0e22",cName:"xc12 h-100",subCName:N,keyName:"totalSpending",refInput:E(),inputType:"number",filterCommand:["totalSpending"]}],productFilter:[{templateType:"boolean",lb:"active",cName:"xc12 h-100",subCName:j,keyName:"active",refInput:E(),inputType:"checkbox",filterCommand:["active"]},{templateType:"number",lb:"\u0e44\u0e2d\u0e14\u0e35",cName:"xc12 h-100",subCName:N,keyName:"id",refInput:E(),inputType:"number",filterCommand:["id"]},{templateType:"string",lb:"\u0e1a\u0e32\u0e23\u0e4c\u0e42\u0e04\u0e49\u0e14",cName:"xc12 h-100",subCName:j,keyName:"barcode",refInput:E(),inputType:"text",filterCommand:["barcode"]},{templateType:"string",lb:"\u0e0a\u0e37\u0e48\u0e2d",cName:"xc12 h-100",subCName:j,keyName:"productName",refInput:E(),inputType:"text",filterCommand:["productName"]},{templateType:"boolean",lb:"\u0e40\u0e1b\u0e47\u0e19\u0e27\u0e31\u0e15\u0e16\u0e38\u0e14\u0e34\u0e1a",cName:"xc12 h-100",subCName:j,keyName:"isRawMat",refInput:E(),inputType:"checkbox",filterCommand:["isRawMat"]},{templateType:"number",lb:"\u0e23\u0e32\u0e04\u0e32",cName:"xc12 h-100",subCName:j,keyName:"price",refInput:E(),inputType:"number",filterCommand:["price"]},{templateType:"number",lb:"\u0e22\u0e2d\u0e14\u0e2a\u0e15\u0e47\u0e2d\u0e04",cName:"xc12 h-100",subCName:N,keyName:"stock",refInput:E(),inputType:"number",filterCommand:["stock"]},{templateType:"string",lb:"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15\u0e38",cName:"xc12 h-100",subCName:j,keyName:"remark",refInput:E(),inputType:"text",filterCommand:["remark"]}],transactionFilter:[{templateType:"boolean",lb:"active",cName:"xc12 h-100",subCName:j,keyName:"active",refInput:E(),inputType:"checkbox",filterCommand:["active"]},{templateType:"number",lb:"id",cName:"xc12 h-100",subCName:N,keyName:"id",refInput:E(),inputType:"number",filterCommand:["id"]},{templateType:"number",lb:"\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48",cName:"xc12 h-100",subCName:N,keyName:"date",refInput:E(),inputType:"date",filterCommand:["date"]},{templateType:"selectArrayObj",lb:"\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17\u0e40\u0e2d\u0e01\u0e2a\u0e32\u0e23",cName:"xc12 h-100",subCName:j,keyName:"transactionType",refInput:E(),inputType:"text",filterCommand:["transactionType"],selectArrayObj:["transaction","transactionType"]},{templateType:"selectObj",lb:"\u0e2a\u0e16\u0e32\u0e19\u0e30\u0e40\u0e2d\u0e01\u0e2a\u0e32\u0e23",cName:"xc12 h-100",subCName:j,keyName:"transactionStatus",refInput:E(),inputType:"text",filterCommand:["transactionStatus"],selectObj:"transactionStatus"},{templateType:"number",lb:"\u0e44\u0e2d\u0e14\u0e35\u0e04\u0e39\u0e48\u0e04\u0e49\u0e32",cName:"xc12 h-100",subCName:N,keyName:"partnerId",refInput:E(),inputType:"number",filterCommand:["partnerId"]},{templateType:"string",lb:"\u0e0a\u0e37\u0e48\u0e2d",cName:"xc12 h-100",subCName:j,keyName:"name",refInput:E(),inputType:"text",filterCommand:["name"]},{templateType:"arrayString",lb:"\u0e42\u0e17\u0e23\u0e28\u0e31\u0e1e\u0e17\u0e4c",cName:"xc12 h-100",subCName:j,keyName:"phone",refInput:E(),inputType:"text",filterCommand:["phone"]},{templateType:"selectObj",lb:"\u0e2a\u0e16\u0e32\u0e19\u0e30\u0e42\u0e15\u0e4a\u0e30",cName:"xc12 h-100",subCName:j,keyName:"tableStatus",refInput:E(),inputType:"text",filterCommand:["tableStatus"],selectObj:"tableStatus"},{templateType:"selectObj",lb:"\u0e2a\u0e16\u0e32\u0e19\u0e30\u0e04\u0e34\u0e27",cName:"xc12 h-100",subCName:j,keyName:"queueStatus",refInput:E(),inputType:"text",filterCommand:["queueStatus"],selectObj:"queueStatus"}],stickerFilter:[{templateType:"number",lb:"id",cName:"xc12 h-100",subCName:N,keyName:"id",refInput:E(),inputType:"number",filterCommand:["id"]},{templateType:"date",lb:"\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48",cName:"xc12 h-100",subCName:N,keyName:"date",refInput:E(),inputType:"date",filterCommand:["date"]},{templateType:"string",lb:"\u0e0a\u0e37\u0e48\u0e2d\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23",cName:"xc12 h-100",subCName:j,keyName:"recordName",refInput:E(),inputType:"text",filterCommand:["recordName"]},{templateType:"string",lb:"\u0e1c\u0e39\u0e49\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01",cName:"xc12 h-100",subCName:j,keyName:"recordBy",refInput:E(),inputType:"text",filterCommand:["recordBy"]},{templateType:"arrayObjectString",lb:"\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32|\u0e1a\u0e32\u0e23\u0e4c\u0e42\u0e04\u0e49\u0e14",cName:"xc12 h-100",subCName:j,keyName:"productData_code",refInput:E(),inputType:"text",filterCommand:["productData","code"]},{templateType:"arrayObjectString",lb:"\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32|\u0e0a\u0e37\u0e48\u0e2d\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32",cName:"xc12 h-100",subCName:j,keyName:"productData_name",refInput:E(),inputType:"text",filterCommand:["productData","name"]}],billMenuFilter:[{templateType:"boolean",lb:"active",cName:"xc12 h-100",subCName:j,keyName:"active",refInput:E(),inputType:"checkbox",filterCommand:["active"]},{templateType:"number",lb:"\u0e44\u0e2d\u0e14\u0e35",cName:"xc12 h-100",subCName:N,keyName:"id",refInput:E(),inputType:"number",filterCommand:["id"]},{templateType:"number",lb:"\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48",cName:"xc12 h-100",subCName:N,keyName:"date",refInput:E(),inputType:"date",filterCommand:["date"]},{templateType:"selectArrayObj",lb:"\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17\u0e40\u0e2d\u0e01\u0e2a\u0e32\u0e23",cName:"xc12 h-100",subCName:j,keyName:"transactionType",refInput:E(),inputType:"text",filterCommand:["transactionType"],selectArrayObj:["transaction","transactionType"]},{templateType:"selectObj",lb:"\u0e2a\u0e16\u0e32\u0e19\u0e30\u0e42\u0e15\u0e4a\u0e30",cName:"xc12 h-100",subCName:j,keyName:"tableStatus",refInput:E(),inputType:"text",filterCommand:["tableStatus"],selectObj:"tableStatus"}]},k=a(93),x=a.n(k);var T={id:{lb:"\u0e44\u0e2d\u0e14\u0e35",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"genId",placeholder:"",autoFocus:"autoFocus"},partnerType:{lb:"\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17\u0e04\u0e39\u0e48\u0e04\u0e49\u0e32",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"select",placeholder:"",selectDataKey:"basicData",selectObj:"partnerType"},title:{lb:"\u0e04\u0e33\u0e19\u0e33\u0e2b\u0e19\u0e49\u0e32",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"select",placeholder:"",selectDataKey:"basicData",selectObj:"title"},name:{lb:"\u0e0a\u0e37\u0e48\u0e2d",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"text",placeholder:""},remainingCustomerPoint:{lb:"\u0e41\u0e15\u0e49\u0e21\u0e2a\u0e30\u0e2a\u0e21",templateType:"string",cName:"pl-4 xc6 lc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"number",placeholder:""},totalSpending:{lb:"\u0e22\u0e2d\u0e14\u0e43\u0e0a\u0e49\u0e08\u0e48\u0e32\u0e22",templateType:"string",cName:"pl-4 xc6 lc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"number",placeholder:""},active:{lb:"\u0e41\u0e2d\u0e04\u0e17\u0e35\u0e1f",templateType:"string",cName:"pl-4 xc6 lc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"checkbox",placeholder:""},phone:{lb:"\u0e42\u0e17\u0e23\u0e28\u0e31\u0e1e\u0e17\u0e4c",templateType:"array",cName:"pl-4 xc12 sc12 pt-1 bd-lightGrayxx",subCName:["xc2","xc10"],inputType:"text",placeholder:""},address:{lb:"\u0e17\u0e35\u0e48\u0e2d\u0e22\u0e39\u0e48",templateType:"array",cName:"pl-4 xc12 sc12 pt-1 bd-lightGrayxx",subCName:["xc2","xc10"],inputType:"text",placeholder:""},remark:{lb:"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15\u0e38",templateType:"string",cName:"pl-4 xc12 sc12 pt-1 bd-lightGrayxx",subCName:["xc2 alignSelfStart","xc10"],inputType:"textarea",placeholder:"",textRow:3}},S={id:Object(p.a)({},T.id,{inputType:"number",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx"}),newId:{lb:"\u0e44\u0e2d\u0e14\u0e35\u0e43\u0e2b\u0e21\u0e48",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"genId",placeholder:""},partnerType:Object(p.a)({},T.partnerType,{cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx"}),remainingCustomerPoint:Object(p.a)({},T.remainingCustomerPoint,{cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"]}),totalSpending:Object(p.a)({},T.totalSpending,{cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"]}),active:Object(p.a)({},T.active,{cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"]}),title:Object(p.a)({},T.title,{cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx"}),name:Object(p.a)({},T.name,{cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"]}),phone:Object(p.a)({},T.phone,{cName:"pl-4 xc12 sc12 pt-1 bd-lightGrayxx",subCName:["xc2","xc10"]}),address:Object(p.a)({},T.name,{cName:"pl-4 xc12 sc12 pt-1 bd-lightGrayxx",subCName:["xc2","xc10"]}),remark:Object(p.a)({},T.remark,{cName:"pl-4 xc12 sc12 pt-1 bd-lightGrayxx",subCName:["xc2","xc10"]})},C={id:{lb:"\u0e44\u0e2d\u0e14\u0e35",templateType:"string",cName:"pl-4 xc6 lc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"genId",placeholder:"",autoFocus:"autoFocus"},barcode:{lb:"\u0e1a\u0e32\u0e23\u0e4c\u0e42\u0e04\u0e49\u0e14",templateType:"string",cName:"pl-4 xc6 lc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"genId",placeholder:""},productName:{lb:"\u0e0a\u0e37\u0e48\u0e2d",templateType:"string",cName:"pl-4 xc6 lc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"text",placeholder:""},active:{lb:"\u0e41\u0e2d\u0e04\u0e17\u0e35\u0e1f",templateType:"string",cName:"pl-4 xc6 lc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"checkbox",placeholder:""},isRawMat:{lb:"\u0e40\u0e1b\u0e47\u0e19\u0e27\u0e31\u0e15\u0e16\u0e38\u0e14\u0e34\u0e1a",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"checkbox",placeholder:""},point:{lb:"\u0e41\u0e15\u0e49\u0e21",templateType:"number",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"number",placeholder:""},price:{lb:"\u0e23\u0e32\u0e04\u0e32",templateType:"string",cName:"pl-4 xc6 lc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"number",placeholder:""},unit:{lb:"\u0e2b\u0e19\u0e48\u0e27\u0e22",templateType:"string",cName:"pl-4 xc6 lc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"select",placeholder:"",selectDataKey:"basicData",selectObj:"unit"},stock:{lb:"\u0e22\u0e2d\u0e14\u0e2a\u0e15\u0e47\u0e2d\u0e04",templateType:"string",cName:"pl-4 xc6 lc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"number",placeholder:""},priceLevel:{lb:"\u0e23\u0e30\u0e14\u0e31\u0e1a\u0e23\u0e32\u0e04\u0e32",templateType:"arrayObject",cName:"pl-4 xc6 lc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc12","xc12"],placeholder:"",subFormTemplate:{price:{lb:"\u0e23\u0e32\u0e04\u0e32",templateType:"string",cName:"pl-4 xc12 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"number",placeholder:""},remark:{lb:"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15\u0e38",templateType:"string",cName:"pl-4 xc12 sc12 pt-1 bd-lightGrayxx",subCName:["xc4 alignSelfStart","xc8"],inputType:"text",placeholder:""}}},remark:{lb:"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15\u0e38",templateType:"string",cName:"pl-4 xc12 lc12 sc12 pt-1 bd-lightGrayxx",subCName:["xc2 alignSelfStart","xc10"],inputType:"textarea",placeholder:"",textRow:5,lastRef:!0},icon:{lb:"\u0e01\u0e25\u0e38\u0e48\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e17\u0e35\u0e48\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e44\u0e27\u0e49",templateType:"icon-group",cName:"pl-4 xc6 lc6 sc12  pt-1",subCName:["xc1 flex-center-center jc-start","xc11"],inputType:"searchIcon",iconActionIdx:0},groupName:{lb:"\u0e0a\u0e37\u0e48\u0e2d\u0e01\u0e25\u0e38\u0e48\u0e21",templateType:"string",cName:"pl-4 xc6 lc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"text",placeholder:"",disabled:"disabled"},detail:{lb:"\u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14",templateType:"arrayObjectInTable",cName:"pl-4 xc12 lc12 sc12",subFormTemplate:{_id:{templateType:"string"},selectedLine:{templateType:"boolean"},id:{lb:"\u0e44\u0e2d\u0e14\u0e35",templateType:"number"},barcode:{lb:"\u0e1a\u0e32\u0e23\u0e4c\u0e42\u0e04\u0e49\u0e14",templateType:"string"},productName:{lb:"\u0e0a\u0e37\u0e48\u0e2d",templateType:"string"},groupId:{lb:"\u0e44\u0e2d\u0e14\u0e35\u0e01\u0e25\u0e38\u0e48\u0e21",templateType:"number"},groupName:{lb:"\u0e0a\u0e37\u0e48\u0e2d\u0e01\u0e25\u0e38\u0e48\u0e21",templateType:"string"},quantity:{lb:"\u0e08\u0e33\u0e19\u0e27\u0e19",templateType:"string"},unit:{lb:"\u0e2b\u0e19\u0e48\u0e27\u0e22",templateType:"string"},price:{lb:"\u0e23\u0e32\u0e04\u0e32",templateType:"string"},result:{lb:"\u0e23\u0e27\u0e21",templateType:"string"},remark:{lb:"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15\u0e38",templateType:"string"},isRawMat:{lb:"\u0e40\u0e1b\u0e47\u0e19\u0e27\u0e31\u0e15\u0e16\u0e38\u0e14\u0e34\u0e1a",templateType:"boolean"}}}},F=(Object(u.a)(C,["id"]),{shopChangePasswordForm:{shopName:{lb:"\u0e0a\u0e37\u0e48\u0e2d\u0e23\u0e49\u0e32\u0e19",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"text",placeholder:"",autoFocus:"autoFocus"},password:{lb:"\u0e23\u0e2b\u0e31\u0e2a\u0e23\u0e49\u0e32\u0e19",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"password",placeholder:""},newPassword1:{lb:"\u0e23\u0e2b\u0e31\u0e2a\u0e23\u0e49\u0e32\u0e19\u0e43\u0e2b\u0e21\u0e48",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"password",placeholder:""},newPassword2:{lb:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e23\u0e2b\u0e31\u0e2a\u0e23\u0e49\u0e32\u0e19\u0e43\u0e2b\u0e21\u0e48",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"password",placeholder:""}},addUserForm:{id:{lb:"\u0e23\u0e2b\u0e31\u0e2a",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"number",placeholder:"",autoFocus:"autoFocus"},username:{lb:"\u0e22\u0e39\u0e2a\u0e40\u0e0b\u0e2d\u0e23\u0e4c\u0e40\u0e19\u0e21",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"text",placeholder:""},password:{lb:"\u0e23\u0e2b\u0e31\u0e2a",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"password",placeholder:""},userLevel:{lb:"\u0e23\u0e30\u0e14\u0e31\u0e1a\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"select",placeholder:"",selectDataKey:"basicData",selectObj:"userLevel"},name:{lb:"\u0e0a\u0e37\u0e48\u0e2d\u0e08\u0e23\u0e34\u0e07",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"text",placeholder:""},surname:{lb:"\u0e19\u0e32\u0e21\u0e2a\u0e01\u0e38\u0e25",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"text",placeholder:""},branch:{lb:"\u0e2a\u0e32\u0e02\u0e32",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"select",placeholder:"",selectDataKey:"basicData",selectObj:"branch"}},partnerForm:T,partnerEditForm:S,groupForm:{id:{lb:"\u0e44\u0e2d\u0e14\u0e35\u0e01\u0e25\u0e38\u0e48\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"number",placeholder:"",autoFocus:"autoFocus"},groupName:{lb:"\u0e0a\u0e37\u0e48\u0e2d\u0e01\u0e25\u0e38\u0e48\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"text",placeholder:""},parentId:{lb:"\u0e44\u0e2d\u0e14\u0e35\u0e01\u0e25\u0e38\u0e48\u0e21\u0e41\u0e21\u0e48",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"number",placeholder:""}},groupEditForm:{id:{lb:"\u0e44\u0e2d\u0e14\u0e35\u0e01\u0e25\u0e38\u0e48\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"number",placeholder:"",autoFocus:"autoFocus",disabled:"disabled"},newId:{lb:"\u0e44\u0e2d\u0e14\u0e35\u0e01\u0e25\u0e38\u0e48\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e43\u0e2b\u0e21\u0e48",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"number",placeholder:""},groupName:{lb:"\u0e0a\u0e37\u0e48\u0e2d\u0e01\u0e25\u0e38\u0e48\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"text",placeholder:""},parentId:{lb:"\u0e44\u0e2d\u0e14\u0e35\u0e01\u0e25\u0e38\u0e48\u0e21\u0e41\u0e21\u0e48",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"number",placeholder:"",disabled:"disabled"},newParentId:{lb:"\u0e44\u0e2d\u0e14\u0e35\u0e01\u0e25\u0e38\u0e48\u0e21\u0e41\u0e21\u0e48\u0e43\u0e2b\u0e21\u0e48",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"number",placeholder:""}},productForm:C,productEditForm:{id:Object(p.a)({},C.id,{inputType:"number"}),newId:{lb:"\u0e44\u0e2d\u0e14\u0e35\u0e43\u0e2b\u0e21\u0e48",templateType:"string",cName:"pl-4 xc6 lc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"genId",placeholder:""},barcode:C.barcode,productName:C.productName,active:C.active,isRawMat:C.isRawMat,point:C.point,price:C.price,unit:C.unit,stock:C.stock,priceLevel:C.priceLevel,remark:C.remark,icon:C.icon,groupName:C.groupName,detail:C.detail},productDetailForm:{icon:{lb:"\u0e04\u0e49\u0e19\u0e2b\u0e32\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32",templateType:"icon",cName:"pl-4 xc12 sc12 pt-1 bd-lightGrayxx",subCName:["xc2","xc10"],inputType:"searchIcon",iconActionIdx:0},id:{lb:"\u0e44\u0e2d\u0e14\u0e35",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"number",placeholder:"",autoFocus:"autoFocus"},barcode:{lb:"\u0e1a\u0e32\u0e23\u0e4c\u0e42\u0e04\u0e49\u0e14",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"text",placeholder:""},name:{lb:"\u0e0a\u0e37\u0e48\u0e2d",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"text",placeholder:""},groupId:{lb:"\u0e44\u0e2d\u0e14\u0e35\u0e01\u0e25\u0e38\u0e48\u0e21",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"number",placeholder:""},groupName:{lb:"\u0e0a\u0e37\u0e48\u0e2d\u0e01\u0e25\u0e38\u0e48\u0e21",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"text",placeholder:""},unit:{lb:"\u0e2b\u0e19\u0e48\u0e27\u0e22",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"select",placeholder:"",selectDataKey:"basicData",selectObj:"unit"},isRawMat:{lb:"\u0e40\u0e1b\u0e47\u0e19\u0e27\u0e31\u0e15\u0e16\u0e38\u0e14\u0e34\u0e1a",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"checkbox",placeholder:""},quantity:{lb:"\u0e08\u0e33\u0e19\u0e27\u0e19",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"number",placeholder:""},remark:{lb:"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15\u0e38",templateType:"string",cName:"pl-4 xc12 sc12 pt-1 bd-lightGrayxx",subCName:["xc2 alignSelfStart","xc10"],inputType:"textarea",placeholder:"",textRow:3}}}),D=h.sortColumn,I=w.createTableTemplateForPage,P=w.convertFormTemplateArrayToObj,R=l.a.createContext(),A=function(e){return!!localStorage.getItem(e)},M=function(e){console.log("MainContext....");var t=l.a.useState({reloadCheckToken:!0,haveShopToken:A("shopauthorization"),haveUserToken:A("userauthorization"),userName:null}),a=Object(i.a)(t,2),n=a[0],c=a[1],o=l.a.useState({reloadBasicData:!0,basicData:null,pageData:null,tableTemplate:null}),r=Object(i.a)(o,2),s=r[0],b=r[1];l.a.useEffect((function(){}),[s]);var h={headers:{"Content-Type":"application/json",Shopauthorization:localStorage.getItem("shopauthorization"),Userauthorization:localStorage.getItem("userauthorization")}};return l.a.useEffect((function(){var e=n.reloadCheckToken,t=(n.haveShopToken,n.haveUserToken,n.userName,Object(p.a)({},n));e&&(localStorage.getItem("shopauthorization")?t=Object(p.a)({},t,{haveShopToken:!0}):(t=Object(p.a)({},t,{haveShopToken:!1}),localStorage.removeItem("userauthorization"),localStorage.removeItem("username")),localStorage.getItem("userauthorization")&&localStorage.getItem("username")?t=Object(p.a)({},t,{haveUserToken:!0,userName:localStorage.getItem("username")}):(localStorage.removeItem("userauthorization"),localStorage.removeItem("username"),t=Object(p.a)({},t,{haveUserToken:!1,userName:null})),t=Object(p.a)({},t,{reloadCheckToken:!1}),c(t))}),[n]),l.a.useEffect((function(){console.log("------------");var e,t=s.reloadBasicData;s.basicData;if(t){var a=f.a.post("/p35basicdata/getcustom",{},h),n=f.a.post("/p35formtemplate/getcustom",{},h),l=f.a.post("/p35tabletemplate/getcustom",{},h),c=f.a.post("/p35branch/getcustom",{},h),o=f.a.post("/p35user/getuserbyid",{},h),r=P(x.a);Promise.all([a,n,l,c,o]).then((function(t){var a;console.log("2222222222222");var n=t[0].data.data[0],l=[];n.printPage.map((function(e){l=[].concat(Object(d.a)(l),[e.printPageName])}));var c=D(t[0].data.data[0].routeAuth,"id","number","a-b"),o=I(t[2].data.data),i=t[1].data.data,f=t[3].data.data[0],h=t[4].data.data[0],g=f.id,y=Object(u.a)(f,["id"]),v=Object(p.a)({},y,{branchId:g}),w=[],E={};i.map((function(e){var t={};e.template.map((function(e){t=Object(p.a)({},t,Object(m.a)({},e.key,e.lb))})),t=Object(p.a)({},t,Object(m.a)({},"thisId",e.id)),E=Object(p.a)({},E,Object(m.a)({},e.formLanguage,t)),w=[].concat(Object(d.a)(w),[e.formLanguage])}));var N=E[v.languageSetting],j={};Object.keys(F).map((function(e){var t={};Object.keys(F[e]).map((function(a){N[a];var n=Object(p.a)({},F[e][a],{lb:N[a]});if(F[e][a].subFormTemplate){var l={};Object.keys(F[e][a].subFormTemplate).map((function(t){N[t];var n=F[e][a].subFormTemplate[t];l=Object(p.a)({},l,Object(m.a)({},t,Object(p.a)({},n,{lb:N[t]})))})),n=Object(p.a)({},n,{subFormTemplate:l})}t=Object(p.a)({},t,Object(m.a)({},a,n))})),j=Object(p.a)({},j,Object(m.a)({},e,t))}));var k={};Object.keys(r).map((function(e){var t={};N["formHead-".concat(e)]&&(t=Object(m.a)({},"formHead",N["formHead-".concat(e)])),Object.keys(r[e]).map((function(e){N[e],"formHead"!=e&&(t=Object(p.a)({},t,Object(m.a)({},e,N[e])))})),k=Object(p.a)({},k,Object(m.a)({},e,t))}));var x=(a={},Object(m.a)(a,"productFilterForm",k.productFilterForm),Object(m.a)(a,"partnerFilterForm",k.partnerFilterForm),Object(m.a)(a,"transactionFilterForm",k.transactionFilterForm),a),T={};Object.keys(O).map((function(e){var t=[];O[e].map((function(e){var a=Object(p.a)({},e,{lb:N[e.keyName]});t=[].concat(Object(d.a)(t),[a])})),T=Object(p.a)({},T,Object(m.a)({},e,t))}));var S={};Object.keys(o).map((function(e){var t={};Object.keys(o[e]).map((function(a){t=Object(p.a)({},t,Object(m.a)({},a,Object(p.a)({},o[e][a],Object(m.a)({},"lb",N[a]))))})),S=Object(p.a)({},S,Object(m.a)({},e,t))})),e=Object(p.a)({},s,{reloadBasicData:!1,basicData:Object(p.a)({},n,{routeAuth:c},v,{listOfLanguage:w,listOfPrintPage:l}),pageData:k,tableTemplate:S,pageFilter:T,pageFilterForm:x,languageObj:E,modalFormTemplate:j,user:h}),console.log("tempSt"),console.log(e),b(e)})).catch((function(t){console.log("err"),console.log(t),e=Object(p.a)({},s,{reloadBasicData:!1}),b(e)}))}}),[s]),l.a.createElement(R.Provider,{value:{myheader:h,tokenSt:n,setTokenSt:c,setReloadCheckToken:function(e){c(Object(p.a)({},n,{reloadCheckToken:!0}))},basicDataSt:s,setReloadBasicData:function(e){b(Object(p.a)({},s,{reloadBasicData:!0}))},setBasicData:function(e){b(Object(p.a)({},s,{basicData:e}))}}},e.children)},B=a(22),L=a(6),G=a(7),U=a(46),H=a(23),_=a(94),K=a(42),z=(a(87),a(124),{FaHome:"\u0e2b\u0e19\u0e49\u0e32\u0e2b\u0e25\u0e31\u0e01",MdTune:"\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32\u0e2a\u0e32\u0e02\u0e32",MdPerson:"\u0e25\u0e39\u0e01\u0e04\u0e49\u0e32",MdFastfood:"\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32",SiBookstack:"\u0e1a\u0e34\u0e25",RiLogoutBoxRFill:"\u0e25\u0e47\u0e2d\u0e01\u0e40\u0e2d\u0e32",MdLogout:"\u0e25\u0e47\u0e2d\u0e01\u0e40\u0e2d\u0e32",MdRefresh:"\u0e23\u0e35\u0e42\u0e2b\u0e25\u0e14",MdSwapHoriz:"\u0e22\u0e49\u0e32\u0e22",MdSettings:"\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32",MdSearch:"\u0e04\u0e49\u0e19\u0e2b\u0e32",MdEdit:"\u0e41\u0e01\u0e49\u0e44\u0e02",MdAddCircle:"\u0e40\u0e1e\u0e34\u0e48\u0e21",MdDelete:"\u0e25\u0e1a",MdPrint:"\u0e1e\u0e34\u0e21\u0e1e\u0e4c",MdRadioButtonChecked:"\u0e40\u0e25\u0e37\u0e2d\u0e01",MdClose:"\u0e1b\u0e34\u0e14",RiShareForwardLine:"\u0e14\u0e36\u0e07\u0e04\u0e48\u0e32",FaFileCsv:"CSV\u0e44\u0e1f\u0e25\u0e4c",FaRegArrowAltCircleDown:"\u0e40\u0e25\u0e37\u0e48\u0e2d\u0e19\u0e25\u0e07",FaRegArrowAltCircleUp:"\u0e40\u0e25\u0e37\u0e48\u0e2d\u0e19\u0e02\u0e36\u0e49\u0e19",MdPassword:"\u0e41\u0e01\u0e49\u0e23\u0e2b\u0e31\u0e2a",MdSave:"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01",MdMergeType:"\u0e23\u0e27\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32",MdRawOn:"\u0e41\u0e15\u0e01\u0e27\u0e31\u0e15\u0e16\u0e38\u0e14\u0e34\u0e1a",SiAirtable:"\u0e42\u0e15\u0e4a\u0e30",FaRegFolderOpen:"\u0e01\u0e25\u0e38\u0e48\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32",GiCook:"\u0e04\u0e23\u0e31\u0e27",FaBullseye:"\u0e44\u0e21\u0e48\u0e40\u0e25\u0e37\u0e2d\u0e01",FaBarcode:"\u0e1a\u0e32\u0e23\u0e4c\u0e42\u0e04\u0e49\u0e14",TiSortNumericallyOutline:"\u0e04\u0e34\u0e27",FaRegArrowAltCircleRight:"\u0e40\u0e25\u0e37\u0e2d\u0e01",RiHandCoinFill:"\u0e1b\u0e34\u0e14\u0e1a\u0e34\u0e25",BsShop:"POS",FaMoneyBillWave:"\u0e0a\u0e33\u0e23\u0e30\u0e04\u0e48\u0e32\u0e23\u0e32\u0e22\u0e40\u0e14\u0e37\u0e2d\u0e19"});function q(e){var t=e.iconName,a=e.className,n=e.textStyle,c=e.iconStyle,o=(l.a.useContext(R).basicDataSt,l.a.useState(!0)),r=Object(i.a)(o,2),s=r[0],m=r[1];l.a.useEffect((function(){s||setTimeout((function(){m(!0)}),[1e3])}),[s]);return l.a.createElement("div",{className:"",style:{display:"flex",alignItems:"center",flexWrap:"nowrap",height:"100%"},onMouseOver:function(e){m(!1)},onMouseLeave:function(e){m(!0)}},s?function(){switch(t){case"FaHome":return l.a.createElement(L.o,{className:a,style:c});case"MdTune":return l.a.createElement(G.C,{className:a,style:c});case"MdPerson":return l.a.createElement(G.r,{className:a,style:c});case"MdFastfood":return l.a.createElement(G.m,{className:a,style:c});case"SiBookstack":return l.a.createElement(K.b,{className:a,style:c});case"MdLogout":return l.a.createElement(G.o,{className:a,style:c});case"RiLogoutBoxRFill":return l.a.createElement(B.c,{className:a,style:c});case"MdRefresh":case"MdRefresh":return l.a.createElement(G.w,{className:a,style:c});case"MdSwapHoriz":return l.a.createElement(G.B,{className:a,style:c});case"MdSettings":return l.a.createElement(G.z,{className:a,style:c});case"MdSearch":return l.a.createElement(G.y,{className:a,style:c});case"MdEdit":return l.a.createElement(G.k,{className:a,style:c});case"MdAddCircle":return l.a.createElement(G.a,{className:a,style:c});case"MdDelete":return l.a.createElement(G.j,{className:a,style:c});case"MdPrint":return l.a.createElement(G.s,{className:a,style:c});case"MdRadioButtonChecked":return l.a.createElement(G.t,{className:a,style:c});case"MdClose":return l.a.createElement(G.i,{className:a,style:c});case"RiShareForwardLine":return l.a.createElement(B.d,{className:a,style:c});case"FaFileCsv":return l.a.createElement(L.k,{className:a,style:c});case"FaRegArrowAltCircleUp":return l.a.createElement(L.y,{className:a,style:c});case"FaRegArrowAltCircleDown":return l.a.createElement(L.v,{className:a,style:c});case"MdPassword":return l.a.createElement(G.q,{className:a,style:c});case"MdSave":return l.a.createElement(G.x,{className:a,style:c});case"MdMergeType":return l.a.createElement(G.p,{className:a,style:c});case"MdRawOn":return l.a.createElement(G.v,{className:a,style:c});case"SiAirtable":return l.a.createElement(K.a,{className:a,style:c});case"FaRegFolderOpen":return l.a.createElement(L.A,{className:a,style:c});case"GiCook":return l.a.createElement(U.a,{className:a,style:c});case"FaBullseye":return l.a.createElement(L.c,{className:a,style:c});case"FaBarcode":return l.a.createElement(L.b,{className:a,style:c});case"TiSortNumericallyOutline":return l.a.createElement(_.a,{className:a,style:c});case"FaRegArrowAltCircleRight":return l.a.createElement(L.x,{className:a,style:c});case"RiHandCoinFill":return l.a.createElement(B.a,{className:a,style:c});case"FaMoneyBillWave":return l.a.createElement(L.s,{className:a,style:c});case"BsShop":return l.a.createElement(H.b,{className:a,style:c});default:return null}}():l.a.createElement("div",{className:"flex-center-center",style:Object(p.a)({color:"white",whiteSpace:"nowrap",height:"100%",padding:"0.24rem"},n)},l.a.createElement("div",null,z[t])))}q.defaultProps={iconName:"",classNam:"",textStyle:null,iconStyle:null};var $=q,W=a(14),V=a.n(W),Y=a(16),Q=a(65),X=a.n(Q);var J=function(e,t){return new Promise((function(t,a){var n={file:e,quality:.9,mimeType:e.type,maxWidth:900,maxHeight:900,width:800,height:800,minWidth:700,minHeight:700,convertSize:1/0,loose:!0,redressOrientation:!0,beforeCompress:function(e){},success:function(){var e=Object(Y.a)(V.a.mark((function e(a){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(a);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),error:function(e){console.error(e),a(e)}};new X.a(n)}))},Z=function(){var e=Object(Y.a)(V.a.mark((function e(t){var a,n,l,c;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.files,n=t.arrayFile,l=t.setArrayFile,c=Array.from(new Set([].concat(Object(d.a)(n),Object(d.a)(a)))),l(c);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(Y.a)(V.a.mark((function e(t){var a,n,l,c,o,r,i,s,u,b;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=t.arrayFile,t.fileUrl,n=t.setFileUrl,l=t.inputState,c=t.setInputState,o=t.keyName,r=t.setShowImage,i=o.split("photoUrl")[1],s=[],u=[],b=0;b<a.length;b++)u=[].concat(Object(d.a)(u),[J(a[b])]);Promise.all(u).then((function(e){e.map((function(e){var t={name:e.name,blob:URL.createObjectURL(e)};s=[].concat(Object(d.a)(s),[t])})),n(s),c(Object(p.a)({},l,Object(m.a)({},"file".concat(i),e))),te({setShowImage:r})})).catch((function(e){}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(e){var t=e.setShowImage;t(!1),setTimeout((function(){t(!0)}),100)},ae={fileListItem:function(e){for(var t,a=t=(e=[].slice.call(Array.isArray(e)?e:arguments)).length,n=!0;a--&&n;)n=e[a]instanceof File;if(!n)throw new TypeError("expected argument to fileList1 is File or array of File objects");for(a=new ClipboardEvent("").clipboardData||new DataTransfer;t--;)a.items.add(e[t]);return a.files},changeArrayFile:ee,handleInputFile:Z,reloadImage:te,resetFile:function(e){var t=e.setArrayFile,a=e.setFileUrl;t([]),a([])},deleteFileUrl:function(e){for(var t=e.name,a=e.arrayFile,n=e.setArrayFile,l=e.reloadImage,c=e.setShowImage,o=[],r=0;r<a.length;r++)a[r].name!==t&&(o=[].concat(Object(d.a)(o),[a[r]]));n(o),l({setShowImage:c})},deletePhotoUrl:function(e){var t=e.name,a=e.inputState,n=e.setInputState,l=e.keyName,c=e.reloadImage,o=e.setShowImage,r=[],i=a[l].length;if(i>0)for(var s=0;s<i;s++)a[l][s]!=t&&(r=[].concat(Object(d.a)(r),[a[l][s]]));0==r.length&&(r=[""]);var u=Object(p.a)({},a,Object(m.a)({},l,r));n(Object(p.a)({},u)),c({setShowImage:o})},moveFirst:function(e){var t,a=e.idx,n=e.inputState,l=e.setInputState,c=e.keyName,o=e.reloadImage,r=e.setShowImage,i=[],s=n[c].length;if(s>0)for(var u=0;u<s;u++)u!=a?i=[].concat(Object(d.a)(i),[n[c][u]]):t=n[c][u];0==(i=[t].concat(Object(d.a)(i))).length&&(i=[""]);var b=Object(p.a)({},n,Object(m.a)({},c,i));l(Object(p.a)({},b)),o({setShowImage:r})},movePrevious:function(e){var t,a=e.idx,n=e.inputState,l=e.setInputState,c=e.keyName,o=e.reloadImage,r=e.setShowImage,i=[],s=n[c].length;if(s>0)for(var u=0;u<s;u++)u==a-1?t=n[c][u]:i=[].concat(Object(d.a)(i),u==a?[n[c][u],t]:[n[c][u]]);0==i.length&&(i=[""]);var b=Object(p.a)({},n,Object(m.a)({},c,i));l(Object(p.a)({},b)),o({setShowImage:r})},moveNext:function(e){var t,a=e.idx,n=e.inputState,l=e.setInputState,c=e.keyName,o=e.reloadImage,r=e.setShowImage,i=[],s=n[c].length;if(s>0)for(var u=0;u<s;u++)u==a?t=n[c][u]:i=[].concat(Object(d.a)(i),u==a+1?[n[c][u],t]:[n[c][u]]);0==i.length&&(i=[""]);var b=Object(p.a)({},n,Object(m.a)({},c,i));l(Object(p.a)({},b)),o({setShowImage:r})},moveLast:function(e){var t,a=e.idx,n=e.inputState,l=e.setInputState,c=e.keyName,o=e.reloadImage,r=e.setShowImage,i=[],s=n[c].length;if(s>0)for(var u=0;u<s;u++)u!=a?i=[].concat(Object(d.a)(i),[n[c][u]]):t=n[c][u];0==(i=[].concat(Object(d.a)(i),[t])).length&&(i=[""]);var b=Object(p.a)({},n,Object(m.a)({},c,i));l(Object(p.a)({},b)),o({setShowImage:r})},reduceImageSize:J},ne=function(){var e=Object(Y.a)(V.a.mark((function e(t){var a,n,l,c,o,r,i,s,u,p,b,h;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.qCondition,n=t.RtAndCt,l=t.filterTemplate,c=t.inputState,o=t.setFilterData,r=t.pageNumber,i=t.setCount,s=t.sort,u=t.limitRow,p=t.setReload,b=[],l.map((function(e){if(c[e.keyName].toCheck)if("number"==e.templateType){var t=Object(m.a)({},e.filterCommand[0],{$gte:c[e.keyName].min,$lte:c[e.keyName].max});b=[].concat(Object(d.a)(b),[t])}else if("arrayNumber"==e.templateType){var a=Object(m.a)({},e.filterCommand[0],{$elemMatch:{$gte:c[e.keyName].min,$lte:c[e.keyName].max}});b=[].concat(Object(d.a)(b),[a])}else if("objectNumber"==e.templateType){var n=Object(m.a)({},e.filterCommand[0],{$gte:c[e.keyName].min,$lte:c[e.keyName].max});b=[].concat(Object(d.a)(b),[n])}else if("arrayObjectNumber"==e.templateType){var l=Object(m.a)({},e.filterCommand[0],{$elemMatch:Object(m.a)({},e.filterCommand[1],{$gte:c[e.keyName].min,$lte:c[e.keyName].max})});b=[].concat(Object(d.a)(b),[l])}else if("arrayObjectArrayNumber"==e.templateType){var o=Object(m.a)({},e.filterCommand[0],{$elemMatch:Object(m.a)({},e.filterCommand[1],{$elemMatch:{$gte:c[e.keyName].min,$lte:c[e.keyName].max}})});b=[].concat(Object(d.a)(b),[o])}else if("string"===e.templateType){var r=Object(m.a)({},e.filterCommand[0],{$regex:c[e.keyName].value.trim().replace(/\s/,"|"),$options:"gi"});b=[].concat(Object(d.a)(b),[r])}else if("arrayString"==e.templateType){var i=Object(m.a)({},e.filterCommand[0],{$elemMatch:{$regex:c[e.keyName].value.trim().replace(/\s/,"|"),$options:"gi"}});b=[].concat(Object(d.a)(b),[i])}else if("objectString"==e.templateType){var s=Object(m.a)({},e.filterCommand[0],{$regex:c[e.keyName].value.trim().replace(/\s/,"|"),$options:"gi"});b=[].concat(Object(d.a)(b),[s])}else if("arrayObjectString"==e.templateType){var u=Object(m.a)({},e.filterCommand[0],{$elemMatch:Object(m.a)({},e.filterCommand[1],{$regex:c[e.keyName].value.trim().replace(/\s/,"|"),$options:"gi"})});b=[].concat(Object(d.a)(b),[u])}else if("arrayObjectArrayString"==e.templateType){var p=Object(m.a)({},e.filterCommand[0],{$elemMatch:Object(m.a)({},e.filterCommand[1],{$elemMatch:{$regex:c[e.keyName].value.trim().replace(/\s/,"|"),$options:"gi"}})});b=[].concat(Object(d.a)(b),[p])}})),e.prev=3,"$and"!=a){e.next=10;break}return e.next=7,f.a.post(n,{pageNumber:r,sort:s,limitRow:u,$and:b},{headers:{"Content-Type":"application/json",Shopauthorization:localStorage.getItem("shopauthorization"),Userauthorization:localStorage.getItem("userauthorization")}});case 7:h=e.sent,e.next=13;break;case 10:return e.next=12,f.a.post(n,{pageNumber:r,sort:s,limitRow:u,$or:b},{headers:{"Content-Type":"application/json",Shopauthorization:localStorage.getItem("shopauthorization"),Userauthorization:localStorage.getItem("userauthorization")}});case 12:h=e.sent;case 13:o(Object(d.a)(h.data.data)),i(h.data.count),p(!1),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(3),o([]),p(!1);case 22:case"end":return e.stop()}}),e,null,[[3,18]])})));return function(t){return e.apply(this,arguments)}}(),le=function(e){var t=e.inputState,a=e.template,n=new FormData;return function e(t){var a=t.iSt,l=t.tPt,c=t.preFix;Object.keys(l).map((function(t,o){var r=l[t].stType;if("object"==r)e(""==c?{iSt:a[t],tPt:l[t].stChildren,preFix:t}:{iSt:a[t],tPt:l[t].stChildren,preFix:"".concat(c,"[").concat(t,"]")});else if("arrayObject"==r)a[t].map((function(a,n){e(""==c?{iSt:a,tPt:l[t].stChildren,preFix:"".concat(t,"[").concat(n,"]")}:{iSt:a,tPt:l[t].stChildren,preFix:"".concat(c,"[").concat(t,"][").concat(n,"]")})}));else if("array"==r)a[t].map((function(e,l){""==c?n.append("".concat(c).concat(t,"[").concat(l,"]"),a[t][l]):n.append("".concat(c,"[").concat(t,"][").concat(l,"]"),a[t][l])}));else if("file"==r){if(a[t])for(var i=0;i<a[t].length;i++){var s="".concat(a[t][i].name);n.append("imageUrl",a[t][i],s)}}else""==c?n.append("".concat(c).concat(t),a[t]):n.append("".concat(c,"[").concat(t,"]"),a[t])}))}({iSt:t,tPt:a,preFix:""}),n},ce=function(){var e=Object(Y.a)(V.a.mark((function e(t){var a,n,l,c,o,r,i,s,m,u,p,b,h,g,y;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.url,n=t.stateTemplate,l=t.inputState,c=t.setShow,o=t.setShowModalError,r=t.clearForm,i=t.actionAfterSuccess,s=t.useGenFD,console.log("inputState submitFunc Before"),console.log(l),s){if(m=[],l.file1)for(u=0;u<l.file1.length;u++)m=[].concat(Object(d.a)(m),[l.file1[u].name]);if(l.photoUrl1&&(l.photoUrl1=[].concat(Object(d.a)(l.photoUrl1),Object(d.a)(m))),p=[],l.file2)for(b=0;b<l.file2.length;b++)p=[].concat(Object(d.a)(p),[l.file2[b].name]);l.photoUrl2&&(l.photoUrl2=[].concat(Object(d.a)(l.photoUrl2),Object(d.a)(p)))}if(h=!0,g=s?le({inputState:l,template:n}):l,!h){e.next=21;break}return e.prev=7,e.next=10,f.a.post(a,g,{headers:{"Content-Type":"application/json",Shopauthorization:localStorage.getItem("shopauthorization"),Userauthorization:localStorage.getItem("userauthorization")}});case 10:y=e.sent,i&&i(y),r&&r(),c&&c(!1),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(7),o({status:!0,msg:e.t0});case 19:e.next=22;break;case 21:o({status:!0,msg:h});case 22:case"end":return e.stop()}}),e,null,[[7,16]])})));return function(t){return e.apply(this,arguments)}}();var oe={axiGet:ne,genFD:le,submitFunc:ce,addFileNameInPhotoUrl:function(e){var t=[];if(e.file1)for(var a=0;a<e.file1.length;a++)t=[].concat(Object(d.a)(t),[e.file1[a].name]);e.photoUrl1&&(e.photoUrl1=[].concat(Object(d.a)(e.photoUrl1),Object(d.a)(t)));var n=[];if(e.file2)for(var l=0;l<e.file2.length;l++)n=[].concat(Object(d.a)(n),[e.file2[l].name]);return e.photoUrl2&&(e.photoUrl2=[].concat(Object(d.a)(e.photoUrl2),Object(d.a)(n))),e},addSingleFileNameInsteadOfPhotoUrl:function(e){var t=[];e.file1&&e.photoUrl1&&(t=[].concat(Object(d.a)(t),[e.file1[0].name]),e.photoUrl1=t);var a=[];return e.file2&&e.photoUrl2&&(a=[].concat(Object(d.a)(a),[e.file2[0].name]),e.photoUrl2=a),e},genSortFromSortState:function(e){var t=[],a={},n=Object.keys(e);return n.map((function(a){null!=e[a].sortName&&(t=[].concat(Object(d.a)(t),[e[a].sortName]))})),(t=Array.from(new Set(t))).length>0&&t.map((function(t){for(var l=0;l<n.length;l++){var c=n[l];if(t==e[c].sortName){a=Object(p.a)({},a,Object(m.a)({},t,e[c].toAscending));break}}})),a},genSortStateFromSort:function(e){var t={order1:{toAscending:1,sortName:null},order2:{toAscending:1,sortName:null},order3:{toAscending:1,sortName:null}},a=Object.keys(e);return a[0]&&(t.order1={toAscending:e[a[0]],sortName:a[0]}),a[1]&&(t.order2={toAscending:e[a[1]],sortName:a[1]}),a[2]&&(t.order2={toAscending:e[a[2]],sortName:a[2]}),t},reloadAndSearch:function(e){var t=e.url,a=e.blankData,n=e.inputState,l=e.pageNumber,c=e.sort,o=e.filterOption,r=e.qry,i=e.setFilterData,s=e.setCount,m=e.setLastRecordId,u=e.setEditData,d=e.filterTemplate,b=e.reload,h=e.setReload,g=e.limitRow,y=function(){f.a.post(t,{pageNumber:l,sort:c,limitRow:g},{headers:{"Content-Type":"application/json",Shopauthorization:localStorage.getItem("shopauthorization"),Userauthorization:localStorage.getItem("userauthorization")}}).then((function(e){console.log("filterOption0: ".concat(t)),h(!1),i(e.data.data),s(e.data.count),m(e.data.lastRecordId)})).catch((function(e){h(!1)}))};1==l&&0==o&&b||0==o?y():1==o?ne({qCondition:"$and",RtAndCt:t,filterTemplate:d,inputState:n,setFilterData:i,pageNumber:l,setCount:s,sort:c,limitRow:g,setReload:h}):2==o?ne({qCondition:"$or",RtAndCt:t,filterTemplate:d,inputState:n,setFilterData:i,pageNumber:l,setCount:s,sort:c,limitRow:g,setReload:h}):3==o&&f.a.post(t,Object(p.a)({},r,{pageNumber:l,sort:c,limitRow:g}),{headers:{"Content-Type":"application/json",Shopauthorization:localStorage.getItem("shopauthorization"),Userauthorization:localStorage.getItem("userauthorization")}}).then((function(e){console.log("filterOption3: ".concat(t)),h(!1),i(e.data.data),s(e.data.count),u(a)})).catch((function(e){h(!1)}))},genArrayForFilterAxios:function(e){var t=e.filterTemplate,a=e.inputState,n=[];return t.map((function(e){if(a[e.keyName].toCheck)if("number"==e.templateType){var t=Object(m.a)({},e.filterCommand[0],{$gte:a[e.keyName].min,$lte:a[e.keyName].max});n=[].concat(Object(d.a)(n),[t])}else if("arrayNumber"==e.templateType){var l=Object(m.a)({},e.filterCommand[0],{$elemMatch:{$gte:a[e.keyName].min,$lte:a[e.keyName].max}});n=[].concat(Object(d.a)(n),[l])}else if("objectNumber"==e.templateType){var c=Object(m.a)({},e.filterCommand[0],{$gte:a[e.keyName].min,$lte:a[e.keyName].max});n=[].concat(Object(d.a)(n),[c])}else if("arrayObjectNumber"==e.templateType){var o=Object(m.a)({},e.filterCommand[0],{$elemMatch:Object(m.a)({},e.filterCommand[1],{$gte:a[e.keyName].min,$lte:a[e.keyName].max})});n=[].concat(Object(d.a)(n),[o])}else if("arrayObjectArrayNumber"==e.templateType){var r=Object(m.a)({},e.filterCommand[0],{$elemMatch:Object(m.a)({},e.filterCommand[1],{$elemMatch:{$gte:a[e.keyName].min,$lte:a[e.keyName].max}})});n=[].concat(Object(d.a)(n),[r])}else if("string"===e.templateType||"selectObj"==e.templateType||"selectArrayObj"==e.templateType){var i=Object(m.a)({},e.filterCommand[0],{$regex:a[e.keyName].value.trim().replace(/\s/,"|"),$options:"gi"});n=[].concat(Object(d.a)(n),[i])}else if("arrayString"==e.templateType){var s=Object(m.a)({},e.filterCommand[0],{$elemMatch:{$regex:a[e.keyName].value.trim().replace(/\s/,"|"),$options:"gi"}});n=[].concat(Object(d.a)(n),[s])}else if("objectString"==e.templateType){var u=Object(m.a)({},e.filterCommand[0],{$regex:a[e.keyName].value.trim().replace(/\s/,"|"),$options:"gi"});n=[].concat(Object(d.a)(n),[u])}else if("arrayObjectString"==e.templateType){var p=Object(m.a)({},e.filterCommand[0],{$elemMatch:Object(m.a)({},e.filterCommand[1],{$regex:a[e.keyName].value.trim().replace(/\s/,"|"),$options:"gi"})});n=[].concat(Object(d.a)(n),[p])}else if("arrayObjectArrayString"==e.templateType){var b=Object(m.a)({},e.filterCommand[0],{$elemMatch:Object(m.a)({},e.filterCommand[1],{$elemMatch:{$regex:a[e.keyName].value.trim().replace(/\s/,"|"),$options:"gi"}})});n=[].concat(Object(d.a)(n),[b])}else if("boolean"==e.templateType){var f=Object(m.a)({},e.filterCommand[0],a[e.keyName].value);n=[].concat(Object(d.a)(n),[f])}})),n},addAndUpdateSubField:function(e,t,a){var n=[];if(e)if(0==e[t].length)console.log("subFile.length==0"),n=[a];else for(var l=0;l<e[t].length;l++)e[t][l].id==a.id?n=[].concat(Object(d.a)(n),[a]):(n=[].concat(Object(d.a)(n),[e[t][l]]),l==e[t].length-1&&(n=[].concat(Object(d.a)(n),[a])));return n},deleteSubField:function(e,t,a){var n=[];if(e)for(var l=0;l<e[t].length;l++)e[t][l].id!=a.id&&(n=[].concat(Object(d.a)(n),[e[t][l]]));return n},catchErrorToMessage:function(e){return"string"==typeof e?e:e&&e.response&&e.response.data&&e.response.data.message?e.response.data.message:void 0},sleep:function(e){return new Promise((function(t){return setTimeout(t,e)}))},genId:function(){var e=(new Date).toISOString(),t=new Date(e).toLocaleString("fr-ca"),a=new Date(e).toLocaleString("en-GB"),n=t.substring(2,4)+t.substring(5,7)+t.substring(8,10)+a.substring(12,14)+a.substring(15,17)+a.substring(18,20);return parseInt(n)}},re=a(13),ie=a.n(re),se=/^\d{1,30}$/gi,me=/^[\u0e01-\u0e59\w\+\-\*\/\\.=]{1,200}$/gi,ue=/^\d{4}-\d{2}-\d{2}$/gi,de=/^[\w\-\*\/\.\\=]{1,200}$/gi,pe=/^(true)|(false)$/gi,be=function(e,t){return new RegExp(e).test(t)},fe=function(e,t){for(var a=!0,n=0;n<t.length&&(a=new RegExp(e).test(t[n]));n++);return a},he=function(){return!0},ge={partnerState:{id:{stType:"number",validate:be,pattern:se,lb:"\u0e23\u0e2b\u0e31\u0e2a\u0e04\u0e39\u0e48\u0e04\u0e49\u0e32"},newId:{stType:"number",validate:be,pattern:se,lb:"\u0e23\u0e2b\u0e31\u0e2a\u0e04\u0e39\u0e48\u0e04\u0e49\u0e32\u0e43\u0e2b\u0e21\u0e48"},title:{stType:"string",validate:be,pattern:me,lb:"\u0e04\u0e33\u0e19\u0e33\u0e2b\u0e19\u0e49\u0e32"},name:{stType:"string",validate:be,pattern:me,lb:"\u0e0a\u0e37\u0e48\u0e2d"},active:{stType:"boolean",validate:be,pattern:pe,stDefault:!0,lb:"active"},phone:{stType:"array",validate:fe,pattern:se,lb:"\u0e42\u0e17\u0e23\u0e28\u0e31\u0e1e\u0e17\u0e4c"},partnerType:{stType:"string",validate:be,pattern:me,lb:"\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17\u0e04\u0e39\u0e48\u0e04\u0e49\u0e32"},address:{stType:"array",validate:fe,pattern:se,lb:"\u0e17\u0e35\u0e48\u0e2d\u0e22\u0e39\u0e48"},remark:{stType:"string",validate:be,pattern:me,lb:"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15\u0e38"},remainingCustomerPoint:{stType:"number",validate:be,pattern:se,lb:"\u0e41\u0e15\u0e49\u0e21\u0e2a\u0e30\u0e2a\u0e21"},totalSpending:{stType:"number",validate:be,pattern:se,stDefault:0,lb:"\u0e22\u0e2d\u0e14\u0e43\u0e0a\u0e49\u0e08\u0e48\u0e32\u0e22"}},groupState:{id:{stType:"number",validate:be,pattern:se,lb:"\u0e23\u0e2b\u0e31\u0e2a\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17\u0e04\u0e39\u0e48\u0e04\u0e49\u0e32"},gcode:{stType:"number",validate:be,pattern:se,lb:"\u0e23\u0e2b\u0e31\u0e2a\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17\u0e04\u0e39\u0e48\u0e04\u0e49\u0e32"},groupName:{stType:"string",validate:be,pattern:me,lb:"\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17\u0e04\u0e39\u0e48\u0e04\u0e49\u0e32"},level:{stType:"number",validate:be,pattern:se,lb:"\u0e23\u0e2b\u0e31\u0e2a\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17\u0e04\u0e39\u0e48\u0e04\u0e49\u0e32"}},productState:{id:{stType:"number",validate:be,pattern:se,lb:"\u0e23\u0e2b\u0e31\u0e2a\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"},newId:{stType:"number",validate:be,pattern:se,lb:"\u0e23\u0e2b\u0e31\u0e2a\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e43\u0e2b\u0e21\u0e48"},barcode:{stType:"string",validate:be,pattern:me,lb:"\u0e1a\u0e32\u0e23\u0e4c\u0e42\u0e04\u0e49\u0e14"},productName:{stType:"string",validate:be,pattern:me,lb:"\u0e0a\u0e37\u0e48\u0e2d\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"},groupId:{stType:"number",validate:be,pattern:se,lb:"\u0e23\u0e2b\u0e31\u0e2a\u0e01\u0e25\u0e38\u0e48\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"},groupName:{stType:"string",validate:be,pattern:me,lb:"\u0e01\u0e25\u0e38\u0e48\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"},unit:{stType:"string",validate:be,pattern:me,lb:"\u0e2b\u0e19\u0e48\u0e27\u0e22"},price:{stType:"number",validate:be,pattern:se,lb:"\u0e23\u0e32\u0e04\u0e32"},priceLevel:{stType:"arrayObject",stChildren:{price:{stType:"number",validate:be,pattern:se,lb:"\u0e23\u0e32\u0e04\u0e32\u0e22\u0e48\u0e2d\u0e22"},remark:{stType:"string",validate:be,pattern:me,lb:"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15"}}},active:{stType:"boolean",validate:be,pattern:pe,stDefault:!0,lb:"active"},remark:{stType:"string",validate:be,pattern:me,lb:"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15\u0e38"},isRawMat:{stType:"boolean",validate:be,pattern:pe,lb:"\u0e40\u0e1b\u0e47\u0e19\u0e27\u0e31\u0e15\u0e16\u0e38\u0e14\u0e34\u0e1a"},hasDetailProduct:{stType:"boolean",validate:be,pattern:pe,lb:"",stDefault:!1},detail:{stType:"arrayObject",stChildren:{_id:{stType:"string",validate:be,pattern:me,lb:"_id"},selectedLine:{stType:"boolean",validate:be,pattern:pe,stDefault:!1,lb:""},id:{stType:"number",validate:be,pattern:se,lb:"\u0e23\u0e2b\u0e31\u0e2a\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"},barcode:{stType:"string",validate:be,pattern:me,lb:"\u0e1a\u0e32\u0e23\u0e4c\u0e42\u0e04\u0e49\u0e14"},productName:{stType:"string",validate:be,pattern:me,lb:"\u0e0a\u0e37\u0e48\u0e2d\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"},groupId:{stType:"number",validate:be,pattern:se,lb:"\u0e23\u0e2b\u0e31\u0e2a\u0e01\u0e25\u0e38\u0e48\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"},groupName:{stType:"string",validate:be,pattern:me,lb:"\u0e01\u0e25\u0e38\u0e48\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"},unit:{stType:"string",validate:be,pattern:me,lb:"\u0e2b\u0e19\u0e48\u0e27\u0e22"},price:{stType:"number",validate:be,pattern:se,lb:"\u0e23\u0e32\u0e04\u0e32"},quantity:{stType:"number",validate:be,pattern:se,lb:"\u0e08\u0e33\u0e19\u0e27\u0e19"},result:{stType:"number",validate:be,pattern:se,lb:"\u0e23\u0e27\u0e21"},remark:{stType:"string",validate:be,pattern:me,lb:"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15\u0e38"},isRawMat:{stType:"boolean",validate:be,pattern:pe,lb:"\u0e40\u0e1b\u0e47\u0e19\u0e27\u0e31\u0e15\u0e16\u0e38\u0e14\u0e34\u0e1a",stDefault:!1},hasDetailProduct:{stType:"boolean",validate:be,pattern:pe,lb:"",stDefault:!1}}},stock:{stType:"number",validate:be,pattern:se,lb:"\u0e2a\u0e15\u0e47\u0e2d\u0e01"},order:{stType:"number",validate:be,pattern:se,lb:"\u0e08\u0e2d\u0e07"},plan:{stType:"number",validate:be,pattern:se,lb:"\u0e41\u0e1c\u0e19"},point:{stType:"number",validate:be,pattern:se,lb:"\u0e41\u0e15\u0e49\u0e21"},file1:{stType:"file",validate:he,pattern:null,lb:"\u0e44\u0e1f\u0e25\u0e4c1"},photoUrl1:{stType:"array",validate:fe,pattern:de,lb:"\u0e23\u0e39\u0e1b1"}},shopInfoState:{id:{stType:"number",validate:be,pattern:se},file1:{stType:"file",validate:he,pattern:null},photoUrl1:{stType:"array",validate:fe,pattern:de},shopInfo:{stType:"object",stChildren:{nameOfShop:{stType:"string",validate:be,pattern:me},nameOfShopActive:{stType:"boolean",validate:be,pattern:pe},address:{stType:"string",validate:be,pattern:me},addressActive:{stType:"boolean",validate:be,pattern:pe},contact:{stType:"string",validate:be,pattern:me},contactActive:{stType:"boolean",validate:be,pattern:pe},branch:{stType:"string",validate:be,pattern:me},branchActive:{stType:"boolean",validate:be,pattern:pe},other:{stType:"string",validate:be,pattern:me},otherActive:{stType:"boolean",validate:be,pattern:pe},logoActive:{stType:"boolean",validate:be,pattern:pe}}}},shopPaymentState:{file1:{stType:"file",validate:he,pattern:null},photoUrl1:{stType:"array",validate:fe,pattern:de}},transactionState:{id:{stType:"number",validate:be,pattern:se,lb:"\u0e23\u0e2b\u0e31\u0e2a\u0e40\u0e2d\u0e01\u0e2a\u0e32\u0e23"},newId:{stType:"number",validate:be,pattern:se,lb:"\u0e23\u0e2b\u0e31\u0e2a\u0e40\u0e2d\u0e01\u0e2a\u0e32\u0e23\u0e43\u0e2b\u0e21\u0e48"},date:{stType:"date",validate:be,pattern:ue,lb:"\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48"},remindDate:{stType:"date",validate:be,pattern:ue,lb:"\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48\u0e41\u0e08\u0e49\u0e07\u0e40\u0e15\u0e37\u0e2d\u0e19"},branch:{stType:"string",validate:be,pattern:me,lb:"\u0e2a\u0e32\u0e02\u0e32"},transactionType:{stType:"string",validate:be,pattern:me,lb:"\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17\u0e40\u0e2d\u0e01\u0e2a\u0e32\u0e23"},transactionStatus:{stType:"string",validate:be,pattern:me,lb:"\u0e2a\u0e16\u0e32\u0e19\u0e30\u0e40\u0e2d\u0e01\u0e2a\u0e32\u0e23"},active:{stType:"string",validate:be,pattern:me,lb:"\u0e41\u0e2d\u0e04\u0e17\u0e35\u0e1f"},table:{stType:"string",validate:be,pattern:me,lb:"\u0e42\u0e15\u0e4a\u0e30"},tableStatus:{stType:"string",validate:be,pattern:me,lb:"\u0e2a\u0e16\u0e32\u0e19\u0e30\u0e42\u0e15\u0e4a\u0e30"},paymentType:{stType:"string",validate:be,pattern:me,lb:"\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17\u0e01\u0e32\u0e23\u0e0a\u0e33\u0e23\u0e30\u0e40\u0e07\u0e34\u0e19"},effectStock:{stType:"string",validate:be,pattern:me,lb:"\u0e01\u0e23\u0e30\u0e17\u0e1a\u0e2a\u0e15\u0e47\u0e2d\u0e01"},effectSpending:{stType:"string",validate:be,pattern:me,lb:"\u0e01\u0e23\u0e30\u0e17\u0e1a\u0e08\u0e2d\u0e07"},effectCustomerPoint:{stType:"string",validate:be,pattern:me,lb:"\u0e01\u0e23\u0e30\u0e17\u0e1a\u0e41\u0e1c\u0e19"},partnerId:{stType:"number",validate:be,pattern:se,lb:"\u0e23\u0e2b\u0e31\u0e2a\u0e04\u0e39\u0e48\u0e04\u0e49\u0e32"},partnerType:{stType:"string",validate:be,pattern:me,lb:"\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17\u0e04\u0e39\u0e48\u0e04\u0e49\u0e32"},title:{stType:"string",validate:be,pattern:me,lb:"\u0e04\u0e33\u0e19\u0e33\u0e2b\u0e19\u0e49\u0e32"},name:{stType:"string",validate:be,pattern:me,lb:"\u0e0a\u0e37\u0e48\u0e2d"},phone:{stType:"array",validate:fe,pattern:se,lb:"\u0e42\u0e17\u0e23\u0e28\u0e31\u0e1e\u0e17\u0e4c"},address:{stType:"string",validate:be,pattern:me,lb:"\u0e17\u0e35\u0e48\u0e2d\u0e22\u0e39\u0e48"},remark:{stType:"string",validate:be,pattern:me,lb:"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15\u0e38"},total:{stType:"number",validate:be,pattern:se,lb:"\u0e23\u0e27\u0e21"},totalReduction:{stType:"number",validate:be,pattern:se,lb:"\u0e23\u0e27\u0e21\u0e2a\u0e48\u0e27\u0e19\u0e25\u0e14"},totalTax:{stType:"number",validate:be,pattern:se,lb:"\u0e23\u0e27\u0e21\u0e20\u0e32\u0e29\u0e35"},grandTotal:{stType:"number",validate:be,pattern:se,lb:"\u0e2a\u0e38\u0e17\u0e3a\u0e18\u0e34"},totalPoint:{stType:"number",validate:be,pattern:se,lb:"\u0e41\u0e15\u0e49\u0e21"},customerPointReduction:{stType:"number",validate:be,pattern:se,lb:"\u0e2b\u0e31\u0e01\u0e41\u0e15\u0e49\u0e21\u0e2a\u0e30\u0e2a\u0e21"},detail:{stType:"arrayObject",stChildren:{id:{stType:"number",validate:be,pattern:se,lb:"\u0e23\u0e2b\u0e31\u0e2a\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"},barcode:{stType:"string",validate:be,pattern:me,lb:"\u0e1a\u0e32\u0e23\u0e4c\u0e42\u0e04\u0e49\u0e14"},productName:{stType:"string",validate:be,pattern:me,lb:"\u0e0a\u0e37\u0e48\u0e2d\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"},groupId:{stType:"number",validate:be,pattern:se,lb:"\u0e23\u0e2b\u0e31\u0e2a\u0e01\u0e25\u0e38\u0e48\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"},groupName:{stType:"string",validate:be,pattern:me,lb:"\u0e01\u0e25\u0e38\u0e48\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"},unit:{stType:"string",validate:be,pattern:me,lb:"\u0e2b\u0e19\u0e48\u0e27\u0e22"},price:{stType:"number",validate:be,pattern:se,lb:"\u0e23\u0e32\u0e04\u0e32"},priceLevel:{stType:"arrayObject",stChildren:{price:{stType:"number",validate:be,pattern:se,lb:"\u0e23\u0e32\u0e04\u0e32"},remark:{stType:"string",validate:be,pattern:me,lb:"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15\u0e38"}}},quantity:{stType:"number",validate:be,pattern:se,lb:"\u0e08\u0e33\u0e19\u0e27\u0e19"},result:{stType:"number",validate:be,pattern:se,lb:"\u0e23\u0e27\u0e21"},remark:{stType:"string",validate:be,pattern:me,lb:"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15\u0e38"},isRawMat:{stType:"boolean",validate:be,pattern:pe,stDefault:!0,lb:"\u0e40\u0e1b\u0e47\u0e19\u0e27\u0e31\u0e15\u0e16\u0e38\u0e14\u0e34\u0e1a"},jobStatus:{stType:"string",validate:be,pattern:me,lb:"\u0e2a\u0e16\u0e32\u0e19\u0e30\u0e07\u0e32\u0e19"},point:{stType:"number",validate:be,pattern:se,lb:"\u0e41\u0e15\u0e49\u0e21"}}}}},ye=(a(127),ae.reloadImage),ve=ae.deleteFileUrl,we=ae.deletePhotoUrl;function Ee(e){var t,a=e.fileUrl,n=e.arrayFile,c=e.setArrayFile,o=e.keyName,r=e.setShowImage,s=e.inputState,m=e.setInputState,u=(e.useYoutubeLink,[]);s[o].map((function(e){""!=e&&(u=[].concat(Object(d.a)(u),[e]))}));var p=(t=a.length>0?[a[0]]:[u[0]]).length;1==p&&(t[0]||(p=0));var b=l.a.useState(""),f=Object(i.a)(b,2),h=f[0],g=f[1],y=l.a.useRef(),v=l.a.useRef();l.a.useEffect((function(){if(t&&t.length>0){var e=100*t.length;g("".concat(e,"%"))}}),[]);return l.a.createElement("div",{className:"bgc-lightGray",style:{height:"100%",overflow:"hidden"}},l.a.createElement("input",{type:"file",accept:"image/jpeg,image/png,image/jpg,image/*",style:{display:"none"},ref:v,onChange:function(e){c(e.target.files)}}),l.a.createElement("div",{style:{display:"flex",alignItems:"baseline",justifyContent:"flex-start",flexWrap:"wrap",width:"100%",height:"10%"}},l.a.createElement("button",{onClick:function(e){v.current.click()}},l.a.createElement(B.b,null)),l.a.createElement("p",null,"# = ",p)),t?l.a.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center"}},l.a.createElement("div",{className:"img-frame",id:"img-id",ref:y,style:{height:"60%",width:"60%"},onClick:function(e){}},l.a.createElement("div",{className:"img-track",style:{display:"flex",width:h,height:"80%",marginBottom:"2rem"}},function(e){for(var t=e.length,a=0;a<t;a++)if(e[a]&&e[a].blob){!1;break}if(e)return e.map((function(e,t){return e?(e.blob?(u=!0,a=e.blob,i=e.name):(u=!1,a=e,i=e),l.a.createElement("div",{key:t,style:{height:"100%",width:"100%",display:"grid",placeItems:"center",position:"relative"},onClick:function(e){ye({setShowImage:r})}},l.a.createElement("img",{className:"img",src:a,style:{width:"100%",height:"auto"}}),l.a.createElement(G.j,{style:{position:"absolute",border:u?"3px solid red":"3px solid green",fontSize:"2rem",backgroundColor:"white",top:"0.2rem",right:"0.2rem",zIndex:"0",borderRadius:"50%"},onClick:function(e){u?(console.log("isFile True......"),ve({name:i,arrayFile:n,setArrayFile:c,reloadImage:ye,setShowImage:r})):(console.log("isFile false........................"),we({name:i,inputState:s,setInputState:m,keyName:o,reloadImage:ye,setShowImage:r}))}}))):null;var a,i,u}))}(t)))):null)}Ee.defaultProps={useYoutubeLink:!0};var Ne=oe.genFD,je=oe.addSingleFileNameInsteadOfPhotoUrl;var Oe=function(e){var t=e.setShowShopMonthlyFee,a=l.a.createRef(),n=l.a.createRef(),c={shopName:l.a.createRef(),username:l.a.createRef(),password:l.a.createRef()},o=l.a.useState(!1),r=Object(i.a)(o,2),s=r[0],u=r[1],b=l.a.useState(!0),h=Object(i.a)(b,2),g=h[0],y=h[1],v={formHead:"Shop Log In Before Payment",shopName:"Shop Name",password:"Password"},w={shopName:"Shop Name",expirationDate:"Expiration Date",monthlyFee:"Monthly Fee"},E=l.a.useState({shopName:"",token:"",expirationDate:"",monthlyFee:"",photoUrl1:[""],file1:null}),N=Object(i.a)(E,2),j=N[0],O=N[1],k=l.a.useState({shopName:"",password:""}),x=Object(i.a)(k,2),T=x[0],S=x[1],C={shopName:function(){return c.password.current.focus()},password:function(){return a.current.focus()}},F=ae.changeArrayFile,D=l.a.useState(!0),I=Object(i.a)(D,2),P=I[0],R=I[1],A=l.a.useState([]),M=Object(i.a)(A,2),B=M[0],U=M[1],H=l.a.useState([]),_=Object(i.a)(H,2),K=_[0],z=_[1];l.a.useEffect((function(){}),[K]),l.a.useEffect((function(){F({arrayFile:B,fileUrl:K,setFileUrl:z,inputState:j,setInputState:O,keyName:"photoUrl1",setShowImage:R})}),[B]);var q=function(e){console.log("shopLogInForPayment......"),f.a.post("/p35shop/shoploginforpayment",e).then((function(e){var t=e.data,a=t.shopName,n=t.monthlyFee,l=t.expirationDate,c=t.token;O(Object(p.a)({},j,{shopName:a,monthlyFee:n,expirationDate:l,token:c})),S({shopName:"",password:""}),u(!0)})).catch((function(e){}))},$=function(e){var t=e.pageForm,o=e.setInputState,r=e.inputState,i=e.submitFunc,s=e.submitCancel,u=e.nextRef,d=Object.keys(t),b=Object.keys(r);return l.a.createElement("div",{className:"w-100",style:{padding:"1rem"}},l.a.createElement("div",{className:"flex-center-center w-100",style:{marginBottom:"1rem"}},l.a.createElement("h3",null,t[d[0]])),b.map((function(e,a){return function(e,a){return"password"==e||"newPassword1"==e||"newPassword2"==e||"confirmPassword"==e?l.a.createElement("div",{key:a,className:"flex-center-center jc-start w-100",style:{marginBottom:"1rem"}},l.a.createElement("div",{className:"xc4"},t[e]),l.a.createElement("div",{className:"xc8",style:{position:"relative"}},l.a.createElement("input",{type:g?"password":"text",value:r[e],ref:c[e],onChange:function(t){o(Object(p.a)({},r,Object(m.a)({},e,t.target.value)))},onKeyDown:function(t){"Enter"==t.key&&u[e]()},autoComplete:"one-time-code"}),g?l.a.createElement(G.E,{className:"sm-icon",style:{position:"absolute",top:"0.2rem",right:"0.3rem"},onClick:function(e){y(!g)}}):l.a.createElement(G.D,{className:"sm-icon",style:{position:"absolute",top:"0.2rem",right:"0.3rem"},onClick:function(e){y(!g)}}))):l.a.createElement("div",{key:a,className:"flex-center-center jc-start w-100",style:{marginBottom:"1rem"}},l.a.createElement("div",{className:"xc4"},t[e]),l.a.createElement("div",{className:"xc8"},l.a.createElement("input",{ref:c[e],type:"id"==e?"number":"text",value:r[e],onChange:function(t){o(Object(p.a)({},r,Object(m.a)({},e,t.target.value)))},onKeyDown:function(t){"Enter"==t.key&&u[e]()}})))}(e,a)})),l.a.createElement("div",{className:"flex-center-center jc-end jc-start w-100"},l.a.createElement("button",{ref:a,onClick:function(e){return i(r,o)}},l.a.createElement(L.f,null)),s&&l.a.createElement("button",{ref:n,onClick:function(e){return s()}},l.a.createElement(L.a,null))))},W=function(){var e=Object.keys(j),a=[];return e.map((function(e){"token"==e||"photoUrl1"==e||"file1"==e||(a=[].concat(Object(d.a)(a),[e]))})),e=a,l.a.createElement("div",{style:{}},l.a.createElement("div",{className:"w-100",style:{padding:"1rem"}},l.a.createElement("div",{className:"flex-center-center w-100",style:{marginBottom:"1rem"}},l.a.createElement("h3",null,"Update Your Payment Slip")),e.map((function(e,t){return l.a.createElement("div",{key:t,className:"flex-center-center jc-start w-100",style:{marginBottom:"1rem"}},l.a.createElement("div",{className:"xc4"},w[e]),l.a.createElement("div",{className:"xc8",style:{position:"relative"}},"expirationDate"==e?new Date(j[e]).toLocaleString("en-GB").substring(0,17):j[e]))})),l.a.createElement("div",{className:"xc12 form-row h-100",style:{justifyContent:"space-around"}},l.a.createElement("div",{className:"xc4 sc10 bgc-darkGray bd-lightGray h-100"},P?l.a.createElement(Ee,{fileUrl:K,arrayFile:B,setArrayFile:U,keyName:"photoUrl1",setShowImage:R,inputState:j,setInputState:O}):null)),l.a.createElement("div",{className:"flex-center-center jc-end jc-start w-100"},l.a.createElement("button",{ref:n,onClick:function(e){!function(e){var a={headers:{"Content-Type":"application/json",Shopauthorization:"b ".concat(j.token)}};console.log("submitShopPayment"),console.log(j);var n,l=e.file1,c=e.photoUrl1;if(l&&l.length&&l[0].name){n=je({file1:l,photoUrl1:c}),console.log("tempFormInputState2"),console.log(n);var o=Ne({inputState:n,template:{file1:ge.shopPaymentState.file1,photoUrl1:ge.shopPaymentState.photoUrl1}});f.a.post("/p35shoppayment/payshopfee",o,a).then((function(e){console.log("result"),console.log(e),t(!1),s(!1)})).catch((function(e){}))}}(j)}},l.a.createElement(L.f,null)),l.a.createElement("button",{onClick:function(e){u(!1),t(!1)}},l.a.createElement(L.a,null)))))};return s?W():l.a.createElement("div",{className:"w-100 h-100"},$({pageForm:v,setInputState:S,inputState:T,submitFunc:q,nextRef:C,submitCancel:function(){S({shopName:"",password:""}),t(!1)}}))};a(62);function ke(e){var t=e.useShopLogOut,a=e.tokenSt,n=e.setReloadCheckToken,c=e.user,o=e.useHomeIcon,r=e.myheader,m=e.useBillWaveIcon;console.log("LogOutTool");var u=a.haveShopToken,d=a.haveUserToken,p=l.a.createRef(),b=l.a.useState(!1),f=Object(i.a)(b,2),h=f[0],g=f[1];return l.a.createElement("div",{className:"",style:{position:"fixed",right:"0.1rem",top:"0.1rem"}},l.a.createElement("div",{className:"",style:{borderRadius:"1.2rem",padding:"0 0.5rem",height:"2rem",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"nowrap"}},o&&l.a.createElement("div",{className:"iconbox",onClick:function(e){return p.current.click()}},l.a.createElement($,{iconName:"FaHome",className:"navIcon",iconStyle:function(){var e=new Date,t=localStorage.getItem("expirationDate"),a=new Date(t);if(!t)return null;var n=new Date(a.toISOString());n.setDate(n.getDate()-3);var l=new Date(n);e.getTime(),a.getTime();return e>a?{color:"red"}:e>l?{color:"yellow"}:{color:"green"}}()})),c?l.a.createElement("div",{className:"flex-center-center h-100",style:{color:"white",margin:"0 0.4rem"}},"".concat(c.username,"@").concat(c.shopId)):null,d?l.a.createElement("div",{className:"iconbox",onClick:function(e){localStorage.removeItem("userauthorization"),localStorage.removeItem("username"),n(!0),window.location.reload()}},l.a.createElement($,{iconName:"RiLogoutBoxRFill",className:"navIcon"})):u?t&&l.a.createElement("div",{className:"iconbox",onClick:function(e){localStorage.removeItem("shopauthorization"),localStorage.removeItem("expirationDate"),n(!0),window.location.reload()}},l.a.createElement($,{iconName:"MdLogout",className:"navIcon"})):null),m&&l.a.createElement("div",{className:"iconbox",style:{width:"100%",display:"flex",justifyContent:"center",paddingRight:"",padding:"0.5rem"},onClick:function(e){g(!0)}},l.a.createElement($,{iconName:"FaMoneyBillWave",className:"navIconCircle"})),h&&l.a.createElement("div",{className:"Modal-background"},l.a.createElement("div",{className:"Modal-box"},l.a.createElement(Oe,{myheader:r,setShowShopMonthlyFee:g}))),l.a.createElement("div",{style:{display:"none"}},l.a.createElement("div",null,l.a.createElement(s.b,{ref:p,to:"/pos/home"}))))}ke.defaultProps={useShopLogOut:!0,useHomeIcon:!0};var xe=ke;function Te(){var e=l.a.useContext(R),t=e.basicDataSt,a=e.setReloadCheckToken,n=e.tokenSt,c=l.a.createRef(),o=l.a.createRef(),r=l.a.createRef(),i=l.a.createRef(),m=l.a.createRef(),u=l.a.createRef();return l.a.createElement("div",{className:"navFrame flex-center-center jc-space-between"},l.a.createElement("div",{id:"1",className:"h-100",style:{position:"absolute",top:"0",left:"0",width:"87%",display:"flex",alignItems:"center",justifyContent:"start",overflowX:"auto",overflowY:"hidden"}},l.a.createElement("div",{className:"navLink",onClick:function(e){return c.current.click()}},l.a.createElement("div",{className:"navIconBox",style:{position:"relative"}},l.a.createElement($,{iconName:"FaHome",className:"navIcon",iconStyle:function(){var e=new Date,t=localStorage.getItem("expirationDate"),a=new Date(t);if(!t)return null;var n=new Date(a.toISOString());n.setDate(n.getDate()-3);var l=new Date(n);e.getTime(),a.getTime();return e>a?{color:"red"}:e>l?{color:"yellow"}:{color:"#74b979"}}()}))),l.a.createElement("div",{className:"navLink",onClick:function(e){return o.current.click()}},l.a.createElement("div",{className:"navIconBox"},l.a.createElement($,{iconName:"MdTune",className:"navIcon"}))),l.a.createElement("div",{className:"navLink",onClick:function(e){return r.current.click()}},l.a.createElement("div",{className:"navIconBox"},l.a.createElement($,{iconName:"MdPerson",className:"navIcon"}))),l.a.createElement("div",{className:"navLink",onClick:function(e){return i.current.click()}},l.a.createElement("div",{className:"navIconBox"},l.a.createElement($,{iconName:"MdFastfood",className:"navIcon"}))),l.a.createElement("div",{className:"navLink",onClick:function(e){return u.current.click()}},l.a.createElement("div",{className:"navIconBox"},l.a.createElement($,{iconName:"BsShop",className:"navIcon"})))),l.a.createElement("div",{id:"2",className:"hide-logouttool"},n&&a&&t&&l.a.createElement(xe,{tokenSt:n,setReloadCheckToken:a,user:t.user,useHomeIcon:!1,useShopLogOut:!1})),l.a.createElement("div",{className:"d-none"},l.a.createElement(s.b,{ref:c,to:"/pos/home"}),l.a.createElement(s.b,{ref:o,to:"/pos/branch"}),l.a.createElement(s.b,{ref:r,to:"/pos/partner"}),l.a.createElement(s.b,{ref:i,to:"/pos/product"}),l.a.createElement(s.b,{ref:m,to:"/pos/transaction"}),l.a.createElement(s.b,{ref:u,to:"/pos/bill"})))}var Se=function(e){var t=e.template,a={},n={};try{return function e(t){var a=t.tPt,n=t.stObj,c=t.refObj;Object.keys(a).map((function(t,o){var r=a[t],i=r.stType,s=(r.valPattern,r.stChildren),m=r.stDefault;"object"==i?(n[t]={},c[t]={},e({tPt:s,stObj:n[t],refObj:c[t]})):"arrayObject"==i?(n[t]=[{}],c[t]=[{}],e({tPt:s,stObj:n[t][0],refObj:c[t][0]})):"file"==i?(c[t]=l.a.createRef(),n[t]=m||null):"array"==i?(c[t]=[l.a.createRef()],n[t]=m||[""]):"number"==i?(isNaN(m)?n[t]=0:n[t]=m,c[t]=l.a.createRef()):"boolean"==i?(n[t]=(0==m||1==m)&&m,c[t]=l.a.createRef()):(n[t]=m||"",c[t]=l.a.createRef())}))}({tPt:t,stObj:a,refObj:n}),{state:a,ref:n}}catch(c){return null}},Ce={dateNow:function(){var e=new Date;return e=(e=e.toISOString()).substring(0,10)},combineLoadDataBlankState:function(e){var t=e.template,a=e.loadData,n=Se({template:t}),l={};try{return function e(t){var a=t.tPt,n=t.stObj,l=t.lDt,c=t.bDt;Object.keys(a).map((function(t,o){var r=a[t],i=r.stType,s=(r.valPattern,r.stChildren),m=r.stDefault;if("object"==i)n[t]={},e({tPt:s,stObj:n[t],lDt:l[t],bDt:c[t]});else if("arrayObject"==i){var u=[];l[t]?0==l[t].length?n[t]=c[t]:(l[t].map((function(e){u=[].concat(Object(d.a)(u),[{}])})),n[t]=u,l[t].map((function(a,o){e({tPt:s,stObj:n[t][o],lDt:l[t][o],bDt:c[t][0]})}))):n[t]=c[t]}else if("file"==i)l[t]?n[t]=l[t]:n[t]=m||null;else if("array"==i)l[t]?0==l[t].length?n[t]=m||[""]:n[t]=l[t]:n[t]=m||[""];else if("boolean"==i)1==l[t]||0==l[t]?n[t]=l[t]:n[t]=(1==m||0==m)&&m;else if("number"==i){var p=l[t];isNaN(p)?isNaN(m)?n[t]=0:n[t]=m:n[t]=l[t]}else l[t]?n[t]=l[t]:n[t]=m||""}))}({tPt:t,stObj:l,lDt:a,bDt:n.state}),l}catch(c){return null}},genBlankState:Se,genRefAndValue:function(e){var t=e.template,a=e.FData,n={},c=[],o=[];!function e(t){var a=t.tPt,r=t.fDt,i=t.location,s=t.obj;Object.keys(a).map((function(t,m){var u=a[t],p=u.templateType,b=u.subFormTemplate,f=(u.ref,u.nextRef,u.first,u.lastRef);u.outSideRef;if("object"==p)s[t]={},e({tPt:b,fDt:r[t],location:[].concat(Object(d.a)(i),[t]),obj:s[t]});else if("array"==p){var h=[];r[t].map((function(e,a){var r=[].concat(Object(d.a)(i),[t,a]),s={value:e,ref:l.a.createRef(),location:r};if(h=[].concat(Object(d.a)(h),[s]),0==a){var m=n;c.map((function(e){m=m[e]})),m.nextRef=r}else h[a-1].nextRef=r;f&&(o=r),c=r})),s[t]=h}else if("arrayObject"==p){s[t]=[];for(var g=0;g<r[t].length;g++)s[t]=[].concat(Object(d.a)(s[t]),[{}]);r[t].map((function(a,n){e({tPt:b,fDt:a,location:[].concat(Object(d.a)(i),[t,n]),obj:s[t][n]})}))}else if("icon"==p);else{var y=[].concat(Object(d.a)(i),[t]),v={value:r[t],ref:l.a.createRef(),location:y};s[t]=v;var w=n;c.map((function(e){w=w[e]})),w.nextRef=y,f&&(o=y),c=y}}))}({tPt:t,fDt:a,location:[],obj:n});var r=n;c.map((function(e){r=r[e]})),r.nextRef=null;var i=n;return o.map((function(e){i=i[e]})),i.lastRef=!0,n},revRefAndValue:function(e){var t={};return function e(t){var a=t.tPt,n=t.rAv,l=t.obj;Object.keys(a).map((function(t,c){var o=a[t],r=o.templateType,i=o.subFormTemplate;o.ref,o.nextRef,o.first,o.lastRef,o.outSideRef;if("object"==r)l[t]={},e({tPt:i,rAv:n[t],obj:l[t]});else if("array"==r){var s=[];n[t].map((function(e){s=[].concat(Object(d.a)(s),[e.value])})),l[t]=s}else if("arrayObject"==r){l[t]=[];for(var m=0;m<n[t].length;m++)l[t]=[].concat(Object(d.a)(l[t]),[{}]);n[t].map((function(a,c){e({tPt:i,rAv:n[t][c],obj:l[t][c]})}))}else"icon"==r||(l[t]=n[t].value)}))}({tPt:e.template,rAv:e.refAndValue,obj:t}),t},findEmptyArrayInData:function e(t,a,n,l){var c=!1;Object.keys(t).map((function(l){"array"==t[l].stType&&Array.isArray(a[l])&&0==a[l].length&&(a[l]=n[l],c=!0),"arrayObject"==t[l].stType&&Array.isArray(a[l])&&(0==a[l].length?(a[l]=n[l],c=!0):t[l].stChildren&&e(t[l].stChildren,a[l],n[l]))})),c&&l(a)},convertFilterDataToGraphData:function(e){var t=e.template,a=e.filterData,n=e.inputState;if(e.totalSwapPage<3)return null;if(!a)return null;var l,c,o=Object.keys(t),r=[];t.detail&&(l=Object.keys(t.detail.stChildren),(c=l.map((function(e){return"detail_".concat(e)}))).map((function(e,t){n[e].toCheck&&(r=[].concat(Object(d.a)(r),[e]))})));var i=[],s=[];a.map((function(e){if(t.detail){var a=function(e){var a={};return o.map((function(n,l){"string"!=t[n].stType&&"date"!=t[n].stType||(e[n]?a[n]=e[n]:a[n]=""),"number"==t[n].stType&&(e[n]?a[n]=e[n]:a[n]=0)})),a}(e);s=[].concat(Object(d.a)(s),[a]);var n=Object(p.a)({},a);e.detail.map((function(e){l.map((function(a,l){var o=c[l];"string"!=t.detail.stChildren[a].stType&&"date"!=t.detail.stChildren[a].stType||(n=e[a]?Object(p.a)({},n,Object(m.a)({},o,e[a])):Object(p.a)({},n,Object(m.a)({},o,""))),"number"==t.detail.stChildren[a].stType&&(n=e[a]?Object(p.a)({},n,Object(m.a)({},o,e[a])):Object(p.a)({},n,Object(m.a)({},o,0)))})),i=[].concat(Object(d.a)(i),[n])}))}}));var u=[];return i.map((function(e){var t=!1;r.map((function(a,l){var c=e[a],o=n[a].min,r=n[a].max,i=n[a].value;o&&r?c>o&&c<r&&(t||(t=!0)):o?c>o&&(t=!0):r&&c<r&&(t=!0),i&&function(e){var t=e.pttn,a=e.str;return new RegExp(t).test(a)}({pttn:i,str:c})&&(t=!0)})),t&&(u=[].concat(Object(d.a)(u),[e]))})),{noDetail:s,wiDetail:u,allDetail:i}}},Fe=w.createTableTemplateForPage,De=w.convertTableTemplateObjToArray,Ie=oe.genArrayForFilterAxios,Pe=oe.genFD,Re=oe.addSingleFileNameInsteadOfPhotoUrl,Ae=oe.catchErrorToMessage,Me={reloadAxiosAll:function(e,t){var a=e.pageNumber,n=e.limitRow,l=e.sort,c=e.qry,o=e.dataUrl,r=e.tableTemplateUrl,i=e.tableTemplateName,s=e.detailTableTemplateName,m=e.detailTableTemplateForFormName,u=e.selectProduct;return new Promise((function(b,h){var g=f.a.post("/".concat(o,"/getlimit"),Object(p.a)({pageNumber:a,limitRow:n,sort:l},c),t),y=f.a.post("/".concat(r,"/getcustom"),{},t);Promise.all([g,y]).then((function(t){var a=Fe(t[1].data.data),n=function(e,t){var a;a=t||[];var n=[];e.map((function(e,t){var a=Object(p.a)({},e,{selectedLine:!1,_id:ie()()});n=[].concat(Object(d.a)(n),[a])}));var l=[];return n.map((function(e){var t=e;a.map((function(a){e.id==a.id&&(t=Object(p.a)({},t,{selectedLine:a.selectedLine}))})),l=[].concat(Object(d.a)(l),[t])})),l}(t[0].data.data,u),l=Object(p.a)({},e,{data0:n,count:t[0].data.count,lastRecordId:t[0].data.lastRecordId,tableTemplate:a[i],detailTableTemplate:a[s],detailTableTemplateForForm:a[m],reloadData:!1});b(l)})).catch((function(t){console.log(t);var a=Object(p.a)({},e,{reloadData:!1,message:Ae(t),showModalConfirm:!1,showModalError:!0});console.log("tempError"),h(a)}))}))},reloadAxiosTableTemplate:function(e,t){e.pageNumber,e.limitRow,e.sort,e.qry,e.dataUrl;var a=e.tableTemplateUrl,n=e.tableTemplateName,l=e.detailTableTemplateName,c=e.detailTableTemplateForFormName;e.selectProduct;return new Promise((function(o,r){f.a.post("/".concat(a,"/getcustom"),{},t).then((function(t){var a=Fe(t.data.data),r=Object(p.a)({},e,{tableTemplate:a[n],detailTableTemplate:a[l],detailTableTemplateForForm:a[c],reloadData:!1});o(r)})).catch((function(t){var a=Object(p.a)({},e,{reloadData:!1,message:Ae(t),showModalConfirm:!1,showModalError:!0});r(a)}))}))},saveTableTemplate:function(e,t,a,n){console.log("saveTableTemplate"),console.log(t),console.log(a),console.log(e);var l={};Object.keys(e).map((function(t){var a=e[t];l=Object(p.a)({},l,Object(m.a)({},t,Object(p.a)({},a,Object(m.a)({},"showColHead",!0))))}));var c={tableName:a,template:De(l)};console.log("temp"),console.log(c),f.a.post("/".concat(t,"/updatetabletemplate"),c,n).then((function(e){console.log(e)})).catch((function(e){console.log(Ae(e))}))},updateFilterData:function(e,t,a){var n=a.data0,l=a.selectProduct,c=[];n.map((function(e){c=e._id==t._id?[].concat(Object(d.a)(c),[t]):[].concat(Object(d.a)(c),[e])}));var o=[];return l.map((function(e){e._id==t._id||(o=[].concat(Object(d.a)(o),[e]))})),o=[].concat(Object(d.a)(o),[t]),{data0:c,selectProduct:o}},updateDetailOfFilterData:function(e,t,a){var n=a.detail0,l=a.selectProduct,c=[];n.map((function(e){c=e._id==t._id?[].concat(Object(d.a)(c),[t]):[].concat(Object(d.a)(c),[e])}));var o=[];return l.map((function(e){e._id==t._id||(o=[].concat(Object(d.a)(o),[e]))})),o=[].concat(Object(d.a)(o),[t]),{detail0:c,selectProduct:o}},submitFunctionEdit:function(e,t,a,n){return new Promise((function(l,c){var o=t.dataUrl,r="updatecustom";o.includes("transaction")&&(r="updatetransaction");var i=e.id,s=e.file1,m=e.photoUrl1,b=e.detail,h=Object(u.a)(e,["id","file1","photoUrl1","detail"]),g=Object(p.a)({id:i},h,{hasDetailProduct:!1}),y=null;if(b&&(y=[],b.map((function(e){e._id;var t=Object(u.a)(e,["_id"]);y=[].concat(Object(d.a)(y),[t])})),g=Object(p.a)({},g,{detail:y}),b.length>0&&b[0]&&(g=Object(p.a)({},g,{hasDetailProduct:!0}))),s){console.log("have file1------------------");var v=Re({id:i,file1:s,photoUrl1:m}),w=Pe({inputState:v,template:{id:a.id,file1:a.file1,photoUrl1:a.photoUrl1}});f.a.post("/".concat(o,"/").concat(r),w,n).then((function(e){return f.a.post("/".concat(o,"/").concat(r),g,n)})).then((function(e){var a=Object(p.a)({},t,{reloadData:!0,showEdit:!1,showAdd:!1,heightTop:95,editData:null,selectGroup:null});l(a)})).catch((function(e){var a=Object(p.a)({},t,{reloadData:!1,message:Ae(e),showModalConfirm:!1,showModalError:!0,editData:g,selectGroup:null});c(a)}))}else f.a.post("/".concat(o,"/").concat(r),Object(p.a)({},g,{photoUrl1:m}),n).then((function(e){var a=Object(p.a)({},t,{reloadData:!0,showEdit:!1,showAdd:!1,heightTop:95,editData:null});l(a)})).catch((function(e){var a=Object(p.a)({},t,{reloadData:!1,message:Ae(e),showModalConfirm:!1,showModalError:!0,editData:g});c(a)}))}))},submitFunctionAdd:function(e,t,a,n){return new Promise((function(l,c){var o=t.dataUrl,r="addcustom",i="updatecustom";o.includes("transaction")&&(r="addtransaction",i="updatetransaction");var s=e.id,m=e.file1,b=e.detail,h=e.photoUrl1,g=Object(u.a)(e,["id","file1","detail","photoUrl1"]),y=Object(p.a)({id:s},g,{hasDetailProduct:!1}),v=null;if(b&&(v=[],b.map((function(e){e._id;var t=Object(u.a)(e,["_id"]);v=[].concat(Object(d.a)(v),[t])})),y=Object(p.a)({},y,{detail:v}),b.length>0&&b[0]&&(y=Object(p.a)({},y,{hasDetailProduct:!0}))),m){var w=Re({id:s,file1:m,photoUrl1:h}),E=Pe({inputState:w,template:{id:a.id,file1:a.file1,photoUrl1:a.photoUrl1}});f.a.post("/".concat(o,"/").concat(r),y,n).then((function(e){return f.a.post("/".concat(o,"/").concat(i),E,n)})).then((function(e){var a=Object(p.a)({},t,{reloadData:!0,showEdit:!1,showAdd:!1,selectGroup:null,heightTop:95});l(a)})).catch((function(e){var a=Object(p.a)({},t,{reloadData:!1,message:Ae(e),showModalConfirm:!1,showModalError:!0,editData:y,selectGroup:null});c(a)}))}else f.a.post("/".concat(o,"/").concat(r),Object(p.a)({},y,{photoUrl1:h}),n).then((function(e){var a=Object(p.a)({},t,{reloadData:!0,showEdit:!1,showAdd:!1,heightTop:95});l(a)})).catch((function(e){var a=Object(p.a)({},t,{reloadData:!1,message:Ae(e),showModalConfirm:!1,showModalError:!0,editData:y});c(a)}))}))},filterAxios:function(e,t,a,n,l,c){console.log("filterAxios.....");var o="getlimit";return c&&(o=c),new Promise((function(c,r){var i=n.pageNumber,s=n.limitRow,m=n.sort,u=n.dataUrl,d=Ie({filterTemplate:a,inputState:t}),b=null;"and"==e&&(b={$and:d}),"or"==e&&(b={$or:d}),f.a.post("/".concat(u,"/").concat(o),Object(p.a)({pageNumber:i,limitRow:s,sort:m},b),l).then((function(e){var t=Object(p.a)({},n,{data0:e.data.data,count:e.data.count,lastRecordId:e.data.lastRecordId,reloadData:!1,pageNumber:1,qry:b});c(t)})).catch((function(e){var t=Object(p.a)({},n,{reloadData:!1,message:Ae(e),showModalConfirm:!1,showModalError:!0,pageNumber:1,qry:b});r(t)}))}))},setUnSelectAll:function(e){var t=[];return e.data0.map((function(e){t=[].concat(Object(d.a)(t),[Object(p.a)({},e,{selectedLine:!1})])})),Object(p.a)({},e,{selectProduct:[],data0:t})},submitFunctionDelete:function(e,t){return new Promise((function(a,n){var l=e.dataUrl,c=e.selectProduct,o="deletemany";"transaction"==l&&(o="deletetransaction");var r=[];c.map((function(e){e.selectedLine&&(r=[].concat(Object(d.a)(r),[e.id]))}));var i={id:{$in:r}};f.a.post("/".concat(l,"/").concat(o),i,t).then((function(t){var n=Object(p.a)({},e,{reloadData:!0,showModalConfirm:!1,selectProduct:[]});a(n)})).catch((function(t){var a=Object(p.a)({},e,{reloadData:!1,message:Ae(t),showModalConfirm:!1,showModalError:!0});n(a)}))}))}};a(21);function Be(e){var t=e.pageData,a=(e.lb,e.setShow),n=e.submitFunction,c=l.a.useState(!1),o=Object(i.a)(c,2),r=o[0],s=o[1];l.a.useEffect((function(){r||s(!0)}),[r]);var u=l.a.createRef(),d=l.a.createRef(),b=(l.a.createRef(),l.a.createRef()),f=l.a.createRef(),h=l.a.createRef(),g=l.a.useState(!0),y=Object(i.a)(g,2),v=y[0],w=y[1],E=l.a.useState({shopName:"",password:"",newPassword1:"",newPassword2:""}),N=Object(i.a)(E,2),j=N[0],O=N[1];l.a.useEffect((function(){}),[j]);var k=function(e){return"shopName"==e||"password"==e?b:"newPassword1"==e?f:"newPassword2"==e?h:null},x=function(e){return"shopName"==e?"text":v?"password":"text"};return l.a.createElement("div",{className:"Modal-background"},l.a.createElement("div",{className:"Modal-box",style:{paddingBottom:"1rem",minWidth:"70%",minHeight:"100px"}},l.a.createElement("div",{className:"Modal-header"},l.a.createElement("div",null,l.a.createElement("h5",null,t.shopChangePassword.formHead)),l.a.createElement("div",{style:{display:"flex",position:"fixed",bottom:"1rem",right:"2rem",zIndex:"100"}},l.a.createElement("div",null,l.a.createElement("button",{ref:u,onKeyDown:function(e){},onClick:function(e){n&&n(j)}},l.a.createElement(L.f,null))),l.a.createElement("div",null,l.a.createElement("button",{ref:d,onKeyDown:function(e){},onClick:function(e){a(!1)}},l.a.createElement(L.a,null))))),l.a.createElement("div",{className:"Modal-body"},l.a.createElement("div",{className:"ModalInsideBody"},["shopName","password","newPassword1","newPassword2"].map((function(e,a){return l.a.createElement("div",{key:a,className:"w-100 flex-center-center jc-start",style:{marginBottom:"0.2rem"}},l.a.createElement("div",{className:"w-30"},t.shopChangePassword[e]),l.a.createElement("div",{className:"w-70",style:{position:"relative"}},l.a.createElement("input",{ref:k(e),type:x(e),onChange:function(t){!function(e,t){O(Object(p.a)({},j,Object(m.a)({},t,e.target.value)))}(t,e)},onKeyDown:function(t){!function(e,t){"Enter"==e.key&&("shopName"==t&&b.current.focus(),"password"==t&&f.current.focus(),"newPassword1"==t&&h.current.focus(),"newPassword2"==t&&u.current.focus())}(t,e)},autoComplete:"password"==e||"newPassword1"==e||"newPassword2"==e?"one-time-code":null,autoFocus:"shopName"==e?"autoFocus":null}),"shopName"!=e?v?l.a.createElement(G.E,{className:"sm-icon",style:{position:"absolute",top:"0.2rem",right:"0.3rem"},onClick:function(e){w(!v)}}):l.a.createElement(G.D,{className:"sm-icon",style:{position:"absolute",top:"0.2rem",right:"0.3rem"},onClick:function(e){w(!v)}}):null))}))))))}Be.defaultProps={lb:"Form",setShow:function(){},submitFunction:null};var Le=Be;function Ge(e){e.pageData;var t=e.basicValueSetting,a=e.setShow,n=e.submitFunction;console.log("basicValueSetting");var c,o=l.a.createRef(),r=l.a.createRef(),s=function(e){var t=[];return e.map((function(e){t=[].concat(Object(d.a)(t),[l.a.createRef()])})),t},m=l.a.useState(0==(c=t.array).length?[""]:c),u=Object(i.a)(m,2),p=u[0],b=u[1],f=l.a.useState(s(p)),h=Object(i.a)(f,2),g=h[0],y=h[1];l.a.useEffect((function(){}),[p]);l.a.useEffect((function(){}),[p]);return l.a.createElement("div",{className:"Modal-background"},l.a.createElement("div",{className:"Modal-box",style:{paddingBottom:"1rem",minWidth:"60%",minHeight:"100px",maxWidth:"70%"}},l.a.createElement("div",{className:"Modal-header"},l.a.createElement("div",null,l.a.createElement("h5",null,t.lb)),l.a.createElement("div",{style:{display:"flex",position:"fixed",bottom:"1rem",right:"2rem",zIndex:"100"}},l.a.createElement("div",null,l.a.createElement("button",{ref:o,onKeyDown:function(e){"ArrowRight"==e.key&&r.current.focus()},onClick:function(e){n&&(console.log(t),n(p))}},l.a.createElement(L.f,null))),l.a.createElement("div",null,l.a.createElement("button",{ref:r,onKeyDown:function(e){"ArrowLeft"==e.key&&r.current.focus()},onClick:function(e){a(!1)}},l.a.createElement(L.a,null))))),l.a.createElement("div",{className:"Modal-body"},l.a.createElement("div",{className:"ModalInsideBody"},l.a.createElement("div",{className:"w-100 flex-center-start jc-start",style:{marginBottom:"0.2rem"}},l.a.createElement("div",{className:"w-100"},p.map((function(e,t){return l.a.createElement("div",{className:"flex-center-center",key:t,style:{marginBottom:"0.2rem"}},l.a.createElement("div",{className:"w-10"},l.a.createElement(L.u,{className:"sm-icon",onClick:function(e){!function(e){var t=[];p.map((function(a,n){t=[].concat(Object(d.a)(t),n==e?[a,""]:[a])})),y(s(t)),b(t)}(t)}})),l.a.createElement("div",{className:"w-10"},t>0?l.a.createElement(L.r,{className:"sm-icon",onClick:function(e){!function(e){var t=[];p.map((function(a,n){n==e||(t=[].concat(Object(d.a)(t),[a]))})),y(s(t)),b(t)}(t)}}):null),l.a.createElement("div",{className:"w-80"},l.a.createElement("input",{type:"text",ref:g[t],value:e,onKeyDown:function(e){"Enter"==e.key&&(t==p.length-1?o.current.focus():g[t+1].current.focus())},onChange:function(e){!function(e,t){var a=[];p.map((function(n,l){a=[].concat(Object(d.a)(a),l==t?[e.target.value]:[n])})),b(a)}(e,t)},disabled:0==t&&"admin"==e?"disabled":""})))}))))))))}Ge.defaultProps={lb:"Form",setShow:function(){},submitFunction:null};var Ue=Ge;function He(e){e.pageData;var t=e.basicValueSetting,a=e.setShow,n=e.submitFunction;console.log("basicValueSetting2...............");var c=l.a.createRef(),o=l.a.createRef(),r=function(e){var t=[];return e.map((function(a,n){var l=a.branchId+1;t=n==e.length-1||l<e[n+1].branchId?[].concat(Object(d.a)(t),[Object(p.a)({},a,{nextBranchId:l})]):[].concat(Object(d.a)(t),[Object(p.a)({},a,{nextBranchId:null})])})),t},s=l.a.useState(r(t.array)),m=Object(i.a)(s,2),u=m[0],b=m[1],f=l.a.useState({_id:null,branchId:null,branchName:"",status:null}),h=Object(i.a)(f,2),g=h[0],y=h[1];l.a.useEffect((function(){}),[g]),l.a.useEffect((function(){console.log("formInputState"),console.log(u)}),[u]);return l.a.createElement("div",{className:"Modal-background"},l.a.createElement("div",{className:"Modal-box",style:{paddingBottom:"1rem",minWidth:"60%",minHeight:"100px",maxWidth:"70%"}},l.a.createElement("div",{className:"Modal-header"},l.a.createElement("div",null,l.a.createElement("h5",null,t.lb)),l.a.createElement("div",{style:{display:"flex",position:"fixed",bottom:"1rem",right:"2rem",zIndex:"100"}},l.a.createElement("div",null,l.a.createElement("button",{ref:c,onKeyDown:function(e){"ArrowRight"==e.key&&o.current.focus()},onClick:function(e){n&&n(u,g)}},l.a.createElement(L.f,null))),l.a.createElement("div",null,l.a.createElement("button",{ref:o,onKeyDown:function(e){"ArrowLeft"==e.key&&o.current.focus()},onClick:function(e){a(!1)}},l.a.createElement(L.a,null))))),l.a.createElement("div",{className:"Modal-body"},l.a.createElement("div",{className:"ModalInsideBody"},l.a.createElement("div",{className:"w-100 flex-center-start jc-start",style:{marginBottom:"0.2rem"}},l.a.createElement("div",{className:"w-100"},u.map((function(e,t){return l.a.createElement("div",{className:"flex-center-center",key:t,style:{marginBottom:"0.2rem"}},l.a.createElement("div",{className:"w-10"},!g._id&&e.nextBranchId?l.a.createElement(L.u,{className:"sm-icon",onClick:function(t){!function(e){var t=[];u.map((function(a,n){if(a._id==e._id){var l={_id:ie()(),branchId:e.nextBranchId,branchName:"",nextBranchId:null};t=[].concat(Object(d.a)(t),[a,l])}else t=[].concat(Object(d.a)(t),[a])}));var a=r(t);b(a)}(e)}}):null),l.a.createElement("div",{className:"w-10"},t>0&&!g._id?l.a.createElement(L.r,{className:"sm-icon",onClick:function(e){!function(e){var t=[];u.map((function(a,n){n!=e&&(t=[].concat(Object(d.a)(t),[a]))}));var a=r(t);b(a)}(t)}}):null),l.a.createElement("div",{className:"w-80",style:{display:"flex"}},l.a.createElement("div",null,"".concat(e.branchId,".")),e._id==g._id?l.a.createElement("input",{type:"text",value:g.branchName,onChange:function(e){y(Object(p.a)({},g,{branchName:e.target.value}))}}):l.a.createElement("div",{className:"w-100",onClick:function(t){!function(e,t){if(t._id){var a=[];u.map((function(e){a=e._id==t._id?[].concat(Object(d.a)(a),[t]):[].concat(Object(d.a)(a),[e])})),b(a),y({_id:null,branchId:null,branchName:"",status:null})}else y(e)}(e,g)}},e.branchName)))}))))))))}He.defaultProps={lb:"Form",setShow:function(){},submitFunction:null};var _e=He,Ke={showArray:function(e){if(e&&e.length>0){var t="";return e.forEach((function(a,n){t="".concat(t," ").concat(a),n!=e.length-1&&(t="".concat(t,", "))})),t}},showObject:function(e,t){var a=Object.keys(e),n="";return a.map((function(t,l){e[t]&&("_id"==t||(n+=" ".concat(e[t]),l!=a.length-1&&(n="".concat(n,","))))})),n},showAddress:function(e){if(e){var t=e.number,a=e.building,n=e.tambon,l=e.district,c=e.province,o=e.postcode;return(t=t?"\u0e40\u0e25\u0e02\u0e17\u0e35\u0e48 ".concat(t):"")+(a=a?" \u0e2d\u0e32\u0e04\u0e32\u0e23 ".concat(a):"")+(n=n?" \u0e15\u0e33\u0e1a\u0e25 ".concat(a):"")+(l=l?" \u0e2d\u0e33\u0e40\u0e20\u0e2d ".concat(a):"")+(c=c?" \u0e08\u0e31\u0e07\u0e2b\u0e27\u0e31\u0e14 ".concat(c):"")+(o=o?" \u0e23\u0e2b\u0e31\u0e2a\u0e44\u0e1b\u0e23\u0e29\u0e13\u0e35\u0e22\u0e4c ".concat(o):"")}}},ze=function(e){var t=e.show,a=e.setShow,n=e.imgSrc,c=e.modalImageWidth,o=e.setModalImageWidth;return t?l.a.createElement("div",{className:"Modal-background"},l.a.createElement("div",{style:{width:"90%",height:"90%",border:"solid black 1px",position:"relative",overflow:"scroll"}},l.a.createElement("img",{className:"",onClick:function(e){a(!1)},src:n,style:{width:"".concat(c,"%")}}),l.a.createElement("div",{style:{position:"fixed",top:"5px",width:"90vw"}},l.a.createElement("input",{type:"range",min:"10",max:"200",value:c,onChange:function(e){o(e.target.value)}})))):null};function qe(e){var t=e.imgarrs,a=e.width,n=l.a.useState(!1),c=Object(i.a)(n,2),o=c[0],r=c[1],s=l.a.useState(null),m=Object(i.a)(s,2),u=m[0],d=m[1],b=l.a.useState(100),f=Object(i.a)(b,2),h=f[0],g=f[1];return l.a.createElement("div",{style:{width:"100%"}},ze({show:o,setShow:r,imgSrc:u,modalImageWidth:h,setModalImageWidth:g}),t?l.a.createElement("div",{className:"img-frame border",id:"img-id",style:Object(p.a)({},function(e){if(a){var t=a.length;return"%"==a.substring(t-1,t)||"px"==a.substring(t-2,t)||"rem"==a.substring(t-3,t)?{width:a}:{width:"".concat(a,"px")}}}(),{overflow:"auto"})},l.a.createElement("div",{className:"img-track",style:Object(p.a)({display:"flex"},function(e,t){if(e){var a=e.length;if("%"==e.substring(a-1,a)){var n=parseInt(e.substring(0,a-1));return{width:"".concat(n*t.length,"%")}}if("px"==e.substring(a-2,a)){var l=parseInt(e.substring(0,a-2));return{width:"".concat(l*t.length,"px")}}if("rem"==e.substring(a-3,a)){var c=parseInt(e.substring(0,a-3));return{width:"".concat(c*t.length,"rem")}}return{width:"".concat(e*t.length,"px")}}}(a,t))},function(e){if(e)return e.map((function(e,t){var a;if(""!==e)return e.blob?(!0,a=e.blob,e.name):(!1,a=e,e),l.a.createElement("div",{key:t,style:{height:"100%",width:"100%"}},l.a.createElement("img",{className:"img",src:a,style:{width:"100%",objectFit:"cover"},onDoubleClick:function(e){d(a),setTimeout((function(){r(!0)}),50)}}))}))}(t))):l.a.createElement("p",null,"No Photo"))}qe.defaultProps={imgarrs:[]};var $e=qe;function We(e){var t=e.i,a=e.idx,n=e.objKeys,c=e.tableTemplate,o=e.showTable,r=e.updateFilterData,s=e.basicData,u=e.findProductIdByKeyDown,d=e.findBarcodeByKeyDown,b=e.calDigit;console.log("LineForm i....");var f=l.a.useState(t),h=Object(i.a)(f,2),g=h[0],y=h[1],v=l.a.useState(!1),w=Object(i.a)(v,2),E=w[0],N=w[1];l.a.useEffect((function(){y(t)}),[t]);var j={padding:"0.3rem",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.8rem",border:"0.5px solid #777"},O={display:"grid",gridTemplateColumns:"100px 200px",gridAutoRows:"1.2rem",backgroundColor:"#ccc"},k={display:"grid",gridTemplateColumns:"100px 200px",gridAutoRows:"1.2rem",backgroundColor:"white"},x=function(e){return l.a.createElement("select",{style:{height:"100%",backgroundColor:"#e6ffcc"},defaultValue:g[e],onChange:function(t){y(Object(p.a)({},g,Object(m.a)({},e,t.target.value))),r(a,Object(p.a)({},g,Object(m.a)({},e,t.target.value)))}},l.a.createElement("option",{value:"",hidden:!0},"list below..."),l.a.createElement("option",{selected:!0}," ",g[e]),function(e){return s?s[e].map((function(e,t){return l.a.createElement("option",{key:t,value:e},e)})):null}(e))};return l.a.createElement("div",{className:"TableGrid-body",style:{display:"grid",gridTemplateColumns:o.gridCol,gridAutoRows:"minmax(2rem,auto)"}},n.map((function(e,t){return c[e].showCol?l.a.createElement("div",{key:t,style:{textAlign:"left",width:"".concat(c[e].width,"px"),display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#e6ffcc"},onClick:function(e){}},"radio"==c[e].type?function(e,t){return t?l.a.createElement(G.t,{className:"sm-icon",onClick:function(t){y(Object(p.a)({},g,{selectedLine:!1})),r(e,Object(p.a)({},g,{selectedLine:!1}))}}):l.a.createElement(G.u,{className:"sm-icon",onClick:function(t){y(Object(p.a)({},g,{selectedLine:!0})),r(e,Object(p.a)({},g,{selectedLine:!0}))}})}(a,g[e]):function(e){return"boolean"==c[e].type?l.a.createElement("div",{className:"flex-center-center",style:{height:"100%",width:"100%"}},l.a.createElement("div",{style:{height:"80%",width:"1.2rem"}},l.a.createElement("input",{type:"checkbox",checked:g[e],style:{margin:"0",padding:"0"},onChange:function(t){var a=Object(p.a)({},g,Object(m.a)({},e,t.target.checked));y(a)},onBlur:function(e){r(a,g)}}))):"price"==c[e].type?l.a.createElement("div",{className:"flex-center-center h-100 w-100",style:{position:"relative"}},E?l.a.createElement("div",{style:{backgroundColor:"white",position:"absolute",top:"2.5rem"}},l.a.createElement("div",{style:O},l.a.createElement("div",{style:j},"\u0e23\u0e32\u0e04\u0e32"),l.a.createElement("div",{style:j},"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15\u0e38")),g.priceLevel.map((function(e,t){return l.a.createElement("div",{key:t,style:k,onClick:function(t){var n,l=parseInt(e.price*b)/b,c=Object(p.a)({},g,(n={},Object(m.a)(n,"price",l),Object(m.a)(n,"result",parseInt(l*g.quantity*b)/b),n));y(c),N(!1),r(a,c)}},l.a.createElement("div",{style:j},e.price),l.a.createElement("div",{style:j},e.remark))}))):null,l.a.createElement("div",{className:"w-15",style:{display:"flex",justifyContent:"center",alignItems:"center"}},l.a.createElement(L.B,{onClick:function(e){N(!E)}})),l.a.createElement("div",{className:"w-85 h-100"},l.a.createElement("input",{value:g[e],checked:g[e],style:{height:"selectedLine"==e?"50%":"100%",backgroundColor:"#e6ffcc"},type:"number",onChange:function(t){if("radio"!=c[e].type){var a,n=parseInt(t.target.value*b)/b,l=Object(p.a)({},g,(a={},Object(m.a)(a,e,n),Object(m.a)(a,"result",parseInt(n*g.quantity*b)/b),a));y(l)}},onBlur:function(e){r(a,g)}}))):"unit"==e||"jobStatus"==e||"effectSpending"==e||"effectCustomerPoint"==e||"effectStock"==e||"position"==e?x(e):"id"==e||"barcode"==e?l.a.createElement("input",{value:g[e],style:{height:"100%",backgroundColor:"#e6ffcc"},type:c[e].type,onChange:function(t){var a,n=t.target.value;a=Object(p.a)({},g,Object(m.a)({},e,n)),y(a)},onKeyDown:function(t){"id"==e&&u(t,e,g[e],a),"barcode"==e&&d(t,e,g[e],a)},onBlur:function(e){r(a,g)}}):l.a.createElement("input",{value:g[e],checked:g[e],style:{height:"selectedLine"==e?"50%":"100%",backgroundColor:"#e6ffcc"},type:c[e].type,onChange:function(t){if("radio"!=c[e].type){var a,n,l=t.target.value;if("number"==c[e].type)if("price"==e)l=parseInt(t.target.value*b)/b,a=Object(p.a)({},g,(n={},Object(m.a)(n,e,l),Object(m.a)(n,"result",parseInt(g.quantity*l*b)/b),n)),y(a);else if("quantity"==e){var o;l=parseInt(t.target.value*b)/b,a=Object(p.a)({},g,(o={},Object(m.a)(o,e,l),Object(m.a)(o,"result",parseInt(g.price*l*b)/b),o)),y(a)}else a=Object(p.a)({},g,Object(m.a)({},e,l)),y(a);else a=Object(p.a)({},g,Object(m.a)({},e,l)),y(a)}},onBlur:function(e){r(a,g)}})}(e)):null})))}We.defaultProps={calDigit:100};var Ve=We,Ye=(a(132),Ke.showArray),Qe=Ke.showObject,Xe=h.sortColumn,Je=h.numberWithCommas,Ze=function(e){var t=e.colorHead,a=e.tableTemplate,n=e.setTableTemplate,c=e.filterData,o=e.setFilterData,r=e.editData,i=e.setEditData,s=e.showTable,u=e.isSubTable,b=e.sumAmount,f=e.setShowTableSetting,h=e.saveTableTemplateFunc,g=e.updateFilterData,y=e.useInput,v=e.basicData,w=e.findProductIdByKeyDown,E=e.findBarcodeByKeyDown,N=e.showSearchHeader,j=(e.XY,e.setXY,e.captureClientXY),O=e.calDigit,k=e.editIconField,x=e.editIconFieldFunc,T=e.genObjKeysByColOrder,S=function(e){var t="black";return r&&r._id==e._id&&(t="red"),t},C=function(e,t){console.log("tableTemplateI");e.lb,e.showCol,e.showColHead;var a=e.type;e.width;return l.a.createElement("div",{className:"",style:{paddingBottom:"5px",display:"flex",alignItems:"center",justifyContent:"center",height:"1.9rem"}},"boolean"==a?l.a.createElement("div",{style:{height:"100%",width:"1.7rem",display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement("input",{type:"checkbox",onKeyDown:function(e){"Enter"==e.key&&function(e){var a=[];c.map((function(n){n[t]==e&&(a=[].concat(Object(d.a)(a),[n]))})),o(a)}(e.target.checked)}})):"radio"==a?null:l.a.createElement("input",{type:a,onKeyDown:function(e){"Enter"==e.key&&("number"==a?function(e){var a=[],n=e.toString();c.map((function(e){new RegExp(n,"gi").test(e[t])&&(a=[].concat(Object(d.a)(a),[e]))})),o(a)}(e.target.value):function(e){var a=[],n="w*"+e+"w*";c.map((function(e){new RegExp(n,"gi").test(e[t])&&(a=[].concat(Object(d.a)(a),[e]))})),o(a)}(e.target.value))}}))},F=function(e){return l.a.createElement("div",{className:"",style:{width:"300px",height:"70px",backgroundColor:"#3b5d52",borderRadius:"15px",boxShadow:"5px 5px 10px",position:"absolute",top:"80px",left:"0px",zIndex:"600"}},l.a.createElement("input",{style:{width:"100%"},type:"range",min:"10",max:"1000",value:a[e].width,onChange:function(t){!function(e,t){var l=a[e];l=Object(p.a)({},l,{width:t}),n(Object(p.a)({},a,Object(m.a)({},e,l)))}(e,t.target.value)}}),l.a.createElement("div",{style:{width:"100%",display:"flex",alignContent:"center",justifyContent:"space-around"}},l.a.createElement(G.z,{className:"md-icon",onClick:function(e){f&&f(!0)}}),l.a.createElement(G.x,{className:"md-icon",onClick:function(e){h(a)}}),u?null:l.a.createElement(G.b,{className:"md-icon",onClick:function(t){var n=Xe(c,e,a[e].type,"a-b");Array.isArray(n)&&o(n)}}),u?null:l.a.createElement(G.c,{className:"md-icon",onClick:function(t){var n=Xe(c,e,a[e].type,"b-a");Array.isArray(n)&&o(n)}}),l.a.createElement(G.i,{className:"md-icon",onClick:function(t){var l=a[e],c=a[e].showColHead;l=Object(p.a)({},l,{showColHead:!c}),n(Object(p.a)({},a,Object(m.a)({},e,l)))}})))},D=T(a);return l.a.createElement("div",{className:"w-100 h-100 overflow-hide-on-print",style:{padding:"0 0 2rem 0"}},l.a.createElement("div",{style:{width:"".concat(s.width,"px")}},l.a.createElement("div",{className:"TableGrid-head",style:{display:"grid",gridTemplateColumns:s.gridCol,gridAutoRows:"minmax(1rem,auto)",position:"sticky",top:"0",backgroundColor:t,zIndex:"10"}},D.map((function(e,t){return a[e].showCol?l.a.createElement("div",{key:t,style:{width:"".concat(a[e].width,"px"),padding:"0 0.3rem",position:"relative",display:"flex",alignItems:"center",justifyContent:"space-around"}},a[e].showColHead?null:F(e),a[e].showColHead?l.a.createElement("div",{className:"w-100"},l.a.createElement("p",{className:"tablehead-p",style:{textAlign:"center"},onClick:function(t){var l=a[e],c=a[e].showColHead;l=Object(p.a)({},l,{showColHead:!c}),n(Object(p.a)({},a,Object(m.a)({},e,l)))}},a[e].lb),N?C(a[e],e):null):l.a.createElement("div",{className:"flex-center-center flex-no-wrap"},l.a.createElement(G.i,Object(m.a)({className:"md-icon",onClick:function(t){var l=a[e],c=a[e].showColHead;l=Object(p.a)({},l,{showColHead:!c}),n(Object(p.a)({},a,Object(m.a)({},e,l)))}},"className","md-icon")))):null}))),c.map((function(e,t){var n=!1;return r&&y&&r._id==e._id&&(n=!0),n?l.a.createElement(Ve,{i:e,key:t,idx:t,objKeys:D,tableTemplate:a,showTable:s,updateFilterData:g,basicData:v,findProductIdByKeyDown:w,findBarcodeByKeyDown:E,calDigit:O}):l.a.createElement("div",{key:t,className:"TableGrid-body",style:{display:"grid",gridTemplateColumns:s.gridCol}},D.map((function(n,c){return a[n].showCol?l.a.createElement("div",{key:c,style:{display:"flex",textAlign:"left",width:"".concat(a[n].width,"px")},onClick:function(t){"radio"!=a[n].type&&(i(e,t),j(t.clientX,t.clientY))}},function(e,t,a,n,c,o){var i="black";if(r&&e._id==r._id&&(i="red"),"selectedLine"==t)return e.selectedLine?l.a.createElement("div",{className:"w-100 h-100",style:{position:"relative",zIndex:"1"}},l.a.createElement(G.t,{className:"sm-icon",style:{margin:"5px auto",width:"100%"},onClick:function(t){g(o,Object(p.a)({},e,{selectedLine:!1}))}}),l.a.createElement("p",{className:"table-p",style:{position:"absolute",top:"0"}},o+1)):l.a.createElement("div",{className:"w-100 h-100",style:{position:"relative",zIndex:"1"}},l.a.createElement(G.u,{className:"sm-icon",style:{margin:"5px auto",width:"100%"},onClick:function(t){g(o,Object(p.a)({},e,{selectedLine:!0}))}}),l.a.createElement("p",{className:"table-p",style:{position:"absolute",top:"0"}},o+1));if("array"==a)return l.a.createElement("p",{className:"table-p",style:{color:i,margin:"0.1rem 0"}},Ye(e[t]));if("arrayObject"==a)return e[t].map((function(e,t){return l.a.createElement("p",{className:"table-p",style:{color:i,margin:"0.1rem 0"},key:t},Qe(e,c))}));if("arrayPhoto"==a)return l.a.createElement($e,{imgarrs:e[t],width:n});if("boolean"==a)return l.a.createElement("div",{className:"flex-center-center",style:{marginTop:"0.3rem"}},e[t]?l.a.createElement(G.e,{className:"sm-icon"}):l.a.createElement(G.f,{className:"sm-icon"}));if("date"==a){var s=null;if(e[t]){var m=new Date(e[t]).toISOString();s=new Date(m).toLocaleString("en-GB").substring(0,10)}return l.a.createElement("p",{className:"table-p",style:{color:i,margin:"0.1rem 0"}},s?"".concat(s):null)}if("time"==a){var u=null;if(e[t]){var d=new Date(e[t]).toISOString();u=new Date(d).toLocaleString("en-GB").substring(12,17)}return l.a.createElement("p",{className:"table-p",style:{color:i,margin:"0.1rem 0"}},u?"".concat(u):null)}return"point"==t||"totalPoint"==t||"price"==a||"result"==t||"quantity"==t||"price"==t||"total"==t||"grandTotal"==t||"totalReduction"==t||"totalTax"==t?l.a.createElement("p",{className:"table-p",style:{color:i,margin:"0.1rem 0"}},Je(e[t],O,t)):"number"==a?l.a.createElement("p",{className:"table-p",style:{color:i,margin:"0.1rem 0"}},e[t]):"object"==a?null:l.a.createElement("p",{className:"table-p",style:{color:i,margin:"0.1rem 0"}},e[t])}(e,n,a[n].type,a[n].width,a[n].children,t),k==n&&l.a.createElement(G.k,{className:"sm-icon",style:{color:S(e)},onClick:function(t){x(e)}})):null})))})),b?l.a.createElement("div",{className:"TableGrid-body",style:{display:"grid",gridTemplateColumns:s.gridCol,backgroundColor:"#2184A0"}},D.map((function(e,t){var n=!1;return"number"==a[e].type&&(n=!e.includes("id")&&!e.includes("Id")&&"queue"!=e),a[e].showCol?l.a.createElement("div",{key:t,style:{textAlign:"left",width:"".concat(a[e].width,"px")}},n?Je(b[e],O,e):null):null}))):null))},et={changeKey:function(e){var t=e.key,a=e.value,n=e.inputState;(0,e.setInputState)(Object(p.a)({},n,Object(m.a)({},t,a)))},changeArray:function(e){var t=e.key,a=e.value,n=e.idx,l=e.inputState,c=e.setInputState,o=[];l[t].forEach((function(e,t){o=[].concat(Object(d.a)(o),t==n?[a]:[e])})),c(Object(p.a)({},l,Object(m.a)({},t,o)))},addArray:function(e){var t=e.key,a=e.inputState,n=e.setInputState,l=[].concat(Object(d.a)(a[t]),[""]);n(Object(p.a)({},a,Object(m.a)({},t,l)))},deleteArray:function(e){var t=e.key,a=e.idx,n=e.inputState,l=e.setInputState,c=[];n[t].forEach((function(e,t){t!=a&&(c=[].concat(Object(d.a)(c),[e]))})),l(Object(p.a)({},n,Object(m.a)({},t,c)))},addArrayObject:function(e){var t=e.key,a=e.newObj,n=e.inputState,l=e.setInputState,c=[].concat(Object(d.a)(n[t]),[a]);l(Object(p.a)({},n,Object(m.a)({},t,c)))},deleteArrayObject:function(e){var t=e.key,a=e.idx,n=e.inputState,l=e.setInputState,c=[];n[t].forEach((function(e,t){t!=a&&(c=[].concat(Object(d.a)(c),[e]))})),l(Object(p.a)({},n,Object(m.a)({},t,c)))},changeArrayObjectKey:function(e){var t=e.key,a=e.idx,n=e.subKey,l=e.value,c=e.inputState,o=e.setInputState,r=[];c[t].forEach((function(e,t){if(t==a){var c=Object(p.a)({},e,Object(m.a)({},n,l));r=[].concat(Object(d.a)(r),[c])}else r=[].concat(Object(d.a)(r),[e])})),o(Object(p.a)({},c,Object(m.a)({},t,r)))},changeArrayObjectArray:function(e){var t=e.key,a=e.value,n=e.idx,l=e.subKey,c=e.subIdx,o=e.inputState,r=e.setInputState,i=[];o[t].forEach((function(e,t){if(t==n){var o=[];e[l].forEach((function(e,t){o=[].concat(Object(d.a)(o),t==c?[a]:[e])}));var r=Object(p.a)({},e,Object(m.a)({},l,o));i=[].concat(Object(d.a)(i),[r])}else i=[].concat(Object(d.a)(i),[e])})),r(Object(p.a)({},o,Object(m.a)({},t,i)))},deleteArrayObjectArray:function(e){var t=e.key,a=e.idx,n=e.subKey,l=e.subIdx,c=e.inputState,o=e.setInputState,r=[];c[t].forEach((function(e,t){if(t==a){var c=[];e[n].forEach((function(e,t){t!=l&&(c=[].concat(Object(d.a)(c),[e]))}));var o=Object(p.a)({},e,Object(m.a)({},n,c));r=[].concat(Object(d.a)(r),[o])}else r=[].concat(Object(d.a)(r),[e])})),o(Object(p.a)({},c,Object(m.a)({},t,r)))},addArrayObjectArray:function(e){var t=e.key,a=e.idx,n=e.subKey,l=e.inputState,c=e.setInputState,o=[];l[t].forEach((function(e,t){if(t==a){var l=[].concat(Object(d.a)(e[n]),[""]),c=Object(p.a)({},e,Object(m.a)({},n,l));o=[].concat(Object(d.a)(o),[c])}else o=[].concat(Object(d.a)(o),[e])})),c(Object(p.a)({},l,Object(m.a)({},t,o)))},changeKeyKey:function(e){var t=e.key,a=e.subKey,n=e.value,l=e.inputState,c=e.setInputState,o=Object(p.a)({},l[t],Object(m.a)({},a,n)),r=Object(p.a)({},l,Object(m.a)({},t,o));c(Object(p.a)({},r))}},tt=et.changeKeyKey,at=function(e){var t=e.setShowTableSetting,a=e.tableTemplate,n=e.setTableTemplate,c=e.pageData,o=e.moveup,r=e.movedown,i=(0,e.genObjKeysByColOrder)(a);return console.log("objKeys............"),console.log(i),l.a.createElement("div",{className:"Modal-background"},l.a.createElement("div",{className:"Modal-box"},l.a.createElement("div",{className:"Modal-header"},l.a.createElement("div",null,l.a.createElement("h5",null,c.formHead))),l.a.createElement("div",{className:"w-100"},l.a.createElement("div",{className:"flex-center-baseline jc-start"},l.a.createElement("div",{className:"xc6",style:{textAlign:"center"}},l.a.createElement("div",null,c.subject)),l.a.createElement("div",{className:"xc2",style:{textAlign:"center"}},l.a.createElement("div",null,c.show))),i.map((function(e,t){return l.a.createElement("div",{className:"flex-center-baseline flex-no-wrap m-1",key:t},l.a.createElement("div",{className:"xc6"},l.a.createElement("div",null,a[e].lb)),l.a.createElement("div",{className:"xc2"},l.a.createElement("input",{type:"checkbox",checked:a[e].showCol,onChange:function(l){t>0&&tt({key:"".concat(e),subKey:"showCol",value:l.target.checked,inputState:a,setInputState:n})}})),l.a.createElement("div",{className:"xc2"},l.a.createElement("div",{className:"flex-center-center"},l.a.createElement(L.y,{className:"md-icon",style:{opacity:t>1?1:0},onClick:function(n){o(t,e,a[e])}}))),l.a.createElement("div",{className:"xc2"},l.a.createElement("div",{className:"flex-center-center"},l.a.createElement(L.v,{className:"md-icon",style:{opacity:t>0&&t<i.length-1?1:0},onClick:function(n){r(t,e,a[e])}}))))}))),l.a.createElement("div",{className:"Modal-footer"},l.a.createElement("div",null,l.a.createElement("button",{onClick:function(e){t(!1)}},l.a.createElement(L.f,null))),l.a.createElement("div",null,l.a.createElement("button",{onClick:function(e){t(!1)}},l.a.createElement(L.a,null))))))},nt=h.tableResize;function lt(e){var t=e.colorHead,a=e.tableTemplate,n=(e.setTableTemplate,e.filterDataKey,e.filterData),c=e.setFilterData,o=e.editData,r=e.setEditData,s=e.saveTableTemplateFunc,u=e.isSubTable,b=e.updateFilterData,f=e.useInput,h=e.basicData,g=e.findProductIdByKeyDown,y=e.findBarcodeByKeyDown,v=e.showSearchHeader,w=e.calDigit,E=e.pageData,N=e.captureClientXY,j=e.editIconField,O=e.editIconFieldFunc,k=function(e){for(var t=Object.keys(e),a=[],n=function(n){t.map((function(t){e[t].colOrder==n&&(a=[].concat(Object(d.a)(a),[t]))}))},l=1;l<=t.length;l++)n(l);return a},x=l.a.useState(null),T=Object(i.a)(x,2),S=T[0],C=T[1],F=l.a.useState(!1),D=Object(i.a)(F,2),I=D[0],P=D[1],R=l.a.useState({x:0,y:0}),A=Object(i.a)(R,2),M=(A[0],A[1],l.a.useState(a)),B=Object(i.a)(M,2),L=B[0],G=B[1];l.a.useEffect((function(){}),[a]),l.a.useEffect((function(){if(n&&L){var e=Object.keys(L),t={},a=!1;e.map((function(e){L[e].showSum&&(t=Object(p.a)({},t,Object(m.a)({},e,0)),a=!0)})),n.map((function(a,l){e.map((function(e){if(L[e].showSum){var c=t[e]+parseInt(1e4*a[e]);t=l==n.length-1?Object(p.a)({},t,Object(m.a)({},e,c/1e4)):Object(p.a)({},t,Object(m.a)({},e,c))}}))})),a&&C(t)}}),[n]);var U=l.a.useState(nt({tableTemplate:k(a)})),H=Object(i.a)(U,2),_=H[0],K=H[1];l.a.useEffect((function(){}),[_]),l.a.useEffect((function(){var e=nt({tableTemplate:L});K(Object(p.a)({},_,{},e))}),[L]);return l.a.createElement("div",{className:"w-100 h-100",style:{position:"relative"}},Ze({colorHead:t,tableTemplate:L,setTableTemplate:G,filterData:n,setFilterData:c,editData:o,setEditData:r,showTable:_,setShowTable:K,sumAmount:S,setShowTableSetting:P,saveTableTemplateFunc:s,isSubTable:u,updateFilterData:b,useInput:f,basicData:h,findProductIdByKeyDown:g,findBarcodeByKeyDown:y,showSearchHeader:v,captureClientXY:N,editIconField:j,editIconFieldFunc:O,genObjKeysByColOrder:k,calDigit:w}),L&&I?at({setShowTableSetting:P,tableTemplate:L,setTableTemplate:G,pageData:E,moveup:function(e,t,a){var n=k(L),l={},c=e-1;n.map((function(n,o){if(o==c){var r=Object(m.a)({},n,Object(p.a)({},L[n],{colOrder:a.colOrder})),i=Object(m.a)({},t,Object(p.a)({},L[t],{colOrder:c}));l=Object(p.a)({},l,{},i,{},r)}else o==e||(l=Object(p.a)({},l,Object(m.a)({},n,L[n])))})),console.log("tempObj Up"),console.log(l),G(l)},movedown:function(e,t,a){var n=k(L),l={},c=e+1;n.map((function(n,o){if(o==c){var r=Object(m.a)({},n,Object(p.a)({},L[n],{colOrder:a.colOrder})),i=Object(m.a)({},t,Object(p.a)({},L[t],{colOrder:c}));l=Object(p.a)({},l,{},r,{},i)}else o==e||(l=Object(p.a)({},l,Object(m.a)({},n,L[n])))})),console.log("tempObj Up"),console.log(l),G(l)},genObjKeysByColOrder:k}):null)}lt.defaultProps={colorHead:"#4b6d62",tableTemplate:{},setTableTemplate:function(){},filterData:[],setFilterData:function(){},editData:null,setEditData:function(){},saveTableTemplateFunc:function(){},isSubTable:!1,useInput:!1,basicData:null,showSearchHeader:!1,pageData:{formHead:"Table Setting",subject:"Subject",show:"Show"},captureClientXY:function(){},editIconField:null,editIconFieldFunc:function(){}};var ct=lt;function ot(e){var t=e.pageData,a=e.basicData,n=e.setShow,c=e.submitFunction,o=e.loadData;console.log("AddUser"),console.log(t);var r=l.a.createRef(),s=l.a.createRef(),u=l.a.createRef(),d=l.a.createRef(),b=l.a.createRef(),f=l.a.createRef(),h=l.a.createRef(),g=l.a.createRef(),y=l.a.useState(!0),v=Object(i.a)(y,2),w=v[0],E=v[1],N=l.a.useState(o),j=Object(i.a)(N,2),O=j[0],k=j[1];l.a.useEffect((function(){}),[O]);var x=function(e){return"id"==e?u:"username"==e?d:"password"==e?b:"userLevel"==e?f:"name"==e?h:"surname"==e?g:null},T=function(e,t){"Enter"==e.key&&("id"==t&&d.current.focus(),"username"==t&&b.current.focus(),"password"==t&&f.current.focus(),"userLevel"==t&&h.current.focus(),"name"==t&&g.current.focus(),"surname"==t&&r.current.focus())},S=function(e,t){k(Object(p.a)({},O,Object(m.a)({},t,e.target.value)))},C=function(e){return"password"==e?w?"password":"text":"id"==e?"number":"text"};return l.a.createElement("div",{className:"Modal-background"},l.a.createElement("div",{className:"Modal-box",style:{paddingBottom:"1rem",minWidth:"70%",minHeight:"100px"}},l.a.createElement("div",{className:"Modal-header"},l.a.createElement("div",null,l.a.createElement("h5",null,t.addUser.formHead)),l.a.createElement("div",{style:{display:"flex",position:"fixed",bottom:"1rem",right:"2rem",zIndex:"100"}},l.a.createElement("div",null,l.a.createElement("button",{ref:r,onKeyDown:function(e){},onClick:function(e){c&&c(O)}},l.a.createElement(L.f,null))),l.a.createElement("div",null,l.a.createElement("button",{ref:s,onKeyDown:function(e){},onClick:function(e){n(!1)}},l.a.createElement(L.a,null))))),l.a.createElement("div",{className:"Modal-body"},l.a.createElement("div",{className:"ModalInsideBody"},["id","username","password","userLevel","name","surname"].map((function(e,n){return l.a.createElement("div",{key:n,className:"w-100 flex-center-center jc-start",style:{marginBottom:"0.2rem"}},l.a.createElement("div",{className:"w-30"},t.addUser[e]),"userLevel"==e||"branch"==e?"branch"==e?l.a.createElement("div",{className:"w-70"},l.a.createElement("select",{ref:x(e),onChange:function(e){e.target.value.split("."),k(Object(p.a)({},O))},onKeyDown:function(t){T(t,e)}},l.a.createElement("option",{value:"",hidden:!0},"..."))):l.a.createElement("div",{className:"w-70"},l.a.createElement("select",{ref:x(e),onChange:function(t){S(t,e)},onKeyDown:function(t){T(t,e)}},l.a.createElement("option",{value:"",hidden:!0},"..."),a[e].map((function(e,t){return l.a.createElement("option",{key:t},e)})))):l.a.createElement("div",{className:"w-70",style:{position:"relative"}},l.a.createElement("input",{ref:x(e),type:C(e),onChange:function(t){S(t,e)},onKeyDown:function(t){T(t,e)},autoComplete:"password"==e?"one-time-code":null,autoFocus:"id"==e?"autoFocus":null}),"password"==e?w?l.a.createElement(G.E,{className:"sm-icon",style:{position:"absolute",top:"0.2rem",right:"0.3rem"},onClick:function(e){E(!w)}}):l.a.createElement(G.D,{className:"sm-icon",style:{position:"absolute",top:"0.2rem",right:"0.3rem"},onClick:function(e){E(!w)}}):null))}))))))}ot.defaultProps={lb:"Form",setShow:function(){},submitFunction:null};var rt=ot;function it(e){var t=e.pageData,a=e.basicData,n=e.setShow,c=e.submitFunction,o=e.loadData;console.log("EditUser"),console.log(t);var r=l.a.createRef(),s=l.a.createRef(),u=l.a.createRef(),d=l.a.createRef(),b=l.a.createRef(),f=l.a.createRef(),h=l.a.createRef(),g=(l.a.createRef(),l.a.useState(o)),y=Object(i.a)(g,2),v=y[0],w=y[1];l.a.useEffect((function(){console.log("formInputState"),console.log(v)}),[v]);var E=function(e){return"id"==e?u:"username"==e?d:"userLevel"==e?b:"name"==e?f:"surname"==e?h:null},N=function(e,t){"Enter"==e.key&&("id"==t&&d.current.focus(),"username"==t&&b.current.focus(),"userLevel"==t&&f.current.focus(),"name"==t&&h.current.focus(),"surname"==t&&r.current.focus())},j=function(e,t){w(Object(p.a)({},v,Object(m.a)({},t,e.target.value)))},O=function(e){return"id"==e?"number":"text"};return l.a.createElement("div",{className:"Modal-background"},l.a.createElement("div",{className:"Modal-box",style:{paddingBottom:"1rem",minWidth:"70%",minHeight:"100px"}},l.a.createElement("div",{className:"Modal-header"},l.a.createElement("div",null,l.a.createElement("h5",null,t.editUser.formHead)),l.a.createElement("div",{style:{display:"flex",position:"fixed",bottom:"1rem",right:"2rem",zIndex:"100"}},l.a.createElement("div",null,l.a.createElement("button",{ref:r,onKeyDown:function(e){},onClick:function(e){c&&c(v)}},l.a.createElement(L.f,null))),l.a.createElement("div",null,l.a.createElement("button",{ref:s,onKeyDown:function(e){},onClick:function(e){n(!1)}},l.a.createElement(L.a,null))))),l.a.createElement("div",{className:"Modal-body"},l.a.createElement("div",{className:"ModalInsideBody"},["id","username","userLevel","name","surname"].map((function(e,n){return l.a.createElement("div",{key:n,className:"w-100 flex-center-center jc-start",style:{marginBottom:"0.2rem"}},l.a.createElement("div",{className:"w-30"},t.editUser[e]),"userLevel"==e||"branch"==e?"branch"==e?l.a.createElement("div",{className:"w-70"},l.a.createElement("select",{ref:E(e),onChange:function(e){var t=e.target.value.split(".");w(Object(p.a)({},v,{branchId:parseInt(t[0]),branchName:t[1]}))},onKeyDown:function(t){N(t,e)}},l.a.createElement("option",{value:"",hidden:!0},"..."),a.branch.map((function(e,t){var a="".concat(e.branchId,".").concat(e.branchName);return l.a.createElement("option",{key:t,selected:v.branchId+"."+v.branchName==a?"selected":""},a)})))):l.a.createElement("div",{className:"w-70"},l.a.createElement("select",{ref:E(e),onChange:function(t){j(t,e)},onKeyDown:function(t){N(t,e)}},l.a.createElement("option",{value:"",hidden:!0},"..."),a[e].map((function(t,a){return l.a.createElement("option",{key:a,selected:v[e]==t?"selected":""},t)})))):l.a.createElement("div",{className:"w-70",style:{position:"relative"}},l.a.createElement("input",{ref:E(e),type:O(e),value:v[e],onChange:function(t){j(t,e)},onKeyDown:function(t){N(t,e)},autoFocus:"id"==e?"autoFocus":null})))}))))))}it.defaultProps={lb:"Form",setShow:function(){},submitFunction:null};var st=it;function mt(e){var t=e.pageData,a=(e.basicData,e.setShow),n=e.submitFunction,c=e.loadData;console.log("ChangeUserPasswordModal");var o=l.a.createRef(),r=l.a.createRef(),s=l.a.createRef(),u=l.a.createRef(),d=l.a.useState(c),b=Object(i.a)(d,2),f=b[0],h=b[1],g=l.a.useState(!0),y=Object(i.a)(g,2),v=y[0],w=y[1];l.a.useEffect((function(){}),[f]);return l.a.createElement("div",{className:"Modal-background"},l.a.createElement("div",{className:"Modal-box",style:{paddingBottom:"1rem",minWidth:"70%",minHeight:"100px"}},l.a.createElement("div",{className:"Modal-header"},l.a.createElement("div",null,l.a.createElement("h5",null,t.changeUserPassword.formHead)),l.a.createElement("div",{style:{display:"flex",position:"fixed",bottom:"1rem",right:"2rem",zIndex:"100"}},l.a.createElement("div",null,l.a.createElement("button",{ref:o,onKeyDown:function(e){},onClick:function(e){n&&n(f)}},l.a.createElement(L.f,null))),l.a.createElement("div",null,l.a.createElement("button",{ref:r,onKeyDown:function(e){},onClick:function(e){a(!1)}},l.a.createElement(L.a,null))))),l.a.createElement("div",{className:"Modal-body"},l.a.createElement("div",{className:"ModalInsideBody"},["id","newPassword1"].map((function(e,a){return l.a.createElement("div",{key:a,className:"w-100 flex-center-center jc-start",style:{marginBottom:"0.2rem"}},l.a.createElement("div",{className:"w-30"},t.changeUserPassword[e]),l.a.createElement("div",{className:"w-70",style:{position:"relative"}},"id"==e?l.a.createElement("input",{ref:s,type:"number",value:f[e],onKeyDown:function(e){"Enter"==e.key&&u.current.focus()},disabled:"disabled"}):l.a.createElement("input",{ref:u,type:v?"password":"text",value:f.password,onKeyDown:function(e){"Enter"==e.key&&o.current.focus()},onChange:function(e){!function(e,t){h(Object(p.a)({},f,Object(m.a)({},t,e.target.value)))}(e,"password")},autoComplete:"one-time-code",autoFocus:"autoFocus"}),"newPassword1"==e?v?l.a.createElement(G.E,{className:"sm-icon",style:{position:"absolute",top:"0.2rem",right:"0.3rem"},onClick:function(e){w(!v)}}):l.a.createElement(G.D,{className:"sm-icon",style:{position:"absolute",top:"0.2rem",right:"0.3rem"},onClick:function(e){w(!v)}}):null))}))))))}mt.defaultProps={lb:"Form",setShow:function(){},submitFunction:null};var ut=mt,dt=a(95),pt=a.n(dt);function bt(e){var t=e.setShow,a=e.submitFunction,n=l.a.createRef(),c=l.a.createRef(),o=l.a.useState(!1),r=Object(i.a)(o,2),s=r[0],m=r[1];return l.a.createElement("div",{className:"Modal-background"},l.a.createElement("div",{className:"Modal-box"},l.a.createElement("div",{className:"Modal-header"},l.a.createElement("div",null,l.a.createElement(L.j,{style:{fontSize:"1.5rem",marginRight:"0.3rem"}}),l.a.createElement(L.p,{style:{fontSize:"1.2rem"}}),l.a.createElement(L.p,{style:{fontSize:"1.2rem"}}),l.a.createElement(G.j,{style:{fontSize:"2rem"}}))),l.a.createElement("div",{className:"Modal-footer"},l.a.createElement("div",null,l.a.createElement("button",{ref:n,onClick:function(e){a()},onKeyDown:function(e){"ArrowRight"==e.key&&c.current.focus()}},l.a.createElement(L.f,null))),l.a.createElement("div",null,l.a.createElement("button",{ref:c,onKeyDown:function(e){"ArrowLeft"==e.key&&n.current.focus()},onClick:function(e){t&&t(!1)}},l.a.createElement(L.a,null)))),s?pt()({show:s,setShow:m}):null))}bt.defaultProps={setShow:function(){},submitFunction:function(){}};var ft=bt,ht=function(e){e.show;var t=e.setShow,a=e.message;e.setMessage;return console.log("renderModalError"),l.a.createElement("div",{className:"Modal-background"},l.a.createElement("div",{className:"Modal-box"},l.a.createElement("div",{className:"Modal-header"},l.a.createElement("div",null,l.a.createElement(G.l,{style:{fontSize:"2.5rem",color:"red"}}))),l.a.createElement("div",{className:"Modal-body"},l.a.createElement("div",{className:"flex-center-center"},a?l.a.createElement("div",null,a):null)),l.a.createElement("div",{className:"Modal-footer"},l.a.createElement("div",null,l.a.createElement("button",{onClick:function(e){t(!1)}},l.a.createElement(L.a,null))))))},gt=oe.catchErrorToMessage,yt=Me.saveTableTemplate;function vt(e){var t=e.pageData,a=e.basicData,n=e.tableTemplate,c=e.myheader,o=e.setShow,r=(e.submitFunction,l.a.useState({data0:null,count:0,lastRecordId:null,reloadData:!0})),s=Object(i.a)(r,2),u=s[0],d=s[1],b=l.a.useState(n.userListTableTemplate),h=Object(i.a)(b,2),g=h[0],y=h[1],v=l.a.useState(null),w=Object(i.a)(v,2),E=w[0],N=w[1],j=l.a.useState(!1),O=Object(i.a)(j,2),k=O[0],x=O[1],T=l.a.useState(!1),S=Object(i.a)(T,2),C=S[0],F=S[1],D=l.a.useState(!1),I=Object(i.a)(D,2),P=I[0],R=I[1],A=l.a.useState(!1),M=Object(i.a)(A,2),B=M[0],L=M[1],U=l.a.useState({showModalError:!1,message:""}),H=Object(i.a)(U,2),_=H[0],K=H[1];l.a.useEffect((function(){}),[u]),l.a.useEffect((function(){u.reloadData&&f.a.post("/p35user/getuser",{sort:{id:1}},c).then((function(e){console.log("result.data.data....."),console.log(e.data.data);var t=Object(p.a)({},u,{data0:e.data.data,count:e.data.count,lastRecordId:e.data.lastRecordId,reloadData:!1});d(t)})).catch((function(e){var t=Object(p.a)({},u,{reloadData:!1,message:gt(e),showModalConfirm:!1,showModalError:!0});d(t)}))}),[u]);var z={position:"fixed",top:"3rem",right:"0.5rem",zIndex:"100",width:"",backgroundColor:"white",borderRadius:"10px",margin:""},q={position:"fixed",top:"3rem",Left:"0.5rem",zIndex:"100",width:"",backgroundColor:"white",borderRadius:"10px",margin:""},W=l.a.useState(!0),V=Object(i.a)(W,2),Y=V[0],Q=V[1];return l.a.createElement("div",{className:"Modal-background"},l.a.createElement("div",{className:"Modal-box",style:{paddingBottom:"1rem",minWidth:"70%",minHeight:"100px"}},l.a.createElement("div",{className:"Modal-header"},l.a.createElement("h5",null,t.user.formHead)),l.a.createElement("div",{className:"Modal-body"},u.data0&&l.a.createElement(ct,{tableTemplate:g,setTableTemplate:y,filterData:u.data0,setFilterData:function(){},editData:E,setEditData:N,saveTableTemplateFunc:function(e){var t={};Object.keys(e).map((function(a){var n=Object(p.a)({},e[a],{showColHead:!0});t=Object(p.a)({},t,Object(m.a)({},a,n))})),y(t),yt(e,"p35tabletemplate","userListTableTemplate",c)},isSubTable:!1,updateFilterData:function(){},useInput:!1,basicData:a,pageData:t.tableSettingModal})),l.a.createElement("div",{className:"",style:{display:"flex",justifyContent:"flex-end"}},l.a.createElement("div",null,l.a.createElement("button",{onClick:function(e){N(null),o(!1)}},l.a.createElement(G.i,null)))),E&&l.a.createElement("div",{style:Y?z:q},l.a.createElement("div",{className:"iconbox",style:{height:"3.5rem"},onClick:function(e){L(!0)}},l.a.createElement($,{iconName:"MdDelete",className:"md-icon",textStyle:{color:"black"}})),l.a.createElement("div",{className:"iconbox",style:{height:"3.5rem"},onClick:function(e){x(!0)}},l.a.createElement($,{iconName:"MdAddCircle",className:"md-icon",textStyle:{color:"black"}})),l.a.createElement("div",{className:"iconbox",style:{height:"3.5rem"},onClick:function(e){F(!0)}},l.a.createElement($,{iconName:"MdEdit",className:"md-icon",textStyle:{color:"black"}})),l.a.createElement("div",{className:"iconbox",style:{height:"3.5rem"},onClick:function(e){R(!0)}},l.a.createElement($,{iconName:"MdPassword",className:"md-icon",textStyle:{color:"black"}})),l.a.createElement("div",{className:"iconbox",style:{height:"3.5rem"},onClick:function(e){Q(!Y)}},l.a.createElement($,{iconName:"MdSwapHoriz",className:"xl-icon",textStyle:{color:"black"}})),l.a.createElement("div",{className:"iconbox",style:{height:"3.5rem"},onClick:function(e){N(null),o(!1)}},l.a.createElement($,{iconName:"MdClose",className:"md-icon",textStyle:{color:"black"}}))),C&&l.a.createElement(st,{pageData:t,basicData:a,setShow:F,submitFunction:function(e){f.a.post("/p35user/updateuser",e,c).then((function(e){console.log("result....."),console.log(e);var t=Object(p.a)({},u,{reloadData:!0});d(t),F(!1)})).catch((function(e){var t=Object(p.a)({},u,{reloadData:!1,message:gt(e),showModalConfirm:!1,showModalError:!0});d(t)}))},loadData:E}),P&&l.a.createElement(ut,{pageData:t,basicData:a,setShow:R,submitFunction:function(e){var t=e.id,a=e.password;f.a.post("/p35user/changeuserpassword",{id:t,password:a},c).then((function(e){var t=Object(p.a)({},u,{reloadData:!0});d(t),R(!1)})).catch((function(e){Object(p.a)({},u,{reloadData:!1,message:gt(e),showModalConfirm:!1,showModalError:!0})}))},loadData:E}),k&&l.a.createElement(rt,{pageData:t,basicData:a,setShow:x,submitFunction:function(e){f.a.post("/p35user/adduser",e,c).then((function(e){console.log("result....."),console.log(e);var t=Object(p.a)({},u,{reloadData:!0});d(t),x(!1)})).catch((function(e){var t=Object(p.a)({},u,{reloadData:!1,message:gt(e),showModalConfirm:!1,showModalError:!0});d(t)}))},loadData:{id:"",username:"",password:"",active:!0,userLevel:"staff",name:"",surname:""}})),B&&l.a.createElement(ft,{setShow:L,submitFunction:function(){1==E.id?K({showModalError:!0,message:"Do not delete ID=1"}):f.a.post("/p35user/deleteuser",{id:E.id},c).then((function(e){var t=Object(p.a)({},u,{reloadData:!0});d(t),L(!1)})).catch((function(e){Object(p.a)({},u,{reloadData:!1,message:gt(e),showModalConfirm:!1,showModalError:!0})}))}}),_.showModalError&&ht({show:_.showModalError,setShow:function(e){K({showModalError:e,message:""})},message:_.message,setMessage:function(){}}))}vt.defaultProps={lb:"Form",setShow:function(){},submitFunction:null};var wt=vt;function Et(e){var t=e.pageData,a=e.basicData,n=e.basicDataTableTemplate,c=(e.lb,e.setShow),o=e.submitFunction,r=l.a.useState(!1),s=Object(i.a)(r,2),m=s[0],u=s[1];l.a.useEffect((function(){m||u(!0)}),[m]);var b=l.a.createRef(),f=l.a.createRef(),h=l.a.useState(a.routeAuth),g=Object(i.a)(h,2),y=g[0],v=g[1],w=l.a.useState(n),E=Object(i.a)(w,2),N=E[0],j=E[1],O=l.a.useState(null),k=Object(i.a)(O,2),x=k[0],T=k[1],S=l.a.useState(!1),C=Object(i.a)(S,2),F=C[0],D=C[1];l.a.useEffect((function(){}),[y]);var I=function(){},P=function(e){j(e)},R=function(e){var t=[];x.userLevel.map((function(a,n){t=[].concat(Object(d.a)(t),n==e?[a,""]:[a])})),T(Object(p.a)({},x,{userLevel:t}))},A=function(e){var t=[];x.userLevel.map((function(a,n){n==e||(t=[].concat(Object(d.a)(t),[a]))})),T(Object(p.a)({},x,{userLevel:t}))},M=function(e,t){var a=[];x.userLevel.map((function(n,l){a=[].concat(Object(d.a)(a),l==t?[e.target.value]:[n])})),T(Object(p.a)({},x,{userLevel:a}))},B=function(){var e=[];y.map((function(t){x._id==t._id?(console.log("_id"),e=[].concat(Object(d.a)(e),[x])):e=[].concat(Object(d.a)(e),[t])})),v(e),D(!1)},U=function(e){var t=e.id,n=(e.routeAddress,e.routeName,e.userLevel);return l.a.createElement("div",{className:"w-100 flex-center-start jc-start",style:{margin:"0.2rem 0"}},l.a.createElement("div",{className:"w-10"},"".concat(t,".")),l.a.createElement("div",{className:"w-90"},n.map((function(e,t){return l.a.createElement("div",{key:t,className:"flex-center-center",style:{marginBottom:"0.2rem"}},l.a.createElement("div",{className:"w-10"},l.a.createElement(L.u,{className:"sm-icon",onClick:function(e){R(t)}})),l.a.createElement("div",{className:"w-10"},t>0?l.a.createElement(L.r,{className:"sm-icon",onClick:function(e){A(t)}}):null),l.a.createElement("div",{className:"w-80"},0==t?l.a.createElement("input",{value:e,onChange:function(e){},disabled:"disabled"}):l.a.createElement("select",{style:{height:"100%"},onChange:function(e){M(e,t)}},l.a.createElement("option",null,"...."),function(e,t){return t?t.map((function(t,a){return l.a.createElement("option",{key:a,selected:e==t?"selected":""},t)})):null}(e,a.userLevel))))}))),l.a.createElement("div",{className:"w-100",style:{display:"flex",justifyContent:"flex-end"}},l.a.createElement("button",{onClick:function(e){return B()}},l.a.createElement(L.f,null)),l.a.createElement("button",{onClick:function(e){return D(!1)}},l.a.createElement(G.i,null))))};return l.a.createElement("div",{className:"Modal-background"},l.a.createElement("div",{className:"Modal-box",style:{paddingBottom:"1rem",minWidth:"70%",minHeight:"100px"}},l.a.createElement("div",{className:"Modal-header"},l.a.createElement("div",{className:"flex-center-center"},l.a.createElement("h5",null,t.setting.routeAuth)),!F&&l.a.createElement("div",{style:{display:"flex",position:"fixed",bottom:"1rem",right:"2rem",zIndex:"100"}},l.a.createElement("div",null,l.a.createElement("button",{ref:b,onKeyDown:function(e){"ArrowRight"==e.key&&f.current.focus()},onClick:function(e){o&&o(y)}},l.a.createElement(L.f,null))),l.a.createElement("div",null,l.a.createElement("button",{ref:f,onKeyDown:function(e){"ArrowLeft"==e.key&&f.current.focus()},onClick:function(e){c(!1)}},l.a.createElement(L.a,null))))),l.a.createElement("div",{className:"Modal-body"},l.a.createElement("div",{className:"ModalInsideBody"},l.a.createElement("div",{className:"w-100 h-100"},l.a.createElement("div",{className:"h-100",style:{paddingBottom:"2rem"}},l.a.createElement(ct,{tableTemplate:N,setTableTemplate:P,setFilterData:v,filterData:y,editData:x,setEditData:T,saveTableTemplateFunc:I,pageData:t.tableSettingModal,editIconField:"userLevel",editIconFieldFunc:function(){return D(!0)}})))))),F&&x?l.a.createElement("div",{className:"",style:{position:"fixed",top:"0",left:"0",height:"100vh",width:"100vw",opacity:"1",display:"flex",justifyContent:"center",alignItems:"center"}},l.a.createElement("div",{className:"w-50 bgc-darkGray",style:{padding:"0.3rem",borderRadius:"5px",backgroundColor:"#5b7d72"}},U(x))):null)}Et.defaultProps={lb:"Form",setShow:function(){},submitFunction:null};var Nt=Et,jt={selectedLine:{lb:"_",type:"radio",width:40,showCol:!0,showColHead:!0},id:{lb:"ID",type:"number",width:65,showCol:!0,showColHead:!0},barcode:{lb:"\u0e1a\u0e32\u0e23\u0e4c\u0e42\u0e04\u0e14",type:"string",width:65,showCol:!0,showColHead:!0},name:{lb:"\u0e0a\u0e37\u0e48\u0e2d",type:"string",width:100,showCol:!0,showColHead:!0},groupId:{lb:"\u0e44\u0e2d\u0e14\u0e35\u0e01\u0e25\u0e38\u0e48\u0e21",type:"number",width:40,showCol:!0,showColHead:!0},groupName:{lb:"\u0e0a\u0e37\u0e48\u0e2d\u0e01\u0e25\u0e38\u0e48\u0e21",type:"string",width:60,showCol:!0,showColHead:!0},unit:{lb:"\u0e2b\u0e19\u0e48\u0e27\u0e22",type:"string",width:40,showCol:!0,showColHead:!0},price:{lb:"\u0e23\u0e32\u0e04\u0e32",type:"number",width:60,showCol:!0,showColHead:!0}},Ot=Object(p.a)({},jt,{stock:{lb:"\u0e22\u0e2d\u0e14\u0e2a\u0e15\u0e47\u0e2d\u0e04",type:"number",width:60,showCol:!0,showColHead:!0},order:{lb:"\u0e22\u0e2d\u0e14\u0e08\u0e2d\u0e07",type:"number",width:60,showCol:!0,showColHead:!0},plan:{lb:"\u0e22\u0e2d\u0e14\u0e41\u0e1c\u0e19",type:"number",width:60,showCol:!0,showColHead:!0},remark:{lb:"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15\u0e38",type:"string",width:200,showCol:!0,showColHead:!0},photoUrl1:{lb:"\u0e23\u0e39\u0e1b",type:"arrayPhoto",width:200,showCol:!0,showColHead:!0}}),kt={id:{lb:"ID",type:"number",width:40,showCol:!0,showColHead:!0},date:{lb:"\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48",type:"date",width:90,showCol:!0,showColHead:!0},groupId:{lb:"\u0e23\u0e2b\u0e31\u0e2a\u0e40\u0e2d\u0e01\u0e2a\u0e32\u0e23",type:"number",width:50,showCol:!0,showColHead:!0},groupName:{lb:"\u0e0a\u0e37\u0e48\u0e2d\u0e40\u0e2d\u0e01\u0e2a\u0e32\u0e23",type:"string",width:80,showCol:!0,showColHead:!0},partnerId:{lb:"\u0e44\u0e2d\u0e14\u0e35\u0e04\u0e39\u0e48\u0e04\u0e49\u0e32",type:"number",width:60,showCol:!0,showColHead:!0},title:{lb:"\u0e04\u0e33\u0e19\u0e33\u0e2b\u0e19\u0e49\u0e32",type:"string",width:60,showCol:!0,showColHead:!0},name:{lb:"\u0e0a\u0e37\u0e48\u0e2d",type:"string",width:100,showCol:!0,showColHead:!0}},xt=Object(p.a)({},kt,{total:{lb:"\u0e23\u0e27\u0e21",type:"number",width:70,showCol:!0,showColHead:!0,showSum:!0},reduction:{lb:"\u0e2a\u0e48\u0e27\u0e19\u0e25\u0e14",type:"number",width:70,showCol:!0,showColHead:!0,showSum:!0},grandTotal:{lb:"\u0e2a\u0e38\u0e17\u0e18\u0e34",type:"number",width:80,showCol:!0,showColHead:!0,showSum:!0},phone:{lb:"\u0e42\u0e17\u0e23\u0e28\u0e31\u0e1e\u0e17\u0e4c",type:"array",width:110,showCol:!0,showColHead:!0},address:{lb:"\u0e17\u0e35\u0e48\u0e2d\u0e22\u0e39\u0e48",type:"arrayObject",width:200,showCol:!0,showColHead:!0,children:{number:{lb:"\u0e40\u0e25\u0e02\u0e17\u0e35\u0e48"},tambon:{lb:"\u0e15\u0e33\u0e1a\u0e25"},district:{lb:"\u0e2d\u0e33\u0e40\u0e20\u0e2d"},province:{lb:"\u0e08\u0e31\u0e07\u0e2b\u0e27\u0e31\u0e14"},postcode:{lb:"\u0e23\u0e2b\u0e31\u0e2a\u0e44\u0e1b\u0e23\u0e29\u0e13\u0e35\u0e22\u0e4c"}}},remark:{lb:"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15\u0e38",type:"string",width:200,showCol:!0,showColHead:!0},photoUrl1:{lb:"\u0e23\u0e39\u0e1b",type:"arrayPhoto",width:200,showCol:!0,showColHead:!0}}),Tt=Object(p.a)({status:{lb:"\u0e2a\u0e16\u0e32\u0e19\u0e30",type:"string",width:60,showCol:!0,showColHead:!0}},xt);Object(p.a)({},Tt),Object(p.a)({status:{lb:"\u0e2a\u0e16\u0e32\u0e19\u0e30",type:"string",width:60,showCol:!0,showColHead:!0}},kt,{total:{lb:"\u0e23\u0e27\u0e21",type:"number",width:70,showCol:!0,showColHead:!0,showSum:!0},reduction:{lb:"\u0e2a\u0e48\u0e27\u0e19\u0e25\u0e14",type:"number",width:70,showCol:!0,showColHead:!0,showSum:!0},grandTotal:{lb:"\u0e2a\u0e38\u0e17\u0e18\u0e34",type:"number",width:80,showCol:!0,showColHead:!0,showSum:!0}}),Object(p.a)({detail_id:jt.id,detail_barcode:jt.barcode,detail_name:jt.name,detail_groupId:jt.groupId,detail_groupName:jt.groupName,detail_unit:jt.unit,detail_price:jt.price,detail_quantity:{lb:"\u0e08\u0e33\u0e19\u0e27\u0e19",type:"number",width:60,showCol:!0,showColHead:!0,showSum:!0},detail_result:{lb:"\u0e23\u0e27\u0e21",type:"number",width:90,showCol:!0,showColHead:!0,showSum:!0}},kt);function St(e){var t=e.pageData,a=(e.pageDataStandard,e.basicData,e.lb,e.setShow),n=e.submitFunction,c=e.submitFunction2,o=(e.myheader,e.languageObj),r=e.addLanguage,s=e.deleteLanguage,u=l.a.createRef(),b=l.a.createRef(),f=l.a.useState(function(e){var t=Object.keys(e),a=[],n=[];t.map((function(t){n=[].concat(Object(d.a)(n),[parseInt(e[t].thisId)]);var l=[];Object.keys(e[t]).map((function(a){if("thisId"!=a){var n={key:a,lb:e[t][a]};l=[].concat(Object(d.a)(l),[n])}}));var c={id:parseInt(e[t].thisId),formLanguage:t,template:e[t]};a=[].concat(Object(d.a)(a),[c])}));var l=n.sort(),c=[];return l.map((function(e){a.map((function(t){e==t.id&&(c=[].concat(Object(d.a)(c),[t]))}))})),c}(o)),h=Object(i.a)(f,2),g=h[0],y=h[1],v=l.a.useState(function(e){var t=[];return e.map((function(e){t=[].concat(Object(d.a)(t),[l.a.createRef()])})),t}(g)),w=Object(i.a)(v,2),E=w[0],N=(w[1],l.a.useState(null)),j=Object(i.a)(N,2),O=j[0],k=j[1],x=l.a.useState([]),T=Object(i.a)(x,2),S=T[0],C=T[1],F=l.a.useState({key:null,lb:""}),D=Object(i.a)(F,2),I=D[0],P=D[1];l.a.useEffect((function(){}),[g]),l.a.useEffect((function(){}),[I]);return l.a.createElement("div",{className:"Modal-background"},l.a.createElement("div",{className:"Modal-box",style:{paddingBottom:"1rem",minWidth:"70%",minHeight:"100px"}},l.a.createElement("div",{className:"Modal-header"},l.a.createElement("div",{className:"flex-center-center"},l.a.createElement("h5",null,t.setting.language))),l.a.createElement("div",{className:"Modal-body"},l.a.createElement("div",{className:"ModalInsideBody"},O?null:l.a.createElement("div",{className:"w-100 flex-center-start jc-start",style:{marginBottom:"0.2rem"}},l.a.createElement("div",{className:"w-100"},g.map((function(e,t){return l.a.createElement("div",{className:"flex-center-center",style:{marginBottom:"0.2rem"},key:t},t>0?l.a.createElement("div",{className:"w-10"},l.a.createElement(L.r,{className:"sm-icon",onClick:function(t){s(e.id)}})):l.a.createElement("div",{className:"w-10"},l.a.createElement(L.u,{className:"sm-icon",onClick:function(e){r(g)}})),l.a.createElement("div",{className:"w-70"},l.a.createElement("input",{type:"text",value:e.formLanguage,ref:E[t],onKeyDown:function(e){"Enter"==e.key&&(t==g.length-1?u.current.focus():E[t+1].current.focus())},onChange:function(e){!function(e,t){var a=null,n=[];g.map((function(l,c){if(t==c){var o=Object(p.a)({},l,{formLanguage:e.target.value});n=[].concat(Object(d.a)(n),[o]),a=l.id}else n=[].concat(Object(d.a)(n),[l])}));var l=[].concat(Object(d.a)(S),[a]);C(Object(d.a)(new Set(l))),y(n)}(e,t)}})),l.a.createElement("div",{className:"w-10"},l.a.createElement(G.k,{className:"sm-icon",onClick:function(t){k(e)}})))}))),l.a.createElement("div",{style:{display:"flex",width:"100%",marginTop:"2rem"}},l.a.createElement("div",{className:"xc9"}),l.a.createElement("div",{className:"xc3",style:{display:"flex"}},l.a.createElement("div",null,l.a.createElement("button",{ref:u,onKeyDown:function(e){},onClick:function(e){n&&n(g,S)}},l.a.createElement(L.f,null))),l.a.createElement("div",null,l.a.createElement("button",{ref:b,onKeyDown:function(e){},onClick:function(e){a(!1)}},l.a.createElement(L.a,null)))))))),O&&Object.keys(g[0].template).map((function(e,t){if("thisId"!=e)return l.a.createElement("div",{key:t,className:"w-80",style:{marginBottom:"0.2rem"}},l.a.createElement("div",{key:t,className:"w-100 flex-center-center jc-start",style:{marginBottom:"0.2rem"}},l.a.createElement("div",{className:"w-30"},g[0].template[e]),I.key==e?l.a.createElement("div",{className:"w-70",style:{position:"relative",display:"flex"}},l.a.createElement("input",{type:"text",value:I.lb,onKeyDown:function(e){"Enter"==e.key&&u.current.focus()},onChange:function(e){P({key:I.key,lb:e.target.value})},onBlur:function(e){k(Object(p.a)({},O,{template:Object(p.a)({},O.template,Object(m.a)({},I.key,I.lb))}))}})):l.a.createElement("div",{className:"w-70",style:{position:"relative",display:"flex"},onClick:function(t){P({key:e,lb:O.template[e]})}},l.a.createElement("div",null,O.template[e]))))})),O&&l.a.createElement("div",{style:{display:"flex",position:"fixed",bottom:"1rem",right:"2rem",zIndex:"100"}},l.a.createElement("div",null,l.a.createElement("button",{ref:u,onKeyDown:function(e){},onClick:function(e){n&&c(O)}},l.a.createElement(L.f,null))),l.a.createElement("div",null,l.a.createElement("button",{ref:b,onKeyDown:function(e){},onClick:function(e){a(!1)}},l.a.createElement(L.a,null))))))}St.defaultProps={lb:"Form",setShow:function(){},submitFunction:null};var Ct=St;var Ft=function(e){var t=e.printPageEditData,a=e.tableTemplate,n=e.pageData,c=e.setShow,o=e.confirmFunc2,r=e.saveTableTemplateFunc;console.log("PrintPageForm");var s=function(e,t){var a=e.toString(),n=Array.from(a).length-1;return t.toFixed(n)},u={id:1,date:(new Date).toISOString(),dateOut:(new Date).toISOString(),branch:"main",transactionType:"\u0e1a\u0e34\u0e25\u0e02\u0e32\u0e22",transactionStatus:"open",active:!0,table:"A1",tableStatus:"open",paymentType:"\u0e40\u0e07\u0e34\u0e19\u0e2a\u0e14",effectStock:"unChange",effectSpending:"unChange",effectCustomerPoint:"unChange",partnerId:1,partnerType:"\u0e1c\u0e39\u0e49\u0e0b\u0e37\u0e49\u0e2d",title:"\u0e19\u0e32\u0e22",name:"\u0e08\u0e34\u0e15\u0e15\u0e34",phone:["0924424349 ","0459213311"],address:"12 \u0e15.\u0e17\u0e48\u0e32\u0e02\u0e49\u0e32\u0e21 \u0e2d.\u0e19\u0e04\u0e23\u0e04\u0e35\u0e23\u0e35 \u0e08.\u0e21\u0e2b\u0e32\u0e2a\u0e32\u0e23\u0e04\u0e32\u0e21 70183",remark:"\u0e02\u0e2d\u0e07\u0e41\u0e17\u0e49",total:100,totalReduction:10,reduction:[{reductionName:"vat",reductionActive:!0,reductionRate:7,reductionInPercentage:!0,reductionAmount:100},{reductionName:"vat",reductionActive:!0,reductionRate:70,reductionInPercentage:!1,reductionAmount:70}],grandTotal:280,totalTax:300,tax:[{taxName:"vat",taxActive:!0,taxRate:7,taxInPercentage:!0,taxAmount:100},{taxName:"viso",taxActive:!0,taxRate:10,taxInPercentage:!0,taxAmount:200}],totalPoint:2,customerPointReduction:2,shopId:"shopa",userId:"1",detail:[{id:1,barcode:"1",productName:"\u0e2a\u0e32\u0e22\u0e1e\u0e32\u0e19",groupId:1,groupName:"main",unit:"\u0e40\u0e2a\u0e49\u0e19",price:100,priceLevel:[{price:100,remark:"\u0e17\u0e38\u0e19"}],quantity:1,result:100,remark:"ok",isRawMat:!1,point:1,jobStatus:"open"},{id:2,barcode:"2",productName:"\u0e19\u0e49\u0e33\u0e1e\u0e23\u0e34\u0e01",groupId:1,groupName:"main",unit:"\u0e16\u0e38\u0e07",price:50,priceLevel:[{price:50,remark:"\u0e17\u0e38\u0e19"}],quantity:1,result:50,remark:"ok",isRawMat:!1,point:1,jobStatus:"open"}]},b=l.a.useState(null),f=Object(i.a)(b,2),h=f[0],g=f[1],y=l.a.useState(!1),v=Object(i.a)(y,2),w=(v[0],v[1],function(e,t){console.log("setEditDataFunc"),g(e)}),E=function(e){console.log("setPageSetupFunc"),console.log(e)},N=function(e,t){var a=Object(p.a)({},x);["header1","header2","table1","footer1","footer2"].map((function(e){var n=[];x[e].map((function(e,a){n=e._id==t._id?t.printFieldName&&t.printValue?[].concat(Object(d.a)(n),[e]):[].concat(Object(d.a)(n),[t]):[].concat(Object(d.a)(n),[e])})),a=Object(p.a)({},a,Object(m.a)({},e,n))})),T(a)},j={widthUnit:["cm","%","mm"],fontUnit:["em","rem","px"]},O=l.a.useState(function(e){e.header1,e.header2,e.table1,e.footer1,e.footer2;var t=Object(p.a)({},e);return["header1","header2","table1","footer1","footer2"].map((function(a){var n=[];e[a].map((function(e){var t=Object(p.a)({},e,{selectedLine:!1,_id:ie()()});n=[].concat(Object(d.a)(n),[t])})),t=Object(p.a)({},t,Object(m.a)({},a,n))})),t}(t)),k=Object(i.a)(O,2),x=k[0],T=k[1];l.a.useEffect((function(){}),[x]);var S=x.widthUnit,C=x.fontUnit,F=x.totalWidth,D=x.showTableHead,I=x.header1,P=x.header2,R=x.table1,A=x.footer1,M=x.footer2,B=l.a.useState(!0),U=Object(i.a)(B,2),H=U[0],_=U[1],K=l.a.useState(a.printTableTemplate),z=Object(i.a)(K,2),q=z[0],$=z[1],W={position:"fixed",top:"3rem",right:"0.5rem",zIndex:"100",width:"3rem",backgroundColor:"white",borderRadius:"10px",margin:"1rem"},V={position:"fixed",top:"3rem",Left:"0.5rem",zIndex:"100",width:"3rem",backgroundColor:"white",borderRadius:"10px",margin:"1rem"},Y=function(e){return e.map((function(e,t){return l.a.createElement("div",{key:t,style:{width:"".concat(e.printWidth).concat(S)}},l.a.createElement("div",{style:{fontSize:"".concat(e.printFontSize).concat(C),textAlign:e.printPosition}},"".concat(e.printLb).concat(e.printValue)))}))},Q=function(e,t){return e.map((function(e,a){return"tax"==e.printFieldName||"reduction"==e.printFieldName?(console.log(e.printFieldName),t[e.printFieldName].map((function(t,n){return l.a.createElement("div",{key:"".concat(a,"-").concat(n),style:{width:"".concat(e.printWidth).concat(S)}},l.a.createElement("div",{style:{fontSize:"".concat(e.printFontSize).concat(C),textAlign:e.printPosition}},""==e.printLb?s(100,t["".concat(e.printFieldName,"Amount")]):l.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},l.a.createElement("div",null,"".concat(e.printLb,"  ").concat(t["".concat(e.printFieldName,"Name")])),l.a.createElement("div",null,s(100,t["".concat(e.printFieldName,"Amount")])))))}))):l.a.createElement("div",{key:a,style:{width:"".concat(e.printWidth).concat(S)}},l.a.createElement("div",{style:{fontSize:"".concat(e.printFontSize).concat(C),textAlign:e.printPosition}},e.printFieldName?"totalTax"==e.printFieldName||"totalReduction"==e.printFieldName||"total"==e.printFieldName||"grandTotal"==e.printFieldName?"".concat(e.printLb).concat(s(100,t[e.printFieldName])):"".concat(e.printLb).concat(t[e.printFieldName]):"".concat(e.printLb).concat(e.printValue)))}))};return l.a.createElement("div",{style:{width:"100%"}},l.a.createElement("div",{className:"bd-green",style:{margin:"0",width:"".concat(F).concat(S),display:"flex",flexWrap:"wrap"}},Y(I),Q(P,u),D&&R.map((function(e,t){return l.a.createElement("div",{key:t,style:{width:"".concat(e.printWidth).concat(S)}},l.a.createElement("div",{style:{fontSize:"".concat(e.printFontSize).concat(C),textAlign:e.printPosition}},"".concat(e.printLb)))})),function(e,t){return t.map((function(t,a){return e.map((function(e,n){return l.a.createElement("div",{key:"".concat(a,"-").concat(n),style:{width:"".concat(e.printWidth).concat(S)}},l.a.createElement("div",{style:{fontSize:"".concat(e.printFontSize).concat(C),textAlign:e.printPosition}},"result"==e.printFieldName?s(100,t[e.printFieldName]):"".concat(t[e.printFieldName])))}))}))}(R,u.detail),Q(A,u),Y(M)),l.a.createElement("div",{className:"w-100 hide-on-print"},Object.keys(x).map((function(e,t){return"widthUnit"==e||"fontUnit"==e?l.a.createElement("div",{key:t,className:"flex-center-center jc-start w-50",style:{padding:"0.3rem",display:"flex",justifyContent:"flex-start",alignItems:"center"}},l.a.createElement("div",{className:"xc4"},n.printForm[e]),l.a.createElement("select",{className:"xc8"},j[e].map((function(t,a){return l.a.createElement("option",{key:a,selected:t==x[e]?"selected":""},t)})))):"totalWidth"==e?l.a.createElement("div",{key:t,className:"flex-center-center jc-start w-50",style:{padding:"0.3rem",display:"flex",justifyContent:"flex-start",alignItems:"center"}},l.a.createElement("div",{className:"xc4"},n.printForm[e]),l.a.createElement("input",{className:"xc8",value:x[e],type:"number",onChange:function(t){return T(Object(p.a)({},x,Object(m.a)({},e,t.target.value)))}})):"showTableHead"==e?l.a.createElement("div",{key:t,className:"flex-center-center jc-start w-50",style:{padding:"0.3rem",display:"flex",justifyContent:"flex-start",alignItems:"center"}},l.a.createElement("div",{className:"xc4"},n.printForm[e]),l.a.createElement("div",{className:"xc8"},l.a.createElement("input",{type:"checkbox",style:{height:"1.4rem",padding:"0",margin:"0"},checked:x[e],onChange:function(t){return T(Object(p.a)({},x,Object(m.a)({},e,t.target.checked)))}}))):"header1"==e||"header2"==e||"table1"==e||"footer1"==e||"footer2"==e?l.a.createElement("div",{key:t,className:"w-100"},l.a.createElement("div",{className:"w-100",style:{padding:"0.3rem",display:"flex",justifyContent:"flex-start",alignItems:"center"}},n.printForm[e]),q&&l.a.createElement(ct,{tableTemplate:q,setTableTemplate:$,filterData:x[e],setFilterData:E,editData:h,setEditData:w,saveTableTemplateFunc:r,isSubTable:!1,updateFilterData:N,useInput:!0,pageData:n.tableSettingModal})):void 0}))),l.a.createElement("div",{className:"w-100 hide-on-print"},h&&l.a.createElement("div",{className:"",style:H?W:V},l.a.createElement("div",{className:"flex-center-center",style:{margin:"0.5rem 0"}},l.a.createElement(G.j,{className:"lg-icon",onClick:function(e){!function(){if(h){var e=Object(p.a)({},x);["header1","header2","table1","footer1","footer2"].map((function(t){var a=[];x[t].map((function(e){e._id!=h._id&&(a=[].concat(Object(d.a)(a),[e]))})),e=Object(p.a)({},e,Object(m.a)({},t,a))})),T(e)}}()}})),l.a.createElement("div",{className:"flex-center-center",style:{margin:"0.5rem 0"}},l.a.createElement(L.t,{className:"lg-icon",onClick:function(e){!function(){if(h){var e={printLb:"",printValue:"",printFieldName:null,printFontSize:"1",printWidth:"50",printPosition:"center",_id:ie()(),selectedLine:!1},t=Object(p.a)({},x);["header1","header2","table1","footer1","footer2"].map((function(a){var n=[];x[a].map((function(t){n=t._id==h._id?[].concat(Object(d.a)(n),[e,t]):[].concat(Object(d.a)(n),[t])})),t=Object(p.a)({},t,Object(m.a)({},a,n))})),T(t)}}()}})),l.a.createElement("div",{className:"flex-center-center",style:{margin:"0.5rem 0"}},l.a.createElement(L.y,{className:"lg-icon",onClick:function(e){!function(){if(h){var e=Object(p.a)({},x);["header1","header2","table1","footer1","footer2"].map((function(t){var a=[],n=null;x[t].map((function(e,t){e._id==h._id&&(n=t)})),(n||n>0)&&(x[t].map((function(e,l){a=[].concat(Object(d.a)(a),l==n-1?[x[t][n]]:l==n?[x[t][n-1]]:[e])})),e=Object(p.a)({},e,Object(m.a)({},t,a)))})),T(e)}}()}})),l.a.createElement("div",{className:"flex-center-center",style:{margin:"0.5rem 0"}},l.a.createElement(L.v,{className:"lg-icon",onClick:function(e){!function(){if(h){var e=Object(p.a)({},x);["header1","header2","table1","footer1","footer2"].map((function(t){var a=[],n=null,l=x[t].length-1;x[t].map((function(e,t){e._id==h._id&&(n=t)})),null!=n&&n<l&&(x[t].map((function(e,l){a=[].concat(Object(d.a)(a),l==n?[x[t][n+1]]:l==n+1?[x[t][n]]:[e])})),e=Object(p.a)({},e,Object(m.a)({},t,a)))})),T(e)}}()}})),l.a.createElement("div",{className:"flex-center-center",style:{margin:"0.5rem 0"}},l.a.createElement(G.B,{className:"xl-icon",onClick:function(e){_(!H)}})),l.a.createElement("div",{className:"flex-center-center",style:{margin:"0.5rem 0"}},l.a.createElement(G.s,{className:"xl-icon",onClick:function(e){window.print()}})),l.a.createElement("div",{className:"flex-center-center",style:{margin:"0.5rem 0"}},l.a.createElement(G.i,{className:"lg-icon",onClick:function(e){g(null)}})))),l.a.createElement("div",{className:"w-100 hide-on-print"},l.a.createElement("div",{className:"",style:{display:"flex",position:"fixed",bottom:"1rem",right:"2rem",zIndex:"100"}},l.a.createElement("div",null,l.a.createElement("button",{onClick:function(e){o&&o(x)}},l.a.createElement(L.f,null))),l.a.createElement("div",null,l.a.createElement("button",{onClick:function(e){c(!1)}},l.a.createElement(L.a,null))))))};var Dt=function(e){var t=e.printPage,a=e.printPageSetting,n=e.calDigit,c=e.transaction,o=function(e,t){var a=e.toString(),n=Array.from(a).length-1;return t.toFixed(n)},r=l.a.useState(function(e,t){var a=null;return e.map((function(e){e.printPageName==t&&(a=function(e){e.header1,e.header2,e.table1,e.footer1,e.footer2;var t=Object(p.a)({},e);return["header1","header2","table1","footer1","footer2"].map((function(a){var n=[];e[a].map((function(e){var t=Object(p.a)({},e,{selectedLine:!1,_id:ie()()});n=[].concat(Object(d.a)(n),[t])})),t=Object(p.a)({},t,Object(m.a)({},a,n))})),t}(e))})),a}(t,a)),s=Object(i.a)(r,2),u=s[0],b=(s[1],u.widthUnit),f=u.fontUnit,h=u.totalWidth,g=(u.showTableHead,u.header1,u.header2,u.table1);u.footer1,u.footer2,l.a.useEffect((function(){}),[u]);var y=function(e){return e.map((function(e,t){return l.a.createElement("div",{key:t,style:{width:"".concat(e.printWidth).concat(b)}},l.a.createElement("div",{style:{fontSize:"".concat(e.printFontSize).concat(f),textAlign:e.printPosition}},"".concat(e.printLb).concat(e.printValue)))}))},v=function(e,t){return e.map((function(e,a){return"tax"==e.printFieldName||"reduction"==e.printFieldName?(console.log(e.printFieldName),t[e.printFieldName].map((function(t,c){return l.a.createElement("div",{key:"".concat(a,"-").concat(c),style:{width:"".concat(e.printWidth).concat(b)}},l.a.createElement("div",{style:{fontSize:"".concat(e.printFontSize).concat(f),textAlign:e.printPosition}},""==e.printLb?o(n,t["".concat(e.printFieldName,"Amount")]):l.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},l.a.createElement("div",null,"".concat(e.printLb,"  ").concat(t["".concat(e.printFieldName,"Name")])),l.a.createElement("div",null,o(n,t["".concat(e.printFieldName,"Amount")])))))}))):l.a.createElement("div",{key:a,style:{width:"".concat(e.printWidth).concat(b)}},l.a.createElement("div",{style:{fontSize:"".concat(e.printFontSize).concat(f),textAlign:e.printPosition}},e.printFieldName?"totalTax"==e.printFieldName||"totalReduction"==e.printFieldName||"total"==e.printFieldName||"grandTotal"==e.printFieldName?"".concat(e.printLb).concat(o(n,t[e.printFieldName])):"".concat(e.printLb).concat(t[e.printFieldName]):"".concat(e.printLb).concat(e.printValue)))}))};return l.a.createElement("div",{className:"bd-green",style:{position:"fixed",top:"0",left:"0",zIndex:"500",width:"".concat(h).concat(b),display:"flex",flexWrap:"wrap",backgroundColor:"white"}},y(u.header1),v(u.header2,c),u.showTableHead&&g.map((function(e,t){return l.a.createElement("div",{key:t,style:{width:"".concat(e.printWidth).concat(b)}},l.a.createElement("div",{style:{fontSize:"".concat(e.printFontSize).concat(f),textAlign:e.printPosition}},"".concat(e.printLb)))})),function(e,t){return t.map((function(t,a){return e.map((function(e,c){return l.a.createElement("div",{key:"".concat(a,"-").concat(c),style:{width:"".concat(e.printWidth).concat(b)}},l.a.createElement("div",{style:{fontSize:"".concat(e.printFontSize).concat(f),textAlign:e.printPosition}},"result"==e.printFieldName?o(n,t[e.printFieldName]):"".concat(t[e.printFieldName])))}))}))}(u.table1,c.detail),v(u.footer1,c),y(u.footer2))},It={id:1,date:(new Date).toISOString(),dateOut:(new Date).toISOString(),branch:"main",transactionType:"\u0e1a\u0e34\u0e25\u0e02\u0e32\u0e22",transactionStatus:"open",active:!0,table:"A1",tableStatus:"open",paymentType:"\u0e40\u0e07\u0e34\u0e19\u0e2a\u0e14",effectStock:"unChange",effectSpending:"unChange",effectCustomerPoint:"unChange",partnerId:1,partnerType:"\u0e1c\u0e39\u0e49\u0e0b\u0e37\u0e49\u0e2d",title:"\u0e19\u0e32\u0e22",name:"\u0e08\u0e34\u0e15\u0e15\u0e34",phone:["0924424349 ","0459213311"],address:"12 \u0e15.\u0e17\u0e48\u0e32\u0e02\u0e49\u0e32\u0e21 \u0e2d.\u0e19\u0e04\u0e23\u0e04\u0e35\u0e23\u0e35 \u0e08.\u0e21\u0e2b\u0e32\u0e2a\u0e32\u0e23\u0e04\u0e32\u0e21 70183",remark:"\u0e02\u0e2d\u0e07\u0e41\u0e17\u0e49",total:100,totalReduction:10,reduction:[{reductionName:"vat",reductionActive:!0,reductionRate:7,reductionInPercentage:!0,reductionAmount:100},{reductionName:"vat",reductionActive:!0,reductionRate:70,reductionInPercentage:!1,reductionAmount:70}],grandTotal:280,totalTax:300,tax:[{taxName:"vat",taxActive:!0,taxRate:7,taxInPercentage:!0,taxAmount:100},{taxName:"viso",taxActive:!0,taxRate:10,taxInPercentage:!0,taxAmount:200}],totalPoint:2,customerPointReduction:2,shopId:"shopa",userId:"1",detail:[{id:1,barcode:"1",productName:"\u0e2a\u0e32\u0e22\u0e1e\u0e32\u0e19",groupId:1,groupName:"main",unit:"\u0e40\u0e2a\u0e49\u0e19",price:100,priceLevel:[{price:100,remark:"\u0e17\u0e38\u0e19"}],quantity:1,result:100,remark:"ok",isRawMat:!1,point:1,jobStatus:"open"},{id:2,barcode:"2",productName:"\u0e19\u0e49\u0e33\u0e1e\u0e23\u0e34\u0e01",groupId:1,groupName:"main",unit:"\u0e16\u0e38\u0e07",price:50,priceLevel:[{price:50,remark:"\u0e17\u0e38\u0e19"}],quantity:1,result:50,remark:"ok",isRawMat:!1,point:1,jobStatus:"open"}]};var Pt=function(e){var t=e.pageData,a=e.setShow,n=e.submitFunction,c=e.submitFunction2,o=e.printPage,r=(e.basicData,e.tableTemplate),s=e.addPrintPage,m=e.deletePrintPage,u=e.saveTableTemplateFunc,b=l.a.createRef(),f=l.a.createRef();console.log("printPage"),console.log(o);var h=l.a.useState(o),g=Object(i.a)(h,2),y=g[0],v=g[1];l.a.useEffect((function(){console.log("filterData"),console.log(y)}),[y]);var w=l.a.useState(null),E=Object(i.a)(w,2),N=E[0],j=E[1],O=l.a.useState(function(e){var t=[];return Array&&Array.isArray(e)&&e.map((function(e){t=[].concat(Object(d.a)(t),[l.a.createRef()])})),t}(o)),k=Object(i.a)(O,2),x=k[0];return k[1],l.a.createElement("div",null,l.a.createElement("div",{className:"Modal-background hide-on-print"},N?null:l.a.createElement("div",{className:"Modal-box",style:{paddingBottom:"1rem",minWidth:"70%",minHeight:"30%"}},l.a.createElement("div",{className:"w-100 hide-on-print"},l.a.createElement("div",{className:"flex-center-center"},l.a.createElement("h5",null,"".concat(t.setting.printPage)))),l.a.createElement("div",{className:"Modal-body hide-on-print"},l.a.createElement("div",{className:"ModalInsideBody"},l.a.createElement("div",{className:"hide-on-print w-100 flex-center-start jc-start",style:{marginBottom:"0.2rem"}},l.a.createElement("div",{className:"w-100"},y.map((function(e,t){return l.a.createElement("div",{className:"flex-center-center",style:{marginBottom:"0.2rem"},key:t},t>0?l.a.createElement("div",{className:"w-10"},l.a.createElement(L.r,{className:"sm-icon",onClick:function(t){m(e.printId)}})):l.a.createElement("div",{className:"w-10"},l.a.createElement(L.u,{className:"sm-icon",onClick:function(e){s(y)}})),l.a.createElement("div",{className:"w-70"},l.a.createElement("input",{type:"text",ref:x[t],onKeyDown:function(e){"Enter"==e.key&&(t==y.length-1?b.current.focus():x[t+1].current.focus())},value:e.printPageName,onChange:function(e){!function(e,t){var a=[];y.map((function(n,l){if(t==l){var c=Object(p.a)({},n,{printPageName:e.target.value});a=[].concat(Object(d.a)(a),[c])}else a=[].concat(Object(d.a)(a),[n])})),v(a)}(e,t)}})),l.a.createElement("div",{className:"w-10"},l.a.createElement(G.k,{className:"sm-icon",onClick:function(t){j(e)}})))}))),l.a.createElement("div",{style:{display:"flex",width:"100%",marginTop:"2rem"}},l.a.createElement("div",{className:"xc9"}),l.a.createElement("div",{className:"xc3",style:{display:"flex"}},l.a.createElement("div",null,l.a.createElement("button",{ref:b,onKeyDown:function(e){},onClick:function(e){n&&n(y)}},l.a.createElement(L.f,null))),l.a.createElement("div",null,l.a.createElement("button",{ref:f,onKeyDown:function(e){},onClick:function(e){a(!1)}},l.a.createElement(L.a,null))))))))),N&&l.a.createElement("div",{className:"Modal-box hide-on-print",style:{width:"100%",height:"100%",padding:"0"}},l.a.createElement(Ft,{printPageEditData:N,tableTemplate:r,pageData:t,setShow:a,confirmFunc2:function(e){c(e,y)},saveTableTemplateFunc:u}))),N&&l.a.createElement("div",{className:"hide-on-screen"},l.a.createElement(Dt,{printPage:[N],printPageSetting:N.printPageName,transaction:It,calDigit:100})))};function Rt(e){var t=e.pageData,a=e.basicData,n=e.setShow,c=e.submitFunction,o=l.a.createRef(),r=l.a.createRef(),s=l.a.useState({widthLeft:a.widthLeft}),m=Object(i.a)(s,2),u=m[0],d=m[1];return l.a.createElement("div",{className:"Modal-background"},l.a.createElement("div",{className:"Modal-box",style:{paddingBottom:"1rem",minWidth:"70%",minHeight:"100px"}},l.a.createElement("div",{className:"Modal-header"},l.a.createElement("div",{className:"flex-center-center"},l.a.createElement("h5",null,t.widthLeftForm.formHead))),l.a.createElement("div",{className:"w-100 flex-center-center jc-start",style:{marginBottom:"0.2rem"}},l.a.createElement("div",{className:"w-30"},t.widthLeftForm.widthLeft),l.a.createElement("div",{className:"w-70",style:{position:"relative"}},l.a.createElement("input",{type:"number",value:u.widthLeft,onChange:function(e){d({widthLeft:parseInt(e.target.value)})}}))),l.a.createElement("div",{style:{display:"flex",position:"fixed",bottom:"1rem",right:"2rem",zIndex:"100"}},l.a.createElement("div",null,l.a.createElement("button",{ref:o,onKeyDown:function(e){"ArrowRight"==e.key&&r.current.focus()},onClick:function(e){c&&c(u)}},"Confirm")),l.a.createElement("div",null,l.a.createElement("button",{ref:r,onKeyDown:function(e){"ArrowLeft"==e.key&&r.current.focus()},onClick:function(e){n(!1)}},"Cancel")))))}Rt.defaultProps={};var At=function(e){var t=e.modalTableState,a=e.submitFunc,n=e.basicData,c=e.cancelFunc,o=e.saveTableTemplateFunc,r=e.pageData;console.log("modalTableState");var s=t.pageForm,m=t.tableTemplate,u=t.data,b=t.blankData,f=l.a.useState(function(e){var t=[];return e.map((function(e){var a=Object(p.a)({},e,{selectedLine:!1,_id:ie()()});t=[].concat(Object(d.a)(t),[a])})),t}(u)),h=Object(i.a)(f,2),g=h[0],y=h[1],v=l.a.useState(null),w=Object(i.a)(v,2),E=w[0],N=w[1],j=l.a.useState(m),O=Object(i.a)(j,2),k=O[0],x=O[1],T=l.a.useState(!0),S=Object(i.a)(T,2),C=S[0],F=S[1],D={position:"fixed",top:"3rem",right:"0.5rem",zIndex:"100",width:"",backgroundColor:"white",borderRadius:"10px",margin:""},I={position:"fixed",top:"3rem",Left:"0.5rem",zIndex:"100",width:"",backgroundColor:"white",borderRadius:"10px",margin:""},P=l.a.useState(!0),R=Object(i.a)(P,2),A=R[0],M=R[1];return l.a.createElement("div",{className:"Modal-background"},l.a.createElement("div",{className:"Modal-box",style:{minWidth:"70%",minHeight:"40%"}},l.a.createElement("div",{className:"Modal-header"},l.a.createElement("h5",null,s.formHead)),l.a.createElement("div",{className:"flex-center-center w-80",style:{width:"100%"}},l.a.createElement(ct,{tableTemplate:k,setTableTemplate:x,filterData:g,setFilterData:function(){},editData:E,setEditData:N,saveTableTemplateFunc:o,isSubTable:!1,updateFilterData:function(e,t){var a=[];g.map((function(e){a=e._id==E._id?[].concat(Object(d.a)(a),[t]):[].concat(Object(d.a)(a),[e])})),y(a)},useInput:!0,basicData:n,pageData:r.tableSettingModal})),C&&E?l.a.createElement("div",{style:A?D:I},l.a.createElement("div",{className:"iconbox",style:{height:"3.5rem"},onClick:function(e){!function(){if(E&&g&&g.length>1){var e=[];g.map((function(t,a){t._id!=E._id&&(e=[].concat(Object(d.a)(e),[t]))})),y(e)}}()}},l.a.createElement($,{iconName:"MdDelete",className:"lg-icon",textStyle:{color:"black"}})),l.a.createElement("div",{className:"iconbox",style:{height:"3.5rem"},onClick:function(e){!function(){if(E){var e=[];g.map((function(t,a){if(t._id==E._id){var n=Object(p.a)({},b,{selectedLine:!1,_id:ie()()});e=[].concat(Object(d.a)(e),[n,t])}else e=[].concat(Object(d.a)(e),[t])})),y(e)}else{var t=Object(p.a)({},b,{selectedLine:!1,_id:ie()()});y([t])}}()}},l.a.createElement($,{iconName:"MdAddCircle",className:"lg-icon",textStyle:{color:"black"}})),l.a.createElement("div",{className:"iconbox",style:{height:"3.5rem"},onClick:function(e){!function(){if(E){var e=[],t=null;g.map((function(e,a){e._id==E._id&&(t=a)})),null!=t&&t>0&&(g.map((function(a,n){e=[].concat(Object(d.a)(e),n==t-1?[g[t]]:n==t?[g[t-1]]:[a])})),y(e))}}()}},l.a.createElement($,{iconName:"FaRegArrowAltCircleUp",className:"lg-icon",textStyle:{color:"black"}})),l.a.createElement("div",{className:"iconbox",style:{height:"3.5rem"},onClick:function(e){!function(){if(E){var e=[],t=null,a=g.length-1;g.map((function(e,a){e._id==E._id&&(t=a)})),null!=t&&t<a&&(g.map((function(a,n){e=[].concat(Object(d.a)(e),n==t?[g[t+1]]:n==t+1?[g[t]]:[a])})),y(e))}}()}},l.a.createElement($,{iconName:"FaRegArrowAltCircleDown",className:"lg-icon",textStyle:{color:"black"}})),l.a.createElement("div",{className:"iconbox",style:{height:"3.5rem"},onClick:function(e){M(!A)}},l.a.createElement($,{iconName:"MdSwapHoriz",className:"xl-icon",textStyle:{color:"black"}})),l.a.createElement("div",{className:"iconbox",style:{height:"3.5rem"},onClick:function(e){N(null),F(!1)}},l.a.createElement($,{iconName:"MdClose",className:"lg-icon",textStyle:{color:"black"}}))):null,l.a.createElement("div",{className:"Modal-footer"},l.a.createElement("div",null,l.a.createElement("button",{onClick:function(e){a(g)}},l.a.createElement(L.f,null))),l.a.createElement("div",null,l.a.createElement("button",{onClick:function(e){c(),F(!1)}},l.a.createElement(L.a,null))))))},Mt=oe.catchErrorToMessage,Bt=Me.saveTableTemplate;var Lt=function(e){var t=e.pageData,a=e.basicData,n=(e.FormTemplate,e.StateTemplate,e.basicDataTableTemplate),c=(e.pageDataStandard,e.languageObj),o=e.myheader,r=e.setReloadBasicData,s=e.tableTemplate;console.log("shopInfo........");var b=l.a.useState(null),h=Object(i.a)(b,2),g=(h[0],h[1],l.a.useState(!1)),y=Object(i.a)(g,2),v=(y[0],y[1],l.a.useState(!1)),w=Object(i.a)(v,2),E=w[0],N=w[1],j=l.a.useState(!1),O=Object(i.a)(j,2),k=O[0],x=O[1],T=l.a.useState(!1),S=Object(i.a)(T,2),C=S[0],F=S[1],D=l.a.useState({showModalError:!1,message:null}),I=Object(i.a)(D,2),P=I[0],R=I[1],A=l.a.useState({key:null,show:!1,lb:null,array:null}),M=Object(i.a)(A,2),B=M[0],L=M[1],U=l.a.useState({key:null,show:!1,lb:null,array:null}),H=Object(i.a)(U,2),_=H[0],K=H[1],z=l.a.useState(!1),q=Object(i.a)(z,2),$=q[0],W=q[1],V=l.a.useState(!1),Y=Object(i.a)(V,2),Q=Y[0],X=Y[1],J=l.a.useState(!1),Z=Object(i.a)(J,2),ee=(Z[0],Z[1],l.a.useState(!1)),te=Object(i.a)(ee,2),ae=(te[0],te[1],l.a.useState(s)),ne=Object(i.a)(ae,2),le=ne[0],ce=ne[1],oe=l.a.useState({key:null,showModalTable:!1,pageForm:null,tableTemplate:null,data:null,blankData:null}),re=Object(i.a)(oe,2),ie=re[0],se=re[1],me=function(){N(!0)},ue=function(){x(!0)},de=function(){F(!0)},pe=function(){W(!0)},be=function(){X(!0)},fe=function(e,t){var a=[];return e.map((function(e){a=[].concat(Object(d.a)(a),[e[t]])})),a},he=function(e,n,l){var c,o;(console.log("tempFunc2"),"tax"==e||"reduction"==e||"transaction"==e)?("tax"==e&&(c="Tax",o={taxName:"",taxActive:!1,taxRate:0,taxInPercentage:!1}),"reduction"==e&&(c="Reduction",o={reductionName:"",reductionActive:!1,reductionRate:0,reductionInPercentage:!1}),"transaction"==e&&(c="Transaction",o={transactionType:"",effectStock:"unChange",effectSpending:"unChange",effectCustomerPoint:"unChange"}),se({key:e,showModalTable:!0,pageForm:t["".concat(e,"Form")],tableTemplate:le["basicData".concat(c,"TableTemplate")],data:a[e],blankData:o})):"branch"==e?K({key:e,show:!0,lb:n,array:a.branch}):L({key:e,show:!0,lb:n,array:l})},ge=function(e,t){return l.a.createElement("div",{style:{display:"flex"}},l.a.createElement("div",null,e),l.a.createElement(G.k,{className:"sm-icon",style:{marginLeft:"0rem"},onClick:function(){return t()}}))},ye=function(e,a,n){var c=t.basicValue[e];return l.a.createElement("div",{className:"xc6 sc12",style:{margin:"0.2rem 0"}},l.a.createElement("div",{style:{display:"flex",width:"100%"}},l.a.createElement("div",{className:"w-35"},c),l.a.createElement("div",{className:"w-50"},l.a.createElement("select",null,n.map((function(e,t){return l.a.createElement("option",{key:t},e)})))),l.a.createElement(G.k,{className:"sm-icon",style:{marginLeft:"0rem"},onClick:function(){return a(e,c,n)}})))};return l.a.createElement("div",{className:"w-100 h-100",style:{overflowY:"auto"}},t&&function(){var e=t.setting,a=e.formHead,n=e.changePassword,c=e.addNewUser,o=e.routeAuth,r=e.language,i=e.printPage;e.widthLeft;return l.a.createElement("div",{className:"w-100",style:{marginBottom:"0.5rem",padding:"0.5rem"}},l.a.createElement("div",{className:"w-100 bd-pureWhite",style:{padding:"0.5rem"}},l.a.createElement("h5",null,a),ge(n,me),ge(c,ue),ge(o,pe),ge(r,be),ge(i,de)))}(),t&&l.a.createElement("div",{className:"w-100",style:{marginBottom:"0.5rem",padding:"0.5rem"}},l.a.createElement("div",{className:"w-100 bd-pureWhite",style:{padding:"0.5rem"}},l.a.createElement("div",null,l.a.createElement("h5",null,t.basicValue.formHead)),l.a.createElement("div",{className:"flex-center-center jc-start"},ye("title",he,a.title),ye("unit",he,a.unit),ye("userLevel",he,a.userLevel),ye("partnerType",he,a.partnerType),ye("paymentType",he,a.paymentType),ye("tax",he,fe(a.tax,"taxName")),ye("reduction",he,fe(a.reduction,"reductionName")),ye("transaction",he,fe(a.transaction,"transactionType"))))),C&&a.printPage?l.a.createElement(Pt,{pageData:t,submitFunction:function(e){f.a.post("/p35basicdata/updatecustom",{id:a.id,printPage:e},o).then((function(e){F(!1),r(!0)})).catch((function(e){console.log("error");var t={showModalError:!0,message:Mt(e)};R(t)}))},submitFunction2:function(e,t){console.log("updatePrintPageFunc2");e._id;var n=Object(u.a)(e,["_id"]);["header1","header2","table1","footer1","footer2"].map((function(t){var a=[];e[t].map((function(e){e._id;var t=Object(u.a)(e,["_id"]);a=[].concat(Object(d.a)(a),[t])})),n=Object(p.a)({},n,Object(m.a)({},t,a))}));var l=[];t.map((function(t){l=t.printId==e.printId?[].concat(Object(d.a)(l),[n]):[].concat(Object(d.a)(l),[t])})),f.a.post("/p35basicdata/updatecustom",{id:a.id,printPage:l},o).then((function(e){F(!1),r(!0)})).catch((function(e){console.log("error");var t={showModalError:!0,message:Mt(e)};R(t)}))},setShow:function(e){return F(e)},printPage:a.printPage,basicData:a,addPrintPage:function(e){var t=e.length-1,n=parseInt(e[t].printId)+1,l=e,c=Object(p.a)({},e[0],{printId:n,printPageName:n.toString()});l=[].concat(Object(d.a)(l),[c]),f.a.post("/p35basicdata/updatecustom",{id:a.id,printPage:l},o).then((function(e){F(!1),r(!0)})).catch((function(e){console.log("error");var t={showModalError:!0,message:Mt(e)};R(t)}))},deletePrintPage:function(e){var t=[];a.printPage.map((function(a){a.printId!=e&&(t=[].concat(Object(d.a)(t),[a]))})),f.a.post("/p35basicdata/updatecustom",{id:a.id,printPage:t},o).then((function(e){F(!1),r(!0)})).catch((function(e){console.log("error");var t={showModalError:!0,message:Mt(e)};R(t)}))},tableTemplate:s,saveTableTemplateFunc:function(e){var t={};Object.keys(e).map((function(a){var n=Object(p.a)({},e[a],{showColHead:!0});t=Object(p.a)({},t,Object(m.a)({},a,n))}));Bt(t,"p35tabletemplate","printTableTemplate",o)}}):null,E?l.a.createElement(Le,{pageData:t,setShow:N,submitFunction:function(e){f.a.post("/shop/shopchangepassword",e,o).then((function(e){N(!1)})).catch((function(e){var t={showModalError:!0,message:Mt(e)};R(t)}))}}):null,k?l.a.createElement(wt,{pageData:t,basicData:a,tableTemplate:s,myheader:o,setShow:x,submitFunction:function(e){console.log("updateAddUserFunc........."),f.a.post("/user/adduser",e,o).then((function(e){x(!1)})).catch((function(e){var t={showModalError:!0,message:Mt(e)};R(t)}))}}):null,B.show?l.a.createElement(Ue,{pageData:t,basicData:a,basicValueSetting:B,setShow:function(e){L(Object(p.a)({},B,{show:e}))},submitFunction:function(e){console.log("updateBasicDataFunc........");var t=Object(m.a)({id:a.id},B.key,e);f.a.post("/p35basicdata/updatecustom",t,o).then((function(e){console.log("result"),r(!0),L(Object(p.a)({},B,{show:!1}))})).catch((function(e){console.log("error");var t={showModalError:!0,message:Mt(e)};R(t)}))}}):null,_.show?l.a.createElement(_e,{pageData:t,basicData:a,basicValueSetting:_,setShow:function(e){K(Object(p.a)({},_,{show:e}))},submitFunction:function(e,t){console.log("updateBasicValueSettingFunc2"),console.log(e),console.log(t);var n=[];t._id?e.map((function(e){if(t._id==e._id){t._id;var a=Object(u.a)(t,["_id"]);n=[].concat(Object(d.a)(n),[a])}else{e._id;var l=Object(u.a)(e,["_id"]);n=[].concat(Object(d.a)(n),[l])}})):e.map((function(e){e._id;var t=Object(u.a)(e,["_id"]);n=[].concat(Object(d.a)(n),[t])}));var l=Object(m.a)({id:a.id},"branch",n);f.a.post("/p35basicdata/updatecustom",l,o).then((function(e){console.log("result"),r(!0),K({key:null,show:!1,lb:null,array:null})})).catch((function(e){console.log("error");var t={showModalError:!0,message:Mt(e)};R(t)}))}}):null,$?l.a.createElement(Nt,{pageData:t,basicData:a,setShow:W,submitFunction:function(e){var t=Object(p.a)({},a,{routeAuth:e});f.a.post("/p35basicdata/updatecustom",t,o).then((function(e){r(!0),W(!1)})).catch((function(e){var t={showModalError:!0,message:Mt(e)};R(t)}))},basicDataTableTemplate:n}):null,Q?l.a.createElement(Ct,{pageData:t,basicData:a,setShow:X,submitFunction:function(e,t){console.log("updateLanguageSettingFunc");var a=[];t&&t.length>0&&t.map((function(t){e.map((function(e){if(t==e.id){var n=f.a.post("/p35formtemplate/updatecustom",e,o);a=[].concat(Object(d.a)(a),[n])}}))})),Promise.all(a).then((function(e){X(!1),r(!0)})).catch((function(e){var t={showModalError:!0,message:Mt(e)};R(t)}))},submitFunction2:function(e){console.log("updateLanguageSettingFunc2");var t=[];Object.keys(e.template).map((function(a){var n={key:a,lb:e.template[a]};t=[].concat(Object(d.a)(t),[n])}));var a={id:e.id,formLanguage:e.formLanguage,template:t};f.a.post("/p35formtemplate/updatecustom",a,o).then((function(e){X(!1),r(!0)})).catch((function(e){var t={showModalError:!0,message:Mt(e)};R(t)}))},myheader:o,languageObj:c,addLanguage:function(e){var t=e.length-1,a=parseInt(e[t].id)+1,n=[];Object.keys(e[0].template).map((function(t){var a={key:t,lb:e[0].template[t]};n=[].concat(Object(d.a)(n),[a])}));var l={id:a,formLanguage:a.toString(),template:n};f.a.post("/p35formtemplate/addcustom",l,o).then((function(e){X(!1),r(!0)})).catch((function(e){console.log("error");var t={showModalError:!0,message:Mt(e)};R(t)}))},deleteLanguage:function(e){f.a.post("/p35formtemplate/deletecustom",{id:e},o).then((function(e){X(!1),r(!0)})).catch((function(e){var t={showModalError:!0,message:Mt(e)};R(t)}))}}):null,ie.showModalTable?l.a.createElement(At,{modalTableState:ie,submitFunc:function(e){if(console.log("updateBa............."),e){var t=[];e.map((function(e){e._id;var a=Object(u.a)(e,["_id"]);t=[].concat(Object(d.a)(t),[a])}));var n=Object(p.a)({},a,Object(m.a)({},ie.key,t));f.a.post("/p35basicdata/updatecustom",n,o).then((function(e){r(!0),se({key:null,showModalTable:!1,pageForm:null,tableTemplate:null,data:null,blankData:null})})).catch((function(e){var t={showModalError:!0,message:Mt(e)};R(t)}))}},cancelFunc:function(e){return se(Object(p.a)({},ie,{showModalTable:e}))},basicData:a,saveTableTemplateFunc:function(e){var t,a=ie.key;"reduction"==a&&(t="basicDataReductionTableTemplate"),"tax"==a&&(t="basicDataTaxTableTemplate"),"transaction"==a&&(t="basicDataTransactionTableTemplate");var n={};Object.keys(e).map((function(t){var a=Object(p.a)({},e[t],{showColHead:!0});n=Object(p.a)({},n,Object(m.a)({},t,a))})),ce(Object(p.a)({},le,Object(m.a)({},t,n))),Bt(n,"p35tabletemplate",t,o)},pageData:t}):null,P.showModalError?ht({setShow:function(e){R(Object(p.a)({},P,{showModalError:e}))},message:P.message}):null)};var Gt=function(){console.log("BasicData..........");var e=l.a.useContext(R),t=e.basicDataSt,a=e.setReloadBasicData,n=e.myheader,c=(e.setBasicData,e.tokenSt),o=(e.setReloadCheckToken,c.haveUserToken,c.haveShopToken,c.userName,t.basicData),r=t.pageData,m=t.tableTemplate,u=t.languageObj,d=t.user,p=l.a.createRef(),b=l.a.useState({reloadData:!1,pageData:null,basicData:null,tableTemplate:null}),f=Object(i.a)(b,2),h=f[0],g=f[1];return l.a.useEffect((function(){g({reloadData:!1,pageData:r,basicData:o,tableTemplate:m})}),[t]),l.a.useEffect((function(){}),[h]),l.a.createElement("div",{style:{height:"100vh",width:"100vw",overflow:"hidden"}},l.a.createElement("div",{className:"h-5 w-100 hide-on-print"},l.a.createElement(Te,null)),l.a.createElement("div",{className:"h-95 w-100"},h.pageData&&h.basicData&&h.tableTemplate&&"admin"==d.userLevel&&l.a.createElement(Lt,{pageData:h.pageData,basicData:h.basicData,FormTemplate:F,StateTemplate:ge,basicDataTableTemplate:h.tableTemplate.basicDataTableTemplate,myheader:n,setReloadBasicData:a,languageObj:u,tableTemplate:m})),l.a.createElement("div",{className:"d-none"},l.a.createElement(s.b,{ref:p,to:"/pos/home"})))};function Ut(e){e.lb;var t=e.basicData,a=e.shopInfo,n=e.keyName,c=e.setShow,o=e.submitFunction;console.log("ShopInfoModalForm....");var r=ae.changeArrayFile,s=l.a.createRef(),u=l.a.createRef(),b=l.a.useState(t),f=Object(i.a)(b,2),h=f[0],g=f[1];l.a.useEffect((function(){console.log("formInputState"),console.log(h)}),[h]);var y=function(e){var t=[];return Array&&Array.isArray(e)&&e.map((function(e){t=[].concat(Object(d.a)(t),[l.a.createRef()])})),t},v=l.a.useState(y(h.shopInfo)),w=Object(i.a)(v,2),E=w[0],N=w[1],j=l.a.useState(!0),O=Object(i.a)(j,2),k=O[0],x=O[1],T=l.a.useState([]),S=Object(i.a)(T,2),C=S[0],F=S[1],D=l.a.useState([]),I=Object(i.a)(D,2),P=I[0],R=I[1];l.a.useEffect((function(){console.log("fileUrl1"),console.log(P)}),[P]);l.a.useEffect((function(){console.log("useEffect ArrayFile1"),console.log(C),n&&"photoUrl1"==n[0]&&r({arrayFile:C,fileUrl:P,setFileUrl:R,inputState:h,setInputState:g,keyName:n[0],setShowImage:x})}),[C]);return l.a.createElement("div",{className:"Modal-background"},l.a.createElement("div",{className:"Modal-box",style:{paddingBottom:"1rem",minWidth:"70%",minHeight:"100px"}},l.a.createElement("div",{className:"Modal-header"},l.a.createElement("div",null,l.a.createElement("h5",null,a.formHead)),l.a.createElement("div",{style:{display:"flex",position:"fixed",bottom:"1rem",right:"2rem",zIndex:"100"}},l.a.createElement("div",null,l.a.createElement("button",{ref:s,onKeyDown:function(e){},onClick:function(e){o&&o(h)}},l.a.createElement(L.f,null))),l.a.createElement("div",null,l.a.createElement("button",{ref:u,onKeyDown:function(e){},onClick:function(e){c(!1)}},l.a.createElement(L.a,null))))),l.a.createElement("div",{className:"Modal-body"},l.a.createElement("div",{className:"ModalInsideBody"},h.shopInfo.map((function(e,t){return l.a.createElement("div",{className:"flex-center-center",key:t},l.a.createElement("div",{className:"w-10"},l.a.createElement(L.u,{className:"sm-icon",onClick:function(e){!function(e){var t=h.shopInfo,a=[];t.map((function(t,n){a=[].concat(Object(d.a)(a),e==n?[t,""]:[t])})),N(y(a)),g(Object(p.a)({},h,Object(m.a)({},"shopInfo",a)))}(t)}})),l.a.createElement("div",{className:"w-10"},t>0?l.a.createElement(L.r,{className:"sm-icon",onClick:function(e){!function(e){var t=h.shopInfo,a=[];t.map((function(t,n){e!=n&&(a=[].concat(Object(d.a)(a),[t]))})),N(y(a)),g(Object(p.a)({},h,Object(m.a)({},"shopInfo",a)))}(t)}}):null),l.a.createElement("div",{className:"w-80"},l.a.createElement("input",{type:"text",ref:E[t],value:e,onKeyDown:function(e){"Enter"==e.key&&h.shopInfo&&(t==h.shopInfo.length-1?s.current.focus():E[t+1].current.focus())},onChange:function(e){!function(e,t){var a=h.shopInfo,n=[];a.map((function(a,l){n=[].concat(Object(d.a)(n),t==l?[e.target.value]:[a])})),g(Object(p.a)({},h,Object(m.a)({},"shopInfo",n)))}(e,t)}})))})))),l.a.createElement("div",{className:"xc12 form-row h-100",style:{justifyContent:"space-around"}},l.a.createElement("div",{className:"xc4 sc10 bgc-darkGray bd-lightGray h-100"},k?l.a.createElement(Ee,{fileUrl:P,arrayFile:C,setArrayFile:F,keyName:n[0],setShowImage:x,inputState:h,setInputState:g}):null))))}Ut.defaultProps={lb:"Form",loadData:null,setShow:function(){},submitFunction:null};var Ht=Ut;var _t=function(e){var t=e.confirmFunc,a=e.setShow,n=e.pageData,c=e.basicData;console.log("BranchSettingForm");var o=l.a.createRef(),r=l.a.createRef(),s=l.a.useState({languageSetting:c.languageSetting,printPageSetting:c.printPageSetting,widthLeft:c.widthLeft,thisBranch:c.thisBranch}),u=Object(i.a)(s,2),b=u[0],f=u[1],h=l.a.useState(function(e){var t=[];return e.map((function(e){t=[].concat(Object(d.a)(t),[Object(p.a)({},e,{_idx:ie()()})])})),t}(c.table)),g=Object(i.a)(h,2),y=g[0],v=g[1],w=l.a.useState({_idx:null,tableName:null,tableActive:!1}),E=Object(i.a)(w,2),N=E[0],j=E[1],O=function(e,t){f(Object(p.a)({},b,Object(m.a)({},t,e.target.value)))};return l.a.createElement("div",{className:"Modal-background"},l.a.createElement("div",{className:"Modal-box",style:{paddingBottom:"1rem",minWidth:"70%",minHeight:"100px"}},l.a.createElement("div",{className:"Modal-header"},l.a.createElement("div",null,l.a.createElement("h5",null,n.branchSettingPage.formHead)),l.a.createElement("div",{style:{display:"flex",position:"fixed",bottom:"1rem",right:"2rem",zIndex:"100"}},l.a.createElement("div",null,l.a.createElement("button",{ref:o,onClick:function(e){t&&t(Object(p.a)({},b,{table:y}))}},l.a.createElement(L.f,null))),l.a.createElement("div",null,l.a.createElement("button",{ref:r,onClick:function(e){a(!1)}},l.a.createElement(L.a,null))))),l.a.createElement("div",{className:"Modal-body"},l.a.createElement("div",{className:"ModalInsideBody"},["thisBranch","languageSetting","printPageSetting","widthLeft","table"].map((function(e,t){return"table"!=e?l.a.createElement("div",{key:t,className:"w-100 flex-center-center jc-start",style:{marginBottom:"0.2rem"}},l.a.createElement("div",{className:"w-50"},n.branchSettingPage[e]),l.a.createElement("div",{className:"w-50"},function(e){return"languageSetting"==e||"printPageSetting"==e?l.a.createElement("select",{onChange:function(t){return O(t,e)}},c[{languageSetting:"listOfLanguage",printPageSetting:"listOfPrintPage",thisBranch:"branch"}[e]].map((function(t,a){return l.a.createElement("option",{key:a,selected:b[e]==t?"selected":""},t)}))):"thisBranch"==e?l.a.createElement("div",null,b[e]):l.a.createElement("input",{type:"number",value:b[e],onChange:function(t){return O(t,e)}})}(e))):null})),l.a.createElement("div",null,n.branchSettingPage.table),y.map((function(e,t){return l.a.createElement("div",{className:"flex-center-center jc-start",key:t,style:{margin:"0.5rem 0"}},l.a.createElement(L.u,{className:"sm-icon",onClick:function(t){!function(e){var t=[];y.map((function(a){if(a._idx==e._idx){var n={_idx:ie()(),tableName:"",tableActive:!0};t=[].concat(Object(d.a)(t),[a,n])}else t=[].concat(Object(d.a)(t),[a])})),v(t)}(e)}}),l.a.createElement(L.r,{className:"sm-icon",style:{opacity:t>0?"1":"0"},onClick:function(t){!function(e){var t=[];y.map((function(a){a._idx!=e._idx&&(t=[].concat(Object(d.a)(t),[a]))})),v(t)}(e)}}),e.tableActive?l.a.createElement(G.e,{className:"md-icon",onClick:function(t){var a=[];y.map((function(t){t._idx==e._idx?(a=[].concat(Object(d.a)(a),[Object(p.a)({},t,{tableActive:!1})]),j(Object(p.a)({},t,{tableActive:!1}))):a=[].concat(Object(d.a)(a),[t])})),v(a)}}):l.a.createElement(G.f,{className:"md-icon",onClick:function(t){var a=[];y.map((function(t){t._idx==e._idx?(a=[].concat(Object(d.a)(a),[Object(p.a)({},t,{tableActive:!0})]),j(Object(p.a)({},t,{tableActive:!0}))):a=[].concat(Object(d.a)(a),[t])})),v(a)}}),N._idx==e._idx?l.a.createElement("input",{className:"h-100 w-50",value:N.tableName,onKeyDown:function(e){"Enter"==e.key&&o.current.focus()},onChange:function(e){j(Object(p.a)({},N,{tableName:e.target.value}))},onBlur:function(e){var t=[];y.map((function(e){t=N._idx==e._idx?[].concat(Object(d.a)(t),[N]):[].concat(Object(d.a)(t),[e])})),v(t)}}):l.a.createElement("div",{className:"",onClick:function(t){j(e)}},e.tableName))}))))))},Kt=oe.genFD,zt=oe.addSingleFileNameInsteadOfPhotoUrl,qt=oe.catchErrorToMessage;var $t=function(e){var t=e.pageData,a=e.basicData,n=(e.FormTemplate,e.StateTemplate),c=e.myheader,o=e.setReloadBasicData;e.languageObj,e.tableTemplate,console.log("BranchInfo........"),a.photoUrl1,a.shopInfo,a.languageSetting,a.printPageSetting,a.widthLeft,a.thisBranch,a.table;var r=t.branchSettingPage,s=l.a.useState(!1),m=Object(i.a)(s,2),u=m[0],d=m[1],b=l.a.useState(!1),h=Object(i.a)(b,2),g=h[0],y=h[1],v=l.a.useState({showModalError:!1,message:null}),w=Object(i.a)(v,2),E=(w[0],w[1]);return l.a.createElement("div",{className:"w-100 h-100",style:{padding:"0.5rem",overflowY:"auto"}},l.a.createElement("div",{className:"bd-pureWhite",style:{padding:"0.5rem",marginBottom:"2rem"}},t&&l.a.createElement("div",{className:"w-100",style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"}},l.a.createElement("div",{className:"w-60",style:{paddingTop:"0.5rem"}},l.a.createElement("div",{style:{display:"flex"}},l.a.createElement("h5",null,t.shopInfo.formHead),l.a.createElement(G.k,{className:"sm-icon",style:{marginLeft:"0rem"},onClick:function(e){return d(!u)}})),a.shopInfo.map((function(e,t){return l.a.createElement("div",{key:t,className:"",style:{display:"flex",width:"100%"}},l.a.createElement("div",{style:{fontSize:"1rem"}},e))}))),l.a.createElement("div",{className:"w-50",style:{display:"flex",justifyContent:"center",alignItems:"center"}},l.a.createElement("img",{src:a.photoUrl1[0],style:{maxWidth:"100%",maxHeight:"30vh"}})))),l.a.createElement("div",{className:"bd-pureWhite",style:{padding:"0.5rem",marginBottom:"2rem"}},l.a.createElement("div",{style:{display:"flex"}},l.a.createElement("h5",null,"".concat(r.formHead)),l.a.createElement(G.k,{className:"sm-icon",style:{marginLeft:"0rem"},onClick:function(e){return y(!g)}})),["languageSetting","printPageSetting","widthLeft","thisBranch","table"].map((function(e,t){return"table"!=e?l.a.createElement("div",{key:t,className:"",style:{display:"flex",width:"100%"}},l.a.createElement("div",{style:{width:"20%"}},l.a.createElement("div",{style:{fontSize:"1rem"}},r[e])),l.a.createElement("div",{style:{width:"80%"}},l.a.createElement("div",{style:{fontSize:"1rem"}},a[e]))):l.a.createElement("div",{key:t,className:"",style:{display:"flex",width:"100%"}},l.a.createElement("div",{style:{width:"20%"}},l.a.createElement("div",{style:{fontSize:"1rem"}},r[e])),l.a.createElement("div",{style:{width:"40%"}},l.a.createElement("select",null,a.table.map((function(e,t){return l.a.createElement("option",{key:t},e.tableName)})))))}))),u?l.a.createElement(Ht,{lb:t.shopInfo.formHead,basicData:a,shopInfo:t.shopInfo,setShow:d,keyName:["photoUrl1"],submitFunction:function(e){console.log("updateShopInforFunc"),console.log(e);var t=e.file1,l=e.photoUrl1,r=e.shopInfo,i=a.branchId,s={id:i,shopInfo:r},m=f.a.post("/p35branch/updatecustom",s,c),u=null;if(t)if(console.log("file1............."),console.log(t),t.length>0){console.log("there is file");var b=zt({id:i,file1:t,photoUrl1:l}),h=Kt({inputState:b,template:{id:n.shopInfoState.id,file1:n.shopInfoState.file1,photoUrl1:n.shopInfoState.photoUrl1}});u=f.a.post("/p35branch/updatecustom",h,c)}else console.log("there is No.........file"),m=f.a.post("/p35branch/updatecustom",Object(p.a)({},s,{photoUrl1:l}),c);else console.log("no click on add Image"),m=f.a.post("/p35branch/updatecustom",Object(p.a)({},s,{photoUrl1:l}),c);Promise.all([m,u]).then((function(e){o(!0),d(!1)})).catch((function(e){var t={showModalError:!0,message:qt(e)};E(t)}))}}):null,g?l.a.createElement(_t,{pageData:t,basicData:a,setShow:y,confirmFunc:function(e){var t=Object(p.a)({id:a.branchId},e);f.a.post("/p35branch/updatecustom",t,c).then((function(e){console.log("result"),o(!0),y(!1)})).catch((function(e){console.log("error");var t={showModalError:!0,message:qt(e)};E(t)}))}}):null)};var Wt=function(){console.log("Branch");var e=l.a.useContext(R),t=e.basicDataSt,a=e.setReloadBasicData,n=e.myheader,c=(e.setBasicData,t.basicData),o=t.pageData,r=t.tableTemplate,s=t.languageObj,m=l.a.useState({reloadData:!1,pageData:null,basicData:null,tableTemplate:null}),u=Object(i.a)(m,2),d=u[0],p=u[1];return l.a.useEffect((function(){p({reloadData:!1,pageData:o,basicData:c,tableTemplate:r})}),[t]),l.a.createElement("div",{style:{height:"100vh",width:"100vw",overflow:"hidden"}},l.a.createElement("div",{className:"h-5 w-100 hide-on-print"},l.a.createElement(Te,null)),l.a.createElement("div",{className:"h-95 w-100"},d.pageData&&d.basicData&&d.tableTemplate&&l.a.createElement($t,{pageData:d.pageData,basicData:d.basicData,FormTemplate:F,StateTemplate:ge,myheader:n,setReloadBasicData:a,languageObj:s,tableTemplate:r})))},Vt=/^\d{1,30}$/gi,Yt=function(e,t){return new RegExp(e).test(t)},Qt=function(e,t){for(var a=!0,n=0;n<t.length&&(a=new RegExp(e).test(t[n]));n++);return a},Xt={groupState:{id:{stType:"number",validate:Yt,pattern:Vt},groupPage:{stType:"number",validate:Yt,pattern:Vt},groupName:{stType:"string",validate:Yt,pattern:/^[\u0e01-\u0e59\w\+\-\*\/\\.=]{1,200}$/gi},children:{stType:"array",validate:Qt,pattern:Vt},parentId:{stType:"array",validate:Qt,pattern:Vt},allDeleteId:{stType:"array",validate:Qt,pattern:Vt}},testData:[{id:1,gropuPage:1,groupName:"main",children:[2,3,4,13],parentId:null},{id:2,groupPage:1,groupName:"one",children:[5,10],parentId:1},{id:3,groupPage:1,groupName:"three",children:[7,9],parentId:1},{id:4,groupPage:1,groupName:"four",children:[11],parentId:1},{id:5,groupPage:2,groupName:"five",children:[6,12],parentId:2},{id:6,groupPage:2,groupName:"six",children:[],parentId:5},{id:7,groupPage:3,groupName:"seven",children:[8],parentId:3},{id:8,groupPage:3,groupName:"eight",children:[],parentId:7},{id:9,groupPage:3,groupName:"nine",children:[],parentId:3},{id:10,groupPage:2,groupName:"ten",children:[],parentId:2},{id:11,groupPage:4,groupName:"eleven",children:[],parentId:4},{id:12,groupPage:2,groupName:"twelve",children:[],parentId:5},{id:13,groupPage:13,groupName:"thirteen",children:[],parentId:1}]},Jt=(a(133),function(e){console.log("Tree");var t=e.tempObj,a=e.canGroupChange,n=e.selectGroupObjectId,c=e.folderOpenFunc,o=e.folderClosePlusFunc,r=e.folderCloseFunc,i=(e.pOpenFunc,e.pCloseFunc),s=e.delFunc,u=e.addFunc,d=e.editFunc,p=e.refreshFunc,b=e.zoomFunc,f=e.setEditGroupFunc;return l.a.createElement("div",{className:"h-100 w-100",style:{position:"relative"}},l.a.createElement("div",{className:"h-5"},l.a.createElement(G.w,{className:"lg-icon",onClick:function(e){p()}}),n>0&&a?l.a.createElement(G.a,{className:"lg-icon",onClick:function(e){u()}}):null,n>1&&a?l.a.createElement(G.k,{className:"lg-icon",onClick:function(e){d()}}):null,n>1&&a?l.a.createElement(G.j,{className:"lg-icon",onClick:function(e){s()}}):null,l.a.createElement(G.G,{className:"lg-icon",onClick:function(e){b()}})),l.a.createElement("div",{className:"w-100 h-95"},t?function e(t,a){return t.map((function(t,s){return l.a.createElement("div",{key:s,style:{marginLeft:"".concat(1*a,"rem")}},t.open?l.a.createElement("div",{style:{}},l.a.createElement("div",{style:{display:"flex",alignItems:"center"}},l.a.createElement(L.m,{style:{fontSize:"2rem"},onClick:function(e){c(t)}}),t.groupName?l.a.createElement("div",Object(m.a)({id:t.groupName,style:{marginTop:"0.7rem",marginLeft:"0.3rem"},onClick:function(e){f(t)}},"style",{color:n==t.id?"red":"black",fontSize:"main"==t.groupName?"1.5rem":null}),"".concat(t.id,".").concat(t.groupName)):null,l.a.createElement(G.y,{className:"sm-icon",style:{color:n==t.id?"red":"black"},onClick:function(e){i(t)}})),l.a.createElement("div",null,e(t.folders,a+1))):l.a.createElement("div",{style:{}},l.a.createElement("div",{style:{}},t.children?t.children.length>0?l.a.createElement("div",{style:{display:"flex",alignItems:"center"}},l.a.createElement(L.n,{style:{fontSize:"2rem"},onClick:function(e){o(t)}}),t.groupName?l.a.createElement("div",Object(m.a)({id:t.groupName,style:{marinTop:"0.7rem",marginLeft:"0.3rem"},onClick:function(e){f(t)}},"style",{color:n==t.id?"red":"black",fontSize:"main"==t.groupName?"1.5rem":null}),"".concat(t.id,".").concat(t.groupName)):null,l.a.createElement(G.y,{className:"sm-icon",style:{color:n==t.id?"red":"black"},onClick:function(e){i(t)}})):l.a.createElement("div",{style:{display:"flex",alignItems:"center"}},l.a.createElement(L.l,{style:{fontSize:"2rem"},onClick:function(e){r(t)}}),t.groupName?l.a.createElement("div",Object(m.a)({id:t.groupName,style:{marinTop:"0.7rem",marginLeft:"0.3rem"},onClick:function(e){f(t)}},"style",{color:n==t.id?"red":"black",fontSize:"main"==t.groupName?"1.5rem":null}),"".concat(t.id,".").concat(t.groupName)):null,l.a.createElement(G.y,{className:"sm-icon",style:{color:n==t.id?"red":"black"},onClick:function(e){i(t)}})):null)))}))}(t,0):null))});Jt.defaultProps={tempObj:null,canGroupChange:!0,selectGroupObjectId:null,folderOpenFunc:function(){},folderClosePlusFunc:function(){},folderCloseFunc:function(){},pOpenFunc:function(){},pCloseFunc:function(){},delFunc:function(){},addFunc:function(){},editFunc:function(){},refreshFunc:function(){}};var Zt=Jt,ea={convertToObject:function(e,t){if(!e)return null;var a=Object.keys(Object(p.a)({},e[0],{},t)),n={};return e.map((function(e){1==e.id?(n=Object(p.a)({},n,{folders:[]}),a.map((function(t){n=Object(p.a)({},n,Object(m.a)({},t,e[t]))})),e.children.map((function(e){var t={id:e,folders:[]};n.folders.push(t)}))):function e(t,n){n&&n.map((function(n){t.id==n.id?(a.map((function(e){n[e]=t[e]})),t.children.map((function(e){var t={id:e,folders:[]};n.folders.push(t)}))):e(t,n.folders)}))}(e,n.folders)})),[n]},createGroupTree:function(e){var t=e.group,a=e.openArrayIn;if(!t)return null;var n,l={};n=a||[1];var c=[];return t.map((function(e){var t=Object(p.a)({},e,{open:1==e.id});if(n)for(var a=0;a<n.length;a++)if(e.id==n[a]){t=Object(p.a)({},t,{open:!0});break}l=function(e,t){var a=t.parentGroup.length.toString();return e[a]?e[a]=[].concat(Object(d.a)(e[a]),[t]):e=Object(p.a)({},e,Object(m.a)({},a,[t])),e}(l,t)})),Object.keys(l).map((function(e){l[e].map((function(e){c=[].concat(Object(d.a)(c),[e])}))})),{groupTree:c,openArray:n}},findAllChildrenId:function(e,t){return console.log("tempObj"),console.log(t),[]},openAllParentId:function(e){var t=e.groupTree,a=e.editGroupId;if(!t)return null;if(!a)return null;var n=[],l=[];return l=function(e){var t=e.groupTree,a=e.editGroupId,n=function(e){if(e){for(var a=null,n=0;n<t.length-1;n++)if(t[n].id==e){a=t[n].parentId;break}return a}};if(!t)return null;if(!a)return null;for(var l=[],c=a;c;)(c=n(c))&&(l=[].concat(Object(d.a)(l),[c]));return l}({groupTree:t,editGroupId:a}),t.map((function(e){for(var t=e,a=0;a<l.length;a++)if(e.id==l[a]){t=Object(p.a)({},t,Object(m.a)({},"open",!0)),l.splice(a,1);break}n=[].concat(Object(d.a)(n),[t])})),n},findAllChildrenByGroupTree:function(e,t){for(var a=[],n=[e],l=[],c=0;c<t.length;c++){for(var o=0;o<n.length;o++)if(n[o]==t[c].id){n.splice(o,1),n=[].concat(Object(d.a)(n),Object(d.a)(t[c].children)),l=[].concat(Object(d.a)(l),[t[c]]),a=[].concat(Object(d.a)(a),[t[c].id]);break}if(0==n.length)break}return{allDeleteId:a,allDeleteObject:l}}},ta=a(76),aa=a.n(ta),na=(a(134),a(135),a(136),a(99));Object(ta.registerLocale)("th",na.a);var la=Ce.revRefAndValue,ca=function(e){e.cName;var t=e.template,a=e.refAndValue,n=e.ref1,c=e.iconAction,o=e.setRefAndValue,r=e.selectData,i=e.blankData,s=e.refAndValueBlankData,m=e.loadData,u=e.setLoadData,d=e.hidePassword,b=e.setHidePassword,h=e.tableTemplate,g=e.setTableTemplate,y=(e.showTable,e.setShowTable,e.selectRow,e.setSelectRow,e.editData),v=e.setEditData,w=e.updateFilterData,E=e.insertLine,N=(e.selectAll,e.unSelectAll,e.deleteLine),j=e.getSelectAll,O=(e.moveSelectedDown,e.moveSelectedUp,e.moveUp),k=e.moveDown,x=e.findProductIdByKeyDown,T=e.findBarcodeByKeyDown,S=e.calDigit,C=e.setCalculate,F=(e.sumAmount,e.saveDetailTableTemplateForFormFunc),D=(e.selectGroup,e.selectProduct,e.pageDataModalForm,e.dataUrl),I=e.myheader,P=function(e){var n=e.location,l=e.value,c=a;n.map((function(e){c=c[e]})),c.value=l,o(Object(p.a)({},a));var r=la({template:t,refAndValue:a});u(Object(p.a)({},m,{},r)),C(!0)},R=function(e,t,l){if(console.log("geToNextRef"),"Enter"==e.key)if(Array.isArray(t)){if("detail"!=t[0])if(l)n.current.focus();else{var c=a;t.map((function(e){c=c[e]})),c.ref.current.focus()}}else n.current.focus()},A=function(e){var t=a;return Array.isArray(e)&&e.map((function(e){t=t[e]})),t.ref},M=function(e){e.lb,e.cName,e.subCName,e.templateType;var n=e.inputType,c=(e.subFormTemplate,e.placeholder,e.disabled),i=e.autoFocus,s=e.unchangeable,f=e.selectObj,h=e.selectDataKey,g=e.textRow,y=e.selectOption,v=e.location,w=e.nextRef,E=e.ref,N=e.value,j=e.lastRef;e.tpKey;if("select"==n){return l.a.createElement("select",{className:"w-100",style:{height:"1.5rem"},type:n,value:N,ref:A(v),onChange:function(e){s||P({location:v,value:e.target.value})},onKeyDown:function(e){R(e,w,j)},disabled:c,autoFocus:i},l.a.createElement("option",{value:"",hidden:!0},"list below..."),function(){if(r[h]){if(!r[h])return null;var e=f.split(",");if(2==e.length)return r[h][e[0]].map((function(t,a){return l.a.createElement("option",{key:a,value:t[e[1]]},t[e[1]])}));if(1==e.length&&Array.isArray(r[h][f]))return r[h][f].map((function(e,t){return l.a.createElement("option",{key:t,value:e},e)}))}}())}return"select2"==n?l.a.createElement("select",{className:"w-100",style:{height:"1.5rem"},type:n,value:N,ref:A(v),onChange:function(e){s||P({location:v,value:e.target.value})},onKeyDown:function(e){R(e,w,j)},disabled:c,autoFocus:i},l.a.createElement("option",{value:"",hidden:!0},"list below..."),y.map((function(e,t){return l.a.createElement("option",{key:t,value:e},e)}))):"checkbox"==n?l.a.createElement("div",{className:"h-100 w-100",style:{display:"flex",justifyContent:"center",alignItems:"center"}},l.a.createElement("input",{style:{height:"1.5rem",margin:"0",border:"0"},type:n,checked:N,ref:A(v),onChange:function(e){s||P({location:v,value:e.target.checked})},onKeyDown:function(e){R(e,w,j)},disabled:c,autoFocus:i})):"password"==n?l.a.createElement("div",{style:{position:"relative",width:"100%"}},l.a.createElement("input",{style:{height:"1.5rem"},type:d?n:"text",value:N,ref:A(v),onChange:function(e){s||P({location:v,value:e.target.value})},onKeyDown:function(e){R(e,w,j)},autoComplete:"one-time-code",disabled:c,autoFocus:i}),d?l.a.createElement(G.E,{className:"sm-icon",style:{position:"absolute",top:"0.2rem",right:"0.3rem"},onClick:function(e){b(!d)}}):l.a.createElement(G.D,{className:"sm-icon",style:{position:"absolute",top:"0.2rem",right:"0.3rem"},onClick:function(e){b(!d)}})):"date"==n?l.a.createElement("input",{style:{height:"1.5rem"},type:"date",value:N.substring(0,10),ref:A(v),onChange:function(e){s||P({location:v,value:e.target.value})},onKeyDown:function(e){R(e,w,j)},disabled:c,autoFocus:i}):"thaiDate"==n?l.a.createElement("div",{style:{position:"relative"}},l.a.createElement("button",{className:"hideButton",style:{position:"absolute"},ref:E,onKeyDown:function(e){R(e,w,j)}}),l.a.createElement(aa.a,{style:{height:"1.5rem"},locale:"th",dateFormat:"dd/MM/yyyy",selected:N?new Date(N):null,onChange:function(e){s||P({location:v,value:e.toISOString().substring(0,10)})},onKeyDown:function(e){R(e,w,j)},disabled:c,autoFocus:i})):"textarea"==n?l.a.createElement("textarea",{style:{width:"100%"},value:N,rows:g,ref:A(v),onChange:function(e){s||P({location:v,value:e.target.value})},disabled:c,autoFocus:i}):"number"==n||"genId"==n?l.a.createElement("input",{style:{height:"1.5rem"},type:n,value:N,rows:g,ref:A(v),onChange:function(e){s||function(e){var n=e.location,l=e.value;if(new RegExp("^-?[0-9]+(?:.[0-9]{1,2})?$").test(l.toString())||""==l){var c=a;n.map((function(e){c=c[e]})),c.value=l,o(Object(p.a)({},a));var r=la({template:t,refAndValue:a});u(Object(p.a)({},m,{},r)),C(!0)}}({location:v,value:e.target.value})},onKeyDown:function(e){R(e,w,j)},disabled:c,autoFocus:i}):l.a.createElement("input",{style:{height:"1.5rem"},type:n,value:N,rows:g,ref:A(v),onChange:function(e){s||P({location:v,value:e.target.value})},onKeyDown:function(e){R(e,w,j)},disabled:c,autoFocus:i})},B=Object(p.a)({},m),U=function(){u(Object(p.a)({},B))};return l.a.createElement("div",{className:"flex-center-start jc-start"},function e(t){var a=t.tPt,n=t.rAv,o=t.bDt,i=t.rAvbDt,s=t.lDt;return Object.keys(a).map((function(t,u){var d=a[t].templateType,p=a[t],b=p.lb,C=p.cName,R=p.subCName,A=p.subFormTemplate;p.iconActionIdx;return"object"==d?l.a.createElement("div",{key:u,className:"".concat(C)},l.a.createElement("div",{className:R[0]},l.a.createElement("p",{className:"label table-p",style:{margin:"auto 0"}},b)),l.a.createElement("div",{className:R[1]},e({tPt:A,rAv:n[t],bDt:o[t],rAvbDt:i[t],lDt:s[t]}))):"arrayObject"==d?n[t].map((function(a,n){a.location;return l.a.createElement("div",{key:"".concat(t,"-").concat(n),className:"".concat(C)},l.a.createElement("div",{className:R[0]},l.a.createElement("p",{style:{margin:"auto"},className:"table-p"},b)),l.a.createElement("div",{className:R[1]},l.a.createElement("div",{className:"flex-center-center jc-start"},l.a.createElement("div",{className:"px-1"},l.a.createElement(L.u,{className:"sm-icon",onClick:function(e){s[t].splice(n+1,0,o[t][0]),U()}})),l.a.createElement("div",{className:"px-1"},l.a.createElement(L.r,{className:"sm-icon",style:{visibility:n>0?"visible":"hidden"},onClick:function(e){s[t].splice(n,1),U()}}))),l.a.createElement("div",{className:"flex-center-start jc-start"},e({tPt:A,rAv:a,bDt:o[t][0],rAvbDt:i[t][0],lDt:s[t][n]}))))})):"arrayObjectInTable"==d?h?l.a.createElement("div",{style:{width:"100%",height:"100%",overflow:"hidden"}},l.a.createElement("div",{className:"flex-center-center jc-start",style:{margin:"2rem 0 0 0",backgroundColor:"#e5d1db",height:"2rem"}},l.a.createElement("div",{className:"iconbox",onClick:function(e){E()}},l.a.createElement($,{iconName:"MdAddCircle",className:"sm-icon",textStyle:{color:"black"}})),l.a.createElement("div",{className:"iconbox",onClick:function(e){y&&O()}},l.a.createElement($,{iconName:"FaRegArrowAltCircleUp",className:"sm-icon",textStyle:{color:"black"}})),l.a.createElement("div",{className:"iconbox",onClick:function(e){y&&k()}},l.a.createElement($,{iconName:"FaRegArrowAltCircleDown",className:"sm-icon",textStyle:{color:"black"}})),l.a.createElement("div",{className:"iconbox",onClick:function(e){y&&N()}},l.a.createElement($,{iconName:"MdDelete",className:"sm-icon",textStyle:{color:"black"}})),l.a.createElement("div",{className:"iconbox",onClick:function(e){j()}},l.a.createElement($,{iconName:"RiShareForwardLine",className:"sm-icon",textStyle:{color:"black"}}))),l.a.createElement("div",{className:"w-100 h-100",style:{marginTop:"0rem"}},l.a.createElement(ct,{colorHead:"#777",tableTemplate:h,setTableTemplate:g,filterData:m[t],setFilterData:function(){},editData:y,setEditData:v,useInput:!0,saveTableTemplateFunc:F,isSubTable:!1,basicData:r.basicData,updateFilterData:w,findProductIdByKeyDown:x,findBarcodeByKeyDown:T,calDigit:S}))):null:"array"==d?function(e){var t=e.tPt,a=e.rAv,n=e.bDt,c=(e.rAvbDt,e.lDt),o=e.tpKey,r=e.tpIdx,i=t[o],s=i.lb,m=i.cName,u=i.subCName,d=i.templateType,p=i.inputType,b=i.subFormTemplate,f=i.placeholder,h=i.disabled,g=i.autoFocus,y=i.unchangeable,v=i.selectObj,w=i.selectDataKey;return l.a.createElement("div",{key:r,className:"".concat(m)},l.a.createElement("div",{className:"flex-center-center"},l.a.createElement("div",{className:u[0],style:{padding:"0.5rem"}},l.a.createElement("p",{className:"label table-p",style:{margin:"auto 0"}},s)),l.a.createElement("div",{className:u[1]})),a[o].map((function(e,t){var a=e.location,r=e.nextRef,i=e.ref,E=e.value;return l.a.createElement("div",{key:t,className:"flex-center-baseline"},l.a.createElement("div",{className:u[0]},"disabled"==h?null:l.a.createElement("div",{className:"flex-center-center"},l.a.createElement("div",{className:"px-1"},l.a.createElement(L.u,{className:"sm-icon",onClick:function(e){c[o].splice(t+1,0,n[o][0]),U()}})),l.a.createElement("div",{className:"px-1"},l.a.createElement(L.r,{className:"sm-icon",style:{visibility:t>0?"visible":"hidden"},onClick:function(e){c[o].splice(t,1),U()}})))),l.a.createElement("div",{className:u[1],style:{position:"relative"}},M({lb:s,cName:m,subCName:u,templateType:d,inputType:p,subFormTemplate:b,placeholder:f,disabled:h,autoFocus:g,unchangeable:y,selectObj:v,selectDataKey:w,location:a,nextRef:r,ref:i,value:E})))})))}({tPt:a,rAv:n,bDt:o,rAvbDt:i,lDt:s,tpKey:t,tpIdx:u}):"icon-group"!=d?function(e){var t=e.tPt,a=e.rAv,n=(e.bDt,e.rAvbDt,e.lDt,e.tpKey),c=e.tpIdx,o=t[n],r=o.lb,i=o.cName,s=o.subCName,m=o.templateType,u=o.inputType,d=o.subFormTemplate,p=o.placeholder,b=o.disabled,h=o.autoFocus,g=o.unchangeable,y=o.selectObj,v=o.selectDataKey,w=o.textRow,E=o.selectOption,N=a[n],j=N.location,O=N.nextRef,k=N.ref,x=N.value;return l.a.createElement("div",{key:c,className:"".concat(i)},l.a.createElement("div",{className:"flex-center-center"},l.a.createElement("div",{className:s[0]},l.a.createElement("div",{className:"",style:{display:"flex",paddingLeft:"0.5rem"}},l.a.createElement("p",{style:{margin:"auto 0"},className:"table-p"},r),"genId"==u?l.a.createElement(G.w,{className:"sm-icon",onClick:function(e){console.log("dataUrl"),f.a.post("/".concat(D,"/getlimit"),{},I).then((function(e){if(console.log("result"),e&&e.data){var t=parseInt(e.data.lastRecordId)+1;P({location:j,value:t})}})).catch((function(e){console.log("error")}))}}):null)),l.a.createElement("div",{className:s[1]},M({lb:r,cName:i,subCName:s,templateType:m,inputType:u,subFormTemplate:d,placeholder:p,disabled:b,autoFocus:h,unchangeable:g,selectObj:y,selectDataKey:v,textRow:w,selectOption:E,location:j,nextRef:O,ref:k,value:x,tpKey:n}))))}({tPt:a,rAv:n,bDt:o,rAvbDt:i,lDt:s,tpKey:t,tpIdx:u}):c?function(e){var t=e.tPt,a=(e.rAv,e.bDt,e.rAvbDt,e.lDt,e.tpKey),n=e.tpIdx,c=t[a],o=c.lb,r=c.cName,i=c.subCName;c.templateType,c.inputType,c.subFormTemplate,c.placeholder,c.disabled,c.autoFocus,c.unchangeable,c.selectObj,c.selectDataKey,c.iconActionIdx;return l.a.createElement("div",{key:n,className:"".concat(r)},l.a.createElement("div",{className:"flex-center-center"},l.a.createElement("div",{className:i[0],style:{display:"flex",justifyContent:"flex-start",alignItems:"center"}},l.a.createElement("p",{className:"label table-p",style:{margin:"auto 0"}},o)),l.a.createElement("div",{className:i[1]},l.a.createElement("div",{style:{display:"flex",alignItems:"flex-end"}},l.a.createElement(L.l,{style:{fontSize:"1.5rem"}})))))}({tPt:a,rAv:n,bDt:o,rAvbDt:i,lDt:s,tpKey:t,tpIdx:u}):void 0}))}({tPt:t,rAv:a,bDt:i,rAvbDt:s,lDt:B}))};function oa(e){var t,a=e.lb,n=e.formTemplate,c=e.stateTemplate,o=e.selectData,r=e.iconAction,s=e.iconActionData,u=e.iconActionDataDetail,b=e.loadData,f=e.keyName,g=e.setShow,y=e.calculation,v=e.detailTableTemplate,w=e.submitFunction,E=e.selectGroup,N=e.selectProduct,j=e.pageDataModalForm,O=e.dataUrl,k=e.myheader,x=Ce.genBlankState,T=Ce.genRefAndValue,S=Ce.combineLoadDataBlankState,C=ae.changeArrayFile,F=h.tableResize,D=l.a.useState(!1),I=Object(i.a)(D,2),P=I[0],R=I[1];l.a.useEffect((function(){P||R(!0)}),[P]);var A=l.a.useState(!0),M=Object(i.a)(A,2),B=M[0],L=M[1],G=l.a.useState(!0),U=Object(i.a)(G,2),H=U[0],_=U[1],K=l.a.createRef(),z=l.a.createRef(),q=x({template:c}).state,$=T({template:n,FData:q}),W=l.a.useState(function(){if(b){var e=S({template:c,loadData:b});return e.newId>=0&&(e=Object(p.a)({},e,{newId:e.id})),e}return q}()),V=Object(i.a)(W,2),Y=V[0],Q=V[1],X=l.a.useState(null),J=Object(i.a)(X,2),Z=J[0],ee=J[1];l.a.useEffect((function(){P&&s&&Q(Object(p.a)({},Y,{},s))}),[s]),l.a.useEffect((function(){if(P&&u&&ge&&u.id>0){var e=[];Y.detail.map((function(t,a){if(ge.index==a){var n=Object(p.a)({},t,{},u);e=[].concat(Object(d.a)(e),[n])}else e=[].concat(Object(d.a)(e),[t])})),Q(Object(p.a)({},Y,Object(m.a)({},"detail",e)))}}),[u]);var te=l.a.useState(T({template:n,FData:Y})),ne=Object(i.a)(te,2),le=ne[0],ce=ne[1];l.a.useEffect((function(){if(P){var e=!1;if(Y&&Y.detail&&(e=!0),pe&&(e=!0),e){var t=Object.keys(pe),a={},l=!1;t.map((function(e){pe[e]&&pe[e].showSum&&(a=Object(p.a)({},a,Object(m.a)({},e,0)),l=!0)})),Y.detail.map((function(e,n){t.map((function(t){if(pe[t]&&pe[t].showSum){var l=a[t]+parseInt(1e4*e[t]);a=n==Y.detail.length-1?Object(p.a)({},a,Object(m.a)({},t,l/1e4)):Object(p.a)({},a,Object(m.a)({},t,l))}}))})),l&&ee(a)}var c=T({template:n,FData:Y});ce(Object(p.a)({},c)),y&&H&&(Q(y(Y)),_(!1)),console.log("formInputState...................."),console.log(Y)}}),[Y]);var oe=l.a.useState({width:1200,gridCol:""}),re=Object(i.a)(oe,2),se=re[0],me=re[1],ue=l.a.useState(v),de=Object(i.a)(ue,2),pe=de[0],be=de[1];l.a.useEffect((function(){F({tableTemplate:pe,showTable:se,setShowTable:me})}),[pe]);var fe=l.a.useState(null),he=Object(i.a)(fe,2),ge=he[0],ye=he[1];l.a.useEffect((function(){}),[ge]);var ve=l.a.useState(!0),we=Object(i.a)(ve,2),Ne=we[0],je=we[1],Oe=l.a.useState([]),ke=Object(i.a)(Oe,2),xe=ke[0],Te=ke[1],Se=l.a.useState([]),Fe=Object(i.a)(Se,2),De=Fe[0],Ie=Fe[1];l.a.useEffect((function(){P&&f&&"photoUrl1"==f[0]&&C({arrayFile:xe,fileUrl:De,setFileUrl:Ie,inputState:Y,setInputState:Q,keyName:f[0],setShowImage:je})}),[xe]);var Pe=l.a.useState(!0),Re=Object(i.a)(Pe,2),Ae=Re[0],Me=Re[1],Be=l.a.useState([]),Le=Object(i.a)(Be,2),Ge=Le[0],Ue=Le[1],He=l.a.useState([]),_e=Object(i.a)(He,2),Ke=_e[0],ze=_e[1];l.a.useEffect((function(){P&&f&&"photoUrl2"==f[1]&&C({arrayFile:Ge,fileUrl:Ke,setFileUrl:ze,inputState:Y,setInputState:Q,keyName:f[1],setShowImage:Me})}),[Ge]);var qe=l.a.useState(null),$e=Object(i.a)(qe,2),We=$e[0],Ve=$e[1],Ye=function(e,t){console.log("updateFilterData");var a=[];Y.detail.map((function(n,l){a=[].concat(Object(d.a)(a),e==l?[t]:[n])})),Q(Object(p.a)({},Y,{detail:a}))};return l.a.createElement("div",{className:"Modal-background"},l.a.createElement("div",{className:"Modal-box",style:{paddingBottom:"7rem"}},l.a.createElement("div",{className:"Modal-header"},l.a.createElement("div",null,l.a.createElement("h1",null,a)),l.a.createElement("div",{style:{display:"flex",position:"fixed",bottom:"1rem",right:"2rem",zIndex:"100"}},l.a.createElement("div",null,l.a.createElement("button",{ref:K,onKeyDown:function(e){"ArrowRight"==e.key&&z.current.focus()},onClick:function(e){w&&w(Y)}},"Confirm")),l.a.createElement("div",null,l.a.createElement("button",{ref:z,onKeyDown:function(e){"ArrowLeft"==e.key&&z.current.focus()},onClick:function(e){Q(q),g(!1)}},"Cancel")))),l.a.createElement("div",{className:"Modal-body"},l.a.createElement("div",{className:"ModalInsideBody"},ca((t={cName:"form-row flex-justify-start flex-align-stretch bd-green",template:n,ref1:K,iconAction:r,refAndValue:le,setRefAndValue:ce,loadData:Y,setLoadData:Q,selectData:o,blankData:q,refAndValueBlankData:$,hidePassword:B,setHidePassword:L,tableTemplate:pe,setTableTemplate:be,showTable:se,setShowTable:me,selectRow:ge,setSelectRow:ye,setCalculate:_,sumAmount:Z,selectGroup:E,selectProduct:N,updateFilterData:Ye,editData:We,setEditData:Ve},Object(m.a)(t,"updateFilterData",Ye),Object(m.a)(t,"insertUp",(function(){if(console.log("insertUp.......blankData"),console.log(q),Y.detail&&We){var e=[];Y.detail.map((function(t,a){if(We._id==t._id){var n=Object(p.a)({},q.detail[0],{_id:ie()(),selectedLine:!1,result:0});e=[].concat(Object(d.a)(e),[n,t])}else e=[].concat(Object(d.a)(e),[t])})),Q(Object(p.a)({},Y,{detail:e}))}})),Object(m.a)(t,"insertDown",(function(){if(console.log("insertDown"),Y.detail&&We){var e=[];Y.detail.map((function(t,a){if(We._id==t._id){var n=Object(p.a)({},q.detail[0],{_id:ie()(),selectedLine:!1,result:0});e=[].concat(Object(d.a)(e),[t,n]),t}else e=[].concat(Object(d.a)(e),[t])})),Q(Object(p.a)({},Y,{detail:e}))}})),Object(m.a)(t,"selectAll",(function(){if(console.log("selectAll"),Y.detail){var e=[];Y.detail.map((function(t){e=[].concat(Object(d.a)(e),[Object(p.a)({},t,{selectedLine:!0})])})),Q(Object(p.a)({},Y,{detail:e})),Ve(null)}})),Object(m.a)(t,"unSelectAll",(function(){if(console.log("unSelectAll"),Y.detail){var e=[];Y.detail.map((function(t){e=[].concat(Object(d.a)(e),[Object(p.a)({},t,{selectedLine:!1})])})),Q(Object(p.a)({},Y,{detail:e})),Ve(null)}})),Object(m.a)(t,"deleteLine",(function(){if(console.log("deleteLine"),Y.detail){var e=[];Y.detail.map((function(t){t.selectedLine||(e=[].concat(Object(d.a)(e),[Object(p.a)({},t,{selectedLine:!1})]))})),Q(Object(p.a)({},Y,{detail:e})),Ve(null)}})),Object(m.a)(t,"getSelectAll",(function(){if(console.log("getSelectAll"),Y.detail){var e=[];N&&(N.map((function(t){t.selectedLine&&(e=[].concat(Object(d.a)(e),[Object(p.a)({},t,{quantity:0,result:0})]))})),Q(Object(p.a)({},Y,{detail:[].concat(Object(d.a)(Y.detail),Object(d.a)(e))})))}})),Object(m.a)(t,"moveSelectedDown",(function(){if(console.log("moveSelectedDown"),Y.detail){var e=!0,t=[],a=[],n=[];Y.detail.map((function(l){We._id==l._id?e=!1:0==l.selectedLine&&1==e?t=[].concat(Object(d.a)(t),[l]):0==l.selectedLine&&0==e?a=[].concat(Object(d.a)(a),[l]):n=[].concat(Object(d.a)(n),[l])}));var l=[].concat(Object(d.a)(t),[We],Object(d.a)(n),Object(d.a)(a));Q(Object(p.a)({},Y,{detail:l}))}})),Object(m.a)(t,"moveSelectedUp",(function(){if(console.log("moveSelectedUp"),Y.detail){var e=!0,t=[],a=[],n=[];Y.detail.map((function(l){We._id==l._id?e=!1:0==l.selectedLine&&1==e?t=[].concat(Object(d.a)(t),[l]):0==l.selectedLine&&0==e?a=[].concat(Object(d.a)(a),[l]):n=[].concat(Object(d.a)(n),[l])}));var l=[].concat(Object(d.a)(t),Object(d.a)(n),[We],Object(d.a)(a));Q(Object(p.a)({},Y,{detail:l}))}})),Object(m.a)(t,"findProductIdByKeyDown",(function(){console.log("findProductIdByKeyDown")})),Object(m.a)(t,"findBarcodeByKeyDown",(function(){console.log("findBarcodeByKeyDown")})),Object(m.a)(t,"calDigit",100),Object(m.a)(t,"pageDataModalForm",j),Object(m.a)(t,"dataUrl",O),Object(m.a)(t,"myheader",k),t)))),f?l.a.createElement("div",{className:"xc12 form-row h-100",style:{justifyContent:"space-around"}},"photoUrl1"==f[0]?l.a.createElement("div",{className:"xc4 sc10 bgc-darkGray bd-lightGray h-100"},Ne?l.a.createElement(Ee,{fileUrl:De,arrayFile:xe,setArrayFile:Te,keyName:f[0],setShowImage:je,inputState:Y,setInputState:Q}):null):null,"photoUrl2"==f[1]?l.a.createElement("div",{className:"xc4 sc10 bgc-darkGray bd-lightGray h-100"},Ae?l.a.createElement(Ee,{fileUrl:Ke,arrayFile:Ge,setArrayFile:Ue,keyName:f[1],setShowImage:Me,inputState:Y,setInputState:Q}):null):null):null))}oa.defaultProps={lb:"Form",formTemplate:{},stateTemplate:{},selectData:{},iconAction:null,iconActionData:{},iconActionDataDetail:{},loadData:null,keyName:null,setShow:function(){},calculation:null,detailTableTemplate:null,submitFunction:null,selectGroup:null,selectProduct:[],modalFormTemplate:{insertUp:"Insert Up",insertDown:"Insert Down",selectAll:"Select All",unSelectAll:"Unselect All",moveUp:"Move Up",moveDown:"Move Down",delete:"Delete",import:"Import",selectImage:"Select Image"}};var ra=oa,ia=oe.catchErrorToMessage,sa=ea.convertToObject,ma=ea.createGroupTree,ua=ea.findAllChildrenByGroupTree,da=Xt.groupState;function pa(e){var t=e.groupDataUrl,a=e.canGroupChange,n=e.selectData,c=e.setSelectGroup,o=e.filterDataByGroup,r=e.editData,s=e.groupFormTemplate,b=e.groupEditFormTemplate,h=e.groupAddFormTitle,g=e.groupEditFormTitle;console.log("NewGroupComponent");var y=l.a.useContext(R).myheader,v=l.a.useState({reloadGroup:!0,groupTree:null,openArray:[1],tempObj:null,mainGroup:null,lastRecordGroup:{id:0},showError:!1,message:null,showAdd:!1,showEdit:!1,showConfirm:!1,allDeleteId:[]}),w=Object(i.a)(v,2),E=w[0],N=w[1],j=l.a.useState(null),O=Object(i.a)(j,2),k=O[0],x=O[1],T=function(e){var t=e.data,a=e.id,n=e.key,l=e.value,c=e.openArray;console.log("changeKeyInData");var o=[];0==l&&c.map((function(e,t){e!=a&&(o=[].concat(Object(d.a)(o),[e]))})),1==l&&(o=[].concat(Object(d.a)(c),[a]));var r=[];return t&&t.map((function(e){r=e.id==a?[].concat(Object(d.a)(r),[Object(p.a)({},e,Object(m.a)({},n,l))]):[].concat(Object(d.a)(r),[e])})),{groupTree:r,openArray:o}},S=function(e){var a=e.mainGroup,n=e.openArray;console.log("reloadAxios");var l={$or:[{parentId:1},{id:1}]};a>0&&(l={$or:[{parentId:1},{id:1},{mainGroup:a}]});var c=[1];a>1&&(c=[1,a]),n&&(c=n),t&&f.a.post("/".concat(t,"/getcustom"),l,y).then((function(e){var t=ma({group:e.data.data,openArrayIn:c}),n=t.groupTree,l=t.openArray,o=(sa(n,da),Object(p.a)({},E,{groupTree:n,openArray:l,tempObj:sa(n,da),lastRecordGroup:{id:e.data.lastRecordId},reloadGroup:!1,showAdd:!1,showEdit:!1,showConfirm:!1,mainGroup:a}));N(o)})).catch((function(e){ia(e,(function(e){N(Object(p.a)({},E,{message:e}))}));var t=Object(p.a)({},E,{reloadGroup:!1,showError:!0});console.log(t)}))},C=function(){var e=Object(p.a)({},E,{showError:!0});N(e)};return l.a.useEffect((function(){E.reloadGroup&&S({mainGroup:null,openArray:null})}),[E]),l.a.createElement("div",{className:"bgc-lightGray",style:{height:"100%"}},l.a.createElement(Zt,{tempObj:E.tempObj,canGroupChange:a,selectGroupObjectId:k?k.id:null,folderOpenFunc:function(e){if(e.id>1){var t=E.groupTree,a=T({data:t,id:e.id,key:"open",value:!1,openArray:E.openArray}),n=sa(a.groupTree,da),l=Object(p.a)({},E,{tempObj:n,groupTree:a.groupTree,openArray:a.openArray});N(l)}},folderClosePlusFunc:function(e){if(1!=e.parentId){var t=E.groupTree,a=T({data:t,id:e.id,key:"open",value:!0,openArray:E.openArray}),n=sa(a.groupTree,da),l=Object(p.a)({},E,{tempObj:n,groupTree:a.groupTree,openArray:a.openArray});N(l)}else S({mainGroup:e.id,openArray:null})},folderCloseFunc:function(e){if(1!=e.parentId){var t=E.groupTree,a=T({data:t,id:e.id,key:"open",value:!0,openArray:E.openArray}),n=sa(a.groupTree,da),l=Object(p.a)({},E,{tempObj:n,groupTree:a.groupTree,openArray:a.openArray});N(l)}else S({mainGroup:e.id,openArray:null})},pOpenFunc:function(e){if(console.log("filterGroup : ".concat(e.id)),o(e),1==e.parentId){e.folders;var t=Object(u.a)(e,["folders"]);x(t),S({mainGroup:e.id,openArray:null})}else{e.folders;var a=Object(u.a)(e,["folders"]);x(a)}},pCloseFunc:function(e){if(console.log("filterGroup : ".concat(e.id)),o(e),1==e.parentId){e.folders;var t=Object(u.a)(e,["folders"]);x(t),S({mainGroup:e.id,openArray:null})}else{e.folders;var a=Object(u.a)(e,["folders"]);x(a)}},delFunc:function(){var e=Object(p.a)({},E,{showConfirm:!0});N(e)},addFunc:function(){var e=Object(p.a)({},E,{showAdd:!0});N(e)},editFunc:function(){var e=Object(p.a)({},E,{showEdit:!0});N(e)},refreshFunc:function(){S({mainGroup:null,openArray:null})},zoomFunc:function(){if(console.log("zoomFunc"),r){var e={id:r.groupId};f.a.post("/".concat(t,"/getcustom"),e,y).then((function(e){var t=e.data.data[0];S({mainGroup:t.mainGroup,openArray:t.parentGroup})})).catch((function(e){ia(e,(function(e){N(Object(p.a)({},E,{message:e}))}))}))}},setEditGroupFunc:function(e){e.folders;var t=Object(u.a)(e,["folders"]);x(t),c(t)}}),E.showConfirm?l.a.createElement(ft,{setShow:function(){var e=Object(p.a)({},E,{showConfirm:!1});N(e)},submitFunction:function(){console.log("delFunc");var e=ua(k.id,E.groupTree);!function(e,a,n){var l={id:e,parentId:a,allDeleteId:n};t&&f.a.post("/".concat(t,"/deletegroup"),l,y).then((function(e){S({mainGroup:E.mainGroup,openArray:E.openArray})})).catch((function(e){ia(e,(function(e){N(Object(p.a)({},E,{message:e}))}))}))}(k.id,k.parentId,e.allDeleteId)}}):null,E.showAdd?l.a.createElement(ra,{lb:h,formTemplate:s,stateTemplate:ge.groupState,loadData:{id:E.lastRecordGroup.id+1,parentId:k.id,mainGroup:k.mainGroup,parentGroup:[].concat(Object(d.a)(k.parentGroup),[k.id])},submitFunction:function(e){console.log("addFunc"),function(e){var a=e;console.log("formInputState"),console.log(e),1==e.parentId&&(a.mainGroup=a.id),t&&f.a.post("/".concat(t,"/addgroup"),a,y).then((function(e){S({mainGroup:E.mainGroup,openArray:E.openArray})})).catch((function(e){C()}))}(e)},setShow:function(){var e=Object(p.a)({},E,{showAdd:!1});N(e)},selectData:n}):null,E.showEdit?l.a.createElement(ra,{lb:g,formTemplate:b,stateTemplate:ge.groupState,loadData:Object(p.a)({},k,{newId:k.id,newParentId:k.parentId}),submitFunction:function(e){var a=e.id,n=e.newId,l=e.parentId,c=e.newParentId,o=e.mainGroup;e.parentGroup;n=parseInt(n),c=parseInt(c);var r=Object(p.a)({},e,{newId:n,parentId:l});if(n!=a&&n>1){var i=null;i=1==l?n:o,r=Object(p.a)({},r,{newMainGroup:i});var s,m=ua(a,E.groupTree),b=m.allDeleteId,h=m.allDeleteObject,g=[];h.map((function(e,t){if(t>0){var l=[];e.parentGroup.map((function(e){l=[].concat(Object(d.a)(l),e==a?[n]:[e])}));var c=l[l.length-1],o=Object(p.a)({},e,{mainGroup:i,parentId:c,parentGroup:l});g=[].concat(Object(d.a)(g),[o])}})),E.groupTree.map((function(e){if(e.id==l){e._id,e.v;var t=Object(u.a)(e,["_id","v"]);s=t}}));var v=[];s.children.map((function(e){v=[].concat(Object(d.a)(v),e==a?[n]:[e])})),s=Object(p.a)({},s,{children:v});var w=Object(p.a)({},r,{id:n,mainGroup:i}),N=Object(p.a)({},r,{deleteMany:[s.id].concat(Object(d.a)(b)),create:[s,w].concat(Object(d.a)(g))});f.a.post("/".concat(t,"/updategroup"),N,y).then((function(e){S({mainGroup:E.mainGroup,openArray:E.openArray})})).catch((function(e){C()}))}else if(l!=c&&c>0){var j,O=ua(a,E.groupTree),k=O.allDeleteId,x=O.allDeleteObject;E.groupTree.map((function(e){if(e.id==l){e._id,e.v;var t=Object(u.a)(e,["_id","v"]);j=t}}));var T=Object(p.a)({},r,{parentObject:j,allChildrenId:k,tempAllChilden:x});f.a.post("/".concat(t,"/updategroup"),T,y).then((function(e){S({mainGroup:E.mainGroup,openArray:E.openArray})})).catch((function(e){C()}))}else f.a.post("/".concat(t,"/updategroup"),r,y).then((function(e){S({mainGroup:E.mainGroup,openArray:E.openArray})})).catch((function(e){C()}))},setShow:function(){var e=Object(p.a)({},E,{showEdit:!1});N(e)},selectData:n}):null,E.showError?ht({setShow:function(){var e=Object(p.a)({},E,{showError:!1});N(e)},message:E.message,setMessage:function(){}}):null)}pa.defaultProps={groupAddFormTitle:"Add Group",groupEditFormTitle:"Edit Group"};var ba,fa=pa,ha=function(e){var t=e.filterData,a=e.setFilterData,n=e.basicData,c=e.customerConfirmForm,o=e.submitFunc,r=e.cancelFunc,i=function(e,n){var l=Object(p.a)({},t.customerConfirm,Object(m.a)({},n,e.target.value));a(Object(p.a)({},t,{customerConfirm:l}))},s=function(e,o){return e.formHead?null:"partnerId"==e||"name"==e?l.a.createElement("div",{className:"flex-center-center jc-start w-100",key:o},l.a.createElement("div",{className:"xc4"},c[e]),l.a.createElement("div",{className:"xc8"},l.a.createElement("input",{value:t.customerConfirm[e],onChange:function(t){return i(t,e)}}))):"title"==e||"partnerType"==e?l.a.createElement("div",{className:"flex-center-center jc-start w-100",key:o},l.a.createElement("div",{className:"xc4"},c[e]),l.a.createElement("div",{className:"xc8"},l.a.createElement("select",{onChange:function(t){i(t,e)}},n[e].map((function(a,n){return l.a.createElement("option",{key:n,selected:t.customerConfirm[e]==a?"selected":""},a)}))))):"phone"==e?t.customerConfirm[e].map((function(n,o){return l.a.createElement("div",{className:"flex-center-center jc-start w-100",style:{margin:"0.2rem 0"},key:o},l.a.createElement("div",{className:"xc4"},0==o?c[e]:null),l.a.createElement("div",{className:"xc8"},l.a.createElement("input",{value:n,onChange:function(n){!function(e,n,l){var c=[];t.customerConfirm[n].map((function(t,a){c=[].concat(Object(d.a)(c),l==a?[e.target.value]:[t])}));var o=Object(p.a)({},t.customerConfirm,Object(m.a)({},n,c));a(Object(p.a)({},t,{customerConfirm:o}))}(n,e,o)}})))})):"address"==e?l.a.createElement("div",{className:"flex-center-center jc-start w-100",key:o},l.a.createElement("div",{className:"xc4"},c[e]),l.a.createElement("div",{className:"xc8"},l.a.createElement("select",{onChange:function(e){!function(e,n){var l=Object(p.a)({},t.customerConfirm,Object(m.a)({},"selectedAddress",e.target.value));a(Object(p.a)({},t,{customerConfirm:l}))}(e)}},t.customerConfirm[e].map((function(e,t){return l.a.createElement("option",{key:t,selected:0==t?"selected":""},e)}))))):void 0};return l.a.createElement("div",{className:"Modal-background"},l.a.createElement("div",{className:"Modal-box"},l.a.createElement("div",{className:"Modal-header"},l.a.createElement("h4",null,c.formHead)),l.a.createElement("div",{className:"w-100",style:{marginBottom:"1rem"}},Object.keys(c).map((function(e,t){return l.a.createElement("div",{key:t,style:{margin:"0.2rem 0"}},s(e,t))}))),l.a.createElement("div",{className:"Modal-footer"},l.a.createElement("div",null,l.a.createElement("button",{onClick:function(e){o()}},l.a.createElement(L.f,null))),l.a.createElement("div",null,l.a.createElement("button",{onClick:function(e){r()}},l.a.createElement(L.a,null))))))},ga=function(e){var t=e.editTransaction,a=e.submitFunc,n=e.cancelFunc,c=e.pageData,o=e.changeIncludeTransactionHead,r=e.includeTransactionHead,i=t.transactionType,s=t.id,m=t.transactionStatus,u=t.date,d=t.table,p=t.tableStatus,b=t.partnerId,f=t.title,h=t.name,g=t.phone,y=t.address,v=c.transactionConfirmForm,w=function(e){var t=new Date(e).toISOString(),a=new Date(t).toLocaleString("fr-ca"),n=new Date(t).toLocaleString("en-GB");return{date:a.substring(0,10),time:n.substring(12,17)}};return l.a.createElement("div",{className:"Modal-background"},l.a.createElement("div",{className:"Modal-box",style:{width:"70%"}},l.a.createElement("div",{className:"Modal-header"},l.a.createElement("h4",null,v.formHead)),l.a.createElement("div",{className:"w-100"},l.a.createElement("div",{className:"h-100 w-100"},l.a.createElement("div",null,"".concat(i," ").concat(v.id,": ").concat(s," (").concat(m,")")),l.a.createElement("div",null,"".concat(v.date,": ").concat(w(u).date," ,").concat(w(u).time)),l.a.createElement("div",null,"".concat(v.table,": ").concat(d,"(").concat(p,")")),l.a.createElement("div",null,"".concat(v.partnerId,":").concat(b,", ").concat(f," ").concat(h)),l.a.createElement("div",null,"".concat(v.phone,": ").concat(function(e){var t=function(e){var t=Array.from(e),a="";return t.map((function(e,t){a=3==t||6==t?"".concat(a," ").concat(e):"".concat(a).concat(e)})),a},a="";return e.map((function(n,l){a=l==e.length-1?"".concat(a).concat(t(n)):"".concat(a).concat(t(n),",")})),a}(g))),l.a.createElement("div",null,"".concat(v.address,": ").concat(y)),l.a.createElement("div",{className:"flex-center-center jc-start"},l.a.createElement("div",{className:"xc1"},l.a.createElement("input",{type:"checkbox",checked:r,onChange:function(e){return o(e.target.checked)}})),l.a.createElement("div",null,v.includeTransactionHead)))),l.a.createElement("div",{className:"Modal-footer"},l.a.createElement("div",null,l.a.createElement("button",{onClick:function(e){a()}},l.a.createElement(L.f,null))),l.a.createElement("div",null,l.a.createElement("button",{onClick:function(e){n()}},l.a.createElement(L.a,null))))))},ya={productInputState:{id:{toCheck:!1,min:0,max:0},barcode:{toCheck:!1,value:""},productName:{toCheck:!1,value:""},price:{toCheck:!1,min:0,max:0},stock:{toCheck:!1,min:0,max:0},active:{toCheck:!0,value:!0},isRawMat:{toCheck:!1,value:!1},remark:{toCheck:!1,value:""}},partnerInputState:{id:{toCheck:!1,min:0,max:0},title:{toCheck:!1,value:""},name:{toCheck:!1,value:""},phone:{toCheck:!1,value:""},active:{toCheck:!0,value:!0},remainingCustomerPoint:{toCheck:!1,min:0,max:0},totalSpending:{toCheck:!1,min:0,max:0},remark:{toCheck:!1,value:""}},transactionInputState:{id:{toCheck:!1,min:0,max:0},date:{toCheck:!1,min:(new Date).toISOString(),max:(new Date).toISOString()},transactionType:{toCheck:!1,value:""},transactionStatus:{toCheck:!1,value:"open"},active:{toCheck:!0,value:!0},table:{toCheck:!1,value:""},tableStatus:{toCheck:!1,value:"open"},partnerId:{toCheck:!1,min:0,max:0},name:{toCheck:!1,value:""},phone:{toCheck:!1,value:""},queueStatus:{toCheck:!1,value:"open"}},stickerInputState:{id:{toCheck:!1,min:0,max:0},recordName:{toCheck:!1,value:""},date:{toCheck:!1,min:(new Date).toISOString(),max:(new Date).toISOString()},recordBy:{toCheck:!1,value:""},productData_code:{toCheck:!1,value:""},productData_name:{toCheck:!1,value:""}},billMenuInputState:{id:{toCheck:!1,min:0,max:0},date:{toCheck:!1,min:(new Date).toISOString(),max:(new Date).toISOString()},transactionType:{toCheck:!1,value:""},active:{toCheck:!0,value:!0},tableStatus:{toCheck:!0,value:"open"}}},va=function(e){var t=e.filterData,a=e.setPageNumber,n=e.totalSwapPage,c=e.setSwapState,o=e.setReloadData,r=e.setShowFilter,i=e.setShowAdd,s=e.setShowEdit,m=e.setShowModalCsv,u=e.setShowModalConfirm,p=e.setUnSelectAll,b=e.setClose,f=e.setShowForwardConfirm,h=(e.captureSelect,e.bgColor),g=t.badgeState,y=t.pageNumber,v=t.limitRow,w=t.sort,E=t.count,N=t.swapState,j=t.editData,O=t.selectProduct,k=g.swapShow,x=g.swapFunc,T=g.reloadShow,S=g.reloadFunc,C=g.filterShow,F=g.filterFunc,D=g.addShow,I=g.addFunc,P=g.editShow,R=g.editFunc,A=g.delShow,M=g.delFunc,B=g.printerShow,L=g.printerFunc,U=g.csvShow,H=g.csvFunc,_=g.closeShow,K=g.closeFunc,z=g.forwardShow,q=g.forwardFunc,W=(g.pageNumberShow,g.bullEyeShow),V=g.unSelectShow,Y=function(){return Math.ceil(E/v)};return l.a.createElement("div",{className:"badge-frame-xc12",style:{background:h}},l.a.createElement("div",{className:"flex-center-center flex-no-wrap xc12 jc-start",style:{justifyContent:"flex-start"}},k?l.a.createElement("div",{className:"iconbox",onClick:function(e){N<n-1&&c(N+1),N==n-1&&c(0),x&&x()}},l.a.createElement($,{iconName:"MdSwapHoriz",className:"sm-icon",textStyle:{color:"black"}})):null,T?l.a.createElement("div",{className:"iconbox",onClick:function(e){o(!0),S&&S({limitRow:v,sort:w})}},l.a.createElement($,{iconName:"MdRefresh",className:"sm-icon",textStyle:{color:"black"}})):null,C?l.a.createElement("div",{className:"iconbox",onClick:function(e){r(!0),F&&F()}},l.a.createElement($,{iconName:"MdSearch",className:"sm-icon",textStyle:{color:"black"}})):null,D?l.a.createElement("div",{className:"iconbox",onClick:function(e){i(!0),I&&I()}},l.a.createElement($,{iconName:"MdAddCircle",className:"sm-icon",textStyle:{color:"black"}})):null,P?l.a.createElement("div",{className:"iconbox",onClick:function(e){j&&(s(!0),R&&R())}},l.a.createElement($,{iconName:"MdEdit",className:"sm-icon",textStyle:{color:"black"}})):null,A?l.a.createElement("div",{className:"iconbox",onClick:function(e){u(!0),M&&M()}},l.a.createElement($,{iconName:"MdDelete",className:"sm-icon",textStyle:{color:"black"}})):null,B?l.a.createElement("div",{className:"iconbox",onClick:function(e){window.print(),L&&L()}},l.a.createElement($,{iconName:"MdPrint",className:"sm-icon",textStyle:{color:"black"}})):null,U?l.a.createElement("div",{className:"iconbox",onClick:function(e){m(!0),H&&H()}},l.a.createElement($,{iconName:"FaFileCsv",className:"sm-icon",textStyle:{color:"black"}})):null,z?l.a.createElement("div",{className:"iconbox",onClick:function(e){f(!0),q&&q()}},l.a.createElement($,{iconName:"RiShareForwardLine",className:"sm-icon",textStyle:{color:"black"}})):null,_?l.a.createElement("div",{className:"iconbox",onClick:function(e){b&&b(),K&&K()}},l.a.createElement($,{iconName:"MdClose",className:"sm-icon",textStyle:{color:"black"}})):null,V?l.a.createElement("div",{className:"iconbox",onClick:function(e){p&&p()}},l.a.createElement($,{iconName:"FaBullseye",className:"sm-icon",textStyle:{color:"black"}})):null,W?l.a.createElement("div",{className:"bd-black",style:{display:"flex",justifyContent:"center",alignItems:"center",margin:"10px"}},l.a.createElement($,{iconName:"MdRadioButtonChecked",className:"sm-icon",textStyle:{color:"black"}}),l.a.createElement("div",{style:{marginRight:"10px"}},function(){var e=[];O.map((function(t){e=[].concat(Object(d.a)(e),[t.id])})),e=new Set(e);var t=0,a=!0,n=!1,l=void 0;try{for(var c,o=function(){var e=c.value,a=!1;O.map((function(t){t.id==e&&(a=!!t.selectedLine)})),a&&(t+=1)},r=e[Symbol.iterator]();!(a=(c=r.next()).done);a=!0)o()}catch(i){n=!0,l=i}finally{try{a||null==r.return||r.return()}finally{if(n)throw l}}return t}())):null,l.a.createElement("div",null,l.a.createElement(G.g,{className:"sm-icon",style:{visibility:Y()>1&&y>1?"visible":"hidden"},onClick:function(e){var t=parseInt(y)-1;a(t)}})),Y()>1?l.a.createElement("input",{type:"number",style:{width:"70px"},value:y.toString(),onChange:function(e){var t=parseInt(e.target.value);(t<=Y()||!t)&&a(t)}}):null,Y()>1?l.a.createElement("div",{style:{paddingTop:"1rem"}},l.a.createElement("p",null,"/".concat(Y()))):null,Y()>1&&y<Y()?l.a.createElement("div",null,l.a.createElement(G.h,{className:"sm-icon",onClick:function(e){var t=parseInt(y)+1;a(t)}})):null,Y()>1&&y<Y()?l.a.createElement("div",null,l.a.createElement(G.n,{className:"sm-icon",onClick:function(e){var t=parseInt(Y());a(t)}})):null))},wa=(ba={data0:null,detail0:null,count:0,lastRecordId:null,showRange:!0,widthLeft:25,heightTop:70,pageNumber:1,limitRow:10,sort:{id:1},qry:{},tableTemplate:null,reloadData:!0,message:null,showModalError:!1,editData:null,badgeState:{swapShow:!1,swapFunc:function(){},reloadShow:!0,reloadFunc:function(){},filterShow:!1,filterFunc:function(){},addShow:!1,addFunc:function(){},editShow:!1,editFunc:function(){},delShow:!1,delFunc:function(){},printerShow:!1,printerFunc:function(){},csvShow:!1,closeShow:!0,closeFunc:function(){},forwardShow:!1,bullEyesShow:!1,unSelectShow:!1},rawMatBadgeState:{swapShow:!1,swapFunc:function(){},reloadShow:!0,reloadFunc:function(){},filterShow:!1,filterFunc:function(){},addShow:!1,addFunc:function(){},editShow:!1,editFunc:function(){},delShow:!0,delFunc:function(){},printerShow:!1,printerFunc:function(){},closeShow:!0,closeFunc:function(){}},selectProduct:[],showEdit:!1,showAdd:!1,showModalConfirm:!1},Object(m.a)(ba,"showModalError",!1),Object(m.a)(ba,"message",null),Object(m.a)(ba,"iconActionData",null),Object(m.a)(ba,"iconActionDataDetail",null),ba);a(195);function Ea(e){var t=e.onMyClick,a=e.value,n=e.style,c=e.styleIcon,o=e.showDateOption,r=e.timeOption,s=e.days,m=e.thaiMonths,u=l.a.useState(function(e){if(e){var t=new Date(e);if(r){var a=r.hour,n=r.minute,l=r.second;t=new Date(t.setHours(a,n,l))}return t}return new Date}(a)),b=Object(i.a)(u,2),f=b[0],h=b[1];l.a.useEffect((function(){}),[f]);var g=l.a.useState(!1),y=Object(i.a)(g,2),v=y[0],w=y[1];return v?l.a.createElement("div",{className:"container",style:{width:"100vw",height:"100vh"}},l.a.createElement("div",{className:"calendar"},l.a.createElement("div",{className:"month"},l.a.createElement("div",{className:"arrow",onClick:function(e){var t=f.setFullYear(f.getFullYear()-1);t=new Date(t),h(t)}},l.a.createElement("i",null,"<<")),l.a.createElement("div",{className:"arrow",onClick:function(e){var t=f.setMonth(f.getMonth()-1);t=new Date(t),h(t)}},l.a.createElement("i",null,"<")),l.a.createElement("div",{className:"date"},l.a.createElement("div",null,function(e){var t=m[e.getMonth()],a=e.getFullYear();return"".concat(t,"-").concat(a)}(f))),l.a.createElement("div",{className:"arrow",onClick:function(e){var t=f.setMonth(f.getMonth()+1);t=new Date(t),h(t)}},l.a.createElement("i",null,">")),l.a.createElement("div",{className:"arrow",onClick:function(e){var t=f.setFullYear(f.getFullYear()+1);t=new Date(t),h(t)}},l.a.createElement("i",null,">>")),l.a.createElement(G.i,{className:"md-icon",onClick:function(e){w(!v)}})),l.a.createElement("div",{className:"weekdays"},s.map((function(e,t){return l.a.createElement("div",{key:t},e)}))),l.a.createElement("div",{className:"days"},function(e){for(var t=new Date(e.getFullYear(),e.getMonth(),0),a=t.getDay(),n=t.getDate(),l=[],c=n-a;c<=n;c++)l=[].concat(Object(d.a)(l),[c]);return l}(f).map((function(e,t){return l.a.createElement("div",{key:t,className:"prev-date"},e)})),function(e){for(var t=new Date(e.getFullYear(),e.getMonth()+1,0).getDate(),a=[],n=1;n<=t;n++)a=[].concat(Object(d.a)(a),[n]);return a}(f).map((function(e,a){return l.a.createElement("div",{key:a,className:e==f.getDate()?"today":null,onClick:function(a){!function(e,a){var n=a.setDate(e);n=new Date(n),h(n),t(n.toISOString())}(e,f),w(!1)}},e)})),function(e){for(var t=new Date(e.getFullYear(),e.getMonth()+1,0).getDay(),a=[],n=1;n<=6-t;n++)a=[].concat(Object(d.a)(a),[n]);return a}(f).map((function(e,t){return l.a.createElement("div",{key:t,className:"next-date"},e)}))))):l.a.createElement("div",{style:Object(p.a)({width:"100%",height:"100%",backgroundColor:"white",display:"flex",justifyContent:"flex-start",alignItems:"center",borderRadius:"5px 5px"},n)},l.a.createElement(L.z,{style:c,onClick:function(e){return w(!0)}}),function(e){if(e){var t=new Date(e);if(r){var a=r.hour,n=r.minute,l=r.second;t=new Date(t.setHours(a,n,l))}var c=t.toLocaleString("en-GB");return"date"==o?c.substring(0,10):"datetime"==o?c:"time"==o?c.substring(12,21):"--"}return"--"}(a))}Ea.defaultProps={onMyClick:function(){},showDateOption:"date",value:(new Date).toISOString(),days:["Su","Mo","Tu","Wd","Th","Fr","Sa"],thaiMonths:["01","02","03","04","05","06","07","08","09","10","11","12"],timeOption:null};var Na=Ea,ja=et.changeKeyKey,Oa=oe.genSortFromSortState,ka=oe.genSortStateFromSort,xa=function(e){e.show,e.setShow;var t=e.filterTemplate,a=e.inputState,n=e.setInputState,c=e.limitRow,o=e.setLimitRow,r=e.sort,s=e.setSort,u=e.filterAxios,b=e.basicData,f=e.LB;console.log("ModalFilterInput");var h=l.a.useState(ka(r)),g=Object(i.a)(h,2),y=g[0],v=g[1],w=l.a.useState(a),E=Object(i.a)(w,2),N=E[0],j=E[1],O=l.a.useState(!0),k=Object(i.a)(O,2),x=k[0],T=k[1];l.a.useEffect((function(){n(N)}),[N]),l.a.useEffect((function(){var e=Oa(y);s(e)}),[y]);return l.a.createElement("div",null,l.a.createElement("div",{className:"flex-center-center h-100"},l.a.createElement("h5",null,f.formHead),x?l.a.createElement(L.d,{className:"sm-icon",onClick:function(e){T(!x)}}):l.a.createElement(L.e,{className:"sm-icon",onClick:function(e){T(!x)}})),x?l.a.createElement("div",null,l.a.createElement("div",{className:"flex-center-center jc-start h-100"},l.a.createElement("h5",null,f.subject)),l.a.createElement("div",{className:"flex-center-center jc-start h-100"},t.map((function(e,t){return"number"==e.templateType||"arrayNumber"==e.templateType||"objectNumber"==e.templateType||"arrayObjectNumber"==e.templateType||"arrayObjectArrayNumber"==e.templateType?function(e,t){return l.a.createElement("div",{key:t,className:e.cName,style:{paddingTop:"0.2rem"}},l.a.createElement("div",{className:"flex-center-center flex-no-wrap"},l.a.createElement("div",{className:e.subCName[0],style:{display:"flex",justifyContent:"center",alignItems:"center"}},l.a.createElement("input",{style:{height:"1.5rem"},type:"checkbox",checked:N[e.keyName].toCheck,ref:e.refInput[0],onKeyDown:function(e){},onChange:function(t){ja({key:e.keyName,subKey:"toCheck",value:t.target.checked,inputState:N,setInputState:j})}})),l.a.createElement("div",{className:e.subCName[1],style:{display:"flex",justifyContent:"flex-start",alignItems:"center"}},l.a.createElement("p",{className:"label table-p",style:{margin:"auto 0"}},e.lb)),l.a.createElement("div",{className:e.subCName[2]},l.a.createElement("div",{className:"xc12 flex-center-baseline"},l.a.createElement("div",{className:"xc6",style:{paddingLeft:"0.2rem"}},"date"==e.inputType?l.a.createElement(Na,{style:{height:"1.6rem",fontSize:"0.8rem"},onMyClick:function(t){var a=new Date(t).toLocaleString("fr-ca").substring(0,10),n="".concat(a," 00:00:01"),l=new Date(n).toISOString();ja({key:e.keyName,subKey:"min",value:l,inputState:N,setInputState:j})},value:N[e.keyName].min}):l.a.createElement("input",{style:{width:"100%"},type:e.inputType,value:N[e.keyName].min,ref:e.refInput[1],onKeyDown:function(e){},onChange:function(t){ja({key:e.keyName,subKey:"min",value:"number"==t.target.type?t.target.value?parseFloat(t.target.value):0:t.target.value,inputState:N,setInputState:j})}})),l.a.createElement("div",{className:"xc6",style:{paddingLeft:"0.2rem"}},"date"==e.inputType?l.a.createElement(Na,{style:{height:"1.6rem",fontSize:"0.8rem"},onMyClick:function(t){var a=new Date(t).toLocaleString("fr-ca").substring(0,10),n="".concat(a," 23:59:59"),l=new Date(n).toISOString();ja({key:e.keyName,subKey:"max",value:l,inputState:N,setInputState:j})},value:N[e.keyName].max}):l.a.createElement("input",{style:{width:"100%"},type:e.inputType,value:N[e.keyName].max,ref:e.refInput[2],onKeyDown:function(e){},onChange:function(t){ja({key:e.keyName,subKey:"max",value:"number"==t.target.type?t.target.value?parseFloat(t.target.value):0:t.target.value,inputState:N,setInputState:j})}}))))))}(e,t):"boolean"==e.templateType||"arrayBoolean"==e.templateType||"objectBoolean"==e.templateType||"arrayObjectBoolean"==e.templateType||"arrayObjectArrayBoolean"==e.templateType?function(e,t){return l.a.createElement("div",{key:t,className:e.cName,style:{height:"100%",width:"100%",paddingTop:"0.2rem"}},l.a.createElement("div",{className:"flex-center-center flex-no-wrap"},l.a.createElement("div",{className:e.subCName[0],style:{display:"flex",justifyContent:"center",alignItems:"center"}},l.a.createElement("input",{style:{height:"1.5rem"},type:"checkbox",checked:N[e.keyName].toCheck,ref:e.refInput[0],onKeyDown:function(e){},onChange:function(t){ja({key:e.keyName,subKey:"toCheck",value:t.target.checked,inputState:N,setInputState:j})}})),l.a.createElement("div",{className:e.subCName[1],style:{display:"flex",justifyContent:"flex-start",alignItems:"center"}},l.a.createElement("p",{className:"label table-p",style:{margin:"auto 0"}},e.lb)),l.a.createElement("div",{className:"".concat(e.subCName[2]),style:{display:"flex",justifyContent:"center",alignItems:"center"}},l.a.createElement("input",{style:{height:"1.5rem"},type:e.inputType,checked:N[e.keyName].value,ref:e.refInput[1],onKeyDown:function(e){},onChange:function(t){ja({key:e.keyName,subKey:"value",value:t.target.checked,inputState:N,setInputState:j})}}))))}(e,t):"selectObj"==e.templateType?function(e,t){var a=e.selectObj;return l.a.createElement("div",{key:t,className:e.cName,style:{height:"100%",width:"100%",paddingTop:"0.2rem"}},l.a.createElement("div",{className:"flex-center-center flex-no-wrap"},l.a.createElement("div",{className:e.subCName[0],style:{display:"flex",justifyContent:"center",alignItems:"center"}},l.a.createElement("input",{style:{height:"1.5rem"},type:"checkbox",checked:N[e.keyName].toCheck,ref:e.refInput[0],onKeyDown:function(e){},onChange:function(t){ja({key:e.keyName,subKey:"toCheck",value:t.target.checked,inputState:N,setInputState:j})}})),l.a.createElement("div",{className:e.subCName[1],style:{display:"flex",justifyContent:"flex-start",alignItems:"center"}},l.a.createElement("p",{className:"label table-p",style:{margin:"auto 0"}},e.lb)),l.a.createElement("div",{className:"".concat(e.subCName[2]),style:{display:"flex",justifyContent:"center",alignItems:"center",paddingLeft:"0.25rem"}},l.a.createElement("select",{style:{height:"100%"},onChange:function(t){ja({key:e.keyName,subKey:"value",value:t.target.value,inputState:N,setInputState:j})}},l.a.createElement("option",null,"..."),b?b[a].map((function(e,t){return l.a.createElement("option",{key:t},e)})):null))))}(e,t):"selectArrayObj"==e.templateType?function(e,t){var a=e.selectArrayObj;return l.a.createElement("div",{key:t,className:e.cName,style:{height:"100%",width:"100%",paddingTop:"0.2rem"}},l.a.createElement("div",{className:"flex-center-center flex-no-wrap"},l.a.createElement("div",{className:e.subCName[0],style:{display:"flex",justifyContent:"center",alignItems:"center"}},l.a.createElement("input",{style:{height:"1.5rem"},type:"checkbox",checked:N[e.keyName].toCheck,ref:e.refInput[0],onKeyDown:function(e){},onChange:function(t){ja({key:e.keyName,subKey:"toCheck",value:t.target.checked,inputState:N,setInputState:j})}})),l.a.createElement("div",{className:e.subCName[1],style:{display:"flex",justifyContent:"flex-start",alignItems:"center"}},l.a.createElement("p",{className:"label table-p",style:{margin:"auto 0"}},e.lb)),l.a.createElement("div",{className:"".concat(e.subCName[2]),style:{display:"flex",justifyContent:"center",alignItems:"center",paddingLeft:"0.25rem"}},l.a.createElement("select",{style:{height:"100%"},onChange:function(t){ja({key:e.keyName,subKey:"value",value:t.target.value,inputState:N,setInputState:j})}},l.a.createElement("option",null,"..."),b?b[a[0]].map((function(e,t){return l.a.createElement("option",{key:t},e[a[1]])})):null))))}(e,t):function(e,t){return l.a.createElement("div",{key:t,className:e.cName,style:{paddingTop:"0.2rem"}},l.a.createElement("div",{className:"flex-center-center flex-no-wrap"},l.a.createElement("div",{className:e.subCName[0],style:{display:"flex",justifyContent:"center",alignItems:"center"}},l.a.createElement("input",{style:{height:"1.5rem"},type:"checkbox",checked:N[e.keyName].toCheck,ref:e.refInput[0],onKeyDown:function(e){},onChange:function(t){ja({key:e.keyName,subKey:"toCheck",value:t.target.checked,inputState:N,setInputState:j})}})),l.a.createElement("div",{className:e.subCName[1],style:{display:"flex",justifyContent:"flex-start",alignItems:"center"}},l.a.createElement("p",{className:"label table-p",style:{margin:"auto 0"}},e.lb)),l.a.createElement("div",{className:"".concat(e.subCName[2]),style:{paddingLeft:"0.25rem"}},l.a.createElement("input",{type:e.inputType,value:N[e.keyName].value,ref:e.refInput[1],onKeyDown:function(e){e.key},onChange:function(t){ja({key:e.keyName,subKey:"value",value:t.target.value.replace(/\s{2}$/," "),inputState:N,setInputState:j})}}))))}(e,t)}))),l.a.createElement("div",{className:"pt-2"},l.a.createElement("h5",null,f.sortBySubject)),y?function(){var e=Object.keys(y),a=[];return t.map((function(e){"string"!=e.templateType&&"number"!=e.templateType&&"date"!=e.templateType||(a=[].concat(Object(d.a)(a),[e]))})),l.a.createElement("div",{className:"w-100"},e.map((function(e,n){return l.a.createElement("div",{key:n,className:t[0].cName},l.a.createElement("div",{className:"flex-center-center"},l.a.createElement("div",{className:t[0].subCName[0],style:{display:"flex",justifyContent:"flex-start",alignItems:"center"}},1==y[e].toAscending?l.a.createElement(L.v,{className:"md-icon",onClick:function(t){var a=y[e];a.toAscending=-1,v(Object(p.a)({},y,Object(m.a)({},e,a)))}}):l.a.createElement(L.y,{className:"md-icon",onClick:function(t){var a=y[e];a.toAscending=1,v(Object(p.a)({},y,Object(m.a)({},e,a)))}})),l.a.createElement("div",{className:t[0].subCName[1],style:{display:"flex",justifyContent:"flex-start",alignItems:"center"}},l.a.createElement("p",{className:"table-p",style:{margin:"auto 0"}},"".concat(n+1))),l.a.createElement("div",{className:t[0].subCName[2]},l.a.createElement("select",{type:"select",className:"w-100",value:y[e].sortName?y[e].sortName:"",onChange:function(t){var a=y[e];a.sortName=t.target.value,v(Object(p.a)({},y,Object(m.a)({},e,a))),s(Object(p.a)({},y,Object(m.a)({},e,a)))}},l.a.createElement("option",{value:"",hidden:!0},"..."),a.map((function(e,t){return l.a.createElement("option",{key:t,value:e.keyName},e.lb)}))))))})))}():null,l.a.createElement("div",{className:"pt-2"},l.a.createElement("h5",null,f.RecordLimit),l.a.createElement("div",{className:"flex-center-center flex-no-wrap"},l.a.createElement("div",{className:"flex-center-center lc6"},l.a.createElement("p",{className:"table-p"},f.recordPerPage)),l.a.createElement("div",{className:"flex-center-center lc6"},l.a.createElement("div",{className:"flex-center-start flex-no-wrap"},l.a.createElement(L.r,{className:"md-icon mr-2 mb-3",onClick:function(e){c>1&&o(c-1)}}),l.a.createElement("div",{className:"h-100",style:{alignItems:"flex-start"}},l.a.createElement("input",{type:"number",value:c,onChange:function(e){return o(parseInt(e.target.value))}})),l.a.createElement(L.u,{className:"md-icon ml-2 mb-3",onClick:function(e){c<50&&o(c+1)}}))))),l.a.createElement("div",{className:"flex-center-center pt-2 pb-2"},l.a.createElement("div",{className:"w-45"},l.a.createElement("button",{className:"w-100",style:{margin:"0"},onClick:function(e){u("and",N)}},l.a.createElement(H.a,{style:{marginRight:"0.2rem"}}),f.allTrue)),l.a.createElement("div",{className:"w-45"},l.a.createElement("button",{className:"w-100",style:{margin:"0"},onClick:function(e){u("or",N)}},l.a.createElement(H.c,{style:{marginRight:"0.2rem"}}),f.someTrue)))):null)};xa.defaultProps={title:"Filter Form",show:null,setShow:function(){},filterTemplate:{},inputState:null,setInputState:function(){},limitRow:10,setLimitRow:function(){},sort:null,setSort:function(){},setPageNumber:function(){},setFilterOption:function(){},setReload:function(){},filterAxios:function(){},LB:{formHead:"Form Head",subject:"Subject",allTrue:"All True",someTrue:"Some True",sortBySubject:"Sort By Subject",recordLimit:"Record Limit",recordPerPage:"Record Per Page"}};var Ta=xa,Sa=Me.saveTableTemplate;function Ca(e){var t,a=e.lb,n=e.formTemplate,c=e.stateTemplate,o=e.selectData,r=e.iconAction,s=e.iconActionData,u=e.iconActionDataDetail,b=e.loadData,f=e.keyName,g=e.setShow,y=e.calculation,v=e.detailTableTemplate,w=e.submitFunction,E=e.selectGroup,N=e.setSelectGroup,j=e.selectProduct,O=e.pageDataModalForm,k=e.dataUrl,x=e.myheader,T=e.tableTemplateUrl,S=e.tableTemplateName,C=e.calDigit,F=e.isAddForm,D=Ce.genBlankState,I=Ce.genRefAndValue,P=Ce.combineLoadDataBlankState,R=ae.changeArrayFile,A=h.tableResize,M=l.a.useState(!1),B=Object(i.a)(M,2),G=B[0],U=B[1];l.a.useEffect((function(){E&&U(!0)}),[E]);var H=l.a.useState(!1),_=Object(i.a)(H,2),K=_[0],z=_[1];l.a.useEffect((function(){K||z(!0)}),[K]);var q=l.a.useState(!0),$=Object(i.a)(q,2),W=$[0],V=$[1],Y=l.a.useState(!0),Q=Object(i.a)(Y,2),X=Q[0],J=Q[1],Z=l.a.createRef(),ee=l.a.createRef(),te=D({template:c}).state,ne=I({template:n,FData:te}),le=l.a.useState(function(){if(b){var e=P({template:c,loadData:b});return F?e.detail&&(e=Object(p.a)({},e,{detail:[]})):b.detail&&Array.isArray(b.detail)&&0==b.detail.length&&(e=Object(p.a)({},e,{detail:[]})),e.newId>=0&&(e=Object(p.a)({},e,{newId:e.id})),e}return te}()),ce=Object(i.a)(le,2),oe=ce[0],re=ce[1],se=l.a.useState(null),me=Object(i.a)(se,2),ue=me[0],de=me[1];l.a.useEffect((function(){K&&s&&re(Object(p.a)({},oe,{},s))}),[s]),l.a.useEffect((function(){if(K&&u&&Se&&u.id>0){var e=[];oe.detail.map((function(t,a){if(Se.index==a){var n=Object(p.a)({},t,{},u);e=[].concat(Object(d.a)(e),[n])}else e=[].concat(Object(d.a)(e),[t])})),re(Object(p.a)({},oe,Object(m.a)({},"detail",e)))}}),[u]);var pe=l.a.useState(I({template:n,FData:oe})),be=Object(i.a)(pe,2),fe=be[0],he=be[1];l.a.useEffect((function(){console.log("refAndValue........000000000000000."),console.log(fe)}),[fe]),l.a.useEffect((function(){if(K){var e=!1;if(oe&&oe.detail&&(e=!0),Oe&&(e=!0),e){var t=Object.keys(Oe),a={},l=!1;t.map((function(e){Oe[e]&&Oe[e].showSum&&(a=Object(p.a)({},a,Object(m.a)({},e,0)),l=!0)})),oe.detail.map((function(e,n){t.map((function(t){if(Oe[t]&&Oe[t].showSum){var l=a[t]+parseInt(1e4*e[t]);a=n==oe.detail.length-1?Object(p.a)({},a,Object(m.a)({},t,l/1e4)):Object(p.a)({},a,Object(m.a)({},t,l))}}))})),l&&de(a)}var c=I({template:n,FData:oe});he(Object(p.a)({},c)),y&&X&&(re(y(oe)),J(!1))}}),[oe]);var ge=l.a.useState({width:1200,gridCol:""}),ye=Object(i.a)(ge,2),ve=ye[0],we=ye[1],Ne=l.a.useState(v),je=Object(i.a)(Ne,2),Oe=je[0],ke=je[1];l.a.useEffect((function(){A({tableTemplate:Oe,showTable:ve,setShowTable:we})}),[Oe]);var xe=l.a.useState(null),Te=Object(i.a)(xe,2),Se=Te[0],Fe=Te[1];l.a.useEffect((function(){}),[Se]);var De=l.a.useState(!0),Ie=Object(i.a)(De,2),Pe=Ie[0],Re=Ie[1],Ae=l.a.useState([]),Me=Object(i.a)(Ae,2),Be=Me[0],Le=Me[1],Ge=l.a.useState([]),Ue=Object(i.a)(Ge,2),He=Ue[0],_e=Ue[1];l.a.useEffect((function(){K&&f&&"photoUrl1"==f[0]&&R({arrayFile:Be,fileUrl:He,setFileUrl:_e,inputState:oe,setInputState:re,keyName:f[0],setShowImage:Re})}),[Be]);var Ke=l.a.useState(!0),ze=Object(i.a)(Ke,2),qe=ze[0],$e=ze[1],We=l.a.useState([]),Ve=Object(i.a)(We,2),Ye=Ve[0],Qe=Ve[1],Xe=l.a.useState([]),Je=Object(i.a)(Xe,2),Ze=Je[0],et=Je[1];l.a.useEffect((function(){K&&f&&"photoUrl2"==f[1]&&R({arrayFile:Ye,fileUrl:Ze,setFileUrl:et,inputState:oe,setInputState:re,keyName:f[1],setShowImage:$e})}),[Ye]);var tt=l.a.useState(null),at=Object(i.a)(tt,2),nt=at[0],lt=at[1],ct=function(e,t){var a=[];oe.detail.map((function(n,l){a=[].concat(Object(d.a)(a),e==l?[t]:[n])})),re(Object(p.a)({},oe,{detail:a}))};return l.a.createElement("div",{className:"h-100 w-100 bgc-trans"},l.a.createElement("div",{className:"Modal-box bgc-trans",style:{paddingBottom:"7rem"}},l.a.createElement("div",{className:"Modal-header bgc-trans"},l.a.createElement("div",null,l.a.createElement("h5",null,a)),l.a.createElement("div",{style:{display:"flex",position:"fixed",bottom:"2.5rem",right:"2rem",zIndex:"100"}},l.a.createElement("div",null,l.a.createElement("button",{ref:Z,onKeyDown:function(e){"ArrowRight"==e.key&&ee.current.focus()},onClick:function(e){w&&w(oe)}},l.a.createElement(L.f,null))),l.a.createElement("div",null,l.a.createElement("button",{ref:ee,onKeyDown:function(e){"ArrowLeft"==e.key&&ee.current.focus()},onClick:function(e){re(te),N(null),g(!1)}},l.a.createElement(L.a,null))))),l.a.createElement("div",{className:"Modal-body bgc-trans"},l.a.createElement("div",{className:"ModalInsideBody bgc-trans"},ca((t={cName:"form-row flex-justify-start flex-align-stretch bd-green",template:n,ref1:Z,iconAction:r,refAndValue:fe,setRefAndValue:he,loadData:oe,setLoadData:re,selectData:o,blankData:te,refAndValueBlankData:ne,hidePassword:W,setHidePassword:V,tableTemplate:Oe,setTableTemplate:ke,showTable:ve,setShowTable:we,selectRow:Se,setSelectRow:Fe,setCalculate:J,sumAmount:ue,selectGroup:E,selectProduct:j,updateFilterData:ct,editData:nt,setEditData:lt},Object(m.a)(t,"updateFilterData",ct),Object(m.a)(t,"insertLine",(function(){if(nt){var e=[];oe.detail.map((function(t,a){if(t._id==nt._id){var n=Object(p.a)({},te.detail[0],{_id:ie()(),selectedLine:!1,result:0});e=[].concat(Object(d.a)(e),[n,t])}else e=[].concat(Object(d.a)(e),[t])})),re(Object(p.a)({},oe,{detail:e}))}else if(oe.detail&&Array.isArray(oe.detail)&&0==oe.detail.length){var t=Object(p.a)({},te.detail[0],{_id:ie()(),selectedLine:!1,result:0});re(Object(p.a)({},oe,{detail:[t]}))}})),Object(m.a)(t,"selectAll",(function(){if(console.log("selectAll"),oe.detail){var e=[];oe.detail.map((function(t){e=[].concat(Object(d.a)(e),[Object(p.a)({},t,{selectedLine:!0})])})),re(Object(p.a)({},oe,{detail:e})),lt(null)}})),Object(m.a)(t,"unSelectAll",(function(){if(console.log("unSelectAll"),oe.detail){var e=[];oe.detail.map((function(t){e=[].concat(Object(d.a)(e),[Object(p.a)({},t,{selectedLine:!1})])})),re(Object(p.a)({},oe,{detail:e})),lt(null)}})),Object(m.a)(t,"deleteLine",(function(){if(nt){var e=[];oe.detail.map((function(t,a){t._id!=nt._id&&(e=[].concat(Object(d.a)(e),[t]))})),re(Object(p.a)({},oe,{detail:e})),lt(null)}})),Object(m.a)(t,"getSelectAll",(function(){if(oe.detail){var e=[];j&&(j.map((function(t){t.selectedLine&&(e=[].concat(Object(d.a)(e),[Object(p.a)({},t,{_id:ie()(),quantity:0,result:0})]))})),re(Object(p.a)({},oe,{detail:[].concat(Object(d.a)(oe.detail),Object(d.a)(e))})))}})),Object(m.a)(t,"moveSelectedDown",(function(){if(console.log("moveSelectedDown"),oe.detail){var e=!0,t=[],a=[],n=[];oe.detail.map((function(l){nt._id==l._id?e=!1:0==l.selectedLine&&1==e?t=[].concat(Object(d.a)(t),[l]):0==l.selectedLine&&0==e?a=[].concat(Object(d.a)(a),[l]):n=[].concat(Object(d.a)(n),[l])}));var l=[].concat(Object(d.a)(t),[nt],Object(d.a)(n),Object(d.a)(a));re(Object(p.a)({},oe,{detail:l}))}})),Object(m.a)(t,"moveSelectedUp",(function(){if(console.log("moveSelectedUp"),oe.detail){var e=!0,t=[],a=[],n=[];oe.detail.map((function(l){nt._id==l._id?e=!1:0==l.selectedLine&&1==e?t=[].concat(Object(d.a)(t),[l]):0==l.selectedLine&&0==e?a=[].concat(Object(d.a)(a),[l]):n=[].concat(Object(d.a)(n),[l])}));var l=[].concat(Object(d.a)(t),Object(d.a)(n),[nt],Object(d.a)(a));re(Object(p.a)({},oe,{detail:l}))}})),Object(m.a)(t,"moveUp",(function(){if(nt){var e=[],t=null;oe.detail.map((function(e,a){e._id==nt._id&&(t=a)})),null!=t&&t>0&&(oe.detail.map((function(a,n){e=[].concat(Object(d.a)(e),n==t-1?[oe.detail[t]]:n==t?[oe.detail[t-1]]:[a])})),re(Object(p.a)({},oe,{detail:e})))}})),Object(m.a)(t,"moveDown",(function(){if(nt){var e=[],t=null,a=oe.detail.length-1;oe.detail.map((function(e,a){e._id==nt._id&&(t=a)})),null!=t&&t<a&&(oe.detail.map((function(a,n){e=[].concat(Object(d.a)(e),n==t?[oe.detail[t+1]]:n==t+1?[oe.detail[t]]:[a])})),re(Object(p.a)({},oe,{detail:e})))}})),Object(m.a)(t,"findProductIdByKeyDown",(function(){console.log("findProductIdByKeyDown")})),Object(m.a)(t,"findBarcodeByKeyDown",(function(){console.log("findBarcodeByKeyDown")})),Object(m.a)(t,"calDigit",C),Object(m.a)(t,"pageDataModalForm",O),Object(m.a)(t,"dataUrl",k),Object(m.a)(t,"myheader",x),Object(m.a)(t,"saveDetailTableTemplateForFormFunc",(function(e){Sa(e,T,S,x)})),t)))),f?l.a.createElement("div",{className:"xc12 form-row h-100",style:{justifyContent:"space-around"}},"photoUrl1"==f[0]?l.a.createElement("div",{className:"xc4 sc10 bgc-darkGray bd-lightGray h-100"},Pe?l.a.createElement(Ee,{fileUrl:He,arrayFile:Be,setArrayFile:Le,keyName:f[0],setShowImage:Re,inputState:oe,setInputState:re}):null):null,"photoUrl2"==f[1]?l.a.createElement("div",{className:"xc4 sc10 bgc-darkGray bd-lightGray h-100"},qe?l.a.createElement(Ee,{fileUrl:Ze,arrayFile:Ye,setArrayFile:Qe,keyName:f[1],setShowImage:$e,inputState:oe,setInputState:re}):null):null):null),G&&l.a.createElement("div",{className:"Modal-background"},l.a.createElement("div",{className:"Modal-box"},l.a.createElement("div",{className:"Modal-header"},l.a.createElement("div",{className:"flex-center-center"},l.a.createElement(L.l,{style:{fontSize:"2rem"}}),l.a.createElement("div",{style:{marginLeft:"0.5rem"}},E.groupName))),l.a.createElement("div",{className:"Modal-footer"},l.a.createElement("div",null,l.a.createElement("button",{onClick:function(e){console.log("click FaCheck renderAddGroup");var t={groupId:E.id,groupName:E.groupName};re(Object(p.a)({},oe,{},t)),N(null),U(!1)}},l.a.createElement(L.f,null))),l.a.createElement("div",null,l.a.createElement("button",{onClick:function(e){console.log("click FaBan renderAddGroup"),N(null),U(!1)}},l.a.createElement(L.a,null)))))))}Ca.defaultProps={isAddForm:!1,lb:"Form",formTemplate:{},stateTemplate:{},selectData:{},iconAction:null,iconActionData:{},iconActionDataDetail:{},loadData:null,keyName:null,setShow:function(){},calculation:null,detailTableTemplate:null,submitFunction:null,selectGroup:null,setSelectGroup:function(){},selectProduct:[],modalFormTemplate:{insertUp:"Insert Up",insertDown:"Insert Down",selectAll:"Select All",unSelectAll:"Unselect All",moveUp:"Move Up",moveDown:"Move Down",delete:"Delete",import:"Import",selectImage:"Select Image"}};var Fa=Ca,Da=function(e){var t=e.showRange,a=e.setShowRange,n=e.widthLeft,c=e.setWidthLeft,o=e.heightTop,r=e.setHeightTop;return t?l.a.createElement("div",{className:"hide-on-print",style:{width:"100%"}},l.a.createElement("div",{className:"flex-center-center jc-space-between"},l.a.createElement("div",{className:"w-50"},l.a.createElement("input",{type:"range",min:"0",max:"95",style:{visibility:t?"visible":"hidden"},value:n,onChange:function(e){c(e.target.value)}})),l.a.createElement("div",{className:"w-45"},l.a.createElement("input",{type:"range",min:"0",max:"93",orient:"vertical",style:{visibility:t?"visible":"hidden"},value:o,onChange:function(e){r(e.target.value,"heightTop")}})),l.a.createElement("div",{className:"w-5",style:{display:"flex",justifyContent:"flex-end"}},l.a.createElement(G.i,{className:"sm-icon",style:{backgroundColor:"rgba(255,255,255,0.5)"},onClick:function(e){a(!t)}})))):l.a.createElement(G.d,{className:"sm-icon hide-on-print",style:{position:"absolute",top:"0.5rem",zIndex:"200",right:"0",backgroundColor:"rgba(255,255,255,0.5)"},onClick:function(e){a(!t)}})},Ia=Me.reloadAxiosAll,Pa=Me.saveTableTemplate,Ra=Me.updateFilterData,Aa=Me.submitFunctionEdit,Ma=Me.submitFunctionAdd,Ba=Me.filterAxios,La=Me.setUnSelectAll,Ga=Me.submitFunctionDelete;function Ua(e){var t=e.dataState,a=e.dataFilter,n=e.dataInputState,c=e.captureEditData,o=e.captureSelect,r=e.bgColor,s=e.filterTitle;console.log("PageComponent");var m=l.a.useContext(R),d=m.basicDataSt,b=m.tokenSt,f=(m.setReloadCheckToken,m.myheader),h=d.basicData,g=(b.reloadCheckToken,b.haveShopToken,b.haveUserToken,b.userName,function(e){_(Object(p.a)({},H,{showModalConfirm:e}))}),y=function(e){_(Object(p.a)({},H,{pageNumber:e,reloadData:!0}))},v=function(e){_(Object(p.a)({},H,{showAdd:e}))},w=function(e){_(Object(p.a)({},H,{showEdit:e}))},E=function(e){_(Object(p.a)({},H,{tableTemplate:e}))},N=function(e){_(Object(p.a)({},H,{editData:e})),c(e)},j=function(e){_(Object(p.a)({},H,{data0:e}))},O=function(e){_(Object(p.a)({},H,{sort:e}))},k=function(e){_(Object(p.a)({},H,{limitRow:e}))},x=function(){_(La(H))},T=function(){var e=Object(Y.a)(V.a.mark((function e(t){var a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ga(H,f);case 2:a=e.sent,_(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){if(H.selectGroup){var e=H.selectGroup,t=e.id,a=Object(u.a)(e,["id"]);_(Object(p.a)({},H,{iconActionData:Object(p.a)({groupId:t},a)}))}},C=function(){var e=Object(Y.a)(V.a.mark((function e(){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ia(H,f);case 2:t=e.sent,_(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(e){console.log("refreshPage");var t=H.limitRow,a=H.sort,n=Object(p.a)({},H,{limitRow:t,sort:a,selectProduct:[],editData:null,qry:null,reloadData:!0});_(n)},D=function(e,t){var a=Ra(e,t,H);_(Object(p.a)({},H,{},a))},I=function(){var e=Object(Y.a)(V.a.mark((function e(a){var n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Aa(a,H,t,f);case 2:n=e.sent,_(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(Y.a)(V.a.mark((function e(a){var n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ma(a,H,t,f);case 2:n=e.sent,_(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(Y.a)(V.a.mark((function e(t,n){var l;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ba(t,n,a,H,f);case 2:l=e.sent,_(l);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),M=function(e){e.folders;var t=Object(u.a)(e,["folders"]),a=Object(p.a)({},H,{pageNumber:1,qry:{groupId:e.id},selectGroup:t,reloadData:!0});_(a)},B=function(e){var t=H.tableTemplateUrl;Pa(e,t,H.tableTemplateName,f)},L=function(e){var t=H.tableTemplateUrl;Pa(e,t,H.detailTableTemplateForFormName,f)},G=l.a.useState(Object(p.a)({},wa,{},e)),U=Object(i.a)(G,2),H=U[0],_=U[1];l.a.useEffect((function(){H.reloadData&&C()}),[H]);var K=function(){return l.a.createElement("div",{className:"w-100 h-100",style:{overflowY:"auto",paddingBottom:"5rem"}},function(){var e=H.limitRow,t=H.sort;return l.a.createElement("div",null,l.a.createElement(Ta,{title:s,show:!0,setShow:function(){},filterTemplate:a,inputState:n,setInputState:function(){},limitRow:e,setLimitRow:k,sort:t,setSort:O,filterAxios:A,basicData:h}))}(),H.groupTitle?l.a.createElement("div",{className:"flex-center-center",style:{borderTop:"1px black solid"}},l.a.createElement("h3",null,H.groupTitle)):null,H.groupDataUrl?l.a.createElement("div",{className:"",style:{marginBottom:"4rem"}},l.a.createElement(fa,{groupDataUrl:"p29group",canGroupChange:!0,selectData:{basicData:h},setSelectGroup:function(){},filterDataByGroup:M,editData:H.editData})):null)};return l.a.createElement("div",{className:"w-100 h-100"},l.a.createElement("div",{className:"",style:{display:"flex",height:"95%",width:"100%"}},l.a.createElement("div",{className:"bd-darkGray hide-on-print",style:{height:"100%",width:"".concat(H.widthLeft,"%")}},K()),l.a.createElement("div",{className:"bd-darkGray",style:{height:"100%",width:"".concat(100-H.widthLeft,"%")}},l.a.createElement("div",{className:"hide-on-print",style:{height:"5%",width:"100%"}},va({filterData:H,setPageNumber:y,totalSwapPage:1,setSwapState:function(){},setReloadData:F,setShowFilter:function(){},setShowAdd:v,setShowEdit:w,setShowModalConfirm:g,setUnSelectAll:x,setClose:function(){},bgColor:r,captureSelect:o})),l.a.createElement("div",{style:{height:"100%",width:"100%"}},l.a.createElement("div",{className:"",style:{width:"100%",height:"".concat(H.heightTop,"%")}},H.data0?l.a.createElement(ct,{colorHead:"#888",tableTemplate:H.tableTemplate,setTableTemplate:E,filterDataKey:"tableTemplate",filterData:H.data0,setFilterData:j,editData:H.editData,setEditData:N,saveTableTemplateFunc:B,isSubTable:!1,updateFilterData:D,useInput:!1,selectData:H.selectData}):null),l.a.createElement("div",{className:"",style:{width:"100%",height:"".concat(95-H.heightTop,"%")}},(H.showAdd,H.showEdit,H.editData,H.showAdd?l.a.createElement("div",{style:{height:"100%",paddingBottom:"4rem"}},l.a.createElement(Fa,{lb:H.addFormTitle,formTemplate:H.dataForm,stateTemplate:H.dataState,loadData:{id:H.lastRecordId+1},myFilterData:H,selectData:{basicData:h},setShow:v,iconAction:[S,function(){}],iconActionData:H.iconActionData,iconActionDataDetail:H.iconActionDataDetail,detailTableTemplateForForm:H.detailTableTemplateForForm,submitFunction:P,keyName:["photoUrl1"],calculation:null,saveDetailTableTemplateForFormFunc:L})):H.showEdit?l.a.createElement("div",{style:{height:"100%",paddingBottom:"4rem"}},l.a.createElement(Fa,{lb:H.editFormTitle,formTemplate:H.dataEditForm,stateTemplate:H.dataState,loadData:H.editData,myFilterData:H,selectData:{basicData:h},setShow:w,iconAction:[S,function(){}],iconActionData:H.iconActionData,iconActionDataDetail:H.iconActionDataDetail,detailTableTemplateForForm:H.detailTableTemplateForForm,submitFunction:I,keyName:["photoUrl1"],calculation:null,saveDetailTableTemplateForFormFunc:L})):void 0))))),l.a.createElement("div",{className:"hide-on-print",style:{width:"100%",display:"flex",position:"relative"}},Da({showRange:H.showRange,setShowRange:function(e){_(Object(p.a)({},H,{showRange:e}))},widthLeft:H.widthLeft,setWidthLeft:function(e){_(Object(p.a)({},H,{widthLeft:e}))},heightTop:H.heightTop,setHeightTop:function(e){_(Object(p.a)({},H,{heightTop:e}))}})),H.showModalConfirm?l.a.createElement(ft,{setShow:g,submitFunction:T}):null,H.showModalError?ht({setShow:function(e){_(Object(p.a)({},H,{showModalError:e}))},message:H.message}):null)}Ua.defaultProps={captureEditData:function(){},captureSelect:null,bgColor:"radial-gradient(circle, rgba(241,239,225,1) 1%, rgba(125,160,151,1) 93%)",filterTitle:"\u0e04\u0e49\u0e19\u0e2b\u0e32"};var Ha,_a,Ka=F.partnerForm,za=F.productForm,qa=F.transactionForm,$a=ge.partnerState,Wa=ge.productState,Va=ge.transactionState,Ya=O.partnerFilter,Qa=O.productFilter,Xa=O.transactionFilter,Ja=O.billMenuFilter,Za=ya.partnerInputState,en=ya.productInputState,tn=ya.transactionInputState,an=ya.billMenuInputState,nn={id:"",date:(new Date).toISOString(),remindDate:"",transactionType:"\u0e1a\u0e34\u0e25\u0e02\u0e32\u0e22",transactionStatus:"open",active:!0,table:"",tableStatus:"open",paymentType:"\u0e2a\u0e14",effectStock:"-",effectSpending:"unChange",effectCustomerPoint:"unChange",partnerId:"",partnerType:"",title:"",name:"",phone:[""],address:"",remark:"",total:0,totalReduction:0,reduction:[{reductionName:"",reductionActive:!0,reductionRate:0,reductionAmount:0}],grandTotal:0,totalTax:0,tax:[{taxName:"",taxActive:!0,taxRate:0,taxAmount:0}],detail:[],totalPoint:0,editExistingBill:!1},ln={dataUrl:"p35product",tableTemplateUrl:"p35tabletemplate",tableTemplateName:"productTableTemplate",detailTableTemplateName:"productDetailTableTemplate",detailTableTemplateForFormName:"productDetailTableTemplateForForm",dataState:Wa,dataFilter:Qa,dataInputState:en,dataForm:za,groupTitle:"\u0e2a\u0e27\u0e31\u0e2a\u0e14\u0e35",groupDataUrl:"p35group",badgeState:{swapShow:!1,swapFunc:function(){},reloadShow:!0,reloadFunc:function(){},filterShow:!1,filterFunc:function(){},addShow:!1,addFunc:function(){},editShow:!1,editFunc:function(){},delShow:!0,delFunc:function(){},printerShow:!0,printerFunc:function(){},csvShow:!0,csvFunc:function(){}}},cn={dataUrl:"p35partner",tableTemplateUrl:"p35tabletemplate",tableTemplateName:"partnerTableTemplate",detailTableTemplateName:"productDetailTableTemplate",dataState:$a,dataFilter:Ya,dataInputState:Za,dataForm:Ka,badgeState:{swapShow:!1,swapFunc:function(){},reloadShow:!0,reloadFunc:function(){},filterShow:!1,filterFunc:function(){},addShow:!1,addFunc:function(){},editShow:!1,editFunc:function(){},delShow:!0,delFunc:function(){},printerShow:!0,printerFunc:function(){},csvShow:!0,csvFunc:function(){}}},on=(_a={blankData:nn,bill:(Ha={queueArray:null,transactionArray:null,colorHead:"#7da097",dataIdx:"",data1:null,data2:null,count:0,lastRecordId:null,showRange:!0,widthLeft:31,heightTop:60,pageNumber:1,limitRow:11,sort:{id:-1},qry:{},qryProduct:{isRawMat:!1},tableTemplateUrl:"p35tabletemplate",dataUrl:"p35transaction",selectGroup:null,tableTemplate:null,detailTableTemplate:null,detailTableTemplateForForm:null,reloadData:!0,message:null,showModalError:!1,editData:null,badgeState:{swapShow:!1,swapFunc:function(){},reloadShow:!0,reloadFunc:function(){},filterShow:!1,filterFunc:function(){},addShow:!0,addFunc:function(){},editShow:!0,editFunc:function(){},delShow:!0,delFunc:function(){},printerShow:!0,printerFunc:function(){}},customerConfirm:null,showParter:!1,showGroup:!1,showProductGrid:!1,showTable:!1,showTransaction:!1,showBillMenu:!1,showBarcode:!1,showQueue:!1,showModalFromTable:!1,showBillForm1:!0,showBillForm2:!1,reloadBillForm1:!1,reloadBillForm2:!1,showCustomerConfirm:!1,includeTransactionHead:!0,showTransactionConfirm:!1,dataToDelete:null,reloadSelectProduct:!0,selectProduct:[],selectOfSelectProduct:null,showAdd:!1,showModalConfirm:!1},Object(m.a)(Ha,"showModalError",!1),Object(m.a)(Ha,"message",null),Object(m.a)(Ha,"iconActionData",null),Object(m.a)(Ha,"iconActionDataDetail",null),Object(m.a)(Ha,"editTransaction",null),Object(m.a)(Ha,"editProduct",null),Object(m.a)(Ha,"editPartner",null),Object(m.a)(Ha,"showImageBill",!0),Object(m.a)(Ha,"isGenIdOfBillForm1",!1),Object(m.a)(Ha,"isGenIdOfBillForm2",!1),Object(m.a)(Ha,"billMenuFilter",Ja),Object(m.a)(Ha,"billMenuInputState",an),Object(m.a)(Ha,"billMenuSort",{date:1}),Object(m.a)(Ha,"billMenuLimitRow",31),Object(m.a)(Ha,"billMenuShowTransaction",!1),Object(m.a)(Ha,"billMenuOption","and"),Ha),product:ln,transaction:{dataUrl:"p35transaction",tableTemplateUrl:"p35tabletemplate",tableTemplateName:"transactionTableTemplate",detailTableTemplateName:"productDetailTableTemplate",detailTableTemplateForFormName:"productDetailTableTemplateForForm",dataState:Va,dataFilter:Xa,dataInputState:tn,dataForm:qa,badgeState:{swapShow:!1,swapFunc:function(){},reloadShow:!0,reloadFunc:function(){},filterShow:!1,filterFunc:function(){},addShow:!1,addFunc:function(){},editShow:!1,editFunc:function(){},delShow:!0,delFunc:function(){},printerShow:!0,printerFunc:function(){},csvShow:!0,csvFunc:function(){}}}},Object(m.a)(_a,"product",ln),Object(m.a)(_a,"partner",cn),Object(m.a)(_a,"blankData",nn),_a),rn=function(e){var t=e.showRange,a=(e.setShowRange,e.widthLeft),n=e.setWidthLeft;return l.a.createElement("div",{className:"hide-on-print",style:{width:"100%",height:"5vh"}},l.a.createElement("div",{className:"flex-center-center jc-space-between"},l.a.createElement("div",{className:"",style:{width:"15%",height:"5vh",display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement(L.h,{className:"md-icon",onClick:function(e){n(0)}})),l.a.createElement("div",{className:"",style:{width:"70%",height:"5vh",display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement("input",{type:"range",min:"0",max:"100",style:{visibility:t?"visible":"hidden"},value:a,onChange:function(e){n(e.target.value)}})),l.a.createElement("div",{className:"",style:{width:"15%",height:"5vh",display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement(L.i,{className:"md-icon",onClick:function(e){n(100)}}))))},sn=((new Date).toISOString().substring(0,10),{genTree:function(e){var t=[];return e.map((function(a,n){a._id;var l=Object(u.a)(a,["_id"]),c=a.gcode,o=!1;if(n<e.length-1){var r=e[n+1].gcode,i=e[n+1].level;if(a.level+1==i)new RegExp("^"+c+"/","gi").test(r)&&(o=!0)}var s=Object(p.a)({},l,{open:1==a.level,show:1==a.level||2==a.level,haveChild:o});t=[].concat(Object(d.a)(t),[s])})),t},genTreeWithI:function(e,t){var a=[],n=t.gcode;return e.map((function(t,l){t._id;var c=Object(u.a)(t,["_id"]),o=t.gcode,r=!1;if(l<e.length-1){var i=e[l+1].gcode,s=e[l+1].level;if(t.level+1==s)new RegExp("^"+o+"/","gi").test(i)&&(r=!0)}var m=new RegExp("^"+n+"/","gi").test(t.gcode),b=Object(p.a)({},c,{open:!!(1==t.level||t.gcode==n||m&&r),show:!(1!=t.level&&2!=t.level&&!m),haveChild:r});a=[].concat(Object(d.a)(a),[b])})),a},checkEditGroup:function(e){var t=!1;return e&&e.editGroup&&(t=!0),t},checkEditGroupColor:function(e,t,a){var n={color:"black"};return t&&t.editGroup&&t.editGroup.id==e.id&&(n={color:a||"red"}),n},closeFolder:function(e,t){var a=[];return e.map((function(e,n){if(e.gcode==t.gcode){var l=Object(p.a)({},e,{open:!1});a=[].concat(Object(d.a)(a),[l])}else{if(new RegExp("^"+t.gcode+"/","gi").test(e.gcode)){var c=Object(p.a)({},e,{show:!1});a=[].concat(Object(d.a)(a),[c])}else a=[].concat(Object(d.a)(a),[e])}})),a},openFolder:function(e,t){var a=[];t.gcode;return e.map((function(e,n){if(e.gcode==t.gcode){var l=Object(p.a)({},e,{open:!0});a=[].concat(Object(d.a)(a),[l])}else{if(new RegExp("^"+t.gcode+"/","gi").test(e.gcode)&&e.level==t.level+1){var c=Object(p.a)({},e,{show:!0});a=[].concat(Object(d.a)(a),[c])}else a=[].concat(Object(d.a)(a),[e])}})),a},loadMainGroup:function(e,t,a){return console.log("loadMainGroup"),new Promise((function(n,l){var c={$or:[Object(m.a)({},"gcode",{$regex:e.gcode,$options:"gi"}),{$or:[{level:1},{level:2},{level:3}]}]},o=Object(p.a)({sort:{gcode:1}},c);f.a.post("/".concat(t,"/getcustom"),o,a).then((function(e){n(e.data.data)})).catch((function(e){l(e)}))}))}}),mn=sn.genTree,un=sn.genTreeWithI,dn=sn.checkEditGroupColor,pn=sn.closeFolder,bn=sn.openFolder,fn=sn.loadMainGroup;var hn=function(e){var t=e.loadData,a=e.submitFunc,n=e.cancelFunc,c=e.pageData,o=e.dataUrl,r=e.myheader,s=l.a.useState(t),m=Object(i.a)(s,2),u=m[0],b=m[1],h=l.a.useState({tree:null,reloadGroup:!0,editGroup:null,lastRecordId:0,qry:{sort:{gcode:1},$or:[{level:1},{level:2},{level:3}]}}),g=Object(i.a)(h,2),y=g[0],v=g[1],w=l.a.useState(!1),E=Object(i.a)(w,2),N=E[0],j=E[1],O=l.a.useState(!1),k=Object(i.a)(O,2),x=k[0],T=k[1],S=l.a.useState(!0),C=Object(i.a)(S,2),F=C[0],D=C[1],I=l.a.useState(!1),P=Object(i.a)(I,2),R=P[0],A=P[1];return l.a.useEffect((function(){y.reloadGroup&&f.a.post("/".concat(o,"/getcustom"),y.qry,r).then((function(e){v(Object(p.a)({},y,{tree:mn(e.data.data),reloadGroup:!1,lastRecordId:e.data.lastRecordId}))})).catch((function(e){console.log("error")}))}),[y]),l.a.useEffect((function(){if((console.log("editGroup"),console.log(y.editGroup),y.editGroup)&&!new RegExp("^"+t.gcode+"*","gi").test(y.editGroup.gcode)){var e=y.editGroup.gcode+"/"+t.groupName,a=e.split("/").length;b(Object(p.a)({},t,{gcode:e,level:a})),A(!0)}}),[y.editGroup]),l.a.useEffect((function(){}),[u]),l.a.createElement("div",{className:"Modal-background"},l.a.createElement("div",{className:"Modal-box",style:{width:"90%",height:"90%",overflow:"hidden"}},l.a.createElement("div",{className:"Modal-header",style:{width:"100%",height:"5%"}},l.a.createElement("h4",null,c.formHead)),l.a.createElement("div",{className:"w-100 bd-pureWhite",style:{width:"100%",height:"80%"}},l.a.createElement("div",{className:"w100 h-100",style:{display:"flex"}},l.a.createElement("div",{className:"",style:{width:"50%",height:"100%",padding:"0.5rem",overflowY:"scroll",overflowX:"auto"}},N&&l.a.createElement("h5",null,c.treeTitle),y.tree&&N&&y.tree.map((function(e,a){var n=e.id,c=e.show,i=(e.gcode,e.level),s=e.groupName,m=e.open,u=e.haveChild;return c?l.a.createElement("div",{key:a,style:{display:"flex",marginLeft:"".concat(i,"rem")}},m?l.a.createElement(L.m,{className:"sm-icon",onClick:function(t){if(e.level>2&&v(Object(p.a)({},y,{tree:pn(y.tree,e)})),2==e.level){var a=[];y.tree.map((function(t){var n;new RegExp("^"+e.gcode+"*","gi").test(t.gcode)?2==t.level?(n=Object(p.a)({},t,{open:!1}),a=[].concat(Object(d.a)(a),[n])):(n=Object(p.a)({},t,{show:!1}),a=[].concat(Object(d.a)(a),[n])):a=[].concat(Object(d.a)(a),[t])})),v(Object(p.a)({},y,{tree:a}))}}}):u?l.a.createElement(L.n,{className:"sm-icon",onClick:function(t){e.level>2&&v(Object(p.a)({},y,{tree:bn(y.tree,e)}))}}):l.a.createElement(L.l,{className:"sm-icon",onClick:function(e){console.log("tttttt")}}),l.a.createElement("div",{style:{display:"flex"}},l.a.createElement("div",{style:dn(e,y,"green"),onClick:function(a){var n=new RegExp("^"+t.gcode+"*","gi").test(e.gcode);2==e.level&&e.haveChild?fn(e,o,r).then((function(t){v(Object(p.a)({},y,{editGroup:n?null:e,tree:un(t,e)}))})):e.level>1&&v(Object(p.a)({},y,{editGroup:n?null:e}))}},"".concat(n,".").concat(s)))):null}))),l.a.createElement("div",{className:"",style:{width:"50%",padding:"0.5rem"}},l.a.createElement("div",{className:"flex-center-center jc-start w-100",style:{marginBottom:"0.5rem"}},l.a.createElement("div",{className:"xc4"}," ",c.id," "),l.a.createElement("div",{className:"xc8"},u.id)),l.a.createElement("div",{className:"flex-center-center jc-start w-100",style:{marginBottom:"0.5rem"}},l.a.createElement("div",{className:"xc4",style:{display:"flex"}},c.gcode,!N&&F&&l.a.createElement(G.k,{className:"sm-icon",onClick:function(e){j(!0),D(!1)}})),l.a.createElement("div",{className:"xc8"},N?l.a.createElement("input",{value:u.gcode,disabled:"disaled"}):l.a.createElement("div",null,u.gcode))),l.a.createElement("div",{className:"flex-center-center jc-start w-100",style:{marginBottom:"0.5rem"}},l.a.createElement("div",{className:"xc4",style:{display:"flex"}},c.groupName,!x&&F&&l.a.createElement(G.k,{className:"sm-icon",onClick:function(e){T(!0),D(!1)}})),l.a.createElement("div",{className:"xc8"},x?l.a.createElement("input",{value:u.groupName,onChange:function(e){var t=u.gcode.split("/");t[t.length-1]=e.target.value,b(Object(p.a)({},u,{groupName:e.target.value,gcode:t.join("/")})),A(!0)}}):l.a.createElement("div",null,u.groupName))),l.a.createElement("div",{className:"flex-center-center jc-start w-100",style:{marginBottom:"0.5rem"}},l.a.createElement("div",{className:"xc4"}," ",c.level," "),l.a.createElement("div",{className:"xc8"},u.level))))),l.a.createElement("div",{className:"Modal-footer",style:{width:"100%",height:"15%"}},R&&l.a.createElement("div",null,l.a.createElement("button",{onClick:function(e){a(u)}},l.a.createElement(L.f,null))),l.a.createElement("div",null,l.a.createElement("button",{onClick:function(e){n()}},l.a.createElement(L.a,null))))))},gn=sn.genTree,yn=sn.genTreeWithI,vn=sn.checkEditGroupColor,wn=sn.closeFolder,En=sn.openFolder,Nn=sn.loadMainGroup;var jn=function(e){var t=e.loadData,a=e.submitFunc,n=e.cancelFunc,c=e.pageData,o=e.dataUrl,r=e.myheader,s=l.a.useState(t),m=Object(i.a)(s,2),u=m[0],b=m[1],h=l.a.useState({tree:null,reloadGroup:!0,editGroup:null,lastRecordId:0,qry:{sort:{gcode:1},$or:[{level:1},{level:2},{level:3}]}}),g=Object(i.a)(h,2),y=g[0],v=g[1];return l.a.useEffect((function(){y.reloadGroup&&f.a.post("/".concat(o,"/getcustom"),y.qry,r).then((function(e){v(Object(p.a)({},y,{tree:gn(e.data.data),reloadGroup:!1,lastRecordId:e.data.lastRecordId}))})).catch((function(e){console.log("error")}))}),[y]),l.a.useEffect((function(){if(y.editGroup&&!new RegExp("^"+t.gcode+"*","gi").test(y.editGroup.gcode)){var e=y.editGroup.gcode+"/"+t.groupName;b(Object(p.a)({},t,{gcode:e}))}}),[y.editGroup]),l.a.useEffect((function(){}),[u]),l.a.createElement("div",{className:"Modal-background"},l.a.createElement("div",{className:"Modal-box",style:{width:"90%",height:"90%",overflow:"hidden"}},l.a.createElement("div",{className:"Modal-header",style:{width:"100%",height:"5%"}},l.a.createElement("h4",null,c.formHead)),l.a.createElement("div",{className:"w-100 bd-pureWhite",style:{width:"100%",height:"80%"}},l.a.createElement("div",{className:"w100 h-100",style:{display:"flex"}},l.a.createElement("div",{className:"",style:{width:"50%",height:"100%",padding:"0.5rem",overflowY:"scroll",overflowX:"auto"}},l.a.createElement("h5",null,c.treeTitle),y.tree&&y.tree.map((function(e,t){var a=e.id,n=e.show,c=(e.gcode,e.level),i=e.groupName,s=e.open,m=e.haveChild;return n?l.a.createElement("div",{key:t,style:{display:"flex",marginLeft:"".concat(c,"rem")}},s?l.a.createElement(L.m,{className:"sm-icon",onClick:function(t){if(e.level>2&&v(Object(p.a)({},y,{tree:wn(y.tree,e)})),2==e.level){var a=[];y.tree.map((function(t){var n;new RegExp("^"+e.gcode+"*","gi").test(t.gcode)?2==t.level?(n=Object(p.a)({},t,{open:!1}),a=[].concat(Object(d.a)(a),[n])):(n=Object(p.a)({},t,{show:!1}),a=[].concat(Object(d.a)(a),[n])):a=[].concat(Object(d.a)(a),[t])})),v(Object(p.a)({},y,{tree:a}))}}}):m?l.a.createElement(L.n,{className:"sm-icon",onClick:function(t){e.level>2&&v(Object(p.a)({},y,{tree:En(y.tree,e)}))}}):l.a.createElement(L.l,{className:"sm-icon",onClick:function(e){console.log("tttttt")}}),l.a.createElement("div",{style:{display:"flex"}},l.a.createElement("div",{style:vn(e,y,"green"),onClick:function(t){2==e.level?Nn(e,o,r).then((function(t){v(Object(p.a)({},y,{editGroup:e,tree:yn(t,e)}))})):(1==e.level||e.level>2)&&v(Object(p.a)({},y,{editGroup:e}))}},"".concat(a,".").concat(i)))):null}))),l.a.createElement("div",{className:"",style:{width:"50%",padding:"0.5rem"}},l.a.createElement("div",{className:"flex-center-center jc-start w-100",style:{marginBottom:"0.5rem"}},l.a.createElement("div",{className:"xc4"}," ",c.id," "),l.a.createElement("div",{className:"xc8"},l.a.createElement("input",{type:"number",value:u.id,onChange:function(e){b(Object(p.a)({},u,{id:e.target.value}))}}))),l.a.createElement("div",{className:"flex-center-center jc-start w-100",style:{marginBottom:"0.5rem"}},l.a.createElement("div",{className:"xc4",style:{display:"flex"}},c.gcode),l.a.createElement("div",{className:"xc8"},l.a.createElement("input",{value:u.gcode,disabled:"disaled",onChange:function(e){}}))),l.a.createElement("div",{className:"flex-center-center jc-start w-100",style:{marginBottom:"0.5rem"}},l.a.createElement("div",{className:"xc4",style:{display:"flex"}},c.groupName),l.a.createElement("div",{className:"xc8"},l.a.createElement("input",{type:"text",value:u.groupName,onChange:function(e){if(u.gcode){var t=u.gcode.split("/");t[t.length-1]=e.target.value;var a=t.length;b(Object(p.a)({},u,{groupName:e.target.value,gcode:t.join("/"),level:a}))}}}))),l.a.createElement("div",{className:"flex-center-center jc-start w-100",style:{marginBottom:"0.5rem"}},l.a.createElement("div",{className:"xc4"}," ",c.level," "),l.a.createElement("div",{className:"xc8"},l.a.createElement("input",{value:u.level,disabled:"disaled",onChange:function(e){}})))))),l.a.createElement("div",{className:"Modal-footer",style:{width:"100%",height:"15%"}},l.a.createElement("div",null," ",u.level&&l.a.createElement("button",{onClick:function(e){u.level>0&&a(u)}},l.a.createElement(L.f,null))),l.a.createElement("div",null,l.a.createElement("button",{onClick:function(e){n()}},l.a.createElement(L.a,null))))))},On=sn.genTree,kn=sn.genTreeWithI,xn=sn.checkEditGroup,Tn=sn.checkEditGroupColor,Sn=sn.closeFolder,Cn=sn.openFolder,Fn=sn.loadMainGroup;function Dn(e){var t=e.myheader,a=e.dataUrl,n=e.filterByGroupId,c=e.captureEditGroup,o=e.canGroupChange,r=e.bgColor,s=e.pageData;console.log("NewGroup");var m=s.groupPage,u=s.editGroupForm,b=s.addGroupForm,h=l.a.useState({tree:null,reloadGroup:!0,editGroup:null,qry:{sort:{gcode:1},$or:[{level:1},{level:2},{level:3}]},lastRecordId:0,showAddForm:!1,showEditForm:!1,showConfirm:!1,showError:!1}),g=Object(i.a)(h,2),y=g[0],v=g[1],w=l.a.useState(!0),E=Object(i.a)(w,2),N=E[0],j=E[1];l.a.useEffect((function(){y.reloadGroup&&f.a.post("/".concat(a,"/getcustom"),y.qry,t).then((function(e){v(Object(p.a)({},y,{tree:On(e.data.data),reloadGroup:!1,lastRecordId:e.data.lastRecordId}))})).catch((function(e){console.log("error")}))}),[y]);return l.a.createElement("div",{className:"",style:{height:"100%",width:"100%"}},l.a.createElement("div",{className:"flex-center-center",style:{height:"",width:"100%"}},l.a.createElement("div",{className:"flex-center-center"},l.a.createElement("h5",null,m.formHead),N?l.a.createElement(L.d,{className:"sm-icon",onClick:function(e){return j(!N)}}):l.a.createElement(L.e,{className:"sm-icon",onClick:function(e){return j(!N)}})),N&&y.tree&&l.a.createElement("div",{className:"",style:{height:"2rem",width:"100%",display:"flex",backgroundColor:r}},l.a.createElement("div",{className:"iconbox",onClick:function(e){v(Object(p.a)({},y,{reloadGroup:!0,editGroup:null}))}},l.a.createElement($,{iconName:"MdRefresh",className:"sm-icon",textStyle:{color:"black"}})),o&&l.a.createElement("div",{className:"iconbox",onClick:function(e){v(Object(p.a)({},y,{showAddForm:!0}))}},l.a.createElement($,{iconName:"MdAddCircle",className:"sm-icon",textStyle:{color:"black"}})),xn(y)&&o&&l.a.createElement("div",{className:"iconbox",onClick:function(e){v(Object(p.a)({},y,{showEditForm:!0}))}},l.a.createElement($,{iconName:"MdEdit",className:"sm-icon",textStyle:{color:"black"}})),xn(y)&&o&&l.a.createElement("div",{className:"iconbox",onClick:function(e){v(Object(p.a)({},y,{showConfirm:!0}))}},l.a.createElement($,{iconName:"MdDelete",className:"sm-icon",textStyle:{color:"black"}})),xn(y)&&o&&l.a.createElement("div",{className:"iconbox",onClick:function(e){c(y.editGroup)}},l.a.createElement($,{iconName:"RiShareForwardLine",className:"sm-icon",textStyle:{color:"black"}}))),N&&y.tree&&l.a.createElement("div",{style:{height:"95%",width:"100%"}},y.tree.map((function(e,c){e.id;var r=e.show,i=(e.gcode,e.level),s=e.groupName,m=e.open,u=e.haveChild;return r?l.a.createElement("div",{key:c,style:{display:"flex",marginLeft:"".concat(i,"rem")}},m?l.a.createElement(L.m,{className:"sm-icon",onClick:function(t){if(e.level>2&&v(Object(p.a)({},y,{tree:Sn(y.tree,e)})),2==e.level){var a=[];y.tree.map((function(t){var n=new RegExp("^"+e.gcode+"/","gi").test(t.gcode);if(e.id==t.id){var l=Object(p.a)({},t,{open:!1});a=[].concat(Object(d.a)(a),[l])}else if(n){var c=Object(p.a)({},t,{show:!1});a=[].concat(Object(d.a)(a),[c])}else a=[].concat(Object(d.a)(a),[t])})),v(Object(p.a)({},y,{tree:a}))}}}):u?l.a.createElement(L.n,{className:"sm-icon",onClick:function(t){e.level>2&&v(Object(p.a)({},y,{tree:Cn(y.tree,e)}))}}):l.a.createElement(L.l,{className:"sm-icon",onClick:function(e){console.log("tttttt")}}),l.a.createElement("div",{style:{display:"flex"}},l.a.createElement("div",{style:Tn(e,y),onClick:function(n){o&&(2==e.level&&e.haveChild&&Fn(e,a,t).then((function(t){v(Object(p.a)({},y,{editGroup:e,tree:kn(t,e)}))})),(2==e.level||e.level>2)&&v(Object(p.a)({},y,{editGroup:e})))}},"".concat(s)),l.a.createElement(G.y,{className:"sm-icon",style:{marginLeft:"1rem"},onClick:function(t){n(e)}}))):null}))),y.showEditForm&&l.a.createElement(hn,{loadData:y.editGroup,submitFunc:function(e){console.log("submitUpdateGroupFunc");var n=[],l=[];if(y.tree.map((function(t){if(t.id==e.id){var a=t.gcode.replace(y.editGroup.gcode,e.gcode),c=a.split("/").length;l=[].concat(Object(d.a)(l),[Object(p.a)({},t,{level:c,gcode:a,groupName:e.groupName})]),n=[].concat(Object(d.a)(n),[t.id])}else{var o=t.gcode.replace(y.editGroup.gcode,e.gcode),r=o.split("/").length;new RegExp("^"+y.editGroup.gcode+"/","gi").test(t.gcode)&&(l=[].concat(Object(d.a)(l),[Object(p.a)({},t,{level:r,gcode:o})]),n=[].concat(Object(d.a)(n),[t.id]))}})),n.length>0){var c={toDelete:{id:{$in:n}},toUpdate:l};f.a.post("/".concat(a,"/updategroup"),c,t).then((function(e){v(Object(p.a)({},y,{reloadGroup:!0,showEditForm:!1,editGroup:null}))})).catch((function(e){console.log("error"),console.log(e)}))}},cancelFunc:function(){return v(Object(p.a)({},y,{showEditForm:!1}))},myheader:t,pageData:u,dataUrl:a}),y.showAddForm&&l.a.createElement(jn,{loadData:Object(p.a)({},{id:null,gcode:null,level:null,groupName:""},{id:parseInt(y.lastRecordId)+1}),submitFunc:function(e){f.a.post("/".concat(a,"/addcustom"),e,t).then((function(e){v(Object(p.a)({},y,{reloadGroup:!0,showAddForm:!1}))})).catch((function(e){console.log("error"),console.log(e)}))},cancelFunc:function(){return v(Object(p.a)({},y,{showAddForm:!1}))},myheader:t,pageData:b,dataUrl:a}),y.showConfirm&&l.a.createElement(ft,{setShow:function(e){v(Object(p.a)({},y,{showConfirm:e}))},submitFunction:function(){console.log(y.editGroup);var e=[y.editGroup.id];y.tree.map((function(t){t.level>y.editGroup.level&&(new RegExp("^"+y.editGroup.gcode+"/","gi").test(t.gcode)&&(e=[].concat(Object(d.a)(e),[t.id])))}));var n={allDeleteId:e};f.a.post("/".concat(a,"/deletegroup"),n,t).then((function(e){v(Object(p.a)({},y,{reloadGroup:!0,editGroup:null,showConfirm:!1}))})).catch((function(e){console.log("error")}))}})))}Dn.defaultProps={myheader:null,dataUrl:"",filterByGroupId:function(){},captureEditGroup:function(){},canGroupChange:!0,bgColor:"#72a2d9"};var In=Dn,Pn=Me.reloadAxiosAll;var Rn=function(e){var t=e.captureProductOfGroup,a=e.pageData,n=l.a.useContext(R),c=(n.basicDataSt,n.setReloadBasicData,n.myheader);n.setBasicData,console.log("BillGroupComponent");var o=l.a.useState(Object(p.a)({},on.product)),r=Object(i.a)(o,2),s=r[0],m=r[1];l.a.useEffect((function(){}),[s]);var d=function(){var e=Object(Y.a)(V.a.mark((function e(){var a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pn(s,c);case 2:a=e.sent,t(a),m(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return l.a.useEffect((function(){s.reloadData&&d()}),[s]),l.a.createElement("div",{className:"w-100",style:{paddingBottom:"0"}},l.a.createElement(In,{myheader:c,dataUrl:"p35group",filterByGroupId:function(e){e.folders;var t=Object(u.a)(e,["folders"]),a=Object(p.a)({},s,{pageNumber:1,qry:{groupId:e.id},selectGroup:t,reloadData:!0});m(a)},captureEditGroup:function(){},bgColor:"#d1adbf",pageData:a}))};var An=function(e){var t=e.selectProduct,a=(e.setHideProductGridFunc,e.captureProductListFromSelectProductInProductGrid),n=e.resetProductList,c=e.setResetProductList,o=e.refreshProductFunc,r=l.a.useContext(R);r.basicDataSt,r.setReloadBasicData,r.myheader,r.setBasicData,console.log("BillProductGridComponent");var s=l.a.useState(Object(p.a)({},on.product)),u=Object(i.a)(s,2),b=(u[0],u[1],l.a.useState([])),f=Object(i.a)(b,2),h=f[0],g=f[1];return l.a.useEffect((function(){}),[t]),l.a.useEffect((function(){a(h)}),[h]),l.a.useEffect((function(){n&&g([])}),[n]),l.a.createElement("div",{className:"w-100",style:{marginBottom:"4rem"}},t&&l.a.createElement("div",{className:"grid-flex",style:{margin:"0.2rem"}},l.a.createElement("div",{className:"grid-flextile",style:{border:"2px solid white"}},l.a.createElement("div",{className:"w-100 h-100 flex-center-center bd-blue"},l.a.createElement(G.w,{className:"md-icon",onClick:function(e){return o({isRawMat:!1})}}))),t.map((function(e,t){return l.a.createElement("div",{key:t,className:"grid-flextile",style:{position:"relative",border:"2px solid white"}},l.a.createElement("img",{style:{width:"100%",height:"100%",borderRadius:"0.5rem"},src:e.photoUrl1,alt:"No Image"}),l.a.createElement("div",{style:{position:"absolute",bottom:"0",width:"100%",textAlign:"center",color:"red",backgroundColor:"white",borderRadius:"0 0 0.5rem 0.5rem",opacity:"0.9",height:"20%",overflow:"hidden"}},l.a.createElement("p",null,e.productName)),l.a.createElement("div",{style:{position:"absolute",top:"0",right:"0",textAlign:"center",width:"1.5rem",height:"1.5rem",color:"white",backgroundColor:"red",borderRadius:"50%",opacity:"0.9"}},function(e){var t=0;return h.map((function(a){e.id==a.id&&(t=a.quantity)})),t}(e)),l.a.createElement("div",{className:"grid-price",style:{top:"0",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0,0,0,0)"}},l.a.createElement(L.t,{className:"lg-icon",onClick:function(t){return function(e){for(var t,a=[],n=!1,l=0;l<h.length;l++)if(e.id==h[l].id){n=!0;var o=parseInt(h[l].quantity),r=Object(p.a)({},h[l],Object(m.a)({},"quantity",o+1));a=[].concat(Object(d.a)(a),[r])}else a=[].concat(Object(d.a)(a),[h[l]]);n||(a=[].concat(Object(d.a)(a),[Object(p.a)({},e,(t={},Object(m.a)(t,"quantity",1),Object(m.a)(t,"detailTime",(new Date).toISOString()),t))])),c(!1),g(a)}(e)}})),l.a.createElement("div",{className:"grid-price",style:{bottom:"0",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0,0,0,0)"}},l.a.createElement(L.q,{className:"lg-icon",onClick:function(t){return function(e){for(var t=[],a=0;a<h.length;a++)if(e.id==h[a].id){var n=parseInt(h[a].quantity);if(n>0){var l=Object(p.a)({},h[a],Object(m.a)({},"quantity",n-1));t=[].concat(Object(d.a)(t),[l])}else t=[].concat(Object(d.a)(t),[h[a]])}else t=[].concat(Object(d.a)(t),[h[a]]);c(!1),g(t)}(e)}})))}))))};var Mn=function(e){var t=e.basicDataSt,a=e.transactionArray,n=e.captureBillFromTable,c=e.updateAllTransaction,o=e.captureAllTransaction;console.log("BillTableComponent");var r=t.basicData,s=l.a.useState(null),m=Object(i.a)(s,2),u=m[0],p=m[1],b=l.a.useState([]),f=Object(i.a)(b,2),h=f[0],g=f[1];return l.a.useEffect((function(){console.log("tableIdArray"),console.log(h)}),[h]),l.a.createElement("div",{className:"w-100",style:{marginBottom:"4rem"}},r&&l.a.createElement("div",{className:"grid-flex",style:{margin:"0.2rem 0"}},r.table.map((function(e,t){var r=[];return a.map((function(t){t.table==e.tableName&&(r=[].concat(Object(d.a)(r),[t]))})),e.tableActive?l.a.createElement("div",{className:"grid-flextile2",key:t},l.a.createElement("div",{style:{minHeight:"5rem",minWidth:"5rem",border:"2px solid white",backgroundColor:"rgba(255,255,255,0.3)",borderRadius:"5px"}},l.a.createElement("div",{className:"circle-p",style:{width:"2rem",height:"2rem",borderRadius:"50%",opacity:"0.7"},onClick:function(t){if(a){var n=!1;a.map((function(t){t.table==e.tableName&&(n=!0)})),n?(g([]),p(e.tableName)):p(null)}}},l.a.createElement("div",{className:"w-100 h-100 flex-center-center"},l.a.createElement("div",null,e.tableName))),r.map((function(t,a){return l.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},l.a.createElement("div",{className:"bill-p",style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 0.1rem"},onClick:function(e){n(t)}},l.a.createElement("div",{style:{marginRight:"0.5rem"}},"".concat(t.name)),l.a.createElement("div",{style:"close"==t.queueStatus?{textDecoration:"line-through"}:null},"Q-".concat(t.queue,":"))),u==e.tableName&&l.a.createElement("div",null,l.a.createElement("input",{type:"checkbox",style:{width:"1.2rem",height:"1.2rem"},onChange:function(e){!function(e,t){if(e.target.checked){var a=[].concat(Object(d.a)(h),[t.id]),n=Object(d.a)(new Set(a));g(n)}else{var l=[];h.map((function(e){e!=t.id&&(l=[].concat(Object(d.a)(l),[e]))})),g(l)}}(e,t)}})))})),u==e.tableName?l.a.createElement("div",{style:{display:"flex"}},l.a.createElement("select",{onChange:function(e){c(e,h)}},l.a.createElement("option",null,"..."),l.a.createElement("option",null,"close")),l.a.createElement("div",{className:"flex-center-center navLink",onClick:function(e){o(h)}},l.a.createElement($,{iconName:"RiShareForwardLine",className:"navIcon"}))):null)):null}))))};var Bn=function(e){var t=e.submitFunc,a=e.cancelFunc,n=(e.setShowReductionBox,e.billFormDataState),c=(e.setBillFormDtaState,e.basicData),o=e.fieldName,r=e.subFieldName,s=e.inputType,u=e.calDigit,b=e.form,f=(e.secondForm,n.customerPointReduction),h=n.remainingPoint,g=n.totalPoint;console.log("renderReductionBox.................");var y=l.a.useState(function(e){var t=[];return e.map((function(e,a){var l,c=0;e["".concat(o,"InPercentage")]?(c=e["".concat(o,"Rate")]*n.total/100,c=parseInt(c*u)/u):c=e["".concat(o,"Rate")];var r=Object(p.a)({},e,(l={},Object(m.a)(l,"selection",!1),Object(m.a)(l,"".concat(o,"Amount"),c),l));t=[].concat(Object(d.a)(t),[r])})),console.log("tempArray genBoxState"),console.log(t),t}(c[o])),v=Object(i.a)(y,2),w=v[0],E=v[1],N=l.a.useState({customerPointReduction:f,remainingPoint:h,totalPoint:g}),j=Object(i.a)(N,2),O=j[0];j[1],l.a.useEffect((function(){console.log("point"),console.log(O)}),[O]);var k=function(e,t){var a=[];w.map((function(n,l){if(e)if(l==t){var c=Object(p.a)({},n,{selection:e});a=[].concat(Object(d.a)(a),[c])}else{var o=Object(p.a)({},n,{selection:!1});a=[].concat(Object(d.a)(a),[o])}else if(l==t){var r=Object(p.a)({},n,{selection:e});a=[].concat(Object(d.a)(a),[r])}else a=[].concat(Object(d.a)(a),[n])})),E(a)};return l.a.createElement("div",{className:"Modal-background"},l.a.createElement("div",{className:"Modal-box",style:{position:"relative"}},l.a.createElement("div",{className:""},l.a.createElement("h5",null,b.formHead),l.a.createElement("div",{className:"TableGrid-head",style:{display:"grid",gridTemplateColumns:"5% 35% 20% 20% 20%",gridAutoRows:"minmax(1rem,auto)",backgroundColor:"green",zIndex:"10"}},Object.keys(b).map((function(e,t){if("formHead"!=e)return l.a.createElement("div",{className:"flex-center-center"},b[e])}))),l.a.createElement("div",{className:"TableGrid-head",style:{display:"grid",gridTemplateColumns:"5% 35% 20% 20% 20%",gridAutoRows:"minmax(1rem,auto)",backgroundColor:"white",zIndex:"10",marginBottom:"1rem"}},w.map((function(e,t){return r.map((function(a,c){return"radio"==s[a]?e[a]?l.a.createElement("div",{className:"flex-center-center",onClick:function(e){k(!1,t)}},l.a.createElement(G.t,null)):l.a.createElement("div",{className:"flex-center-center",onClick:function(e){k(!0,t)}},l.a.createElement(G.u,null)):l.a.createElement("input",{key:"".concat(t,"-").concat(c),type:s[a],checked:e[a],value:e[a],onChange:function(e){"number"==s[a]?function(e,t,a){var l=parseInt(e.target.value*u)/u,c=[];w.map((function(e,r){if(r==a){var i,s=0;e["".concat(o,"InPercentage")]?(s=l*n.total/100,s=parseInt(s*u)/u):s=l;var b=Object(p.a)({},e,(i={},Object(m.a)(i,t,l),Object(m.a)(i,"".concat(o,"Amount"),s),i));c=[].concat(Object(d.a)(c),[b])}else c=[].concat(Object(d.a)(c),[e])})),E(c)}(e,a,t):"checkbox"==s[a]?function(e,t,a){var l=[];w.map((function(c,r){if(r==a){var i,s=0;e.target.checked?(s=c["".concat(o,"Rate")]*n.total/100,s=parseInt(s*u)/u):s=c["".concat(o,"Rate")];var b=Object(p.a)({},c,(i={},Object(m.a)(i,t,e.target.check),Object(m.a)(i,"".concat(o,"Amount"),s),i));l=[].concat(Object(d.a)(l),[b])}else l=[].concat(Object(d.a)(l),[c])})),E(l)}(e,a,t):function(e,t,a){var n=[];w.map((function(l,c){if(c==a){var o=Object(p.a)({},l,Object(m.a)({},t,e.target.value));n=[].concat(Object(d.a)(n),[o])}else n=[].concat(Object(d.a)(n),[l])})),E(n)}(e,a,t)},disabled:a=="".concat(o,"Amount")?"disabled":""})}))})))),l.a.createElement("div",{className:"Modal-footer"},l.a.createElement("div",null,l.a.createElement("button",{onClick:function(e){var a=!1,n=null;w.map((function(e){e.selection&&(a=!0,n=e)})),a&&t(n,O)}},l.a.createElement(L.f,null))),l.a.createElement("div",null,l.a.createElement("button",{onClick:function(e){a()}},l.a.createElement(L.a,null))))))},Ln=oe.genId,Gn=function(e){var t=e.billFormData,a=(e.setBillFormData,e.basicData),n=e.submitFunc,c=e.cancelFunc,o=e.calDigit,r=e.pageData,s=e.myheader,u=e.runIsGenId;console.log("EditBillForm");var b=r.editBillForm,h=r.reductionForm,g=r.taxForm,y=r.customerPointForm,v=l.a.useState(Object(p.a)({},t,{remainingCustomerPoint:0})),w=Object(i.a)(v,2),E=w[0],N=w[1],j=l.a.useState(!0),O=Object(i.a)(j,2),k=O[0],x=O[1];l.a.useEffect((function(){console.log("billFormDataState............"),console.log(E)}),[E]);var T=l.a.useState(!1),S=Object(i.a)(T,2),C=S[0],F=S[1],D=l.a.useState(!1),I=Object(i.a)(D,2),P=I[0],R=I[1];l.a.useEffect((function(){k&&f.a.post("/p35partner/getlimit",{id:E.partnerId},s).then((function(e){if(e.data.data[0]){var t={remainingCustomerPoint:e.data.data[0].remainingCustomerPoint};N(Object(p.a)({},E,{},t))}x(!1)}))}),[k]);var A=function(e){var t=function(e){var t=Array.from(e),a="";return t.map((function(e,t){a=3==t||6==t?"".concat(a," ").concat(e):"".concat(a).concat(e)})),a},a="";return e.map((function(n,l){a=l==e.length-1?"".concat(a).concat(t(n)):"".concat(a).concat(t(n),",")})),a},M=function(e,t){N(Object(p.a)({},E,Object(m.a)({},t,e.target.value)))};return l.a.createElement("div",{className:"Modal-background"},l.a.createElement("div",{className:"Modal-box",style:{width:"90%",backgroundColor:"white"}},l.a.createElement("div",{className:"Modal-header"},l.a.createElement("h3",null,b.formHead)),l.a.createElement("div",{className:"flex-center-center w-100"},Object.keys(b).map((function(e,t){return"formHead"==e?null:"id"==e?l.a.createElement("div",{className:"flex-center-center jc-start w-50",key:t,style:{padding:"0.3rem"}},l.a.createElement("div",{className:"xc4"},l.a.createElement("div",{className:"flex-center-center jc-start",style:{color:"#bb3016"}},b[e],l.a.createElement(G.w,{className:"md-icon",onClick:function(e){u(!0);var t=Ln();N(Object(p.a)({},E,{id:t}))}}))),l.a.createElement("div",{className:"xc8"},l.a.createElement("input",{type:"number",value:E[e],disabled:"disabled",onChange:function(t){N(Object(p.a)({},E,Object(m.a)({},e,t.target.value)))}}))):"date"==e?l.a.createElement("div",{className:"flex-center-center jc-start w-50",key:t,style:{padding:"0.3rem"}},l.a.createElement("div",{className:"xc4",style:{color:"blue"}},b[e]),l.a.createElement("div",{className:"xc8"},l.a.createElement(Na,{style:{height:"1.6rem",fontSize:"0.8rem"},onMyClick:function(e){console.log(e),N(Object(p.a)({},E,{date:e}))},value:E[e]}))):"transactionStatus"==e||"tableStatus"==e||"partnerType"==e||"paymentType"==e||"queueStatus"==e||"title"==e?l.a.createElement("div",{className:"paymentType"==e?"flex-center-center jc-start w-100":"flex-center-center jc-start w-50",key:t,style:{padding:"0.3rem"}},l.a.createElement("div",{className:"xc4"},b[e]),l.a.createElement("select",{className:"xc8",onChange:function(t){return M(t,e)}},l.a.createElement("option",null,"...."),a[e].map((function(t,a){return l.a.createElement("option",{key:a,selected:E[e]==t?"selected":""},t)})))):"table"==e?l.a.createElement("div",{className:"flex-center-center jc-start w-50",key:t,style:{padding:"0.3rem"}},l.a.createElement("div",{className:"xc4",style:{display:"flex",justifyContent:"flex-start"}},l.a.createElement("div",{className:"xc12",style:{color:"green"}},b[e])),l.a.createElement("select",{className:"xc8",onChange:function(e){var t=E;a.table.map((function(a){a.tableName==e.target.value&&(t=Object(p.a)({},t,{table:a.tableName}))})),N(t)}},l.a.createElement("option",null,"...."),a[e].map((function(t,a){return l.a.createElement("option",{key:a,selected:E[e]==t.tableName?"selected":""},t.tableName)})))):"active"==e?l.a.createElement("div",{className:"flex-center-center jc-start w-100",key:t,style:{padding:"0.3rem"}},l.a.createElement("div",{className:"xc2"},b[e]),l.a.createElement("div",{className:"xc10"},l.a.createElement("div",{style:{display:"flex",justifyContent:"flex-start"}},l.a.createElement("input",{className:"xc1",style:{textAlign:"left"},type:"checkbox",checked:E[e],onChange:function(t){N(Object(p.a)({},E,Object(m.a)({},e,t.target.checked)))}}),l.a.createElement("div",{className:"xc11"})))):"transactionType"==e?l.a.createElement("div",{className:"flex-center-center jc-start w-50",key:t,style:{padding:"0.3rem"}},l.a.createElement("div",{className:"xc4"},b[e]),l.a.createElement("select",{className:"xc8",onChange:function(e){var t=E;a.transaction.map((function(a){a.transactionType==e.target.value&&(t=Object(p.a)({},t,{transactionType:a.transactionType,effectStock:a.effectStock,effectCustomerPoint:a.effectCustomerPoint,effectSpending:a.effectSpending}))})),N(t)}},l.a.createElement("option",null,"..."),a.transaction.map((function(t,a){return l.a.createElement("option",{key:a,selected:E[e]==t.transactionType?"selected":""},t.transactionType)})))):"total"==e||"totalReduction"==e||"totalTax"==e||"grandTotal"==e||"reductCustomerPoint"==e||"totalPoint"==e||"remainingCustomerPoint"==e?l.a.createElement("div",{className:"flex-center-center jc-start w-100",key:t,style:{padding:"0.3rem"}},l.a.createElement("div",{className:"xc4",style:{fontSize:"grandTotal"==e?"1.4rem":"1.2rem",backgroundColor:"totalPoint"==e?"#bbc9a5":"reductCustomerPoint"==e?"#bcd890":"remainingCustomerPoint"==e?"#96bf65":"grandTotal"==e?"#a7c6eb":"total"==e?"#8cc5bb":"totalTax"==e?"#fced96":"totalReduction"==e?"#fdf07a":void 0,borderRadius:"5px"}},b[e]),l.a.createElement("div",{className:"xc8"},l.a.createElement("input",{style:{fontSize:"grandTotal"==e?"1.4rem":"1.2rem",color:"reductCustomerPoint"==e||"totalReduction"==e?"red":"black"},type:"number",value:E[e],onChange:function(t){N(Object(p.a)({},E,Object(m.a)({},e,t.target.value)))},disabled:"reductCustomerPoint"==e?null:"disabled"}))):"phone"==e?l.a.createElement("div",{className:"flex-center-center jc-start w-50",key:t,style:{padding:"0.3rem"}},l.a.createElement("div",{className:"xc4"},b[e]),l.a.createElement("div",{className:"xc8"},l.a.createElement("input",{type:"text",value:A(E[e]),disabled:"disabled"}))):"reduction"==e||"tax"==e?0==E[e].length?l.a.createElement("div",{className:"flex-center-center jc-start w-\u0e3f\u0e080",style:{padding:"0.3rem"}},b[e],l.a.createElement(L.u,{className:"md-icon",onClick:function(t){"reduction"==e?R(!0):F(!0)}})):E[e].map((function(t,a){return l.a.createElement("div",{className:"flex-center-center jc-start w-\u0e3f\u0e080",key:a,style:{padding:"0.3rem"}},l.a.createElement("div",{className:"xc4"},0==a?b[e]:null,0==a?l.a.createElement(L.u,{className:"md-icon",onClick:function(t){"reduction"==e?R(!0):F(!0)}}):null),l.a.createElement("div",{className:"xc8",style:{display:"flex"}},l.a.createElement(L.r,{className:"md-icon",onClick:function(t){!function(e,t){var a,n=E.total,l=E.totalTax,c=E.totalReduction;E.grandTotal,console.log("deleteLine");var o=[];E[e].map((function(e,a){t!=a&&(o=[].concat(Object(d.a)(o),[e]))}));var r=l,i=c;if("tax"==e){var s=0;o.map((function(e){s+=e.taxAmount})),r=s}if("reduction"==e){var u=0;o.map((function(e){u+=e.reductionAmount})),i=u}var b=n-i-r;N(Object(p.a)({},E,(a={},Object(m.a)(a,e,o),Object(m.a)(a,"totalTax",r),Object(m.a)(a,"totalReduction",i),Object(m.a)(a,"grandTotal",b),a)))}(e,a)}}),l.a.createElement("div",{className:"xc6"},function(t){return t.reductionInPercentage?"".concat(t["".concat(e,"Name")]," ").concat(t["".concat(e,"Rate")],"% ="):"".concat(t["".concat(e,"Name")]," ").concat(t["".concat(e,"Rate")]," = ")}(t)),l.a.createElement("div",{className:"xc6"},l.a.createElement("input",{style:{color:"red"},disabled:"disabled",value:t["".concat(e,"Amount")]}))))})):l.a.createElement("div",{className:"remark"==e?"flex-center-center jc-start w-100":"flex-center-center jc-start w-50",key:t,style:{padding:"0.3rem"}},l.a.createElement("div",{className:"xc4",style:{color:"queue"==e?"brown":"black"}},b[e]),l.a.createElement("div",{className:"xc8"},l.a.createElement("input",{type:"queue"==e?"number":"text",value:E[e],onChange:function(t){return M(t,e)},onKeyDown:function(t){"partnerId"==e&&function(e){"Enter"==e.key&&(console.log("findCustomerById"),f.a.post("/p35partner/getlimit",{id:e.target.value},s).then((function(e){if(e.data.count>=1){var t=e.data.data[0],a=t.id,n=t.name,l=t.title,c=t.phone,o=t.address,r=t.partnerType,i={partnerId:a,title:l,name:n,phone:c,address:o[0],partnerType:r};N(Object(p.a)({},E,{},i))}})).catch((function(e){console.log("error")})))}(t)}})))}))),l.a.createElement("div",{className:"Modal-footer"},l.a.createElement("div",null,l.a.createElement("button",{onClick:function(e){n(E)}},l.a.createElement(L.f,null))),l.a.createElement("div",null,l.a.createElement("button",{onClick:function(e){c()}},l.a.createElement(L.a,null))))),P?l.a.createElement(Bn,{billFormDataState:E,basicData:a,setBillFormDataState:N,fieldName:"reduction",subFieldName:["selection","reductionName","reductionRate","reductionInPercentage","reductionAmount"],inputType:{selection:"radio",reductionName:"text",reductionRate:"number",reductionInPercentage:"checkbox",reductionAmount:"number"},submitFunc:function(e,t){console.log("appendReduction"),console.log(e),console.log(t),console.log("==============");var a=t.customerPointReduction,n=(t.remainingPoint,t.totalPoint),l=E.total,c=E.totalReduction,o=E.totalTax,r=(E.grandTotal,[].concat(Object(d.a)(E.reduction),[e])),i=c+e.reductionAmount,s={customerPointReduction:a,totalPoint:n,reduction:r,totalReduction:i,grandTotal:l-o-i};console.log(s),N(Object(p.a)({},E,{},s)),R(!1)},cancelFunc:function(){return R(!1)},calDigit:o,form:h,secondForm:y}):null,C?l.a.createElement(Bn,{billFormDataState:E,basicData:a,setBillFormDataState:N,fieldName:"tax",subFieldName:["selection","taxName","taxRate","taxInPercentage","taxAmount"],inputType:{selection:"radio",taxName:"text",taxRate:"number",taxInPercentage:"checkbox",taxAmount:"number"},submitFunc:function(e){console.log("appendTax");var t=E.total,a=E.totalReduction,n=E.totalTax,l=(E.grandTotal,[].concat(Object(d.a)(E.tax),[e])),c=n+e.taxAmount,o={tax:l,totalTax:c,grandTotal:t-c-a};console.log(o),N(Object(p.a)({},E,{},o)),F(!1)},cancelFunc:function(){return F(!1)},calDigit:o,form:g}):null)},Un=h.numberWithCommas,Hn=oe.genId;function _n(e){var t=e.blankData,a=e.dataIdx,n=e.closeBillForm,c=e.billFormData,o=e.setBillFormData,r=e.selectOfSelectProduct,s=e.selectOfCustomer,u=(e.setResetProductList,e.calDigit),b=e.pageData,h=e.basicData,g=e.tableTemplate,y=e.saveTableTemplateFunc,v=e.submitFunctionAddFunc,w=e.submitFunctionEditFunc,E=e.submitFunctionDeleteFunc,N=e.runIsGenId,j=e.isGenIdOfBillForm,O=e.updateData,k=e.myheader,x=e.setPrintDataFunc,T=(e.bgColor,e.test,e.setTest,{_id:ie()(),id:"",barcode:"",productName:"",groupId:"",groupName:"",unit:"",price:0,priceLevel:[{price:0,remark:""}],quantity:0,result:0,remark:"",isRawMat:!1,point:0,partnerId:"",name:"",jobStatus:"open",detailTime:""}),S=b.billForm;l.a.useEffect((function(){if(r&&c&&r.dataIdx==a){var e=[].concat(Object(d.a)(c.detail),Object(d.a)(r.selectProduct));o(Object(p.a)({},c,{reCal:!0,detail:e}))}}),[r]),l.a.useEffect((function(){s&&c&&s.dataIdx==a&&o(Object(p.a)({},c,{},s.selectCustomer))}),[s]);var C=l.a.useState(!1),F=Object(i.a)(C,2),D=F[0],I=F[1],P=l.a.useState(null),R=Object(i.a)(P,2),A=R[0],M=R[1],B=l.a.useState(g),G=Object(i.a)(B,2),U=G[0],H=G[1];l.a.useEffect((function(){console.log("editData"),console.log(A)}),[A]),l.a.useEffect((function(){if(c&&c.reCal){var e,t=0,a=0,n=0,l=0,r=0,i=c.tax,s=c.reduction,m=c.detail,b=c.reductCustomerPoint;m.map((function(e){if(e.quantity&&e.price){var n=parseInt(e.price*u)/u,l=parseInt(e.quantity*u)/u,c=parseInt(n*l*u)/u;t+=c}if(e.point){var o=parseInt(e.point*u)/u*(parseInt(e.quantity*u)/u);o=parseInt(o*u)/u,a+=o}}));var f=[];i.map((function(e){if(e.taxActive)if(e.taxInPercentage){var a=t*e.taxRate/100,l=parseInt(a*u)/u;n+=l;var c=Object(p.a)({},e,{taxAmount:l});f=[].concat(Object(d.a)(f),[c])}else{var o=parseInt(e.taxAmount*u)/u;n+=o;var r=Object(p.a)({},e,{taxAmount:o});f=[].concat(Object(d.a)(f),[r])}}));var h=[];s.map((function(e){if(e.reductionActive)if(e.reductionInPercentage){var a=t*e.reductionRate/100,n=parseInt(a*u)/u;l+=n;var c=Object(p.a)({},e,{taxAmount:n});h=[].concat(Object(d.a)(h),[c])}else{var o=parseInt(e.reductionAmount*u)/u;l+=o;var r=Object(p.a)({},e,{taxAmount:o});h=[].concat(Object(d.a)(h),[r])}})),e=t-l+n,b&&(r=parseInt(b*u)/u);var g={reCal:!1,total:t,totalTax:n,totalReduction:l,grandTotal:e,totalPoint:a,reductCustomerPoint:r,tax:f,reduction:h};o(Object(p.a)({},c,{},g))}}),[c]),l.a.useEffect((function(){}),[U]);var _=function(e){var t=new Date(e).toISOString(),a=new Date(t).toLocaleString("en-GB");return{date:a.substring(0,10),time:a.substring(12,17)}},K=function(e){H(e)},z=function(e){console.log("setFilterDataFunc")},q=function(e){console.log("setEditDataFunc"),c.detail.map((function(t){t._id==e._id&&M(t)}))},W=function(e,t){console.log("updateFilterData,,,,,,,,,,,,");var a=c.detail;a[e]=t,o(Object(p.a)({},c,{reCal:!0,detail:a}))},Q=function(e,t,a,n){"Enter"==e.key&&f.a.post("/p35product/getlimit",{id:e.target.value},k).then((function(e){if(e.data.count>=1){var t=e.data.data[0],a=t.id,l=t.barcode,r=t.productName,i=t.groupId,s=t.groupName,m=t.unit,u=t.price,b=t.priceLevel,f=t.remark,h=t.isRawMat,g={_id:ie()(),id:a,barcode:l,productName:r,groupId:i,groupName:s,unit:m,price:u,priceLevel:b,remark:f,isRawMat:h,quantity:0,result:0,partnerId:c.partnerId,name:c.name,jobStatus:"open"},y=[];c.detail.map((function(e,t){y=[].concat(Object(d.a)(y),t==n?[g]:[e])})),o(Object(p.a)({},c,{detail:y}))}})).catch((function(e){console.log("error")}))},X=function(e,t,a,n){"Enter"==e.key&&f.a.post("/p35product/getlimit",{barcode:e.target.value},k).then((function(e){if(e.data.count>=1){var t=e.data.data[0],a=t.id,l=t.barcode,r=t.productName,i=t.groupId,s=t.groupName,m=t.unit,u=t.price,b=t.priceLevel,f=t.remark,h=t.isRawMat,g={_id:ie()(),id:a,barcode:l,productName:r,groupId:i,groupName:s,unit:m,price:u,priceLevel:b,remark:f,isRawMat:h,quantity:0,result:0,partnerId:c.partnerId,name:c.name,jobStatus:"open"},y=[];c.detail.map((function(e,t){y=[].concat(Object(d.a)(y),t==n?[g]:[e])})),o(Object(p.a)({},c,{detail:y}))}})).catch((function(e){console.log("error")}))},J=function(){var e=c.id,t=c.date,a=(c.remindDate,c.branch,c.transactionType),n=c.transactionStatus,o=(c.active,c.table),r=c.tableStatus,i=c.partnerId,s=c.title,m=c.name,u=c.phone,d=c.address,p=c.queue,b=c.queueStatus;return l.a.createElement("div",{className:"h-100 w-100",style:{padding:"0 0.5rem",backgroundColor:"#f5e7a1"}},l.a.createElement("div",{className:"flex-center-center jc-space-between"},l.a.createElement("div",{style:{color:"red"}},"".concat(a," ").concat(S.id,": ").concat(e," (").concat(n,")")),l.a.createElement("div",{style:{color:"blue"}},"".concat(S.date,": ").concat(_(t).date," ").concat(S.time,": ").concat(_(t).time)),l.a.createElement("div",{style:{color:"green"}},"".concat(S.table,": ").concat(o,"(").concat(r,")")),l.a.createElement("div",{style:{color:"brown"}},"".concat(S.queue,": ").concat(p,"(").concat(b,")"))),l.a.createElement("div",{className:"flex-center-center jc-space-between"},l.a.createElement("div",null,"".concat(S.partnerId,":").concat(i)),l.a.createElement("div",null,"".concat(s," ").concat(m)),l.a.createElement("div",null,"".concat(S.phone,": ").concat(function(e){var t=function(e){var t=Array.from(e),a="";return t.map((function(e,t){a=3==t||6==t?"".concat(a," ").concat(e):"".concat(a).concat(e)})),a},a="";return e.map((function(n,l){a=l==e.length-1?"".concat(a).concat(t(n)):"".concat(a).concat(t(n),",")})),a}(u))),l.a.createElement("div",null,"".concat(S.address,": ").concat(d))))},Z={width:"5%",zIndex:"100",backgroundColor:"#dbac50"},ee=l.a.useState(!0),te=Object(i.a)(ee,2),ae=(te[0],te[1],function(){return l.a.createElement("div",{style:Z},A&&l.a.createElement("div",{className:"w-100 h-100"},l.a.createElement("div",{className:"iconbox2",style:{height:"2.5rem"},onClick:function(e){!function(){if(A){var e=[];c.detail.map((function(t,a){t._id!=A._id&&(e=[].concat(Object(d.a)(e),[t]))})),o(Object(p.a)({},c,{reCal:!0,detail:e}))}}()}},l.a.createElement($,{iconName:"MdDelete",className:"md-icon",textStyle:{color:"black"}})),l.a.createElement("div",{className:"iconbox2",style:{height:"2.5rem"},onClick:function(e){!function(){if(A){var e=[];c.detail.map((function(t,a){if(t._id==A._id){var n=T;e=[].concat(Object(d.a)(e),[Object(p.a)({},n,{_id:ie()(),detailTime:(new Date).toISOString()}),t])}else e=[].concat(Object(d.a)(e),[t])})),o(Object(p.a)({},c,{reCal:!0,detail:e}))}}()}},l.a.createElement($,{iconName:"MdAddCircle",className:"md-icon",textStyle:{color:"black"}})),l.a.createElement("div",{className:"iconbox2",style:{height:"2.5rem"},onClick:function(e){!function(){if(A){var e=[],t=null;c.detail.map((function(e,a){e._id==A._id&&(t=a)})),null!=t&&t>0&&(c.detail.map((function(a,n){e=[].concat(Object(d.a)(e),n==t-1?[c.detail[t]]:n==t?[c.detail[t-1]]:[a])})),o(Object(p.a)({},c,{detail:e})))}}()}},l.a.createElement($,{iconName:"FaRegArrowAltCircleUp",className:"md-icon",textStyle:{color:"black"}})),l.a.createElement("div",{className:"iconbox2",style:{height:"2.5rem"},onClick:function(e){!function(){if(A){var e=[],t=null,a=c.detail.length-1;c.detail.map((function(e,a){e._id==A._id&&(t=a)})),null!=t&&t<a&&(c.detail.map((function(a,n){e=[].concat(Object(d.a)(e),n==t?[c.detail[t+1]]:n==t+1?[c.detail[t]]:[a])})),o(Object(p.a)({},c,{detail:e})))}}()}},l.a.createElement($,{iconName:"FaRegArrowAltCircleDown",className:"md-icon",textStyle:{color:"black"}})),l.a.createElement("div",{className:"iconbox2",style:{height:"2.5rem"},onClick:function(e){!function(){var e=[];c.detail.map((function(t){e=[].concat(Object(d.a)(e),[t.id])}));var t=Object(d.a)(new Set(e));t=t.sort();var a=[];t.map((function(e){var t=0,n=0,l=null;c.detail.map((function(a){a.id==e&&(t+=a.quantity,n+=a.result,l=Object(p.a)({},a,{quantity:t,result:n}))})),l&&(a=[].concat(Object(d.a)(a),[l]))})),o(Object(p.a)({},c,{reCal:!0,detail:a}))}()}},l.a.createElement($,{iconName:"MdMergeType",className:"md-icon",textStyle:{color:"black"}})),A.hasDetailProduct&&l.a.createElement("div",{className:"iconbox2",style:{height:"2.5rem"},onClick:function(e){console.log("rawUp..........1."),A&&A.hasDetailProduct&&(console.log("rawUp..........2."),f.a.post("/p35product/getlimit",{id:A.id},k).then((function(e){var t=e.data.data[0];if(t&&t.detail&&Array.isArray(t.detail)){var a=[];t.detail.map((function(e){var t=parseInt(A.quantity*u)/u,n=parseInt(e.quantity*u)/u,l=parseInt(t*n*u)/u,c=parseInt(e.price*u)/u,o=parseInt(c*l*u)/u,r=Object(p.a)({},e,{_id:ie()(),selectedLine:!1,priceLevel:[{price:0,remark:""}],jobStatus:"open",quantity:l,result:o});a=[].concat(Object(d.a)(a),[r])}));var n=[];c.detail.map((function(e){n=e._id==A._id?[].concat(Object(d.a)(n),Object(d.a)(a)):[].concat(Object(d.a)(n),[e])})),o(Object(p.a)({},c,{reCal:!0,detail:n})),M(null)}})).catch((function(e){console.log("error"),console.log(e)})))}},l.a.createElement($,{iconName:"MdRawOn",className:"md-icon",textStyle:{color:"black"}})),l.a.createElement("div",{className:"iconbox2",style:{height:"2.5rem"},onClick:function(e){M(null),O(c)}},l.a.createElement($,{iconName:"MdClose",className:"md-icon",textStyle:{color:"black"}}))))});return l.a.createElement("div",{className:"bgc-lightGray app-container h-100 w-100"},l.a.createElement("div",{className:"w-100 h-100"},l.a.createElement("div",{className:"w-100 h-5"},l.a.createElement("div",{className:"hide-on-print",style:Object(m.a)({height:"100%",width:"100%",display:"flex",justifyContent:"flex-start",alignItems:"center",background:"rgb(240,207,121)"},"background","linear-gradient(90deg, rgba(240,207,121,1) 0%, rgba(153,106,48,1) 100%)")},l.a.createElement("button",{style:{marginRight:"1.2rem"},onClick:function(e){n(c)}},"cancel"==a?l.a.createElement(L.a,null):a),l.a.createElement("div",{className:"iconbox",onClick:function(){var e=Object(Y.a)(V.a.mark((function e(a){var n,l,c,r,i,s,m,u,b;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("plus...."),e.next=4,f.a.post("/p35transaction/getlimit",{limitRow:1,sort:{id:-1}},k);case 4:return n=e.sent,e.next=7,f.a.post("/p35partner/getlimit",{id:h.defaultCustomerId},k);case 7:l=e.sent,c={partnerType:"",id:null,title:"",name:"",phone:[],address:""},l.data.data[0]&&(c=l.data.data[0],c=Object(p.a)({},c,{address:c.address[0]})),r=1,i=null,n.data.data[0]&&(console.log("result.data.data[0]"),i=n.data.data[0],s=(new Date).toISOString(),s=new Date(s).toLocaleString("en-GB").substring(0,10),m=new Date(i.date).toISOString(),(m=new Date(m).toLocaleString("en-GB").substring(0,10))==s&&(r=i.queue+1)),u=[],h.tax.map((function(e){if(e.taxActive){var t=Object(p.a)({},e,{taxAmount:0});u=[].concat(Object(d.a)(u),[t])}})),b=[],h.reduction.map((function(e){if(e.reductionActive){var t=Object(p.a)({},e,{reductionAmount:0});b=[].concat(Object(d.a)(b),[t])}})),o(Object(p.a)({},t,{id:Hn(),date:(new Date).toISOString(),queue:r,queueStatus:"open",partnerId:c.id,partnerType:c.partnerType,title:c.title,name:c.name,phone:c.phone,address:c.address,transactionType:h.transaction[0].transactionType,effectSpending:h.transaction[0].effectSpending,effectCustomerPoint:h.transaction[0].effectCustomerPoint,effectStock:h.transaction[0].effectStock,tax:u,reduction:b,reCal:!0})),N(!0),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(0),console.log("error......"),console.log(e.t0);case 25:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(t){return e.apply(this,arguments)}}()},l.a.createElement($,{iconName:"MdAddCircle",className:"md-icon",textStyle:{color:"black"}})),c&&l.a.createElement("div",{className:"iconbox",onClick:function(e){I(!0)}},l.a.createElement($,{iconName:"MdEdit",className:"md-icon",textStyle:{color:"black"}})),c&&l.a.createElement("div",{className:"iconbox",onClick:function(e){j?v(c):w(c)}},l.a.createElement($,{iconName:"MdSave",className:"md-icon",textStyle:{color:"black"}})),c&&l.a.createElement("div",{className:"iconbox",onClick:function(e){E(c)}},l.a.createElement($,{iconName:"MdDelete",className:"md-icon",textStyle:{color:"black"}})),c&&l.a.createElement("div",{className:"iconbox",onClick:function(e){x(c)}},l.a.createElement($,{iconName:"MdPrint",className:"md-icon",textStyle:{color:"black"}})))),l.a.createElement("div",{className:"w-100 h-10"},c&&J()),l.a.createElement("div",{className:"w-100 h-65",style:{display:"flex"}},c&&U&&ae(),c&&U&&l.a.createElement("div",{className:"h-100 w-95"},l.a.createElement(ct,{colorHead:"#ac7c42",tableTemplate:U,setTableTemplate:K,filterData:c.detail,setFilterData:z,editData:A,setEditData:q,saveTableTemplateFunc:y,isSubTable:!1,useInput:!0,updateFilterData:W,basicData:h,findProductIdByKeyDown:Q,findBarcodeByKeyDown:X,calDigit:u}))),l.a.createElement("div",{className:"w-100 h-20"},c&&function(){var e=c.total,t=c.totalReduction,a=c.reduction,n=c.totalTax,o=c.tax,r=c.grandTotal;return c.paymentType,l.a.createElement("div",{className:"h-100 w-100 flex-center-center",style:{padding:"0 0.5rem",backgroundColor:"#f5e7a1"}},l.a.createElement("div",{className:"xc6",style:{textAlign:"start"}},o.map((function(e,t){return l.a.createElement("div",null,"".concat(e.taxName," = ").concat(Un(e.taxAmount,u,"taxAmount")))})),a.map((function(e,t){return l.a.createElement("div",null,"".concat(e.reductionName," = ").concat(Un(e.reductionAmount,u,"reductionAmount")))}))),l.a.createElement("div",{className:"xc6",style:{textAlign:"end"}},l.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},l.a.createElement("div",{style:{padding:"0 0.5rem",backgroundColor:"#8cc5bb"}},"".concat(S.total," = ").concat(Un(e,u,"total")))),l.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},l.a.createElement("div",{style:{padding:"0 0.5rem",backgroundColor:""}},"".concat(S.totalTax," = ").concat(Un(n,u,"totalTax")))),l.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},l.a.createElement("div",{style:{padding:"0 0.5rem",backgroundColor:""}},"".concat(S.totalReduction," = ").concat(Un(t,u,"totalReduction")))),l.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},l.a.createElement("div",{style:{padding:"0 0.5rem",backgroundColor:"#a7c6eb",fontSize:"1.4rem"}},"".concat(S.grandTotal," = ").concat(Un(r,u,"grandTotal"))))))}())),D&&h?l.a.createElement(Gn,{billFormData:c,setBillFormData:o,basicData:h,submitFunc:function(e){O(e),o(e),I(!1)},cancelFunc:function(){I(!1)},calDigit:u,pageData:b,myheader:k,runIsGenId:N}):null)}_n.defaultProps={calDigit:100,bgColor:null};var Kn=_n,zn=function(e){var t=e.filterData,a=e.setPageNumber,n=e.bgColor,c=e.backToFilter,o=e.editData,r=e.captureEditData,i=e.setReloadDataFunc,s=t.pageNumber,m=t.limitRow,u=t.count,d=function(){return Math.ceil(u/m)};return l.a.createElement("div",{className:"badge-frame-xc12",style:{background:n,height:"2rem"}},l.a.createElement("div",{className:"flex-center-center flex-no-wrap xc12 jc-start",style:{overflow:"hidden",justifyContent:"flex-start"}},l.a.createElement(L.w,{className:"sm-icon",onClick:function(e){return c()}}),l.a.createElement("div",null,l.a.createElement(G.g,{className:"sm-icon",style:{visibility:d()>1&&s>1?"visible":"hidden"},onClick:function(e){var t=parseInt(s)-1;a(t)}})),d()>1?l.a.createElement("input",{type:"number",style:{width:"70px"},value:s.toString(),onChange:function(e){var t=parseInt(e.target.value);(t<=d()||!t)&&a(t)}}):null,d()>1?l.a.createElement("div",{style:{paddingTop:"1rem"}},l.a.createElement("p",null,"/".concat(d()))):null,d()>1&&s<d()?l.a.createElement("div",null,l.a.createElement(G.h,{className:"sm-icon",onClick:function(e){var t=parseInt(s)+1;a(t)}})):null,d()>1&&s<d()?l.a.createElement("div",null,l.a.createElement(G.n,{className:"sm-icon",onClick:function(e){var t=parseInt(d());a(t)}})):null,l.a.createElement(G.w,{className:"sm-icon",onClick:function(e){i()}}),o&&l.a.createElement(B.d,{className:"sm-icon",onClick:function(e){r(o)}})))},qn=Me.filterAxios,$n=Me.saveTableTemplate,Wn=oe.catchErrorToMessage;var Vn=function(e){var t=e.basicDataSt,a=e.myheader,n=e.captureCustomer,c=e.partnerInputState,o=e.setPartnerInputState,r=t.basicData;console.log("PartnerForBill");var s=l.a.useState({counst:0,data0:null,dataUrl:"p35partner",lastRecordId:null,limitRow:r.limitRow,pageNumber:1,initPageNumber:!0,qry:{},reloadData:!1,sort:{id:-1},message:null,showModalError:!1}),m=Object(i.a)(s,2),u=m[0],d=m[1];l.a.useEffect((function(){console.log("filterData"),console.log(u)}),[u]),l.a.useEffect((function(){if(d(Object(p.a)({},u,{initPageNumber:!1})),u.pageNumber>0&&!u.initPageNumber){var e=u.dataUrl,t=u.pageNumber,n=u.limitRow,l=u.sort,c=u.qry;f.a.post("/".concat(e,"/getlimit"),Object(p.a)({pageNumber:t,limitRow:n,sort:l},c),a).then((function(e){var t=Object(p.a)({},u,{data0:e.data.data,count:e.data.count,lastRecordId:e.data.lastRecordId,reloadData:!1});d(t)})).catch((function(e){var t=Object(p.a)({},u,{reloadData:!1,message:Wn(e),showModalConfirm:!1,showModalError:!0});d(t)}))}}),[u.pageNumber]);var b=t.tableTemplate.partnerTableTemplate,h=b.selectedLine;h=Object(p.a)({},h,{showCol:!1}),b=Object(p.a)({},b,{selectedLine:h});var g=l.a.useState(null),y=Object(i.a)(g,2),v=y[0],w=y[1],E=l.a.useState(c),N=Object(i.a)(E,2),j=N[0],k=N[1],x=l.a.useState(b),T=Object(i.a)(x,2),S=T[0],C=T[1],F=function(){console.log("setReloadDataFunc");var e=u.dataUrl,t=u.pageNumber,n=u.limitRow,l=u.sort,c=u.qry;f.a.post("/".concat(e,"/getlimit"),Object(p.a)({pageNumber:t,limitRow:n,sort:l},c),a).then((function(e){var t=Object(p.a)({},u,{data0:e.data.data,count:e.data.count,lastRecordId:e.data.lastRecordId,reloadData:!1});d(t)})).catch((function(e){var t=Object(p.a)({},u,{reloadData:!1,message:Wn(e),showModalConfirm:!1,showModalError:!0});d(t)}))},D=function(e){u.tableTemplateUrl;$n(e,"p35tabletemplate","partnerTableTemplate",a)},I=function(e){console.log("setFilterDataData0Func"),console.log(e),d(Object(p.a)({},u,{data0:e}))},P=function(){d(Object(p.a)({},u,{data0:null}))},R=function(e){d(Object(p.a)({},u,{pageNumber:e}))};return l.a.createElement("div",{className:"w-100"},l.a.createElement(Ta,{title:"\u0e04\u0e49\u0e19\u0e2b\u0e32",show:!1,setShow:function(){},filterTemplate:t.pageFilter.partnerFilter,inputState:j,setInputState:k,limitRow:u.limitRow,setLimitRow:function(e){d(Object(p.a)({},u,{limitRow:e}))},sort:u.sort,setSort:function(e){d(Object(p.a)({},u,{sort:e}))},filterAxios:function(e,t){qn(e,t,O.partnerFilter,u,a).then((function(e){d(e),o(j)})).catch((function(e){d(e),o(j)}))},basicData:r,LB:t.pageFilterForm.partnerFilterForm}),u.data0?l.a.createElement("div",{className:"w-100 h-100",style:{paddingTop:"1rem"}},l.a.createElement("div",{className:"w-100"},zn({filterData:u,setPageNumber:R,bgColor:"#74b979",backToFilter:P,editData:v,captureEditData:n,setReloadDataFunc:F})),l.a.createElement("div",{className:"w-100 h90"},l.a.createElement(ct,{colorHead:"#4b6d62",tableTemplate:S,setTableTemplate:C,filterData:u.data0,setFilterData:I,editData:v,setEditData:w,saveTableTemplateFunc:D,isSubTable:!1,useInput:!1,updateFilterData:function(){},basicData:r}))):null,u.showModalError?ht({setShow:function(e){d(Object(p.a)({},u,{showModalError:e}))},message:u.message}):null)},Yn=Me.filterAxios,Qn=Me.saveTableTemplate,Xn=oe.catchErrorToMessage;var Jn=function(e){var t=e.basicDataSt,a=e.myheader,n=e.pageFilter,c=e.pageFilterForm,o=e.captureTransaction,r=e.transactionInputState,s=e.setTransactionInputState,m=t.basicData;console.log("TransactionForBill");var u=l.a.useState({counst:0,data0:null,dataUrl:"p35transaction",lastRecordId:null,limitRow:m.limitRow,pageNumber:1,initPageNumber:!0,qry:{},reloadData:!1,sort:{id:-1},message:null,showModalError:!1}),d=Object(i.a)(u,2),b=d[0],h=d[1];l.a.useEffect((function(){console.log("filterData"),console.log(b)}),[b]),l.a.useEffect((function(){if(h(Object(p.a)({},b,{initPageNumber:!1})),b.pageNumber>0&&!b.initPageNumber){var e=b.dataUrl,t=b.pageNumber,n=b.limitRow,l=b.sort,c=b.qry;f.a.post("/".concat(e,"/getlimit"),Object(p.a)({pageNumber:t,limitRow:n,sort:l},c),a).then((function(e){var t=Object(p.a)({},b,{data0:e.data.data,count:e.data.count,lastRecordId:e.data.lastRecordId,reloadData:!1});h(t)})).catch((function(e){var t=Object(p.a)({},b,{reloadData:!1,message:Xn(e),showModalConfirm:!1,showModalError:!0});h(t)}))}}),[b.pageNumber]);var g=l.a.useState(null),y=Object(i.a)(g,2),v=y[0],w=y[1],E=l.a.useState(r),N=Object(i.a)(E,2),j=N[0],k=N[1],x=t.tableTemplate.transactionTableTemplate,T=x.selectedLine;T=Object(p.a)({},T,{showCol:!1}),x=Object(p.a)({},x,{selectedLine:T});var S=l.a.useState(x),C=Object(i.a)(S,2),F=C[0],D=C[1],I=function(){console.log("setReloadDataFunc");var e=b.dataUrl,t=b.pageNumber,n=b.limitRow,l=b.sort,c=b.qry;f.a.post("/".concat(e,"/getlimit"),Object(p.a)({pageNumber:t,limitRow:n,sort:l},c),a).then((function(e){var t=Object(p.a)({},b,{data0:e.data.data,count:e.data.count,lastRecordId:e.data.lastRecordId,reloadData:!1});h(t)})).catch((function(e){var t=Object(p.a)({},b,{reloadData:!1,message:Xn(e),showModalConfirm:!1,showModalError:!0});h(t)}))},P=function(e){b.tableTemplateUrl;Qn(e,"p35tabletemplate","transactionTableTemplate",a)},R=function(){h(Object(p.a)({},b,{data0:null}))},A=function(e){h(Object(p.a)({},b,{pageNumber:e}))};return l.a.createElement("div",{className:"w-100"},l.a.createElement(Ta,{title:"\u0e04\u0e49\u0e19\u0e2b\u0e32\u0e1a\u0e34\u0e25",show:!1,setShow:function(){},filterTemplate:n.transactionFilter,inputState:j,setInputState:k,limitRow:b.limitRow,setLimitRow:function(e){h(Object(p.a)({},b,{limitRow:e}))},sort:{id:-1},setSort:function(e){h(Object(p.a)({},b,{sort:e}))},filterAxios:function(e,t){Yn(e,t,O.transactionFilter,b,a).then((function(e){h(e),s(j)})).catch((function(e){h(e),s(j)}))},basicData:m,LB:c.transactionFilterForm}),b.data0?l.a.createElement("div",{className:"w-100 h-100"},l.a.createElement("div",{className:"w-100"},zn({filterData:b,setPageNumber:A,bgColor:"#72a2d9",backToFilter:R,editData:v,captureEditData:o,setReloadDataFunc:I})),l.a.createElement("div",{className:"w-100 h90"},l.a.createElement(ct,{colorHead:"#4b6d62",tableTemplate:F,setTableTemplate:D,filterData:b.data0,setFilterData:function(){},editData:v,setEditData:w,saveTableTemplateFunc:P,isSubTable:!1,useInput:!1,updateFilterData:function(){},basicData:m}))):null,b.showModalError?ht({setShow:function(e){h(Object(p.a)({},b,{showModalError:e}))},message:b.message}):null)},Zn=oe.catchErrorToMessage,el=Me.saveTableTemplate,tl=Me.filterAxios;var al=function(e){var t=e.pageData,a=e.basicDataSt,n=e.myheader,c=(e.billMenuFilter,e.billMenuInputState),o=e.billMenuSort,r=e.billMenuLimitRow,s=e.billMenuShowTransaction,b=(e.billMenuOption,e.setFilterDataFunc);console.log("BillMenuComponent");var h=a.basicData,g=t.jobStatusForm;l.a.useEffect((function(){}),[c]);var y=function(e){el(e,"p35tabletemplate","billMenuTableTemplate",n)},v=l.a.useState(null),w=Object(i.a)(v,2),E=w[0],N=w[1],j=l.a.useState(a.tableTemplate.billMenuTableTemplate),O=Object(i.a)(j,2),k=O[0],x=O[1],T=l.a.useState(null),S=Object(i.a)(T,2),C=S[0],F=S[1],D=l.a.useState(!1),I=Object(i.a)(D,2),P=I[0],R=I[1],A=l.a.useState(null),M=Object(i.a)(A,2),B=M[0],G=M[1],U=l.a.useState(null),H=Object(i.a)(U,2),_=H[0],K=H[1],z=l.a.useState(null),q=Object(i.a)(z,2),$=q[0],W=q[1],V=l.a.useState(null),Y=Object(i.a)(V,2),Q=Y[0],X=Y[1],J=l.a.useState(!1),Z=Object(i.a)(J,2),ee=Z[0],te=Z[1];l.a.useEffect((function(){}),[E]),l.a.useEffect((function(){}),[B]);var ae=function(e,t){console.log("filterAxios");var l=a.pageFilter.billMenuFilter;tl(e,t,l,{pageNumber:1,limitRow:r,sort:o,dataUrl:"p35transaction"},n).then((function(t){var a;console.log("result....."),console.log(t.data0);var n=function(e){var t=[];return e.map((function(e){e._id;var a=e.detail,n=e.date,l=Object(u.a)(e,["_id","detail","date"]);a.map((function(e){var a=e.id,c=e.barcode,o=Object(u.a)(e,["id","barcode"]),r=Object(p.a)({},l,{productId:a,productBarcode:c,date:n,time:n},o);t=[].concat(Object(d.a)(t),[r])}))})),t}(t.data0);G(t.data0),N(n),b((a={},Object(m.a)(a,"billMenuShowTransaction",!0),Object(m.a)(a,"billMenuOption",e),a))})).catch((function(e){console.log(e)}))};return l.a.useEffect((function(){a.tableTemplate&&x(a.tableTemplate.billMenuTableTemplate)}),[a]),l.a.useEffect((function(){}),[C]),l.a.createElement("div",{className:" w-100",style:{marginBottom:"4rem",position:"relative"}},l.a.createElement("div",{className:""},l.a.createElement(Ta,{show:!0,setShow:function(){},filterTemplate:a.pageFilter.billMenuFilter,inputState:c,setInputState:function(e){return b(Object(m.a)({},"billMenuInputState",e))},limitRow:r,setLimitRow:function(e){return b(Object(m.a)({},"billMenuLimitRow",e))},sort:o,setSort:function(e){return b(Object(m.a)({},"billMenuSort",e))},filterAxios:ae,basicData:h,LB:a.pageFilterForm.transactionFilterForm})),P&&a&&l.a.createElement("div",{className:"Modal-background"},l.a.createElement("div",{className:"Modal-box"},l.a.createElement("div",{className:"Modal-header"},l.a.createElement("h4",null,g.formHead)),l.a.createElement("div",{className:"flex-center-center",style:{marginBottom:"02rem"}},l.a.createElement("div",{className:"xc6"},g.jobStatus),l.a.createElement("div",{className:"xc6"},l.a.createElement("select",{style:{width:"100%"},className:"xc8",onChange:function(e){W(e.target.value)}},l.a.createElement("option",null,"...."),h.jobStatus.map((function(e,t){return l.a.createElement("option",{key:t,selected:_.jobStatus==e?"selected":""},e)}))))),l.a.createElement("div",{className:"Modal-footer"},l.a.createElement("div",null,l.a.createElement("button",{onClick:function(e){if("open"==$||"close"==$){var t=[],a=[];E.map((function(e){e._id;var n=e.productId,l=e.productBarcode,c=e.productName,o=e.groupId,r=e.groupName,i=e.unit,s=e.price,m=e.priceLevel,b=e.quantity,f=e.result,h=e.remark,g=e.isRawMat,y=e.point,v=e.jobStatus;if(Object(u.a)(e,["_id","productId","productBarcode","productName","groupId","groupName","unit","price","priceLevel","quantity","result","remark","isRawMat","point","jobStatus"]),e.id==_.id){var w={id:n,barcode:l,productName:c,groupId:o,groupName:r,unit:i,price:s,priceLevel:m,quantity:b,result:f,remark:h,isRawMat:g,point:y,jobStatus:v};e.productId==_.productId?(t=[].concat(Object(d.a)(t),[Object(p.a)({},e,{jobStatus:$})]),a=[].concat(Object(d.a)(a),[Object(p.a)({},w,{jobStatus:$})])):(t=[].concat(Object(d.a)(t),[e]),a=[].concat(Object(d.a)(a),[w]))}else t=[].concat(Object(d.a)(t),[e])}));var l={id:_.id,detail:a};f.a.post("/p35transaction/updatecustom",l,n).then((function(e){N(t),R(!1)})).catch((function(e){te(!0),X(Zn(e))}))}}},l.a.createElement(L.f,null))),l.a.createElement("div",null,l.a.createElement("button",{onClick:function(e){R(!1)}},l.a.createElement(L.a,null)))))),s&&E?l.a.createElement(ct,{colorHead:"#4b2c17",tableTemplate:k,setTableTemplate:x,filterData:E,setFilterData:N,editData:C,setEditData:F,saveTableTemplateFunc:y,isSubTable:!1,updateFilterData:function(){},useInput:!1,selectData:null,editIconField:"jobStatus",editIconFieldFunc:function(e){R(!0),K(e)}}):null,ee?ht({setShow:te,message:Q}):null)},nl=h.numberWithCommas;var ll=function(e){var t=e.basicDataSt,a=e.myheader,n=e.pageData,c=e.showBillForm1,o=e.showBillForm2,r=e.billFormData1,s=e.billFormData2,u=e.setData1,d=e.setData2,b=e.setDetail1,h=e.setDetail2,g=e.calDigit,y=e.submitConfirm;console.log("BillBarcode");var v=n.billBarcodeForm,w={productId:"",barcode:"",partnerId:"",phone:"",table:"",queue:"",paymentType:t.basicData.paymentType[0],cash:0,grandTotal:0,change:0},E=l.a.useState(!1),N=Object(i.a)(E,2),j=N[0],O=N[1],k=l.a.useState(!1),x=Object(i.a)(k,2),T=(x[0],x[1],l.a.useState(Object(p.a)({},w))),S=Object(i.a)(T,2),C=S[0],F=S[1],D=l.a.useState(null),I=Object(i.a)(D,2);I[0],I[1],l.a.useEffect((function(){C.paymentType==t.basicData.paymentType[0]?O(!0):O(!1)}),[C]),l.a.useEffect((function(){c&&r&&(console.log(r.grandTotal),F(Object(p.a)({},C,{productId:"",barcode:"",partnerId:"",phone:"",grandTotal:r.grandTotal}))),o&&s&&(console.log(s.grandTotal),F(Object(p.a)({},C,{productId:"",barcode:"",partnerId:"",phone:"",grandTotal:s.grandTotal})))}),[r,s]);var P=function(e){return"productId"==e||"partnerId"==e||"queue"==e||"cash"==e?"number":"barcode"==e||"phone"==e?"string":void 0},R=function(e,t){"partnerId"==e?function(e){"Enter"==e.key&&(console.log("findCustomerById"),f.a.post("/p35partner/getlimit",{id:e.target.value},a).then((function(e){if(e.data.data[0]){var t=e.data.data[0],a=t.id,n=t.name,l=t.title,r=t.phone,i=t.address,s=t.partnerType,m={partnerId:a,title:l,name:n,phone:r,address:i[0],partnerType:s};1==c&&(console.log("showBillForm1"),u(m)),1==o&&(console.log("showBillForm2"),d(m)),F(Object(p.a)({},C,{partnerId:""}))}else F(Object(p.a)({},C,{partnerId:""}))})).catch((function(e){console.log("error")})))}(t):"phone"==e?function(e){if("Enter"==e.key){console.log("findCustomerByPhone");var t=Object(m.a)({},"phone",{$elemMatch:{$eq:e.target.value}});f.a.post("/p35partner/getlimit",t,a).then((function(e){if(e.data.data[0]){var t=e.data.data[0],a=t.id,n=t.name,l=t.title,r=t.phone,i=t.address,s=t.partnerType,m={partnerId:a,title:l,name:n,phone:r,address:i[0],partnerType:s};1==c&&u(m),1==o&&d(m),F(Object(p.a)({},C,{phone:""}))}else F(Object(p.a)({},C,{phone:""}))})).catch((function(e){console.log("error")}))}}(t):"queue"==e?function(e){if("Enter"==e.key){var t={queue:e.target.value,queueStatus:"open"};1==c&&u(t),1==o&&d(t),F(w)}}(t):"productId"==e?function(e){"Enter"==e.key&&(console.log("findProductById"),f.a.post("/p35product/getlimit",{id:e.target.value},a).then((function(e){if(console.log("result"),console.log(e.data),e.data.data[0]){var t=e.data.data[0],a=t.id,n=t.barcode,l=t.productName,r=t.groupId,i=t.groupName,s=t.unit,m=t.price,u=t.priceLevel,d=t.point,f=t.isRawMat,g=t.remark,y=(t.active,{id:a,barcode:n,productName:l,groupId:r,groupName:i,unit:s,price:m,priceLevel:u,point:d,isRawMat:f,remark:g,_id:ie()(),selectedLine:!1,quantity:1,result:m,jobStatus:"open",detailTime:(new Date).toISOString()});1==c&&(console.log("showBillForm1"),b(y)),1==o&&(console.log("showBillForm2"),h(y)),F(Object(p.a)({},C,{productId:""}))}else F(Object(p.a)({},C,{productId:""}))})).catch((function(e){console.log("error")})))}(t):"barcode"==e&&function(e){"Enter"==e.key&&(console.log("findProductById"),f.a.post("/p35product/getlimit",{barcode:e.target.value},a).then((function(e){if(console.log("result"),console.log(e.data),e.data.data[0]){var t=e.data.data[0],a=t.id,n=t.barcode,l=t.productName,r=t.groupId,i=t.groupName,s=t.unit,m=t.price,u=t.priceLevel,d=t.point,f=t.isRawMat,g=t.remark,y=(t.active,{id:a,barcode:n,productName:l,groupId:r,groupName:i,unit:s,price:m,priceLevel:u,point:d,isRawMat:f,remark:g,_id:ie()(),selectedLine:!1,quantity:1,result:m,jobStatus:"open",detailTime:(new Date).toISOString()});1==c&&(console.log("showBillForm1"),b(y)),1==o&&(console.log("showBillForm2"),h(y)),F(Object(p.a)({},C,{barcode:""}))}else F(Object(p.a)({},C,{barcode:""}))})).catch((function(e){console.log("error")})))}(t)},A=function(e){if("table"==e)return l.a.createElement("select",{className:"",onChange:function(e){return function(e){var t={table:e.target.value,tableStatus:"open"};1==c&&u(t),1==o&&d(t),F(w)}(e)}},l.a.createElement("option",null,"...."),t.basicData[e].map((function(e,t){return e.tableActive?l.a.createElement("option",{key:t},e.tableName):null})));if("paymentType"==e)return l.a.createElement("select",{className:"",onChange:function(e){return F(Object(p.a)({},C,{paymentType:e.target.value}))}},l.a.createElement("option",null,"...."),t.basicData[e].map((function(e,t){return l.a.createElement("option",{key:t,selected:C.paymentType==e?"selected":""},e)})));if("cash"==e){var a;if(j)return l.a.createElement("input",{type:"number",value:C[e],style:(a={fontSize:"1.2",color:C[e]<C.grandTotal?"red":"black"},Object(m.a)(a,"fontSize","1.5rem"),Object(m.a)(a,"backgroundColor","#fdf07a"),a),onKeyDown:function(e){if("Enter"==e.key){var t=e.target.value-C.grandTotal;F(Object(p.a)({},C,{change:t}))}},onChange:function(t){F(Object(p.a)({},C,Object(m.a)({},e,t.target.value)))}})}else{if("grandTotal"==e)return l.a.createElement("div",{style:{backgroundColor:"#a7c6eb",fontSize:"1.4rem"}},nl(C.grandTotal,g,"grandTotal"));if("change"!=e)return l.a.createElement("input",{type:P(e),value:C[e],onKeyDown:function(t){R(e,t)},onChange:function(t){F(Object(p.a)({},C,Object(m.a)({},e,t.target.value)))}});if(j)return l.a.createElement("div",{style:{backgroundColor:"#fdf07a",fontSize:"1.4rem"}},nl(C.change,g,"change"))}};return l.a.createElement("div",{className:"bgc-lightGray h-100 w-100",style:{paddingTop:"0.5rem"}},r||s?Object.keys(v).map((function(e,t){return l.a.createElement("div",{key:t,className:"flex-center-center jc-start",style:{padding:"0.2rem",width:"100%",maxWidth:"50vw"}},"cash"==e||"change"==e||"grandTotal"==e?l.a.createElement("div",{style:{width:"30%",fontSize:"1.2rem",color:"grandTotal"==e?"black":"brown"}},v[e]):l.a.createElement("div",{style:{width:"30%",color:"black"}},v[e]),l.a.createElement("div",{style:{width:"70%"}},A(e)))})):null,r||s?l.a.createElement("div",{className:"w-100 flex-center-center",style:{margin:"1.5rem 0"}},l.a.createElement("button",{style:{width:"40%"},onClick:function(e){y()}},l.a.createElement(L.g,{style:{fontSize:"4rem"}}))):null)};var cl=function(e){var t=e.basicDataSt,a=e.queueArray,n=e.captureBillFromTable,c=e.updateQueue;console.log("BillQueue");var o=t.basicData,r=l.a.useState(null),s=Object(i.a)(r,2),m=s[0],u=s[1];return l.a.createElement("div",{className:"w-100",style:{marginBottom:"4rem"}},o&&l.a.createElement("div",{className:"grid-flex bd=green",style:{margin:"0.2rem"}},a.map((function(e,t){return"open"==e.queueStatus?l.a.createElement("div",{className:"grid-flextile2",key:t},l.a.createElement("div",{key:t,style:{minHeight:"5rem",minWidth:"5rem",border:"2px solid rgb(0,153,0)",backgroundColor:"rgba(153,255,153,0.1)",borderRadius:"5px",marginBottom:"0.2rem"}},l.a.createElement("div",{className:"circle-p",style:{width:"2rem",height:"2rem",borderRadius:"50%",opacity:"0.7"},onClick:function(t){return u(e.queue)}},l.a.createElement("div",{className:"w-100 h-100 flex-center-center"},l.a.createElement("div",{className:"bill-p"},e.queue))),l.a.createElement("div",{className:"bill-p",style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},l.a.createElement("div",{onClick:function(t){return n(e)}},"".concat(e.table,"-").concat(e.name)),m==e.queue?l.a.createElement("div",{style:{marginLeft:"1rem"}},l.a.createElement("select",{onChange:function(t){c(t,e)}},l.a.createElement("option",null,"..."),l.a.createElement("option",null,"close"))):null))):null}))))},ol=Me.saveTableTemplate,rl=oe.catchErrorToMessage;var il=function(){console.log("Bill");var e=l.a.useContext(R),t=e.basicDataSt,a=(e.setReloadBasicData,e.myheader),n=(e.setBasicData,e.tokenSt),c=e.setReloadCheckToken,o=function(){var e=new Date,t=localStorage.getItem("expirationDate"),a=new Date(t);if(!t)return null;var n=new Date(a.toISOString());n.setDate(n.getDate()-3);var l=new Date(n);e.getTime(),a.getTime();return e>a?{color:"red"}:e>l?{color:"yellow"}:{color:"green"}},r=l.a.createRef(),b=t.basicData,h=t.pageData,g=t.tableTemplate,y=t.pageFilter,v=t.pageFilterForm,w=t.user,E=l.a.useState(function(){var e=Object(p.a)({},on.bill);return b&&(e=Object(p.a)({},e,{widthLeft:b.widthLeft,limitRow:b.limitRow,billMenuLimitRow:b.limitRow})),e}()),N=Object(i.a)(E,2),j=N[0],O=N[1],k=l.a.useState(null),x=Object(i.a)(k,2),T=x[0],S=x[1],C=l.a.useState(null),F=Object(i.a)(C,2),D=F[0],I=F[1],P=l.a.useState(!1),A=Object(i.a)(P,2),M=A[0],B=A[1],L=l.a.useState(null),G=Object(i.a)(L,2),U=G[0],H=G[1],_=l.a.useState(ya.partnerInputState),K=Object(i.a)(_,2),z=K[0],q=K[1],W=l.a.useState(ya.transactionInputState),Q=Object(i.a)(W,2),X=Q[0],J=Q[1],Z=l.a.useState(null),ee=Object(i.a)(Z,2),te=ee[0],ae=ee[1],ne=l.a.useState(j.data2),le=Object(i.a)(ne,2),ce=le[0],oe=le[1],re=l.a.useState(j.data2),se=Object(i.a)(re,2),me=se[0],ue=se[1],de=function(e){ce&&oe(Object(p.a)({},ce,{},e))},pe=function(e){me&&ue(Object(p.a)({},me,{},e))},be=function(e){if(ce){var t=[].concat(Object(d.a)(ce.detail),[e]);oe(Object(p.a)({},ce,{detail:t,reCal:!0}))}},fe=function(e){if(me){var t=[].concat(Object(d.a)(me.detail),[e]);ue(Object(p.a)({},me,{detail:t,reCal:!0}))}};l.a.useEffect((function(){te&&(b.printPageSetting&&window.print(),ae(null))}),[te]),l.a.useEffect((function(){t.tableTemplate&&H(g.productDetailTableTemplateForForm),t.basicData&&O(Object(p.a)({},j,{widthLeft:t.basicData.widthLeft,limitRow:t.basicData.limitRow,billMenuLimitRow:t.basicData.limitRow}))}),[t]),l.a.useEffect((function(){if(j.reloadData){var e;e=[{tableStatus:"open"},{queueStatus:"open"}],f.a.post("/p35transaction/getlimit",{limitRow:100,$or:e},a).then((function(e){console.log("result.....reloadData");var t=he(e.data.data),a=t.tableOpen;O(Object(p.a)({},j,{reloadData:!1,count:e.data.count,lastRecordId:e.data.lastRecordId,transactionArray:a,queueArray:t.queueOpen}))})).catch((function(e){console.log("error");var t=Object(p.a)({},j,{reloadData:!1,message:rl(e),showModalConfirm:!1,showModalError:!0});O(t)}))}j.reloadSelectProduct&&f.a.post("/p35product/getlimit",Object(p.a)({limitRow:100,sort:{id:1}},j.qryProduct),a).then((function(e){O(Object(p.a)({},j,{selectProduct:e.data.data,reloadSelectProduct:!1}))})).catch((function(e){var t=Object(p.a)({},j,{reloadSelectProduct:!1,message:rl(e),showModalConfirm:!1,showModalError:!0});O(t)}))}),[j]),l.a.useEffect((function(){console.log("filterData.data1"),j.data1&&oe(j.data1)}),[j.data1]),l.a.useEffect((function(){console.log("filterData.data2"),j.data2&&ue(j.data2)}),[j.data2]);var he=function(e){var t=[],a=[],n=[];return b.table.map((function(e){e.tableActive&&(t=[].concat(Object(d.a)(t),[e.tableName]))})),e.map((function(e,l){var c=Object(p.a)({},e,{_id:ie()()});t.map((function(t){t==e.table&&"open"==e.tableStatus&&(a=[].concat(Object(d.a)(a),[c]))})),"open"==e.queueStatus&&(n=[].concat(Object(d.a)(n),[c]))})),{tableOpen:a,queueOpen:n}},ge=function(e){O(Object(p.a)({},j,{isGenIdOfBillForm1:e}))},ye=function(e){O(Object(p.a)({},j,{isGenIdOfBillForm2:e}))},ve=function(e){j.showBillForm1&&O(Object(p.a)({},j,{data1:e,showBillForm1:!1,reloadBillForm1:!0,isGenIdOfBillForm1:!1})),j.showBillForm2&&O(Object(p.a)({},j,{data2:e,showBillForm2:!1,reloadBillForm2:!0,isGenIdOfBillForm2:!1}))},we=function(e){O(Object(p.a)({},j,{selectProduct:e.data0,showParter:!1,showGroup:!1,showProductGrid:!0,showTable:!1,showTransaction:!1,showBillMenu:!1,showBarcode:!1,showQueue:!1}))},Ee=function(e){O(Object(p.a)({},j,{},e))},Ne=function(e){var t=e.id,a=e.title,n=e.name,l=e.partnerType,c=e.phone,o=e.address;O(Object(p.a)({},j,{showCustomerConfirm:!0,customerConfirm:{partnerId:t,title:a,name:n,partnerType:l,phone:c,address:o}}))},je=function(e){j.showBillForm1&&O(Object(p.a)({},j,{editTransaction:e,showTransactionConfirm:!0,isGenIdOfBillForm1:!1})),j.showBillForm2&&O(Object(p.a)({},j,{editTransaction:e,showTransactionConfirm:!0,isGenIdOfBillForm2:!1}))},Oe=function(e){if(e){var t=[];e.map((function(e){if(e.quantity>0){var a=parseInt(e.quantity*e.price*100)/100,n=Object(p.a)({},e,{result:a,_id:ie()(),selectedLine:!1,jobStatus:"open"});t=[].concat(Object(d.a)(t),[n])}})),S(null),O(Object(p.a)({},j,{selectOfSelectProduct:t}))}},ke=function(e){console.log("setPrintDataFunc"),ae(e)};l.a.useEffect((function(){j.reloadBillForm1&&O(Object(p.a)({},j,{showBillForm1:!0,reloadBillForm1:!1}))}),[j.reloadBillForm1]),l.a.useEffect((function(){j.reloadBillForm2&&O(Object(p.a)({},j,{showBillForm2:!0,reloadBillForm2:!1}))}),[j.reloadBillForm2]);var Te=function(e){O(Object(p.a)({},j,{showBillForm1:!1,data1:e,reloadBillForm2:!0}))},Se=function(e){O(Object(p.a)({},j,{showBillForm2:!1,data2:e,reloadBillForm1:!0}))},Ce=function(e){var t={};Object.keys(e).map((function(a){var n=Object(p.a)({},e[a],{showColHead:!0});t=Object(p.a)({},t,Object(m.a)({},a,n))})),H(t),ol(e,"p35tabletemplate","productDetailTableTemplateForForm",a)},Fe=function(e){O(Object(p.a)({},j,{showModalConfirm:!0,dataToDelete:e}))},De=function(){var e=Object(Y.a)(V.a.mark((function e(t){var n,l,c,o;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t._id,n=t.detail,l=Object(u.a)(t,["_id","detail"]),c=[],n.map((function(e){e._id;var t=Object(u.a)(e,["_id"]);c=[].concat(Object(d.a)(c),[t])})),o=Object(p.a)({},l,{detail:c}),f.a.post("/p35transaction/updatetransaction",o,a).then((function(e){if(console.log("done edit............."),j.showBillForm1){var t=Object(p.a)({},j,{reloadData:!0,data1:on.blankData,reloadBillForm1:!0,showBillForm1:!1});O(t)}if(j.showBillForm2){var a=Object(p.a)({},j,{reloadData:!0,data2:on.blankData,reloadBillForm2:!0,showBillForm2:!1});O(a)}})).catch((function(e){console.log("error"),console.log(e);var t=Object(p.a)({},j,{message:rl(e),showModalError:!0});console.log(t.message),O(t)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(Y.a)(V.a.mark((function e(t){var n,l,c,o;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t._id,n=t.detail,l=Object(u.a)(t,["_id","detail"]),c=[],n.map((function(e){e._id;var t=Object(u.a)(e,["_id"]);c=[].concat(Object(d.a)(c),[t])})),o=Object(p.a)({},l,{detail:c}),f.a.post("/p35transaction/addtransaction",o,a).then((function(e){if(console.log("done add............"),j.showBillForm1){var t=Object(p.a)({},j,{reloadData:!0,data1:on.blankData,reloadBillForm1:!0,showBillForm1:!1,isGenIdOfBillForm1:!1});O(t)}if(j.showBillForm2){var a=Object(p.a)({},j,{reloadData:!0,data2:on.blankData,reloadBillForm2:!0,showBillForm2:!1,isGenIdOfBillForm2:!1});O(a)}})).catch((function(e){console.log("error"),console.log(e);var t=Object(p.a)({},j,{message:rl(e),showModalError:!0});console.log(t.message),O(t)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pe=function(){if(j.isGenIdOfBillForm){if(j.showBillForm1&&ce){var e=Object(p.a)({},ce,{tableStatus:"close",queueStatus:"close"});Ie(e)}if(j.showBillForm2&&me){var t=Object(p.a)({},me,{tableStatus:"close",queueStatus:"close"});Ie(t)}}else{if(j.showBillForm1&&ce){var a=Object(p.a)({},ce,{tableStatus:"close",queueStatus:"close"});De(a)}if(j.showBillForm2&&me){var n=Object(p.a)({},me,{tableStatus:"close",queueStatus:"close"});De(n)}}},Re=function(e,t){if("close"==e.target.value){t._id;var n=Object(u.a)(t,["_id"]),l=Object(p.a)({},n,{queueStatus:"close"});f.a.post("/p35transaction/updatetransaction",l,a).then((function(e){if(console.log("done edit............."),j.showBillForm1){var t=Object(p.a)({},j,{reloadData:!0,data1:on.blankData,reloadBillForm1:!0,showBillForm1:!1});O(t)}if(j.showBillForm2){var a=Object(p.a)({},j,{reloadData:!0,data2:on.blankData,reloadBillForm2:!0,showBillForm2:!1});O(a)}})).catch((function(e){console.log("error"),console.log(e);var t=Object(p.a)({},j,{message:rl(e),showModalError:!0});console.log(t.message),O(t)}))}},Ae=function(e,t){if("close"==e.target.value&&j.transactionArray.length>0){var n=[];j.transactionArray.map((function(e){t.map((function(t){if(t==e.id){e._id;var l=Object(u.a)(e,["_id"]),c=Object(p.a)({},l,{tableStatus:"close"});n=[].concat(Object(d.a)(n),[f.a.post("/p35transaction/updatetransaction",c,a)])}}))})),console.log("allPromise.length"),console.log(n.length),Promise.all(n).then((function(e){if(console.log("done edit............."),j.showBillForm1){var t=Object(p.a)({},j,{reloadData:!0,data1:on.blankData,reloadBillForm1:!0,showBillForm1:!1});O(t)}if(j.showBillForm2){var a=Object(p.a)({},j,{reloadData:!0,data2:on.blankData,reloadBillForm2:!0,showBillForm2:!1});O(a)}})).catch((function(e){console.log("error"),console.log(e);var t=Object(p.a)({},j,{message:rl(e),showModalError:!0});console.log(t.message),O(t)}))}},Me=function(e){if(j.transactionArray.length>0){var t=[];if(j.transactionArray.map((function(a){e.map((function(e){e==a.id&&(t=[].concat(Object(d.a)(t),Object(d.a)(a.detail)))}))})),j.showBillForm1&&ce){var a=Object(p.a)({},ce,{detail:[].concat(Object(d.a)(ce.detail),Object(d.a)(t)),reCal:!0});oe(a)}if(j.showBillForm2&&me){var n=Object(p.a)({},me,{detail:[].concat(Object(d.a)(me.detail),Object(d.a)(t)),reCal:!0});ue(n)}}},Be=function(e){if(console.log("updateData...."),j.showBillForm1){var t=Object(p.a)({},j,{data1:e,reloadBillForm1:!0,showBillForm1:!1});O(t)}if(j.showBillForm2){var a=Object(p.a)({},j,{data2:e,reloadBillForm2:!0,showBillForm2:!1});O(a)}},Le=function(e){O(Object(p.a)({},j,{reloadSelectProduct:!0,qryProduct:e}))};return l.a.createElement("div",{className:"",style:{padding:"0 0rem",overflowY:"hidden"}},l.a.createElement("div",{className:"hide-on-print"},l.a.createElement("div",{className:"hide-logouttool"},l.a.createElement(xe,{tokenSt:n,setReloadCheckToken:c,user:w,useHomeIcon:!1,useShopLogOut:!1}))),l.a.createElement("div",null,l.a.createElement(s.b,{ref:r,to:"/home"})),j&&l.a.createElement("div",{className:"",style:{display:"flex",height:"94vh"}},l.a.createElement("div",{className:"bd-darkGray hide-on-print",style:{height:"",width:"".concat(j.widthLeft,"%"),overflowY:"scroll",overflowX:"hidden"}},l.a.createElement("div",{className:"",style:Object(m.a)({height:"",width:"100%",display:"flex",flexWrap:"wrap",marginBottom:"0rem",background:"rgb(140,197,187)"},"background","linear-gradient(0deg, rgba(131,195,184,1) 43%, rgba(219,255,249,1) 100%)")},l.a.createElement("div",{className:"iconbox",onClick:function(e){return r.current.click()}},l.a.createElement($,{iconName:"FaHome",className:j.showPartner?"md-icon ft-brown":"md-icon",textStyle:{color:"black"},iconStyle:o()})),l.a.createElement("div",{className:"iconbox",onClick:function(e){return O(Object(p.a)({},j,{reloadData:!0}))}},l.a.createElement($,{iconName:"MdRefresh",className:"md-icon",textStyle:{color:"black"}})),l.a.createElement("div",{style:{display:"none"}},l.a.createElement("div",null,l.a.createElement(s.b,{ref:r,to:"/pos/home"}))),l.a.createElement("div",{className:"iconbox",onClick:function(e){O(Object(p.a)({},j,{showParter:!0,showGroup:!1,showProductGrid:!1,showTable:!1,showTransaction:!1,showBillMenu:!1,showBarcode:!1,showQueue:!1}))}},l.a.createElement($,{iconName:"MdPerson",className:j.showPartner?"md-icon ft-brown":"md-icon",textStyle:{color:"black"}})),l.a.createElement("div",{className:"iconbox",onClick:function(e){O(Object(p.a)({},j,{showParter:!1,showGroup:!0,showProductGrid:!1,showTable:!1,showTransaction:!1,showBillMenu:!1,showBarcode:!1,showQueue:!1}))}},l.a.createElement($,{iconName:"FaRegFolderOpen",className:j.showGroup?"md-icon ft-brown":"md-icon",textStyle:{color:"black"}})),l.a.createElement("div",{className:"iconbox",onClick:function(e){O(Object(p.a)({},j,{showParter:!1,showGroup:!1,showProductGrid:!0,showTable:!1,showTransaction:!1,showBillMenu:!1,showBarcode:!1,showQueue:!1}))}},l.a.createElement($,{iconName:"MdFastfood",className:j.showProductGrid?"md-icon ft-brown":"md-icon",textStyle:{color:"black"}})),j.selectOfSelectProduct&&j.selectOfSelectProduct.length>0?l.a.createElement("div",{className:"iconbox",onClick:function(e){!function(){var e=null;j.showBillForm1&&(e=1),j.showBillForm2&&(e=2);var t={dataIdx:e,selectProduct:j.selectOfSelectProduct};S(t),B(!0)}()}},l.a.createElement($,{iconName:"FaRegArrowAltCircleRight",className:"md-icon",textStyle:{color:"black"}})):null,l.a.createElement("div",{className:"iconbox",onClick:function(e){O(Object(p.a)({},j,{showParter:!1,showGroup:!1,showProductGrid:!1,showTable:!1,showTransaction:!0,showBillMenu:!1,showBarcode:!1,showQueue:!1}))}},l.a.createElement($,{iconName:"SiBookstack",className:j.showTransaction?"md-icon ft-brown":"md-icon",textStyle:{color:"black"}})),l.a.createElement("div",{className:"iconbox",onClick:function(e){O(Object(p.a)({},j,{showParter:!1,showGroup:!1,showProductGrid:!1,showTable:!1,showTransaction:!1,showBillMenu:!1,showBarcode:!0,showQueue:!1}))}},l.a.createElement($,{iconName:"RiHandCoinFill",className:"md-icon",textStyle:{color:"black"}})),l.a.createElement("div",{className:"iconbox",onClick:function(e){O(Object(p.a)({},j,{showParter:!1,showGroup:!1,showProductGrid:!1,showTable:!0,showTransaction:!1,showBillMenu:!1,showBarcode:!1,showQueue:!1}))}},l.a.createElement($,{iconName:"SiAirtable",className:j.showTable?"md-icon ft-brown":"md-icon",textStyle:{color:"black"}})),l.a.createElement("div",{className:"iconbox",onClick:function(e){O(Object(p.a)({},j,{showParter:!1,showGroup:!1,showProductGrid:!1,showTable:!1,showTransaction:!1,showBillMenu:!1,showBarcode:!1,showQueue:!0}))}},l.a.createElement($,{iconName:"TiSortNumericallyOutline",className:"md-icon",textStyle:{color:"black"}})),l.a.createElement("div",{className:"iconbox",onClick:function(e){O(Object(p.a)({},j,{showParter:!1,showGroup:!1,showProductGrid:!1,showTable:!1,showTransaction:!1,showBillMenu:!0,showBarcode:!1,showQueue:!1}))}},l.a.createElement($,{iconName:"GiCook",className:j.showBillMenu?"md-icon ft-brown":"md-icon",textStyle:{color:"black"}}))),l.a.createElement("div",{style:{height:""}},j.showGroup&&h&&l.a.createElement(Rn,{captureProductOfGroup:we,pageData:h}),j.showProductGrid&&l.a.createElement(An,{selectProduct:j.selectProduct,captureProductListFromSelectProductInProductGrid:Oe,resetProductList:M,setResetProductList:B,refreshProductFunc:Le}),j.showTable&&l.a.createElement(Mn,{transactionArray:j.transactionArray,captureBillFromTable:ve,basicDataSt:t,updateAllTransaction:Ae,captureAllTransaction:Me}),j.showParter&&t&&a&&l.a.createElement(Vn,{basicDataSt:t,myheader:a,captureCustomer:Ne,partnerInputState:z,setPartnerInputState:q}),j.showTransaction&&l.a.createElement(Jn,{basicDataSt:t,myheader:a,pageFilter:y,pageFilterForm:v,captureTransaction:je,transactionInputState:X,setTransactionInputState:J}),j.showBillMenu&&h&&l.a.createElement(al,{pageData:h,basicDataSt:t,myheader:a,billMenuFilter:j.billMenuFilter,billMenuInputState:j.billMenuInputState,billMenuSort:j.billMenuSort,billMenuLimitRow:j.billMenuLimitRow,billMenuShowTransaction:j.billMenuShowTransaction,billMenuOption:j.billMenuOption,setFilterDataFunc:Ee}),j.showBarcode&&l.a.createElement(ll,{pageData:h,basicDataSt:t,myheader:a,showBillForm1:j.showBillForm1,showBillForm2:j.showBillForm2,setData1:de,setData2:pe,setDetail1:be,setDetail2:fe,billFormData1:ce,billFormData2:me,calDigit:100,submitConfirm:Pe}),j.showQueue&&l.a.createElement(cl,{queueArray:j.queueArray,basicDataSt:t,captureBillFromTable:ve,updateQueue:Re}))),l.a.createElement("div",{className:"bd-darkGray hide-on-print",style:{height:"100%",width:"".concat(100-j.widthLeft,"%")}},j.showBillForm1&&h&&b&&U?l.a.createElement(Kn,{blankData:Object(p.a)({},on.blankData),dataIdx:"1",closeBillForm:Te,selectOfSelectProduct:T,selectOfCustomer:D,setResetProductList:B,pageData:h,basicData:b,tableTemplate:U,saveTableTemplateFunc:Ce,submitFunctionAddFunc:Ie,submitFunctionEditFunc:De,submitFunctionDeleteFunc:Fe,isGenIdOfBillForm:j.isGenIdOfBillForm1,runIsGenId:ge,updateData:Be,myheader:a,calDigit:100,setPrintDataFunc:ke,bgColor:"#e9bb43",billFormData:ce,setBillFormData:oe}):null,j.showBillForm2&&h&&b&&U?l.a.createElement(Kn,{blankData:Object(p.a)({},on.blankData,{branchId:b.branchId,branchName:b.branchName}),dataIdx:"2",closeBillForm:Se,selectOfSelectProduct:T,selectOfCustomer:D,setResetProductList:B,pageData:h,basicData:b,filterData:j,tableTemplate:U,saveTableTemplateFunc:Ce,submitFunctionAddFunc:Ie,submitFunctionEditFunc:De,submitFunctionDeleteFunc:Fe,isGenIdOfBillForm:j.isGenIdOfBillForm2,runIsGenId:ye,updateData:Be,myheader:a,calDigit:100,setPrintDataFunc:ke,bgColor:"#e9bb43",billFormData:me,setBillFormData:ue}):null)),te&&l.a.createElement("div",{className:"hide-on-screen"},l.a.createElement(Dt,{printPage:b.printPage,printPageSetting:b.printPageSetting,calDigit:100,transaction:te})),l.a.createElement("div",{className:"hide-on-print",style:{width:"100%",display:"flex",position:"relative"}},rn({showRange:j.showRange,setShowRange:function(e){O(Object(p.a)({},j,{showRange:e}))},widthLeft:j.widthLeft,setWidthLeft:function(e){O(Object(p.a)({},j,{widthLeft:e}))}})),j.showCustomerConfirm&&ha({filterData:j,setFilterData:O,basicData:b,customerConfirmForm:h.customerConfirmForm,submitFunc:function(){if(j.showBillForm1||j.showBillForm2){var e=null;j.showBillForm1&&(e=1),j.showBillForm2&&(e=2);var t=j.customerConfirm,a=t.partnerId,n=t.title,l=t.name,c=t.partnerType,o=t.phone,r=t.address,i=t.selectedAddress,s={partnerId:a,title:n,name:l,partnerType:c,phone:o,address:i||r[0]};I({dataIdx:e,selectCustomer:s}),O(Object(p.a)({},j,{showCustomerConfirm:!1}))}},cancelFunc:function(){O(Object(p.a)({},j,{showCustomerConfirm:!1}))}}),j.showTransactionConfirm&&ga({editTransaction:j.editTransaction,submitFunc:function(){var e=j.editTransaction;j.showBillForm1?(j.includeTransactionHead||(e=Object(p.a)({},j.data1,{detail:[].concat(Object(d.a)(j.data1.detail),Object(d.a)(j.editTransaction.detail))})),O(Object(p.a)({},j,{data1:e,showTransactionConfirm:!1,showBillForm1:!1,reloadBillForm1:!0}))):(j.includeTransactionHead||(e=Object(p.a)({},j.data2,{detail:[].concat(Object(d.a)(j.data2.detail),Object(d.a)(j.editTransaction.detail))})),O(Object(p.a)({},j,{data2:e,showTransactionConfirm:!1,showBillForm2:!1,reloadBillForm2:!0})))},cancelFunc:function(){O(Object(p.a)({},j,{showTransactionConfirm:!1}))},pageData:h,changeIncludeTransactionHead:function(e){O(Object(p.a)({},j,{includeTransactionHead:e}))},includeTransactionHead:j.includeTransactionHead}),j.showModalConfirm?l.a.createElement(ft,{setShow:function(e){O(Object(p.a)({},j,{showModalConfirm:e,dataToDelete:null}))},submitFunction:function(){var e=j.dataToDelete;f.a.post("/p35transaction/deletetransaction",e,a).then((function(e){if(console.log("done delete............."),j.showBillForm1){var t=Object(p.a)({},j,{reloadData:!0,showBillForm1:!1,showModalConfirm:!1,dataToDelete:!1,data1:on.blankData,reloadBillForm1:!0});O(t)}if(j.showBillForm2){var a=Object(p.a)({},j,{reloadData:!0,showBillForm2:!1,showModalConfirm:!1,dataToDelete:!1,data2:on.blankData,reloadBillForm2:!0});O(a)}})).catch((function(e){console.log("error"),console.log(e);var t=Object(p.a)({},j,{message:rl(e),showModalError:!0});console.log(t.message),O(t)}))}}):null,j.showModalError?ht({setShow:function(e){O(Object(p.a)({},j,{showModalError:e}))},message:j.message}):null)},sl=a(74),ml=a.n(sl),ul=oe.catchErrorToMessage,dl=Me.filterAxios;var pl=function(e){var t=e.filterDataTemplate,a=e.inputState,n=e.filterTemplate,c=e.myheader,o=e.pageFilterForm,r=e.basicData,s=e.cancelFunc,m=l.a.useState(t),u=Object(i.a)(m,2),b=u[0],h=u[1];l.a.useEffect((function(){if(console.log("filterData PageComponent"),console.log(b),b.reloadData){var e=b.dataUrl,t=b.pageNumber,a=b.limitRow,n=b.sort,l=b.qry;f.a.post("/".concat(e,"/getlimit"),Object(p.a)({pageNumber:t,limitRow:a,sort:n},l),c).then((function(e){var t=g(e.data.data,b.selectProduct),a=Object(p.a)({},b,{data0:t,count:e.data.count,lastRecordId:e.data.lastRecordId,reloadData:!1});h(a)})).catch((function(e){var t=Object(p.a)({},b,{reloadData:!1,message:ul(e),showModalConfirm:!1,showModalError:!0});console.log(t.message),h(t)}))}}),[b]);var g=function(e,t){if(e&&e.detail&&e.detail.length()>0){e.detail.map((function(e){}))}var a;a=t||[];var n=[];e.map((function(e,t){var a=Object(p.a)({},e,{selectedLine:!1,_id:ie()()});n=[].concat(Object(d.a)(n),[a])}));var l=[];return n.map((function(e){var t=e;a.map((function(a){e.id==a.id&&(t=Object(p.a)({},t,{selectedLine:a.selectedLine}))})),l=[].concat(Object(d.a)(l),[t])})),l},y=function(){var e=b.count,t=b.limitRow;return Math.ceil(e/t)},v=function(e){h(Object(p.a)({},b,{pageNumber:e}))};return l.a.createElement("div",{className:"Modal-background"},l.a.createElement("div",{className:"Modal-box",style:{width:"60%"}},l.a.createElement(Ta,{show:!0,setShow:function(){},filterTemplate:n,inputState:a,setInputState:function(){},limitRow:b.limitRow,setLimitRow:function(e){return h(Object(p.a)({},b,{limitRow:e}))},sort:b.sort,setSort:function(e){return h(Object(p.a)({},b,{sort:e}))},filterAxios:function(e,t){console.log("filterAxios2.........."),dl(e,t,n,b,c).then((function(e){var t=g(e.data0,b.selectProduct);h(Object(p.a)({},e,{data0:t}))})).catch((function(e){return h(e)}))},basicData:r,LB:o}),function(){var e=b.pageNumber;return y()>0?l.a.createElement("div",{className:"",style:{display:"flex",width:"100%",padding:"0.5rem"}},l.a.createElement("div",null,l.a.createElement(G.g,{className:"sm-icon",style:{visibility:y()>1&&e>1?"visible":"hidden"},onClick:function(t){var a=parseInt(e)-1;v(a)}})),l.a.createElement("input",{type:"number",style:{width:"70px"},value:e.toString(),onChange:function(e){var t=parseInt(e.target.value);(t<=y()||!t)&&v(t)}}),l.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},l.a.createElement("div",null,"/".concat(y()))),e<y()?l.a.createElement("div",null,l.a.createElement(G.h,{className:"sm-icon",onClick:function(t){var a=parseInt(e)+1;v(a)}})):null,e<y()?l.a.createElement("div",null,l.a.createElement(G.n,{className:"sm-icon",onClick:function(e){var t=parseInt(y());v(t)}})):null):null}(),l.a.createElement("div",{className:"w-100 flex-center-center jc-end"},l.a.createElement("div",null,l.a.createElement("button",{onClick:function(e){!function(){if(b.data0){var e=Object.keys(b.data0[0]),t="";t+=e.join(","),t+="\n",b.data0.map((function(a,n){e.map((function(e,n){n>0&&(t+=","),t+="string"===typeof a[e]&&a[e].includes(",")?'"'.concat(a[e],'"'):a[e]})),t+="\n"})),ml()(t,"".concat(o.formHead).concat(b.pageNumber,".csv"))}}()}},l.a.createElement(L.f,null))),l.a.createElement("div",null,l.a.createElement("button",{onClick:function(e){s()}},l.a.createElement(L.a,null))))))},bl=oe.catchErrorToMessage,fl=Me.saveTableTemplate,hl=Me.updateFilterData,gl=Me.submitFunctionEdit,yl=Me.submitFunctionAdd,vl=Me.filterAxios,wl=Me.setUnSelectAll,El=Me.submitFunctionDelete;var Nl,jl=function(e){console.log("PageComponent");var t=e.filterDataTemplate,a=(e.filterDataTemplate2,e.filterDataTemplate3,e.pageFilter,e.pageFilterForm),n=Object(u.a)(e,["filterDataTemplate","filterDataTemplate2","filterDataTemplate3","pageFilter","pageFilterForm"]),c=(e.filterTitle,e.inputState),o=e.filterTemplate,r=e.myheader,s=e.basicDataSt,m=e.formTemplate,b=e.editFormTemplate,h=e.stateTemplate,g=(e.groupFormTemplate,e.groupEditFormTemplate,e.pageDataModalForm),y=e.addFormTitle,v=e.editFormTitle,w=(e.groupAddFormTitle,e.groupEditFormTitle,e.bgColor),E=e.calDigit,N=e.setReloadBasicData,j=s.basicData,O=s.pageData,k=s.tableTemplate,x=(s.reloadBasicData,l.a.useState(null)),T=Object(i.a)(x,2),S=(T[0],T[1]);l.a.useEffect((function(){k&&S(k.productDetailTableTemplateForForm)}),[s]);var C=l.a.useState(Object(p.a)({},t,{},n,{tableTemplate:t.tableTemplateName?k[t.tableTemplateName]:null,detailTableTemplate:t.detailTableTemplateName?k[t.detailTableTemplateName]:null,detailTableTemplateForForm:t.detailTableTemplateForFormName?k[t.detailTableTemplateForFormName]:null,widthLeft:j.widthLeft,limitRow:j.limitRow})),F=Object(i.a)(C,2),D=F[0],I=F[1];l.a.useEffect((function(){if(D.reloadData){var e=D.dataUrl,t=D.pageNumber,a=D.limitRow,n=D.sort,l=D.qry;f.a.post("/".concat(e,"/getlimit"),Object(p.a)({pageNumber:t,limitRow:a,sort:n},l),r).then((function(e){var t=q(e.data.data,D.selectProduct),a=Object(p.a)({},D,{data0:t,count:e.data.count,lastRecordId:e.data.lastRecordId,reloadData:!1});I(a)})).catch((function(e){var t=Object(p.a)({},D,{reloadData:!1,message:bl(e),showModalConfirm:!1,showModalError:!0});console.log(t.message),I(t)}))}}),[D]);var P=function(e){I(Object(p.a)({},D,{showModalConfirm:e}))},R=function(e){I(Object(p.a)({},D,{pageNumber:e,reloadData:!0}))},A=function(e){console.log("setShowAdd"),console.log(e),I(Object(p.a)({},D,{showAdd:e}))},M=function(e){console.log("setShowEdit"),console.log(e),I(Object(p.a)({},D,{showEdit:e}))},B=function(){I(Object(p.a)({},D,{showModalCsv:!0}))},L=function(e){I(Object(p.a)({},D,{tableTemplate:e}))},G=function(e){var t=e;I(Object(p.a)({},D,{editData:t}))},U=function(e){I(Object(p.a)({},D,{data0:e}))},H=function(e){I(Object(p.a)({},D,{sort:e}))},_=function(e){I(Object(p.a)({},D,{limitRow:e}))},K=function(e){console.log("selectGroupFunc...."),I(Object(p.a)({},D,{selectGroup:e}))},z=function(){I(wl(D))},q=function(e,t){if(e&&e.detail&&e.detail.length()>0){e.detail.map((function(e){}))}var a;a=t||[];var n=[];e.map((function(e,t){var a=Object(p.a)({},e,{selectedLine:!1,_id:ie()()});n=[].concat(Object(d.a)(n),[a])}));var l=[];return n.map((function(e){var t=e;a.map((function(a){e.id==a.id&&(t=Object(p.a)({},t,{selectedLine:a.selectedLine}))})),l=[].concat(Object(d.a)(l),[t])})),l},$=function(){var e=D.limitRow,t=D.sort,a=Object(p.a)({},D,{limitRow:e,sort:t,selectProduct:[],editData:null,qry:{},reloadData:!0});I(a),N(!0)},W=function(){var e=Object(Y.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:El(D,r).then((function(e){return I(e)})).catch((function(e){return I(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(Y.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:gl(t,D,h,r).then((function(e){I(e)})).catch((function(e){return I(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(Y.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:yl(t,D,h,r).then((function(e){return I(e)})).catch((function(e){return I(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(e,t){console.log("filterAxios"),vl(e,t,o,D,r).then((function(e){console.log("result.....");var t=q(e.data0,D.selectProduct);I(Object(p.a)({},e,{data0:t}))})).catch((function(e){return I(e)}))},Z=function(e){console.log("filterDataByGroup.........");var t=Object(p.a)({},D,{pageNumber:1,qry:{groupId:e.id},reloadData:!0});I(t)},ee=function(e){var t=D.tableTemplateUrl;fl(e,t,D.tableTemplateName,r)},te=function(e,t){var a=hl(e,t,D);console.log("temp"),console.log(a),I(Object(p.a)({},D,{},a))},ae=function(){return D.data0?l.a.createElement(ct,{colorHead:"#4b6d62",tableTemplate:D.tableTemplate,setTableTemplate:L,filterData:D.data0,setFilterData:U,editData:D.editData,setEditData:G,saveTableTemplateFunc:ee,isSubTable:!1,updateFilterData:te,useInput:!1}):null},ne=function(){return l.a.createElement("div",{className:"w-100",style:{ooverflowX:"hidden",paddingBottom:"5rem"}},function(){var e=D.limitRow,t=D.sort;return l.a.createElement("div",{className:"",style:{marginBottom:"1rem"}},l.a.createElement(Ta,{show:!0,setShow:function(){},filterTemplate:o,inputState:c,setInputState:function(){},limitRow:e,setLimitRow:_,sort:t,setSort:H,filterAxios:J,basicData:j,LB:a}))}(),D.groupDataUrl&&O?l.a.createElement("div",{className:"",style:{margin:"1rem 0"}},l.a.createElement(In,{myheader:r,dataUrl:D.groupDataUrl,filterByGroupId:Z,captureEditGroup:K,bgColor:w,pageData:O})):null,D.showAdd||D.showEdit?le(Object(p.a)({},D,{badgeState:Object(p.a)({},D.badgeState,{addShow:!1,editShow:!1,delShow:!1,printerShow:!1,csvShow:!1,forwardShow:!1})})):null)},le=function(e){return l.a.createElement("div",{className:"w-100 h-100"},l.a.createElement("div",{className:"hide-on-print",style:{height:e.showAdd||e.showEdit?"2rem":"5%",width:"100%"}},va({filterData:e,setPageNumber:R,totalSwapPage:1,setSwapState:function(){},setReloadData:$,setShowFilter:function(){},setShowAdd:A,setShowEdit:M,setShowModalConfirm:P,setShowModalCsv:B,setUnSelectAll:z,setShowForwardConfirm:function(t){I(Object(p.a)({},e,{showTransactionConfirm:t}))},setClose:function(){},bgColor:w,captureSelect:function(){}})),l.a.createElement("div",{className:"",style:e.showEdit||e.showAdd?{width:"100%"}:{width:"100%",height:"95%"}},l.a.createElement("div",{style:e.showEdit||e.showAdd?{width:"100%"}:{width:"100%",height:"100%"},className:"show-on-print"},ae())))},ce=function(){return l.a.createElement(Fa,{isAddForm:!0,lb:y,formTemplate:m,stateTemplate:h,selectData:{basicData:j},iconAction:[function(){}],iconActionData:null,iconActionDataDetail:null,loadData:{id:parseInt(D.lastRecordId)+1},keyName:D.keyName,setShow:A,calculation:null,submitFunction:X,selectGroup:D.selectGroup,setSelectGroup:K,selectProduct:D.selectProduct,pageDataModalForm:g,dataUrl:D.dataUrl,myheader:r,tableTemplateUrl:D.tableTemplateUrl,tableTemplateName:D.detailTableTemplateForFormName,detailTableTemplate:D.detailTableTemplateForForm,calDigit:E})},oe=function(){return l.a.createElement(Fa,{lb:v,formTemplate:b,stateTemplate:h,selectData:{basicData:j},iconAction:[function(){}],iconActionData:null,iconActionDataDetail:null,loadData:D.editData,keyName:D.keyName,setShow:M,calculation:null,submitFunction:Q,selectGroup:D.selectGroup,setSelectGroup:K,selectProduct:D.selectProduct,pageDataModalForm:g,dataUrl:D.dataUrl,myheader:r,tableTemplateUrl:D.tableTemplateUrl,tableTemplateName:D.detailTableTemplateForFormName,detailTableTemplate:D.detailTableTemplateForForm})};return l.a.createElement("div",{className:"w-100 h-100"},D&&l.a.createElement("div",{className:"",style:{display:"flex",height:"95%",width:"100%"}},l.a.createElement("div",{className:"hide-on-print",style:{height:"100%",width:"".concat(D.widthLeft,"%"),overflowY:"scroll",overflowX:"hidden"}},ne()),l.a.createElement("div",{className:"",style:{height:"100%",width:"".concat(100-D.widthLeft,"%")}},D.showAdd?ce():D.showEdit?oe():le(D))),l.a.createElement("div",{className:"hide-on-print",style:{width:"100%",display:"flex",position:"relative"}},rn({showRange:D.showRange,setShowRange:function(e){I(Object(p.a)({},D,{showRange:e}))},widthLeft:D.widthLeft,setWidthLeft:function(e){I(Object(p.a)({},D,{widthLeft:e}))}})),D.showModalCsv?l.a.createElement(pl,{filterDataTemplate:t,inputState:c,filterTemplate:o,myheader:r,pageFilterForm:a,basicData:j,cancelFunc:function(e){I(Object(p.a)({},D,{showModalCsv:!1}))}}):null,D.showTransactionConfirm&&ga({editTransaction:D.editData,submitFunc:function(){var e=D.editData;D.includeTransactionHead||(e=Object(p.a)({},D.editData,{detail:[].concat(Object(d.a)(D.editData.detail),Object(d.a)(D.editData.detail))})),I(Object(p.a)({},D,{data1:e,showTransactionConfirm:!1,showBillForm1:!1,reloadBillForm1:!0}))},cancelFunc:function(){I(Object(p.a)({},D,{showTransactionConfirm:!1}))},pageData:O,changeIncludeTransactionHead:function(){},includeTransactionHead:D.includeTransactionHead}),D.showModalConfirm?l.a.createElement(ft,{setShow:P,submitFunction:W}):null,D.showModalError?ht({setShow:function(e){I(Object(p.a)({},D,{showModalError:e}))},message:D.message}):null)},Ol=(Nl={data0:null,dataCsv:null,count:0,lastRecordId:null,showRange:!0,widthLeft:30,heightTop:30,pageNumber:1,limitRow:3,sort:{id:-1},qry:{},tableTemplateUrl:"p35tabletemplate",dataUrl:"p35partner",selectGroup:null,tableTemplate:null,detailTableTemplate:null,detailTableTemplateForForm:null,tableTemplateName:"partnerTableTemplate",detailTableTemplateName:null,detailTableTemplateForFormName:null,reloadData:!1,message:null,showModalError:!1,editData:null,badgeState:{swapShow:!1,swapFunc:function(){},reloadShow:!0,reloadFunc:function(){},filterShow:!1,filterFunc:function(){},addShow:!0,addFunc:function(){},editShow:!0,editFunc:function(){},delShow:!0,delFunc:function(){},printerShow:!0,printerFunc:function(){},csvShow:!0,csvFunc:function(){},forwardShow:!1,forwardFunc:function(){},bullEyeShow:!0,unSelectShow:!0},selectProduct:[],showAdd:!1,showModalConfirm:!1},Object(m.a)(Nl,"showModalError",!1),Object(m.a)(Nl,"showModalCsv",!1),Object(m.a)(Nl,"message",null),Object(m.a)(Nl,"iconActionData",null),Object(m.a)(Nl,"iconActionDataDetail",null),Object(m.a)(Nl,"keyName",null),Nl);var kl,xl=function(){console.log("Partner");var e=l.a.useContext(R),t=e.basicDataSt,a=(e.tokenSt,e.setReloadCheckToken,e.myheader),n=e.setReloadBasicData;return l.a.createElement("div",{style:{height:"100vh",width:"100vw",overflow:"hidden"}},l.a.createElement("div",{className:"h-5 w-100 hide-on-print"},l.a.createElement(Te,null)),l.a.createElement("div",{className:"h-95 w-100"},t.basicData&&a&&l.a.createElement(jl,{setReloadBasicData:n,filterDataTemplate:Ol,filterTemplate:t.pageFilter.partnerFilter,inputState:ya.partnerInputState,basicDataSt:t,myheader:a,formTemplate:t.modalFormTemplate.partnerForm,editFormTemplate:t.modalFormTemplate.partnerEditForm,stateTemplate:ge.partnerState,pageFilterForm:t.pageFilterForm.partnerFilterForm,modalFormTemplate:t.pageData.ModalForm,addFormTitle:t.pageData.ModalForm.partnerAddForm,editFormTitle:t.pageData.ModalForm.partnerEditForm,bgColor:"#74b979",calDigit:100})))},Tl=(kl={data0:null,dataCsv:null,count:0,lastRecordId:null,showRange:!0,widthLeft:30,heightTop:30,pageNumber:1,limitRow:3,sort:{id:-1},qry:{},tableTemplateUrl:"p35tabletemplate",dataUrl:"p35product",selectGroup:null,groupDataUrl:"p35group",tableTemplate:null,detailTableTemplate:null,detailTableTemplateForForm:null,tableTemplateName:"productTableTemplate",detailTableTemplateName:"",detailTableTemplateForFormName:"productDetailTableTemplateForForm",reloadData:!1,message:null,showModalError:!1,editData:null,badgeState:{swapShow:!1,swapFunc:function(){},reloadShow:!0,reloadFunc:function(){},filterShow:!1,filterFunc:function(){},addShow:!0,addFunc:function(){},editShow:!0,editFunc:function(){},delShow:!0,delFunc:function(){},printerShow:!0,printerFunc:function(){},csvShow:!0,csvFunc:function(){},forwardShow:!1,forwardFunc:function(){},bullEyeShow:!0,unSelectShow:!0},selectProduct:[],showAdd:!1,showModalConfirm:!1},Object(m.a)(kl,"showModalError",!1),Object(m.a)(kl,"showModalCsv",!1),Object(m.a)(kl,"message",null),Object(m.a)(kl,"iconActionData",null),Object(m.a)(kl,"iconActionDataDetail",null),Object(m.a)(kl,"keyName",["photoUrl1"]),kl);var Sl=function(){console.log("Product");var e=l.a.useContext(R),t=e.basicDataSt,a=(e.tokenSt,e.setReloadCheckToken,e.myheader),n=e.setReloadBasicData;return l.a.createElement("div",{style:{height:"100vh",width:"100vw",overflow:"hidden"}},l.a.createElement("div",{className:"h-5 w-100 hide-on-print"},l.a.createElement(Te,null)),l.a.createElement("div",{className:"h-95 w-100"},t.basicData&&a&&l.a.createElement(jl,{setReloadBasicData:n,filterDataTemplate:Tl,filterTemplate:t.pageFilter.productFilter,inputState:ya.productInputState,basicDataSt:t,myheader:a,formTemplate:t.modalFormTemplate.productForm,editFormTemplate:t.modalFormTemplate.productEditForm,stateTemplate:ge.productState,pageFilterForm:t.pageFilterForm.productFilterForm,pageDataModalForm:t.pageData.ModalForm,addFormTitle:t.pageData.ModalForm.productAddForm,editFormTitle:t.pageData.ModalForm.productEditForm,groupAddFormTitle:t.pageData.ModalForm.groupAddForm,groupEditFormTitle:t.pageData.ModalForm.groupEditForm,groupFormTemplate:t.modalFormTemplate.groupForm,groupEditFormTemplate:t.modalFormTemplate.groupEditForm,bgColor:"#d1adbf"})))};a(196);var Cl=function(){var e=l.a.createRef(),t=l.a.createRef(),a=l.a.createRef(),n=l.a.createRef(),c=l.a.createRef(),o=l.a.createRef(),r={fontSize:"5rem"},i={gridRow:"1/3",gridColumn:"1/2"},m=[{bgColor:"#FAE03C",ref:c,icon:l.a.createElement(H.b,{style:Object(p.a)({},r,{fontSize:"8rem",color:"#444"})})},{bgColor:"#B76BA3",ref:a,icon:l.a.createElement(G.m,{style:Object(p.a)({},r,{color:"white"})})},{bgColor:"rgb(0,204,0)",ref:t,icon:l.a.createElement(G.r,{style:Object(p.a)({},r,{color:"#444"})})},{bgColor:"#B18F6A",ref:o,icon:l.a.createElement(G.C,{style:Object(p.a)({},r,{color:"#444"})})},{bgColor:"rgb(192,0,0)",ref:e,icon:l.a.createElement(G.A,{style:Object(p.a)({},r,{color:"white"})})},{bgColor:"#ff9933",ref:n,icon:l.a.createElement(G.F,{style:r})}];return l.a.createElement("div",{className:"home-hero"},l.a.createElement("div",{className:"home-bg-screen"},l.a.createElement("div",{className:"home-box"},l.a.createElement("div",{className:"home-grid"},m.map((function(e,t){return 0==t?l.a.createElement("div",{className:"home-tile",key:t,style:Object(p.a)({},i,{backgroundColor:"".concat(e.bgColor),display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"5%",position:"relative"}),onClick:function(t){e.ref.current.click()}},e.icon):l.a.createElement("div",{className:"home-tile",key:t,style:{backgroundColor:"".concat(e.bgColor),display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"5%",position:"relative"},onClick:function(t){e.ref.current.click()}},e.icon)}))))),l.a.createElement("div",{className:"d-none"},l.a.createElement(s.b,{ref:e,to:"/pos/basicdata"}),l.a.createElement(s.b,{ref:t,to:"/pos/partner"}),l.a.createElement(s.b,{ref:a,to:"/pos/product"}),l.a.createElement(s.b,{ref:n,to:"/pos/login"}),l.a.createElement(s.b,{ref:c,to:"/pos/bill"}),l.a.createElement(s.b,{ref:o,to:"/pos/branch"})))},Fl=a(100),Dl=oe.catchErrorToMessage;var Il=function(){var e=l.a.useContext(R),t=e.basicDataSt,a=e.myheader,n=e.tokenSt,c=e.setReloadCheckToken;n.reloadCheckToken,n.haveShopToken,n.haveUserToken,n.userName,console.log("LogIn......"),t.pageData;var o=t.user,r=l.a.createRef(),u=l.a.createRef(),d=l.a.createRef(),b={formHead:"Shop Log In",shopName:"Shop Name",password:"Password"},h={formHead:"User Log In",username:"User Name",password:"Password",createNewUser:"Create Default User"},g={formHead:"User Change Password",username:"User Name",password:"Password",newPassword1:"New Password",newPassword2:"Confirm New Password"},y={formHead:"Shop Sign Up",shopName:"Shop Name",password:"Password",confirmPassword:"Confirm Password",ownerName:"Owner Name",ownerEmail:"Ower Email"},v={formHead:"Set New Shop Password ",formHead1:"Recovery Password will be sent to your Email, use it to create new shop password",recoveryPassword:"Recovery password",shopName:"Shop Name",password:"Shop Password",confirmPassword:"confirm Shop Password"},w={shopName:l.a.createRef(),username:l.a.createRef(),password:l.a.createRef(),confirmPassword:l.a.createRef(),newPassword1:l.a.createRef(),newPassword2:l.a.createRef(),ownerName:l.a.createRef(),ownerEmail:l.a.createRef()},E={username:function(){return w.password.current.focus()},password:function(){return u.current.focus()}},N={shopName:function(){return w.password.current.focus()},password:function(){return u.current.focus()}},j={username:function(){return w.password.current.focus()},password:function(){return w.newPassword1.current.focus()},newPassword1:function(){return w.newPassword2.current.focus()},newPassword2:function(){return u.current.focus()}},O={shopName:function(){return w.password.current.focus()},password:function(){return w.confirmPassword.current.focus()},confirmPassword:function(){return w.ownerName.current.focus()},ownerName:function(){return w.ownerEmail.current.focus()},ownerEmail:function(){return u.current.focus()}},k={recoveryPassword:function(){return w.shopName.current.focus()},shopName:function(){return w.password.current.focus()},password:function(){return w.confirmPassword.current.focus()},confirmPassword:function(){return u.current.focus()}},x=l.a.useState({username:"",password:"",newPassword1:"",newPassword2:""}),T=Object(i.a)(x,2),S=T[0],C=T[1],F=l.a.useState({shopName:"",password:""}),D=Object(i.a)(F,2),I=D[0],P=D[1],A=l.a.useState({username:"",password:""}),M=Object(i.a)(A,2),B=M[0],U=M[1],_=l.a.useState({shopName:"",password:"",confirmPassword:"",ownerName:"",ownerEmail:""}),K=Object(i.a)(_,2),z=K[0],q=K[1],$=l.a.useState({recoveryPassword:"",shopName:"",password:"",confirmPassword:""}),W=Object(i.a)($,2),V=W[0],Y=W[1],Q=l.a.useRef(),X=l.a.useState(!0),J=Object(i.a)(X,2),Z=J[0],ee=J[1],te=l.a.useState(!1),ae=Object(i.a)(te,2),ne=ae[0],le=ae[1],ce=l.a.useState(null),oe=Object(i.a)(ce,2),re=oe[0],ie=oe[1],se=l.a.useState(!1),me=Object(i.a)(se,2),ue=me[0],de=me[1],pe=l.a.useState(!1),be=Object(i.a)(pe,2),fe=be[0],he=be[1],ge=l.a.useState(!1),ye=Object(i.a)(ge,2),ve=ye[0],we=ye[1],Ee=l.a.useState(!0),Ne=Object(i.a)(Ee,2),je=Ne[0],Oe=Ne[1],ke=l.a.useState(!0),Te=Object(i.a)(ke,2),Se=Te[0],Ce=Te[1],Fe=function(e,t){Object.keys(e);f.a.post("/p35shop/shoplogin",e).then((function(e){localStorage.setItem("shopauthorization","b ".concat(e.data.shopToken)),localStorage.setItem("expirationDate","".concat(e.data.expirationDate)),c(!0),P({shopName:"",password:""}),U({username:"",password:""}),window.location.reload()})).catch((function(e){ie(Dl(e)),le(!0)}))},De=function(e,t){Object.keys(e);f.a.post("/p35user/login",e,a).then((function(e){console.log("result"),localStorage.setItem("userauthorization","b ".concat(e.data.userToken)),localStorage.setItem("username",e.data.username),c(!0),P({shopName:"",password:""}),U({username:"",password:""}),window.location.reload()})).catch((function(e){ie(Dl(e)),le(!0)}))},Ie=function(e,t){f.a.post("/p35user/changepassword",e,a).then((function(e){console.log("result"),localStorage.removeItem("userauthorization"),localStorage.removeItem("username"),C({username:"",password:"",newPassword1:"",newPassword2:""}),de(!1),c(!0),window.location.reload()})).catch((function(e){ie(Dl(e)),le(!0)}))},Pe=function(){de(!1),C({username:"",password:"",newPassword1:"",newPassword2:""})},Re=function(e){e.password!=e.confirmPassword?(q(Object(p.a)({},z,{password:"",confirmPassword:""})),ie(Dl("Invalid Password")),le(!0)):f.a.post("/p35shop/shopsignup",e,a).then((function(e){q({shopName:"",password:"",confirmPassword:"",ownerName:"",ownerEmail:""}),he(!1)})).catch((function(e){ie(Dl(e)),le(!0)}))},Ae=function(e){e.confirmPassword!==e.password?(Y(Object(p.a)({},V,{password:"",confirmPassword:""})),ie("recheck your password and confirm password"),le(!0)):f.a.post("/p35shop/createshoppassword",e).then((function(e){Y(Object(p.a)({},V,{shopName:"",password:"",recoveryPassword:"",confirmPassword:""})),ee(!0),Ce(!0),we(!1)})).catch((function(e){ie(Dl(e)),le(!0)}))},Me=function(e){var t=e.pageForm,a=e.setInputState,n=e.inputState,c=e.submitFunc,o=e.submitCancel,r=e.nextRef,i=Object.keys(t),s=Object.keys(n);return l.a.createElement("div",{className:"w-100 bd-pureWhite",style:{padding:"1rem"}},l.a.createElement("div",{className:"flex-center-center w-100",style:{marginBottom:"1rem"}},l.a.createElement("h3",null,t[i[0]])),s.map((function(e,c){return function(e,c){return"password"==e||"newPassword1"==e||"newPassword2"==e||"confirmPassword"==e?l.a.createElement("div",{key:c,className:"flex-center-center jc-start w-100",style:{marginBottom:"1rem"}},l.a.createElement("div",{className:"xc4"},t[e]),l.a.createElement("div",{className:"xc8",style:{position:"relative"}},l.a.createElement("input",{type:Z?"password":"text",value:n[e],ref:w[e],onChange:function(t){a(Object(p.a)({},n,Object(m.a)({},e,t.target.value)))},onKeyDown:function(t){"Enter"==t.key&&r[e]()},autoComplete:"one-time-code"}),Z?l.a.createElement(G.E,{className:"sm-icon",style:{position:"absolute",top:"0.2rem",right:"0.3rem"},onClick:function(e){ee(!Z)}}):l.a.createElement(G.D,{className:"sm-icon",style:{position:"absolute",top:"0.2rem",right:"0.3rem"},onClick:function(e){ee(!Z)}}))):l.a.createElement("div",{key:c,className:"flex-center-center jc-start w-100",style:{marginBottom:"1rem"}},l.a.createElement("div",{className:"xc4"},t[e]),l.a.createElement("div",{className:"xc8"},l.a.createElement("input",{ref:w[e],type:"id"==e?"number":"text",value:n[e],onChange:function(t){a(Object(p.a)({},n,Object(m.a)({},e,t.target.value)))},onKeyDown:function(t){"Enter"==t.key&&r[e]()},disabled:"userLevel"==e?"disabled":""})))}(e,c)})),l.a.createElement("div",{className:"flex-center-center jc-end jc-start w-100"},l.a.createElement("button",{ref:u,onClick:function(e){return c(n,a)}},l.a.createElement(L.f,null)),o&&l.a.createElement("button",{ref:d,onClick:function(e){return o()}},l.a.createElement(L.a,null))))},Be=function(){return fe?l.a.createElement("div",{className:"w-100 h-100"},Me({pageForm:y,setInputState:q,inputState:z,submitFunc:Re,nextRef:O,submitCancel:function(){q({shopName:"",password:"",confirmPassword:"",ownerName:"",ownerEmail:""}),he(!1)}})):ve?(console.log("showShopForgetPass"),Se?l.a.createElement("div",{className:"w-100 bd-pureWhite",style:{padding:"1rem"}},l.a.createElement("div",{className:"flex-center-center w-100",style:{marginBottom:"1rem"}},l.a.createElement("h3",null,"Request For Recovery Password")),l.a.createElement(Fl.a,{style:{visibility:je?"visible":"hidden"},ref:Q,sitekey:"6LcCvsQdAAAAAAqWKtgK3Tb6l3LYBjtCVrlaIog0",onChange:function(e){console.log(e),Oe(!1)}}),l.a.createElement("div",{className:"w-100",style:{visibility:je?"hidden":"visible"}},l.a.createElement("div",{className:"flex-center-center jc-start w-100",style:{marginBottom:"1rem"}},l.a.createElement("div",{className:"xc4"},v.shopName),l.a.createElement("div",{className:"xc8"},l.a.createElement("input",{value:V.shopName,style:{width:"100%"},onChange:function(e){Y(Object(p.a)({},V,{shopName:e.target.value}))}}))),l.a.createElement("div",{style:{marginBottom:"1rem"}},"".concat(v.formHead1))),l.a.createElement("div",{className:"flex-center-center jc-end jc-start w-100"},l.a.createElement("button",{ref:d,onClick:function(e){var t,a=Q.current.getValue();console.log(a),Q.current.reset(),t={shopName:V.shopName,token:a},f.a.post("/p35shop/resetshoppassword",t).then((function(e){Y(Object(p.a)({},V,{shopName:"",password:"",recoveryPassword:"",confirmPassword:""})),Q.current.reset(),Oe(!0),Ce(!1)})).catch((function(e){ie(Dl(e)),le(!0)}))}},l.a.createElement(L.f,null)),l.a.createElement("button",{onClick:function(e){Q.current.reset(),Y(Object(p.a)({},V,{shopName:e.target.value})),we(!1)}},l.a.createElement(L.a,null)))):l.a.createElement("div",{className:"w-100 h-100"},Me({pageForm:v,setInputState:Y,inputState:V,submitFunc:Ae,nextRef:k,submitCancel:function(){Y({recoveryPassword:"",shopName:"",password:"",confirmPassword:""}),we(!1)}}))):l.a.createElement("div",{className:"w-100 h-100"},Me({pageForm:b,setInputState:P,inputState:I,submitFunc:Fe,nextRef:N}),l.a.createElement("div",{className:"bill-p",style:{display:"flex",justifyContent:"flex-start",alignItems:"baseline",margin:"1rem 0"},onClick:function(e){he(!0)}},l.a.createElement(G.a,{style:{marginLeft:"-1rem"}}),l.a.createElement(H.b,{style:{fontSize:"2rem"}}),l.a.createElement("div",{style:{marginLeft:"1rem"}},"Create a new shop account")),l.a.createElement("div",{className:"bill-p",style:{display:"flex",justifyContent:"flex-start",alignItems:"baseline",margin:"1rem 0"},onClick:function(e){we(!0),Oe(!0),Ce(!0)}},l.a.createElement(G.F,{style:{marginLeft:"-1rem"}}),l.a.createElement(H.b,{style:{fontSize:"2rem"}}),l.a.createElement("div",{style:{marginLeft:"1rem"}},"Forget shop password")))};return l.a.createElement("div",{style:{height:"100vh",width:"100vw",position:"relative"},className:"flex-center-center"},l.a.createElement("div",{style:{position:"fixed",width:"200vw",height:"20vh",top:"-2rem",left:"-5rem",transform:"rotate(15deg)",backgroundColor:"#ff9933"}}),ue?l.a.createElement("div",{className:"xc4 lc6 mc8 sc10",style:{padding:"0rem"}},Me({pageForm:g,setInputState:C,inputState:S,submitFunc:Ie,submitCancel:Pe,nextRef:j})):n&&(n.haveShopToken?n.haveUserToken?o?l.a.createElement("div",{className:""},l.a.createElement("div",{className:"w-100 flex-center-center"},l.a.createElement(L.C,{style:{fontSize:"4.5rem",margin:"auto"}})),l.a.createElement("div",{style:{textAlign:"center",fontSize:"1.5rem"}},"".concat(o.username)),l.a.createElement("div",{className:"divlink",onClick:function(e){de(!0)}},"Change User Password")):null:l.a.createElement("div",{className:"xc4 lc6 mc8 sc10",style:{padding:"0rem"}},Me({pageForm:h,setInputState:U,inputState:B,submitFunc:De,nextRef:E})):l.a.createElement("div",{className:"xc4 lc6 mc8 sc10",style:{padding:"0rem"}},Be())),l.a.createElement(xe,{tokenSt:n,setReloadCheckToken:c,user:o,myheader:a,useBillWaveIcon:!0}),ne?ht({show:ne,setShow:le,message:re,setMessage:ie}):null,l.a.createElement("div",{style:{display:"none"}},l.a.createElement("div",null,l.a.createElement(s.b,{ref:r,to:"/home"}))))};var Pl,Rl,Al,Ml;Pl={data0:null,dataCsv:null,count:0,lastRecordId:null,showRange:!0,widthLeft:30,heightTop:30,pageNumber:1,limitRow:10,sort:{id:1},qry:{},tableTemplateUrl:"p35tabletemplate",dataUrl:"p35transaction",selectGroup:null,groupDataUrl:null,tableTemplate:null,detailTableTemplate:null,detailTableTemplateForForm:null,tableTemplateName:"transactionTableTemplate",detailTableTemplateName:"productDetailTableTemplate",detailTableTemplateForFormName:"productDetailTableTemplateForForm",reloadData:!1,message:null,showModalError:!1,editData:null,badgeState:{swapShow:!1,swapFunc:function(){},reloadShow:!1,reloadFunc:function(){},filterShow:!1,filterFunc:function(){},addShow:!1,addFunc:function(){},editShow:!1,editFunc:function(){},delShow:!1,delFunc:function(){},printerShow:!1,printerFunc:function(){},csvShow:!1,csvFunc:function(){},closeShow:!1,forwardShow:!1,forwardFunc:function(){},bullEyeShow:!1,unSelectShow:!1},selectProduct:[],showBillForm:!1,showModalConfirm:!1},Object(m.a)(Pl,"showModalError",!1),Object(m.a)(Pl,"showModalCsv",!1),Object(m.a)(Pl,"message",null),Object(m.a)(Pl,"iconActionData",null),Object(m.a)(Pl,"iconActionDataDetail",null),Object(m.a)(Pl,"keyName",null),Object(m.a)(Pl,"showRenderTransaction",!0),Object(m.a)(Pl,"showRenderProduct",!1),Object(m.a)(Pl,"showRenderCustomer",!1),Rl={data0:null,dataCsv:null,count:0,lastRecordId:null,showRange:!0,widthLeft:30,heightTop:30,pageNumber:1,limitRow:2,sort:{id:-1},qry:{},tableTemplateUrl:"p35tabletemplate",dataUrl:"p35product",selectGroup:null,groupDataUrl:"p35group",tableTemplate:null,detailTableTemplate:null,detailTableTemplateForForm:null,tableTemplateName:"productTableTemplate",detailTableTemplateName:"",detailTableTemplateForFormName:"productDetailTableTemplateForForm",reloadData:!1,message:null,showModalError:!1,editData:null,badgeState:{swapShow:!1,swapFunc:function(){},reloadShow:!0,reloadFunc:function(){},filterShow:!1,filterFunc:function(){},addShow:!0,addFunc:function(){},editShow:!0,editFunc:function(){},delShow:!0,delFunc:function(){},printerShow:!0,printerFunc:function(){},csvShow:!0,csvFunc:function(){},forwardShow:!0,forwardFunc:function(){},bullEyeShow:!0},selectProduct:[],showAdd:!1,showModalConfirm:!1},Object(m.a)(Rl,"showModalError",!1),Object(m.a)(Rl,"showModalCsv",!1),Object(m.a)(Rl,"message",null),Object(m.a)(Rl,"iconActionData",null),Object(m.a)(Rl,"iconActionDataDetail",null),Object(m.a)(Rl,"keyName",["photoUrl1"]),Al={showBillForm:!1,blankData:{id:"",date:(new Date).toISOString(),remindDate:"",transactionType:"\u0e1a\u0e34\u0e25\u0e02\u0e32\u0e22",transactionStatus:"open",active:!0,table:"",tableStatus:"open",paymentType:"\u0e2a\u0e14",effectStock:"0",effectSpending:"0",effectCustomerPoint:"0",partnerId:"",partnerType:"",title:"",name:"",phone:[""],address:"",remark:"",total:0,totalReduction:0,reduction:[{reductionName:"",reductionActive:!0,reductionRate:0,reductionAmount:0}],grandTotal:0,totalTax:0,tax:[{taxName:"",taxActive:!0,taxRate:0,taxAmount:0}],detail:[{_id:ie()(),id:"",barcode:"",productName:"",groupId:"",groupName:"",unit:"",price:0,priceLevel:[{price:0,remark:""}],quantity:1,result:0,remark:"",isRawMat:!1,partnerId:"",name:"",jobStatus:"open"}],editExistingBill:!1},showTransactionConfirm:!1,transactionArray:null,colorHead:"#7da097",dataIdx:"cancel",data0:null,count:0,lastRecordId:null,showRange:!0,widthLeft:30,heightTop:60,pageNumber:1,limitRow:10,sort:{id:-1},qry:{},tableTemplateUrl:"p35tabletemplate",dataUrl:"p35transaction",selectGroup:null,tableTemplate:null,detailTableTemplate:null,detailTableTemplateForForm:null,reloadData:!1,message:null,showModalError:!1,editData:null,badgeState:{swapShow:!1,swapFunc:function(){},reloadShow:!0,reloadFunc:function(){},filterShow:!1,filterFunc:function(){},addShow:!0,addFunc:function(){},editShow:!0,editFunc:function(){},delShow:!0,delFunc:function(){},printerShow:!0,printerFunc:function(){}},includeTransactionHead:!0},Object(m.a)(Al,"showTransactionConfirm",!1),Object(m.a)(Al,"showProductConfirm",!1),Object(m.a)(Al,"isGenIdOfBillForm",!1),Object(m.a)(Al,"showModalConfirm",!1),Ml={data0:null,dataCsv:null,count:0,lastRecordId:null,showRange:!0,widthLeft:30,heightTop:30,pageNumber:1,limitRow:2,sort:{id:-1},qry:{},tableTemplateUrl:"p35tabletemplate",dataUrl:"p35partner",selectGroup:null,groupDataUrl:null,tableTemplate:null,detailTableTemplate:null,detailTableTemplateForForm:null,tableTemplateName:"partnerTableTemplate",detailTableTemplateName:"",detailTableTemplateForFormName:"",reloadData:!1,message:null,showModalError:!1,editData:null,badgeState:{swapShow:!1,swapFunc:function(){},reloadShow:!0,reloadFunc:function(){},filterShow:!1,filterFunc:function(){},addShow:!0,addFunc:function(){},editShow:!0,editFunc:function(){},delShow:!0,delFunc:function(){},printerShow:!0,printerFunc:function(){},csvShow:!0,csvFunc:function(){},forwardShow:!0,forwardFunc:function(){},bullEyeShow:!1},selectProduct:[],showAdd:!1,showModalConfirm:!1},Object(m.a)(Ml,"showModalError",!1),Object(m.a)(Ml,"showModalCsv",!1),Object(m.a)(Ml,"message",null),Object(m.a)(Ml,"iconActionData",null),Object(m.a)(Ml,"iconActionDataDetail",null),Object(m.a)(Ml,"keyName",null);var Bl=function(){console.log("App");var e=l.a.useContext(R).basicDataSt;return e.basicData&&e.pageData&&e.tableTemplate?l.a.createElement("div",{className:"bgc-lightGray"},l.a.createElement(r.b,{exact:!0,path:"/",render:function(){return l.a.createElement(r.a,{to:"/pos/home"})}}),l.a.createElement(r.b,{exact:!0,path:"/pos",render:function(){return l.a.createElement(r.a,{to:"/pos/home"})}}),l.a.createElement(r.b,{exact:!0,path:"/pos/login",component:Il}),l.a.createElement(r.b,{exact:!0,path:"/pos/home",component:Cl}),l.a.createElement(r.b,{exact:!0,path:"/pos/bill",component:il}),l.a.createElement(r.b,{exact:!0,path:"/pos/basicdata",component:Gt}),l.a.createElement(r.b,{exact:!0,path:"/pos/branch",component:Wt}),l.a.createElement(r.b,{exact:!0,path:"/pos/partner",component:xl}),l.a.createElement(r.b,{exact:!0,path:"/pos/product",component:Sl})):l.a.createElement("div",{className:"bgc-lightGray",style:{width:"100w",height:"100vh"}},l.a.createElement(Il,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ll=a(98);a.n(Ll).a.load({google:{families:["Tomorrow","Titillium Web:300,400,700","sans-serif","Tomorrow","kanit","Rubik"]}}),o.a.render(l.a.createElement(M,null,l.a.createElement(s.a,null,l.a.createElement(Bl,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},21:function(e,t,a){},62:function(e,t,a){},87:function(e,t,a){},93:function(e,t){e.exports=[{formName:"shopInfo",formHead:"Shop Infomation",template:[{key:"logoActive",lb:"Logo"}]},{formName:"setting",formHead:"System Setting",template:[{key:"changePassword",lb:"Change Shop Password"},{key:"addNewUser",lb:"Add User"},{key:"routeAuth",lb:"User Level"},{key:"language",lb:"Language Setting"},{key:"printPage",lb:"Print Page"},{key:"widthLeft",lb:"Width Left"}]},{formName:"basicValue",formHead:"Basic Setting",template:[{key:"language",lb:"Language"},{key:"branch",lb:"Branch"},{key:"partnerType",lb:"Customer Type"},{key:"unit",lb:"Unit"},{key:"title",lb:"Title"},{key:"transaction",lb:"Bill"},{key:"transactionStatus",lb:"Bill Status"},{key:"table",lb:"Table"},{key:"tableStatus",lb:"Table Status"},{key:"queueStatus",lb:"Queue Status"},{key:"jobStatus",lb:"Job Status"},{key:"tax",lb:"Tax"},{key:"reduction",lb:"Reduction"},{key:"userLevel",lb:"User Level"},{key:"paymentType",lb:"Payment Type"}]},{formName:"shopChangePassword",formHead:"\u0e40\u0e1b\u0e25\u0e35\u0e48\u0e22\u0e19\u0e23\u0e2b\u0e31\u0e2a\u0e23\u0e49\u0e32\u0e19",template:[{key:"shopName",lb:"Shop Name"},{key:"password",lb:"Password"},{key:"newPassword1",lb:"New Password"},{key:"newPassword2",lb:"Confirm New Password"}]},{formName:"user",formHead:"user",template:[]},{formName:"addUser",formHead:"Add User",template:[{key:"id",lb:"ID"},{key:"username",lb:"Username"},{key:"password",lb:"password"},{key:"userLevel",lb:"User Level"},{key:"name",lb:"Name"},{key:"surname",lb:"Surname"},{key:"branch",lb:"Branch"}]},{formName:"editUser",formHead:"Edit User",template:[{key:"id",lb:"ID"},{key:"username",lb:"Username"},{key:"userLevel",lb:"User Level"},{key:"name",lb:"Name"},{key:"surname",lb:"Surname"},{key:"branch",lb:"Branch"}]},{formName:"changeUserPassword",formHead:"Change User Password",template:[{key:"id",lb:"ID"},{key:"newPassword1",lb:"New Password"}]},{formName:"widthLeftForm",formHead:"Set Width",template:[{key:"widthLeft",lb:"Width"}]},{formName:"basicDataTableTemplate",formHead:"Route Auth Table",template:[{key:"id",lb:"ID"},{key:"routeAddress",lb:"url"},{key:"routeName",lb:"Route Name"},{key:"userLevel",lb:"User Level"}]},{formName:"partnerTableTemplate",formHead:"Partner Table",template:[{key:"selectedLine",lb:"_"},{key:"id",lb:"ID"},{key:"title",lb:"title"},{key:"name",lb:"name"},{key:"phone",lb:"phone"},{key:"partnerType",lb:"type"},{key:"address",lb:"address"},{key:"remark",lb:"remark"}]},{formName:"productTableTemplate",formHead:"Product Table",template:[{key:"selectedLine",lb:"_"},{key:"id",lb:"ID"},{key:"barcode",lb:"barcode"},{key:"productName",lb:"Product Name"},{key:"groupId",lb:"Group Id"},{key:"groupName",lb:"Group Name"},{key:"unit",lb:"Unit"},{key:"price",lb:"Price"},{key:"isRawMat",lb:"isRawMat"},{key:"stock",lb:"Stock"},{key:"remark",lb:"Remark"}]},{formName:"transactionTableTemplate",formHead:"Bill Table",template:[{key:"selectedLine",lb:"_"},{key:"id",lb:"ID"},{key:"date",lb:"Date"},{key:"remindDate",lb:"Remind Date"},{key:"transactionType",lb:"Bill Type"},{key:"transactionStatus",lb:"Bill Status"},{key:"active",lb:"Active"},{key:"table",lb:"Table"},{key:"tableStatus",lb:"Table Status"},{key:"effectStock",lb:"Effect Stock"},{key:"effectCustomerPoint",lb:"Effect Customer Point"},{key:"effectSpending",lb:"Effect Spending"},{key:"partnerId",lb:"Customer ID"},{key:"partnerType",lb:"Customer Type"},{key:"title",lb:"Title"},{key:"name",lb:"Name"},{key:"phone",lb:"Phone"},{key:"address",lb:"Address"},{key:"paymentType",lb:"Payment Type"},{key:"total",lb:"Total"},{key:"reduction",lb:"Reduction"},{key:"tax",lb:"Tax"},{key:"grandTotal",lb:"Grand Total"},{key:"remark",lb:"Remark"}]},{formName:"ProductDetailTableTemplate",formHead:"Product Detail Table",template:[{key:"selectedLine",lb:"_"},{key:"id",lb:"ID"},{key:"barcode",lb:"Barcode"},{key:"productName",lb:"Product Name"},{key:"groupId",lb:"Group ID"},{key:"groupName",lb:"Group Name"},{key:"quantity",lb:"Quantity"},{key:"unit",lb:"Unit"},{key:"price",lb:"Price"},{key:"result",lb:"Result"},{key:"isRawMat",lb:"isRawMat"},{key:"remark",lb:"Remark"}]},{formName:"ProductDetailTableTemplateForForm",formHead:"Product Detail Table2",template:[{key:"selectedLine",lb:"_"},{key:"id",lb:"ID"},{key:"barcode",lb:"Barcode"},{key:"productName",lb:"Product Name"},{key:"groupId",lb:"Group ID"},{key:"groupName",lb:"Group Name"},{key:"quantity",lb:"Quantity"},{key:"unit",lb:"Unit"},{key:"price",lb:"Price"},{key:"result",lb:"Result"},{key:"isRawMat",lb:"isRawMat"},{key:"remark",lb:"Remark"},{key:"partnerId",lb:"Partner ID"},{key:"name",lb:"Name"},{key:"jobStatus",lb:"Job Status"}]},{formName:"partnerFilter",formHead:"",template:[{key:"id",lb:"ID"},{key:"title",lb:"Title"},{key:"name",lb:"Name"},{key:"phone",lb:"Phone"},{key:"remainingCustomerPoint",lb:"Remaining Customer Point"},{key:"totalSpending",lb:"Total Spending"},{key:"remark",lb:"Remark"}]},{formName:"productFilter",formHead:"",template:[{key:"id",lb:"ID"},{key:"barcode",lb:"Barcode"},{key:"productName",lb:"Product Name"},{key:"groupId",lb:"Group ID"},{key:"groupName",lb:"Group Name"},{key:"unit",lb:"Unit"},{key:"price",lb:"Price"},{key:"stock",lb:"Stock"},{key:"isRawMat",lb:"IsRawMat"},{key:"remark",lb:"Remark"}]},{formName:"rawMatFilter",formHead:"",template:[{key:"id",lb:"ID"},{key:"barcode",lb:"Barcode"},{key:"rawMatName",lb:"Raw Mat Name"},{key:"rawMatGroupId",lb:"Raw Mat Group ID"},{key:"rawMatGroupName",lb:"Raw Mat Group Name"},{key:"unit",lb:"Unit"},{key:"price",lb:"Price"},{key:"remark",lb:"Remark"}]},{formName:"transactionFilter",formHead:"",template:[{key:"id",lb:"ID"},{key:"date",lb:"Date"},{key:"transactionType",lb:"Transaction Type"},{key:"transactionStatus",lb:"Transaction Status"},{key:"partnerId",lb:"Partner ID"},{key:"name",lb:"Name"},{key:"phone",lb:"Phone"}]},{formName:"partnerFilterForm",formHead:"Search Customer",template:[{key:"formHead",lb:"Search Customer"},{key:"subject",lb:"Subject"},{key:"allTrue",lb:"All True"},{key:"someTrue",lb:"Some True"},{key:"sortBySubject",lb:"Sort By Subject"},{key:"recordLimit",lb:"Record Limit"},{key:"recordPerPage",lb:"Record Per Page"}]},{formName:"productFilterForm",formHead:"Search Product",template:[{key:"groupHead",lb:"Product Group"},{key:"formHead",lb:"Search Product"},{key:"subject",lb:"Subject"},{key:"allTrue",lb:"All True"},{key:"someTrue",lb:"Some True"},{key:"sortBySubject",lb:"Sort By Subject"},{key:"recordLimit",lb:"Record Limit"},{key:"recordPerPage",lb:"Record Per Page"}]},{formName:"transactionFilterForm",formHead:"Search Bill",template:[{key:"formHead",lb:"Search Bill"},{key:"subject",lb:"Subject"},{key:"allTrue",lb:"All True"},{key:"someTrue",lb:"Some True"},{key:"sortBySubject",lb:"Sort By Subject"},{key:"recordLimit",lb:"Record Limit"},{key:"recordPerPage",lb:"Record Per Page"}]},{formName:"billMenuFilterForm",formHead:"Search Bill",template:[{key:"formHead",lb:"Search Bill"},{key:"subject",lb:"Subject"},{key:"allTrue",lb:"All True"},{key:"someTrue",lb:"Some True"},{key:"sortBySubject",lb:"Sort By Subject"},{key:"recordLimit",lb:"Record Limit"},{key:"recordPerPage",lb:"Record Per Page"}]},{formName:"ModalForm",formHead:"",template:[{key:"insertUp",lb:"Insert Up"},{key:"insertDown",lb:"Insert Down"},{key:"selectAll",lb:"Select All"},{key:"unSelectAll",lb:"Unselect All"},{key:"moveUp",lb:"Move Up"},{key:"moveDown",lb:"Move Down"},{key:"delete",lb:"Delete"},{key:"import",lb:"Import"},{key:"selectImage",lb:"Select Image"},{key:"productAddForm",lb:"Product Add Form"},{key:"productEditForm",lb:"Product Edit Form"},{key:"groupAddForm",lb:"Product Group Add Form"},{key:"groupEditForm",lb:"Product Group Edit Form"},{key:"partnerAddForm",lb:"Partner Add Form"},{key:"partnerEditForm",lb:"Partner Edit Form"}]},{formName:"customerConfirmForm",formHead:"Please Confirm Customer",template:[{key:"partnerId",lb:"Partner ID"},{key:"title",lb:"Title"},{key:"name",lb:"Name"},{key:"partnerType",lb:"Customer Type"},{key:"phone",lb:"Phone"},{key:"address",lb:"Address"}]},{formName:"transactionConfirmForm",formHead:"Please Confirm Transaction",template:[{key:"id",lb:"ID"},{key:"branch",lb:"Branch"},{key:"date",lb:"Date"},{key:"table",lb:"Table"},{key:"partnerId",lb:"Customer ID"},{key:"phone",lb:"Phone"},{key:"address",lb:"Address...."},{key:"includeTransactionHead",lb:"Include Transaction Head"}]},{formName:"billForm",formHead:"",template:[{key:"id",lb:"ID"},{key:"date",lb:"Date"},{key:"time",lb:"\u0e40\u0e27\u0e25\u0e32"},{key:"table",lb:"Table"},{key:"queue",lb:"Queue"},{key:"partnerId",lb:"Customer ID"},{key:"phone",lb:"Phone"},{key:"address",lb:"Address"},{key:"total",lb:"Total"},{key:"totalTax",lb:"Total Tax"},{key:"totalReduction",lb:"Total Reduction"},{key:"grandTotal",lb:"Grand Total"}]},{formName:"editBillForm",formHead:"Bill Info",template:[{key:"id",lb:"ID"},{key:"date",lb:"Date"},{key:"transactionType",lb:"Transaction Type"},{key:"transactionStatus",lb:"Transaction Status"},{key:"active",lb:"Active"},{key:"table",lb:"Table"},{key:"tableStatus",lb:"Table Status"},{key:"queue",lb:"Queue"},{key:"queueStatus",lb:"Queue Status"},{key:"partnerId",lb:"Customer ID"},{key:"title",lb:"Title"},{key:"name",lb:"Name"},{key:"phone",lb:"Phone"},{key:"address",lb:"Address"},{key:"partnerType",lb:"Partner Type"},{key:"remark",lb:"Remark"},{key:"totalPoint",lb:"Total Point"},{key:"remainingCustomerPoint",lb:"Remaining Customer Point"},{key:"reductCustomerPoint",lb:"Reduct Customer Point"},{key:"paymentType",lb:"Payment Type"},{key:"total",lb:"Total"},{key:"tax",lb:"\u0e20\u0e32\u0e29\u0e35"},{key:"totalTax",lb:"Total Tax"},{key:"reduction",lb:"\u0e2a\u0e48\u0e27\u0e19\u0e25\u0e14"},{key:"totalReduction",lb:"Total Reduction"},{key:"grandTotal",lb:"Grand Total"}]},{formName:"reductionForm",formHead:"Reduction Table",template:[{key:"selection",lb:"#"},{key:"reductionName",lb:"Reduction Name"},{key:"reductionRate",lb:"Reduction Rate"},{key:"reductionInPercentage",lb:"in %"},{key:"reductionAmount",lb:"Total"}]},{formName:"customerPointForm",formHead:"Customer Point",template:[{key:"remainingCustomerPoint",lb:"Remaining Customer Point"},{key:"reductCustomerPoint",lb:"Reduct Customer Point"},{key:"remainingPoint",lb:"Remaining Point"}]},{formName:"taxForm",formHead:"Tax Table",template:[{key:"selection",lb:"#"},{key:"taxName",lb:"Tax Name"},{key:"taxRate",lb:"Tax Rate"},{key:"taxInPercentage",lb:"in %"},{key:"taxAmount",lb:"Tax Amount"}]},{formName:"transactionForm",formHead:"Transaction Table",template:[{key:"id",lb:"ID"}]},{formName:"printForm",formHead:"Print Form",template:[{key:"widthUnit",lb:"Width Unit"},{key:"fontUnit",lb:"Font Unit"},{key:"totalWidth",lb:"Total Width"},{key:"showTableHead",lb:"Show Table Head"},{key:"header1",lb:"Header 1"},{key:"header2",lb:"Header 2"},{key:"table1",lb:"Table"},{key:"footer1",lb:"Footer 1"},{key:"footer2",lb:"Footer 2"},{key:"printLb",lb:"Label"},{key:"printValue",lb:"Constant"},{key:"printFieldName",lb:"Variable"},{key:"printFontSize",lb:"Font Size"},{key:"printWidth",lb:"Width"},{key:"printPosition",lb:"Position"}]},{formName:"branchSettingPage",formHead:"Branch Setting",template:[{key:"languageSetting",lb:"Language Setting"},{key:"printPageSetting",lb:"Print Page Setting"},{key:"widthLeft",lb:"Width Left"},{key:"branch",lb:"Branch"},{key:"table",lb:"Table"},{key:"tableName",lb:"Table Name"},{key:"tableActive",lb:"Table Active"}]},{formName:"tableSettingModal",formHead:"Table Setting",template:[{key:"subject",lb:"Subject"},{key:"show",lb:"Show"}]},{formName:"shopLogInForm",formHead:"Shop Log In Form",template:[{key:"shopName",lb:"Shop Name"},{key:"password",lb:"Password"}]},{formName:"userLogInForm",formHead:"User Log In Form",template:[{key:"username",lb:"User Name"},{key:"password",lb:"Password"},{key:"createNewUser",lb:"Create New User"}]},{formName:"groupPage",formHead:"Group Page",template:[]},{formName:"addGroupForm",formHead:"Add Group Form",template:[{key:"treeTitle",lb:"\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e01\u0e25\u0e38\u0e48\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e41\u0e21\u0e48"},{key:"id",lb:"\u0e44\u0e2d\u0e14\u0e35"},{key:"gcode",lb:"\u0e42\u0e04\u0e49\u0e14\u0e01\u0e25\u0e38\u0e48\u0e21"},{key:"groupName",lb:"\u0e0a\u0e37\u0e48\u0e2d\u0e01\u0e25\u0e38\u0e48\u0e21"},{key:"level",lb:"\u0e23\u0e30\u0e14\u0e31\u0e1a\u0e01\u0e25\u0e38\u0e48\u0e21"}]},{formName:"editGroupForm",formHead:"Edit Group Form",template:[{key:"treeTitle",lb:"\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e01\u0e25\u0e38\u0e48\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e41\u0e21\u0e48"},{key:"id",lb:"\u0e44\u0e2d\u0e14\u0e35"},{key:"gcode",lb:"\u0e42\u0e04\u0e49\u0e14\u0e01\u0e25\u0e38\u0e48\u0e21"},{key:"groupName",lb:"\u0e0a\u0e37\u0e48\u0e2d\u0e01\u0e25\u0e38\u0e48\u0e21"},{key:"level",lb:"\u0e23\u0e30\u0e14\u0e31\u0e1a\u0e01\u0e25\u0e38\u0e48\u0e21"}]},{formName:"jobStatusForm",formHead:"Job Status Form",template:[{key:"jobStatus",lb:"\u0e2a\u0e16\u0e32\u0e19\u0e30\u0e07\u0e32\u0e19"}]},{formName:"billBarcodeForm",formHead:"",template:[{key:"productId",lb:"\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e01\u0e25\u0e38\u0e48\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e41\u0e21\u0e48"},{key:"barcode",lb:"\u0e44\u0e2d\u0e14\u0e35"},{key:"partnerId",lb:"\u0e42\u0e04\u0e49\u0e14\u0e01\u0e25\u0e38\u0e48\u0e21"},{key:"phone",lb:"\u0e0a\u0e37\u0e48\u0e2d\u0e01\u0e25\u0e38\u0e48\u0e21"},{key:"table",lb:"Table"},{key:"queue",lb:"\u0e42\u0e04\u0e49\u0e14\u0e01\u0e25\u0e38\u0e48\u0e21"},{key:"paymentType",lb:"\u0e0a\u0e37\u0e48\u0e2d\u0e01\u0e25\u0e38\u0e48\u0e21"},{key:"cash",lb:"Table"},{key:"grandTotal",lb:"Table"},{key:"change",lb:"Table"}]}]},95:function(e,t,a){e.exports=a.p+"static/media/RenderModalError.b0ec9a73.bak"}},[[101,1,2]]]);
//# sourceMappingURL=main.456ee9c0.chunk.js.map